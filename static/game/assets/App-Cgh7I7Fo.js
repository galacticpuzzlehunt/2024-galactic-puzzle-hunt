var m8=Object.defineProperty;var g8=(t,e,n)=>e in t?m8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lv=(t,e,n)=>g8(t,typeof e!="symbol"?e+"":e,n);import{aJ as y8,aK as GO,aL as R,aM as x8,aN as d,aO as ms,aP as UO,aQ as Wc,aR as A8,g as q1,aS as b8,c as zl,aT as Tt,aU as Bt,aV as $c,aW as vh,aX as ot,aY as wn,a5 as WO,aZ as he,a_ as $O,a$ as Ea,b0 as mh,b1 as Te,e as ne,b2 as He,D as Rn,E as dr,b3 as Je,b4 as YO,b5 as X1,b6 as ln,b7 as ve,b8 as _g,b9 as Dt,aA as w8,ba as gs,bb as tt,bc as Z1,bd as Tu,T as J1,L as Hm,n as Ad,be as S8,aE as qO,bf as ir,bg as Ho,W as _8,V as T8,bh as XO,bi as Ce,U as uv,bj as Aa,ai as Tr,ag as uo,ak as Tg,ad as Qw,bk as Rt,bl as hp,H as Cl,bm as Yc,ae as WE,bn as C8,B as s0,bo as K1,O as rs,bp as o0,bq as I8,br as ZO,aa as E8,bs as k8,a7 as Fs,ac as $E,bt as Oa,bu as Q1,Y as JO,bv as ko,bw as ca,bx as ha,by as nn,bz as P8,bA as Ui,bB as ka,a1 as KO,bC as Ds,bD as l0,bE as eT,b as Jo,y as j8,bF as ri,bG as QO,bH as u0,q as Fx,P as eS,bI as M8,bJ as no,bK as Mc,bL as tT,bM as D8,bN as qc,bO as c0,bP as eu,bQ as eF,bR as tF,a as ys,bS as Xc,bT as YE,bU as nT,bV as fp,G as mt,bW as nF,bX as h0,J as L8,R as xt,bY as rF,bZ as iF,b_ as Ut,b$ as N8,c0 as z8,aG as R8,t as O8,c1 as F8,c2 as B8,c3 as V8,c4 as aF,c5 as H8,c6 as G8,c7 as U8,c8 as rT,c9 as sF,ca as mi,cb as oF,cc as f0,cd as xs,ce as gh,cf as W8,cg as d0,ch as lF,ci as uF,cj as dp,ck as $8,cl as cF,cm as qE,f as Y8,cn as q8,co as X8,cp as Z8,cq as J8,cr as K8,cs as Q8,ct as e$,cu as Go,cv as hF,cw as fF,u as t$,cx as Po,_ as co,F as Zn,I as ba,cy as pp,cz as dF,a3 as XE,a4 as Uh,a2 as Bx,cA as cv,cB as n$,cC as hi,cD as r$,cE as hv,cF as i$,i as a$,aq as Ft,cG as fv,ax as s$,cH as o$,s as Ko,A as Vx,af as l$,cI as u$,cJ as c$,cK as h$,cL as f$,ap as Tn,cM as tS,cN as d$,cO as pF,cP as p$,cQ as v$,cR as m$,cS as g$,cT as y$,S as dv,cU as x$}from"./main.js";function A$(){const t=y8();GO(),R.useEffect(()=>{},[t]);const e=x8(t)&&t.status===404;return d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px",alignItems:"center",justifyContent:"center",textAlign:"center",position:"fixed",inset:"0"},children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
.circles {
  position: fixed;
  bottom: 0;
  width: 100%;
  opacity: 0.3;
  transform-origin: bottom right;
  scale: 2.0;
  translate: 50% 50%;
  pointer-events: none;
}

#circles1 { animation: spin1 60s linear infinite; }
#circles2 { animation: spin2 60s linear infinite; }
@keyframes spin1 { from {rotate:0deg;} to {rotate:-90deg;} }
@keyframes spin2 { from {rotate:90deg;} to {rotate:0deg;} }
@media screen and (min-aspect-ratio: 1 / 4.0) { .circles { scale: 3.0; translate: 140% 50%; } }
@media screen and (min-aspect-ratio: 2 / 4.0) { .circles { scale: 2.5; translate: 100% 50%; } }
@media screen and (min-aspect-ratio: 3 / 4.0) { .circles { scale: 2.0; translate: 60% 60%; } }
@media screen and (min-aspect-ratio: 4 / 4.0) { .circles { scale: 2.0; translate: 70% 60%; } }
@media screen and (min-aspect-ratio: 4 / 3.0) { .circles { scale: 2.0; translate: 80% 60%; } }
@media screen and (min-aspect-ratio: 4 / 2.5) { .circles { scale: 2.0; translate: 80% 60%; } }
@media screen and (min-aspect-ratio: 4 / 2.0) { .circles { scale: 2.0; translate: 90% 60%; } }
@media screen and (min-aspect-ratio: 4 / 1.5) { .circles { scale: 2.0; translate: 90% 60%; } }
        `}}),d.jsx("img",{className:"circles",id:"circles1",src:"/static/images/bg/circles.png"}),d.jsx("img",{className:"circles",id:"circles2",src:"/static/images/bg/circles.png"}),d.jsx("h1",{children:e?"Page not found":"Something went wrong"}),d.jsx("h4",{children:d.jsx(ms,{href:"puzzles",children:"You stray out of thought and time."})}),e?d.jsx("div",{children:"(This is not a puzzle. Click above to go back.)"}):d.jsxs("div",{children:["(This is not a puzzle. Try refreshing, or"," ",d.jsx("a",{href:"mailto:contact@galacticpuzzlehunt.com",children:"contact us"}),".)"]})]})}function vF(t,e){const n=new Date(t),r=n.toLocaleString([],{...e,timeZoneName:"short",timeZone:"America/New_York"}),i=n.toLocaleString([],e);return d.jsx("time",{dateTime:n.toISOString(),title:`Server time: ${r}`,children:i.replace(/([a-z])\s([0-9])/gi,"$1Â $2")})}function tu({timestamp:t}){return vF(t,{hourCycle:"h12",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"})}function In({timestamp:t}){return vF(t,{hourCycle:"h23",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function p0(t){const e="diff"in t?t.diff:t.to-t.from;return d.jsx("time",{dateTime:`PT${e/1e3}S`,children:UO(e)})}const iT=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),v0=R.createContext({}),m0=R.createContext(null),g0=typeof document<"u",y0=g0?R.useLayoutEffect:R.useEffect,mF=R.createContext({strict:!1}),aT=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),b$="framerAppearId",gF="data-"+aT(b$);function w$(t,e,n,r){const{visualElement:i}=R.useContext(v0),a=R.useContext(mF),s=R.useContext(m0),o=R.useContext(iT).reducedMotion,l=R.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;R.useInsertionEffect(()=>{u&&u.update(n,s)});const h=R.useRef(!!(n[gF]&&!window.HandoffComplete));return y0(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),R.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}function xc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function S$(t,e,n){return R.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):xc(n)&&(n.current=r))},[e])}function bd(t){return typeof t=="string"||Array.isArray(t)}function x0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oT=["initial",...sT];function A0(t){return x0(t.animate)||oT.some(e=>bd(t[e]))}function yF(t){return!!(A0(t)||t.variants)}function _$(t,e){if(A0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||bd(n)?n:void 0,animate:bd(r)?r:void 0}}return t.inherit!==!1?e:{}}function T$(t){const{initial:e,animate:n}=_$(t,R.useContext(v0));return R.useMemo(()=>({initial:e,animate:n}),[ZE(e),ZE(n)])}function ZE(t){return Array.isArray(t)?t.join(" "):t}const JE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wd={};for(const t in JE)wd[t]={isEnabled:e=>JE[t].some(n=>!!e[n])};function C$(t){for(const e in t)wd[e]={...wd[e],...t[e]}}const lT=R.createContext({}),xF=R.createContext({}),I$=Symbol.for("motionComponentSymbol");function E$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&C$(t);function a(o,l){let u;const h={...R.useContext(iT),...o,layoutId:k$(o)},{isStatic:c}=h,f=T$(o),p=r(o,c);if(!c&&g0){f.visualElement=w$(i,p,h,e);const v=R.useContext(xF),m=R.useContext(mF).strict;f.visualElement&&(u=f.visualElement.loadFeatures(h,m,t,v))}return R.createElement(v0.Provider,{value:f},u&&f.visualElement?R.createElement(u,{visualElement:f.visualElement,...h}):null,n(i,o,S$(p,f.visualElement,l),p,c,f.visualElement))}const s=R.forwardRef(a);return s[I$]=i,s}function k$({layoutId:t}){const e=R.useContext(lT).id;return e&&t!==void 0?e+"-"+t:t}function P$(t){function e(r,i={}){return E$(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const j$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uT(t){return typeof t!="string"||t.includes("-")?!1:!!(j$.indexOf(t)>-1||/[A-Z]/.test(t))}const Cg={};function M$(t){Object.assign(Cg,t)}const vp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cu=new Set(vp);function AF(t,{layout:e,layoutId:n}){return Cu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cg[t]||t==="opacity")}const Qn=t=>!!(t&&t.getVelocity),D$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L$=vp.length;function N$(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<L$;s++){const o=vp[s];if(t[o]!==void 0){const l=D$[o]||o;a+=`${l}(${t[o]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const bF=t=>e=>typeof e=="string"&&e.startsWith(t),wF=bF("--"),nS=bF("var(--"),z$=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,R$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,As=(t,e,n)=>Math.min(Math.max(n,t),e),Iu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qf={...Iu,transform:t=>As(0,1,t)},pv={...Iu,default:1},Xf=t=>Math.round(t*1e5)/1e5,b0=/(-)?([\d]*\.?[\d])+/g,SF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,O$=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function mp(t){return typeof t=="string"}const gp=t=>({test:e=>mp(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qs=gp("deg"),wa=gp("%"),Re=gp("px"),F$=gp("vh"),B$=gp("vw"),KE={...wa,parse:t=>wa.parse(t)/100,transform:t=>wa.transform(t*100)},QE={...Iu,transform:Math.round},_F={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,size:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:pv,scaleX:pv,scaleY:pv,scaleZ:pv,skew:Qs,skewX:Qs,skewY:Qs,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:qf,originX:KE,originY:KE,originZ:Re,zIndex:QE,fillOpacity:qf,strokeOpacity:qf,numOctaves:QE};function cT(t,e,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=t;let l=!1,u=!1,h=!0;for(const c in e){const f=e[c];if(wF(c)){a[c]=f;continue}const p=_F[c],v=R$(f,p);if(Cu.has(c)){if(l=!0,s[c]=v,!h)continue;f!==(p.default||0)&&(h=!1)}else c.startsWith("origin")?(u=!0,o[c]=v):i[c]=v}if(e.transform||(l||r?i.transform=N$(t.transform,n,h,r):i.transform&&(i.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${c} ${f} ${p}`}}const hT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TF(t,e,n){for(const r in e)!Qn(e[r])&&!AF(r,n)&&(t[r]=e[r])}function V$({transformTemplate:t},e,n){return R.useMemo(()=>{const r=hT();return cT(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function H$(t,e,n){const r=t.style||{},i={};return TF(i,r,t),Object.assign(i,V$(t,e,n)),t.transformValues?t.transformValues(i):i}function G$(t,e,n){const r={},i=H$(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const U$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ig(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U$.has(t)}let CF=t=>!Ig(t);function W$(t){t&&(CF=e=>e.startsWith("on")?!Ig(e):t(e))}try{W$(require("@emotion/is-prop-valid").default)}catch{}function $$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(CF(i)||n===!0&&Ig(i)||!e&&!Ig(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function ek(t,e,n){return typeof t=="string"?t:Re.transform(e+n*t)}function Y$(t,e,n){const r=ek(e,t.x,t.width),i=ek(n,t.y,t.height);return`${r} ${i}`}const q$={offset:"stroke-dashoffset",array:"stroke-dasharray"},X$={offset:"strokeDashoffset",array:"strokeDasharray"};function Z$(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?q$:X$;t[a.offset]=Re.transform(-r);const s=Re.transform(e),o=Re.transform(n);t[a.array]=`${s} ${o}`}function fT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},h,c,f){if(cT(t,u,h,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:m}=t;p.transform&&(m&&(v.transform=p.transform),delete p.transform),m&&(i!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=Y$(m,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&Z$(p,s,o,l,!1)}const IF=()=>({...hT(),attrs:{}}),dT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function J$(t,e,n,r){const i=R.useMemo(()=>{const a=IF();return fT(a,e,{enableHardwareAcceleration:!1},dT(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};TF(a,t.style,t),i.style={...a,...i.style}}return i}function K$(t=!1){return(n,r,i,{latestValues:a},s)=>{const l=(uT(n)?J$:G$)(r,a,s,n),h={...$$(r,typeof n=="string",t),...l,ref:i},{children:c}=r,f=R.useMemo(()=>Qn(c)?c.get():c,[c]);return R.createElement(n,{...h,children:f})}}function EF(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const kF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PF(t,e,n,r){EF(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kF.has(i)?i:aT(i),e.attrs[i])}function pT(t,e){const{style:n}=t,r={};for(const i in n)(Qn(n[i])||e.style&&Qn(e.style[i])||AF(i,t))&&(r[i]=n[i]);return r}function jF(t,e){const n=pT(t,e);for(const r in t)if(Qn(t[r])||Qn(e[r])){const i=vp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function vT(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Eu(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Eg=t=>Array.isArray(t),Q$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),e7=t=>Eg(t)?t[t.length-1]||0:t;function Gm(t){const e=Qn(t)?t.get():t;return Q$(e)?e.toValue():e}function t7({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const s={latestValues:n7(r,i,a,t),renderState:e()};return n&&(s.mount=o=>n(r,o,s)),s}const MF=t=>(e,n)=>{const r=R.useContext(v0),i=R.useContext(m0),a=()=>t7(t,e,r,i);return n?a():Eu(a)};function n7(t,e,n,r){const i={},a=r(t,{});for(const f in a)i[f]=Gm(a[f]);let{initial:s,animate:o}=t;const l=A0(t),u=yF(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const c=h?o:s;return c&&typeof c!="boolean"&&!x0(c)&&(Array.isArray(c)?c:[c]).forEach(p=>{const v=vT(t,p);if(!v)return;const{transitionEnd:m,transition:g,...y}=v;for(const x in y){let A=y[x];if(Array.isArray(A)){const b=h?A.length-1:0;A=A[b]}A!==null&&(i[x]=A)}for(const x in m)i[x]=m[x]}),i}const en=t=>t;class tk{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function r7(t){let e=new tk,n=new tk,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,h=!1)=>{const c=h&&i,f=c?e:n;return u&&s.add(l),f.add(l)&&c&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const h=e.order[u];h(l),s.has(h)&&(o.schedule(h),t())}i=!1,a&&(a=!1,o.process(l))}};return o}const vv=["prepare","read","update","preRender","render","postRender"],i7=40;function a7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=vv.reduce((c,f)=>(c[f]=r7(()=>n=!0),c),{}),s=c=>a[c].process(i),o=()=>{const c=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(c-i.timestamp,i7),1),i.timestamp=c,i.isProcessing=!0,vv.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:vv.reduce((c,f)=>{const p=a[f];return c[f]=(v,m=!1,g=!1)=>(n||l(),p.schedule(v,m,g)),c},{}),cancel:c=>vv.forEach(f=>a[f].cancel(c)),state:i,steps:a}}const{schedule:Lt,cancel:Pa,state:Nn,steps:Hx}=a7(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0),s7={useVisualState:MF({scrapeMotionValuesFromProps:jF,createRenderState:IF,onMount:(t,e,{renderState:n,latestValues:r})=>{Lt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Lt.render(()=>{fT(n,r,{enableHardwareAcceleration:!1},dT(e.tagName),t.transformTemplate),PF(e,n)})}})},o7={useVisualState:MF({scrapeMotionValuesFromProps:pT,createRenderState:hT})};function l7(t,{forwardMotionProps:e=!1},n,r){return{...uT(t)?s7:o7,preloadedFeatures:n,useRender:K$(e),createVisualElement:r,Component:t}}function as(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const DF=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function w0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const u7=t=>e=>DF(e)&&t(e,w0(e));function us(t,e,n,r){return as(t,e,u7(n),r)}const c7=(t,e)=>n=>e(t(n)),wo=(...t)=>t.reduce(c7);function LF(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const nk=LF("dragHorizontal"),rk=LF("dragVertical");function NF(t){let e=!1;if(t==="y")e=rk();else if(t==="x")e=nk();else{const n=nk(),r=rk();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zF(){const t=NF(!0);return t?(t(),!1):!0}class Uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ik(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||zF())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&Lt.update(()=>o[r](a,s))};return us(t.current,n,i,{passive:!t.getProps()[r]})}class h7 extends Uo{mount(){this.unmount=wo(ik(this.node,!0),ik(this.node,!1))}unmount(){}}class f7 extends Uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wo(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RF=(t,e)=>e?t===e?!0:RF(t,e.parentElement):!1;function Gx(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,w0(n))}class d7 extends Uo{constructor(){super(...arguments),this.removeStartListeners=en,this.removeEndListeners=en,this.removeAccessibleListeners=en,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=us(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:c}=this.node.getProps();Lt.update(()=>{!c&&!RF(this.node.current,o.target)?h&&h(o,l):u&&u(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=us(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wo(a,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Gx("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Lt.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=as(this.node.current,"keyup",s),Gx("down",(o,l)=>{this.startPress(o,l)})},n=as(this.node.current,"keydown",e),r=()=>{this.isPressing&&Gx("cancel",(a,s)=>this.cancelPress(a,s))},i=as(this.node.current,"blur",r);this.removeAccessibleListeners=wo(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Lt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zF()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Lt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=us(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=as(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wo(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rS=new WeakMap,Ux=new WeakMap,p7=t=>{const e=rS.get(t.target);e&&e(t)},v7=t=>{t.forEach(p7)};function m7({root:t,...e}){const n=t||document;Ux.has(n)||Ux.set(n,{});const r=Ux.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(v7,{root:t,...e})),r[i]}function g7(t,e,n){const r=m7(e);return rS.set(t,n),r.observe(t),()=>{rS.delete(t),r.unobserve(t)}}const y7={some:0,all:1};class x7 extends Uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:y7[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:c}=this.node.getProps(),f=u?h:c;f&&f(l)};return g7(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(A7(e,n))&&this.startObserver()}unmount(){}}function A7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const b7={inView:{Feature:x7},tap:{Feature:d7},focus:{Feature:f7},hover:{Feature:h7}};function OF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function w7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function S7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function S0(t,e,n){const r=t.getProps();return vT(r,e,n!==void 0?n:r.custom,w7(t),S7(t))}let kg=en;const nu=t=>t*1e3,cs=t=>t/1e3,_7={current:!1},FF=t=>Array.isArray(t)&&typeof t[0]=="number";function BF(t){return!!(!t||typeof t=="string"&&VF[t]||FF(t)||Array.isArray(t)&&t.every(BF))}const jf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,VF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jf([0,.65,.55,1]),circOut:jf([.55,0,1,.45]),backIn:jf([.31,.01,.66,-.59]),backOut:jf([.33,1.53,.69,.99])};function HF(t){if(t)return FF(t)?jf(t):Array.isArray(t)?t.map(HF):VF[t]}function T7(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=HF(o);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function C7(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const GF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,I7=1e-7,E7=12;function k7(t,e,n,r,i){let a,s,o=0;do s=e+(n-e)/2,a=GF(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>I7&&++o<E7);return s}function yp(t,e,n,r){if(t===e&&n===r)return en;const i=a=>k7(a,0,1,t,n);return a=>a===0||a===1?a:GF(i(a),e,r)}const P7=yp(.42,0,1,1),j7=yp(0,0,.58,1),UF=yp(.42,0,.58,1),M7=t=>Array.isArray(t)&&typeof t[0]!="number",WF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$F=t=>e=>1-t(1-e),mT=t=>1-Math.sin(Math.acos(t)),YF=$F(mT),D7=WF(mT),qF=yp(.33,1.53,.69,.99),gT=$F(qF),L7=WF(gT),N7=t=>(t*=2)<1?.5*gT(t):.5*(2-Math.pow(2,-10*(t-1))),ak={linear:en,easeIn:P7,easeInOut:UF,easeOut:j7,circIn:mT,circInOut:D7,circOut:YF,backIn:gT,backInOut:L7,backOut:qF,anticipate:N7},sk=t=>{if(Array.isArray(t)){kg(t.length===4);const[e,n,r,i]=t;return yp(e,n,r,i)}else if(typeof t=="string")return kg(ak[t]!==void 0),ak[t];return t},yT=(t,e)=>n=>!!(mp(n)&&O$.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),XF=(t,e,n)=>r=>{if(!mp(r))return r;const[i,a,s,o]=r.match(b0);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},z7=t=>As(0,255,t),Wx={...Iu,transform:t=>Math.round(z7(t))},Gl={test:yT("rgb","red"),parse:XF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wx.transform(t)+", "+Wx.transform(e)+", "+Wx.transform(n)+", "+Xf(qf.transform(r))+")"};function R7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iS={test:yT("#"),parse:R7,transform:Gl.transform},Ac={test:yT("hsl","hue"),parse:XF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+wa.transform(Xf(e))+", "+wa.transform(Xf(n))+", "+Xf(qf.transform(r))+")"},Wn={test:t=>Gl.test(t)||iS.test(t)||Ac.test(t),parse:t=>Gl.test(t)?Gl.parse(t):Ac.test(t)?Ac.parse(t):iS.parse(t),transform:t=>mp(t)?t:t.hasOwnProperty("red")?Gl.transform(t):Ac.transform(t)},Gt=(t,e,n)=>-n*t+n*e+t;function $x(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function O7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=$x(l,o,t+1/3),a=$x(l,o,t),s=$x(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Yx=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},F7=[iS,Gl,Ac],B7=t=>F7.find(e=>e.test(t));function ok(t){const e=B7(t);let n=e.parse(t);return e===Ac&&(n=O7(n)),n}const ZF=(t,e)=>{const n=ok(t),r=ok(e),i={...n};return a=>(i.red=Yx(n.red,r.red,a),i.green=Yx(n.green,r.green,a),i.blue=Yx(n.blue,r.blue,a),i.alpha=Gt(n.alpha,r.alpha,a),Gl.transform(i))};function V7(t){var e,n;return isNaN(t)&&mp(t)&&(((e=t.match(b0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SF))===null||n===void 0?void 0:n.length)||0)>0}const JF={regex:z$,countKey:"Vars",token:"${v}",parse:en},KF={regex:SF,countKey:"Colors",token:"${c}",parse:Wn.parse},QF={regex:b0,countKey:"Numbers",token:"${n}",parse:Iu.parse};function qx(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function Pg(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&qx(n,JF),qx(n,KF),qx(n,QF),n}function eB(t){return Pg(t).values}function tB(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Pg(t),a=e.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(JF.token,s[l]):l<r+n?o=o.replace(KF.token,Wn.transform(s[l])):o=o.replace(QF.token,Xf(s[l]));return o}}const H7=t=>typeof t=="number"?0:t;function G7(t){const e=eB(t);return tB(t)(e.map(H7))}const jo={test:V7,parse:eB,createTransformer:tB,getAnimatableNone:G7},nB=(t,e)=>n=>`${n>0?e:t}`;function rB(t,e){return typeof t=="number"?n=>Gt(t,e,n):Wn.test(t)?ZF(t,e):t.startsWith("var(")?nB(t,e):aB(t,e)}const iB=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,s)=>rB(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},U7=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=rB(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},aB=(t,e)=>{const n=jo.createTransformer(e),r=Pg(t),i=Pg(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wo(iB(r.values,i.values),n):nB(t,e)},Sd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},lk=(t,e)=>n=>Gt(t,e,n);function W7(t){return typeof t=="number"?lk:typeof t=="string"?Wn.test(t)?ZF:aB:Array.isArray(t)?iB:typeof t=="object"?U7:lk}function $7(t,e,n){const r=[],i=n||W7(t[0]),a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||en:e;o=wo(l,o)}r.push(o)}return r}function xT(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(kg(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=$7(e,r,i),o=s.length,l=u=>{let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const c=Sd(t[h],t[h+1],u);return s[h](c)};return n?u=>l(As(t[0],t[a-1],u)):l}function Y7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sd(0,e,r);t.push(Gt(n,1,i))}}function q7(t){const e=[0];return Y7(e,t.length-1),e}function X7(t,e){return t.map(n=>n*e)}function Z7(t,e){return t.map(()=>e||UF).splice(0,t.length-1)}function jg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=M7(r)?r.map(sk):sk(r),a={done:!1,value:e[0]},s=X7(n&&n.length===e.length?n:q7(e),t),o=xT(s,e,{ease:Array.isArray(i)?i:Z7(e,i)});return{calculatedDuration:t,next:l=>(a.value=o(l),a.done=l>=t,a)}}function sB(t,e){return e?t*(1e3/e):0}const J7=5;function oB(t,e,n){const r=Math.max(e-J7,0);return sB(n-t(r),e-r)}const Xx=.001,K7=.01,Q7=10,eY=.05,tY=1;function nY({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,s=1-e;s=As(eY,tY,s),t=As(K7,Q7,cs(t)),s<1?(i=u=>{const h=u*s,c=h*t,f=h-n,p=aS(u,s),v=Math.exp(-c);return Xx-f/p*v},a=u=>{const c=u*s*t,f=c*n+n,p=Math.pow(s,2)*Math.pow(u,2)*t,v=Math.exp(-c),m=aS(Math.pow(u,2),s);return(-i(u)+Xx>0?-1:1)*((f-p)*v)/m}):(i=u=>{const h=Math.exp(-u*t),c=(u-n)*t+1;return-Xx+h*c},a=u=>{const h=Math.exp(-u*t),c=(n-u)*(t*t);return h*c});const o=5/t,l=iY(i,a,o);if(t=nu(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const rY=12;function iY(t,e,n){let r=n;for(let i=1;i<rY;i++)r=r-t(r)/e(r);return r}function aS(t,e){return t*Math.sqrt(1-e*e)}const aY=["duration","bounce"],sY=["stiffness","damping","mass"];function uk(t,e){return e.some(n=>t[n]!==void 0)}function oY(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!uk(t,sY)&&uk(t,aY)){const n=nY(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lB({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:h,velocity:c,isResolvedFromDuration:f}=oY({...r,velocity:-cs(r.velocity||0)}),p=c||0,v=l/(2*Math.sqrt(o*u)),m=a-i,g=cs(Math.sqrt(o/u)),y=Math.abs(m)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let x;if(v<1){const A=aS(g,v);x=b=>{const S=Math.exp(-v*g*b);return a-S*((p+v*g*m)/A*Math.sin(A*b)+m*Math.cos(A*b))}}else if(v===1)x=A=>a-Math.exp(-g*A)*(m+(p+g*m)*A);else{const A=g*Math.sqrt(v*v-1);x=b=>{const S=Math.exp(-v*g*b),w=Math.min(A*b,300);return a-S*((p+v*g*m)*Math.sinh(w)+A*m*Math.cosh(w))/A}}return{calculatedDuration:f&&h||null,next:A=>{const b=x(A);if(f)s.done=A>=h;else{let S=p;A!==0&&(v<1?S=oB(x,A,b):S=0);const w=Math.abs(S)<=n,_=Math.abs(a-b)<=e;s.done=w&&_}return s.value=s.done?a:b,s}}}function ck({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:h}){const c=t[0],f={done:!1,value:c},p=T=>o!==void 0&&T<o||l!==void 0&&T>l,v=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let m=n*e;const g=c+m,y=s===void 0?g:s(g);y!==g&&(m=y-c);const x=T=>-m*Math.exp(-T/r),A=T=>y+x(T),b=T=>{const C=x(T),E=A(T);f.done=Math.abs(C)<=u,f.value=f.done?y:E};let S,w;const _=T=>{p(f.value)&&(S=T,w=lB({keyframes:[f.value,v(f.value)],velocity:oB(A,T,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:h}))};return _(0),{calculatedDuration:null,next:T=>{let C=!1;return!w&&S===void 0&&(C=!0,b(T),_(T)),S!==void 0&&T>S?w.next(T-S):(!C&&b(T),f)}}}const lY=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Lt.update(e,!0),stop:()=>Pa(e),now:()=>Nn.isProcessing?Nn.timestamp:performance.now()}},hk=2e4;function fk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<hk;)e+=n,r=t.next(e);return e>=hk?1/0:e}const uY={decay:ck,inertia:ck,tween:jg,keyframes:jg,spring:lB};function Mg({autoplay:t=!0,delay:e=0,driver:n=lY,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:c,...f}){let p=1,v=!1,m,g;const y=()=>{g=new Promise(H=>{m=H})};y();let x;const A=uY[i]||jg;let b;A!==jg&&typeof r[0]!="number"&&(b=xT([0,100],r,{clamp:!1}),r=[0,100]);const S=A({...f,keyframes:r});let w;o==="mirror"&&(w=A({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let _="idle",T=null,C=null,E=null;S.calculatedDuration===null&&a&&(S.calculatedDuration=fk(S));const{calculatedDuration:k}=S;let I=1/0,j=1/0;k!==null&&(I=k+s,j=I*(a+1)-s);let P=0;const D=H=>{if(C===null)return;p>0&&(C=Math.min(C,H)),p<0&&(C=Math.min(H-j/p,C)),T!==null?P=T:P=Math.round(H-C)*p;const G=P-e*(p>=0?1:-1),N=p>=0?G<0:G>j;P=Math.max(G,0),_==="finished"&&T===null&&(P=j);let W=P,q=S;if(a){const Q=Math.min(P,j)/I;let re=Math.floor(Q),K=Q%1;!K&&Q>=1&&(K=1),K===1&&re--,re=Math.min(re,a+1),!!(re%2)&&(o==="reverse"?(K=1-K,s&&(K-=s/I)):o==="mirror"&&(q=w)),W=As(0,1,K)*I}const $=N?{done:!1,value:r[0]}:q.next(W);b&&($.value=b($.value));let{done:Z}=$;!N&&k!==null&&(Z=p>=0?P>=j:P<=0);const X=T===null&&(_==="finished"||_==="running"&&Z);return c&&c($.value),X&&V(),$},L=()=>{x&&x.stop(),x=void 0},F=()=>{_="idle",L(),m(),y(),C=E=null},V=()=>{_="finished",h&&h(),L(),m()},U=()=>{if(v)return;x||(x=n(D));const H=x.now();l&&l(),T!==null?C=H-T:(!C||_==="finished")&&(C=H),_==="finished"&&y(),E=C,T=null,_="running",x.start()};t&&U();const z={then(H,G){return g.then(H,G)},get time(){return cs(P)},set time(H){H=nu(H),P=H,T!==null||!x||p===0?T=H:C=x.now()-H/p},get duration(){const H=S.calculatedDuration===null?fk(S):S.calculatedDuration;return cs(H)},get speed(){return p},set speed(H){H===p||!x||(p=H,z.time=cs(P))},get state(){return _},play:U,pause:()=>{_="paused",T=P},stop:()=>{v=!0,_!=="idle"&&(_="idle",u&&u(),F())},cancel:()=>{E!==null&&D(E),F()},complete:()=>{_="finished"},sample:H=>(C=0,D(H))};return z}function cY(t){let e;return()=>(e===void 0&&(e=t()),e)}const hY=cY(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fY=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),mv=10,dY=2e4,pY=(t,e)=>e.type==="spring"||t==="backgroundColor"||!BF(e.ease);function vY(t,e,{onUpdate:n,onComplete:r,...i}){if(!(hY()&&fY.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,u=!1;const h=()=>{l=new Promise(A=>{o=A})};h();let{keyframes:c,duration:f=300,ease:p,times:v}=i;if(pY(e,i)){const A=Mg({...i,repeat:0,delay:0});let b={done:!1,value:c[0]};const S=[];let w=0;for(;!b.done&&w<dY;)b=A.sample(w),S.push(b.value),w+=mv;v=void 0,c=S,f=w-mv,p="linear"}const m=T7(t.owner.current,e,c,{...i,duration:f,ease:p,times:v}),g=()=>{u=!1,m.cancel()},y=()=>{u=!0,Lt.update(g),o(),h()};return m.onfinish=()=>{u||(t.set(C7(c,i)),r&&r(),y())},{then(A,b){return l.then(A,b)},attachTimeline(A){return m.timeline=A,m.onfinish=null,en},get time(){return cs(m.currentTime||0)},set time(A){m.currentTime=nu(A)},get speed(){return m.playbackRate},set speed(A){m.playbackRate=A},get duration(){return cs(f)},play:()=>{s||(m.play(),Pa(g))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:A}=m;if(A){const b=Mg({...i,autoplay:!1});t.setWithVelocity(b.sample(A-mv).value,b.sample(A).value,mv)}y()},complete:()=>{u||m.finish()},cancel:y}}function mY({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:en,pause:en,stop:en,then:a=>(a(),Promise.resolve()),cancel:en,complete:en});return e?Mg({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const gY={type:"spring",stiffness:500,damping:25,restSpeed:10},yY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xY={type:"keyframes",duration:.8},AY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bY=(t,{keyframes:e})=>e.length>2?xY:Cu.has(t)?t.startsWith("scale")?yY(e[1]):gY:AY,sS=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(jo.test(e)||e==="0")&&!e.startsWith("url(")),wY=new Set(["brightness","contrast","saturate","opacity"]);function SY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(b0)||[];if(!r)return t;const i=n.replace(r,"");let a=wY.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const _Y=/([a-z-]*)\(.*?\)/g,oS={...jo,getAnimatableNone:t=>{const e=t.match(_Y);return e?e.map(SY).join(" "):t}},TY={..._F,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:oS,WebkitFilter:oS},AT=t=>TY[t];function uB(t,e){let n=AT(t);return n!==oS&&(n=jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cB=t=>/^0[^.\s]+$/.test(t);function CY(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||cB(t)}function IY(t,e,n,r){const i=sS(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:t.get();let o;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?s:a[u-1]),CY(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(o=a[u]);if(i&&l.length&&o)for(let u=0;u<l.length;u++){const h=l[u];a[h]=uB(e,o)}return a}function EY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function bT(t,e){return t[e]||t.default||t}const kY={skipAnimations:!1},wT=(t,e,n,r={})=>i=>{const a=bT(r,t)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-nu(s);const l=IY(e,t,n,a),u=l[0],h=l[l.length-1],c=sS(t,u),f=sS(t,h);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:v=>{e.set(v),a.onUpdate&&a.onUpdate(v)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(EY(a)||(p={...p,...bY(t,p)}),p.duration&&(p.duration=nu(p.duration)),p.repeatDelay&&(p.repeatDelay=nu(p.repeatDelay)),!c||!f||_7.current||a.type===!1||kY.skipAnimations)return mY(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=vY(e,t,p);if(v)return v}return Mg(p)};function Dg(t){return!!(Qn(t)&&t.add)}const hB=t=>/^\-?\d*\.?\d+$/.test(t);function ST(t,e){t.indexOf(e)===-1&&t.push(e)}function _T(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function PY([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[a]=t.splice(e,1);t.splice(i,0,a)}return t}class TT{constructor(){this.subscriptions=[]}add(e){return ST(this.subscriptions,e),()=>_T(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jY=t=>!isNaN(parseFloat(t)),Zf={current:void 0};class MY{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Nn;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,Lt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Lt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=jY(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new TT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Zf.current&&Zf.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sB(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vu(t,e){return new MY(t,e)}const fB=t=>e=>e.test(t),DY={test:t=>t==="auto",parse:t=>t},dB=[Iu,Re,wa,Qs,B$,F$,DY],Wh=t=>dB.find(fB(t)),LY=[...dB,Wn,jo],NY=t=>LY.find(fB(t));function zY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vu(n))}function RY(t,e){const n=S0(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=e7(a[s]);zY(t,s,o)}}function OY(t,e,n){var r,i;const a=Object.keys(e).filter(o=>!t.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(hB(h)||cB(h))?h=parseFloat(h):!NY(h)&&jo.test(u)&&(h=uB(l,u)),t.addValue(l,vu(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function FY(t,e){return e?(e[t]||e.default||e).from:void 0}function BY(t,e,n){const r={};for(const i in t){const a=FY(i,e);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function VY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HY(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function pB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(a=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const c in o){const f=t.getValue(c),p=o[c];if(!f||p===void 0||h&&VY(h,c))continue;const v={delay:n,elapsed:0,...bT(a||{},c)};if(window.HandoffAppearAnimations){const y=t.getProps()[gF];if(y){const x=window.HandoffAppearAnimations(y,c,f,Lt);x!==null&&(v.elapsed=x,v.isHandoff=!0)}}let m=!v.isHandoff&&!HY(f,p);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(m=!1),f.animation&&(m=!1),m)continue;f.start(wT(c,f,p,t.shouldReduceMotion&&Cu.has(c)?{type:!1}:v));const g=f.animation;Dg(l)&&(l.add(c),g.then(()=>l.remove(c))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&RY(t,s)}),u}function lS(t,e,n={}){const r=S0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(pB(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:c}=i;return GY(t,e,u+l,h,c,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function GY(t,e,n=0,r=0,i=1,a){const s=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(UY).forEach((u,h)=>{u.notify("AnimationStart",e),s.push(lS(u,e,{...a,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function UY(t,e){return t.sortNodePosition(e)}function WY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>lS(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=lS(t,e,n);else{const i=typeof e=="function"?S0(t,e,n.custom):e;r=Promise.all(pB(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const $Y=[...sT].reverse(),YY=sT.length;function qY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>WY(t,n,r)))}function XY(t){let e=qY(t);const n=JY();let r=!0;const i=(l,u)=>{const h=S0(t,u);if(h){const{transition:c,transitionEnd:f,...p}=h;l={...l,...p,...f}}return l};function a(l){e=l(t)}function s(l,u){const h=t.getProps(),c=t.getVariantContext(!0)||{},f=[],p=new Set;let v={},m=1/0;for(let y=0;y<YY;y++){const x=$Y[y],A=n[x],b=h[x]!==void 0?h[x]:c[x],S=bd(b),w=x===u?A.isActive:null;w===!1&&(m=y);let _=b===c[x]&&b!==h[x]&&S;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),A.protectedKeys={...v},!A.isActive&&w===null||!b&&!A.prevProp||x0(b)||typeof b=="boolean")continue;let C=ZY(A.prevProp,b)||x===u&&A.isActive&&!_&&S||y>m&&S,E=!1;const k=Array.isArray(b)?b:[b];let I=k.reduce(i,{});w===!1&&(I={});const{prevResolvedValues:j={}}=A,P={...j,...I},D=L=>{C=!0,p.has(L)&&(E=!0,p.delete(L)),A.needsAnimating[L]=!0};for(const L in P){const F=I[L],V=j[L];if(v.hasOwnProperty(L))continue;let U=!1;Eg(F)&&Eg(V)?U=!OF(F,V):U=F!==V,U?F!==void 0?D(L):p.add(L):F!==void 0&&p.has(L)?D(L):A.protectedKeys[L]=!0}A.prevProp=b,A.prevResolvedValues=I,A.isActive&&(v={...v,...I}),r&&t.blockInitialAnimation&&(C=!1),C&&(!_||E)&&f.push(...k.map(L=>({animation:L,options:{type:x,...l}})))}if(p.size){const y={};p.forEach(x=>{const A=t.getBaseTarget(x);A!==void 0&&(y[x]=A)}),f.push({animation:y})}let g=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function o(l,u,h){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const f=s(h,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function ZY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OF(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JY(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class KY extends Uo{constructor(e){super(e),e.animationState||(e.animationState=XY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),x0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let QY=0;class eq extends Uo{constructor(){super(...arguments),this.id=QY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tq={animation:{Feature:KY},exit:{Feature:eq}},dk=(t,e)=>Math.abs(t-e);function nq(t,e){const n=dk(t.x,e.x),r=dk(t.y,e.y);return Math.sqrt(n**2+r**2)}class vB{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Jx(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=nq(c.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:v}=c,{timestamp:m}=Nn;this.history.push({...v,timestamp:m});const{onStart:g,onMove:y}=this.handlers;f||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Zx(f,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Jx(c.type==="pointercancel"?this.lastMoveEventInfo:Zx(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(c,g),v&&v(c,g)},!DF(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=w0(e),o=Zx(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Nn;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,Jx(o,this.history)),this.removeListeners=wo(us(this.contextWindow,"pointermove",this.handlePointerMove),us(this.contextWindow,"pointerup",this.handlePointerUp),us(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pa(this.updatePoint)}}function Zx(t,e){return e?{point:e(t.point)}:t}function pk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jx({point:t},e){return{point:t,delta:pk(t,mB(e)),offset:pk(t,rq(e)),velocity:iq(e,.1)}}function rq(t){return t[0]}function mB(t){return t[t.length-1]}function iq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=mB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>nu(e)));)n--;if(!r)return{x:0,y:0};const a=cs(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Or(t){return t.max-t.min}function uS(t,e=0,n=.01){return Math.abs(t-e)<=n}function vk(t,e,n,r=.5){t.origin=r,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=Or(n)/Or(e),(uS(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(uS(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Jf(t,e,n,r){vk(t.x,e.x,n.x,r?r.originX:void 0),vk(t.y,e.y,n.y,r?r.originY:void 0)}function mk(t,e,n){t.min=n.min+e.min,t.max=t.min+Or(e)}function aq(t,e,n){mk(t.x,e.x,n.x),mk(t.y,e.y,n.y)}function gk(t,e,n){t.min=e.min-n.min,t.max=t.min+Or(e)}function Kf(t,e,n){gk(t.x,e.x,n.x),gk(t.y,e.y,n.y)}function sq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Gt(n,t,r.max):Math.min(t,n)),t}function yk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function oq(t,{top:e,left:n,bottom:r,right:i}){return{x:yk(t.x,n,i),y:yk(t.y,e,r)}}function xk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function lq(t,e){return{x:xk(t.x,e.x),y:xk(t.y,e.y)}}function uq(t,e){let n=.5;const r=Or(t),i=Or(e);return i>r?n=Sd(e.min,e.max-r,t.min):r>i&&(n=Sd(t.min,t.max-i,e.min)),As(0,1,n)}function cq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cS=.35;function hq(t=cS){return t===!1?t=0:t===!0&&(t=cS),{x:Ak(t,"left","right"),y:Ak(t,"top","bottom")}}function Ak(t,e,n){return{min:bk(t,e),max:bk(t,n)}}function bk(t,e){return typeof t=="number"?t:t[e]||0}const wk=()=>({translate:0,scale:1,origin:0,originPoint:0}),bc=()=>({x:wk(),y:wk()}),Sk=()=>({min:0,max:0}),sn=()=>({x:Sk(),y:Sk()});function Jr(t){return[t("x"),t("y")]}function gB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function fq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kx(t){return t===void 0||t===1}function hS({scale:t,scaleX:e,scaleY:n}){return!Kx(t)||!Kx(e)||!Kx(n)}function Il(t){return hS(t)||yB(t)||t.z||t.rotate||t.rotateX||t.rotateY}function yB(t){return _k(t.x)||_k(t.y)}function _k(t){return t&&t!=="0%"}function Lg(t,e,n){const r=t-n,i=e*r;return n+i}function Tk(t,e,n,r,i){return i!==void 0&&(t=Lg(t,i,r)),Lg(t,n,r)+e}function fS(t,e=0,n=1,r,i){t.min=Tk(t.min,e,n,r,i),t.max=Tk(t.max,e,n,r,i)}function xB(t,{x:e,y:n}){fS(t.x,e.translate,e.scale,e.originPoint),fS(t.y,n.translate,n.scale,n.originPoint)}function pq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&wc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,xB(t,s)),r&&Il(a.latestValues)&&wc(t,a.latestValues))}e.x=Ck(e.x),e.y=Ck(e.y)}function Ck(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ro(t,e){t.min=t.min+e,t.max=t.max+e}function Ik(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,s=Gt(t.min,t.max,a);fS(t,e[n],e[r],s,e.scale)}const vq=["x","scaleX","originX"],mq=["y","scaleY","originY"];function wc(t,e){Ik(t.x,e,vq),Ik(t.y,e,mq)}function AB(t,e){return gB(dq(t.getBoundingClientRect(),e))}function gq(t,e,n){const r=AB(t,n),{scroll:i}=e;return i&&(ro(r.x,i.offset.x),ro(r.y,i.offset.y)),r}const bB=({current:t})=>t?t.ownerDocument.defaultView:null,yq=new WeakMap;class xq{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(w0(h,"page").point)},a=(h,c)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=NF(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jr(g=>{let y=this.getAxisMotionValue(g).get()||0;if(wa.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const A=x.layout.layoutBox[g];A&&(y=Or(A)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&Lt.update(()=>v(h,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(h,c)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:m}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:g}=c;if(p&&this.currentDirection===null){this.currentDirection=Aq(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),m&&m(h,c)},o=(h,c)=>this.stop(h,c),l=()=>Jr(h=>{var c;return this.getAnimationState(h)==="paused"&&((c=this.getAxisMotionValue(h).animation)===null||c===void 0?void 0:c.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new vB(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:bB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Lt.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!gv(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=sq(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&xc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=oq(i.layoutBox,n):this.constraints=!1,this.elastic=hq(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=cq(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=gq(r,i.root,this.visualElement.getTransformPagePoint());let s=lq(i.layout.layoutBox,a);if(n){const o=n(fq(s));this.hasMutatedConstraints=!!o,o&&(s=gB(o))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Jr(h=>{if(!gv(h,n,this.currentDirection))return;let c=l&&l[h]||{};s&&(c={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...c};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(wT(e,r,0,n))}stopAnimation(){Jr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jr(n=>{const{drag:r}=this.getProps();if(!gv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(e[n]-Gt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jr(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=uq({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jr(s=>{if(!gv(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Gt(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;yq.set(this.visualElement,this);const e=this.visualElement.current,n=us(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=as(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jr(h=>{const c=this.getAxisMotionValue(h);c&&(this.originPoint[h]+=l[h].translate,c.set(c.get()+l[h].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=cS,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function gv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Aq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bq extends Uo{constructor(e){super(e),this.removeGroupControls=en,this.removeListeners=en,this.controls=new xq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ek=t=>(e,n)=>{t&&Lt.update(()=>t(e,n))};class wq extends Uo{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(e){this.session=new vB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ek(e),onStart:Ek(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Lt.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=us(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Sq(){const t=R.useContext(m0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=R.useId();return R.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Um={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $h={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=kk(t,e.target.x),r=kk(t,e.target.y);return`${n}% ${r}%`}},_q={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=jo.parse(t);if(i.length>5)return r;const a=jo.createTransformer(t),s=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=o,i[1+s]/=l;const u=Gt(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class Tq extends Wc.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;M$(Cq),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Um.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Lt.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wB(t){const[e,n]=Sq(),r=R.useContext(lT);return Wc.createElement(Tq,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(xF),isPresent:e,safeToRemove:n})}const Cq={borderRadius:{...$h,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$h,borderTopRightRadius:$h,borderBottomLeftRadius:$h,borderBottomRightRadius:$h,boxShadow:_q},SB=["TopLeft","TopRight","BottomLeft","BottomRight"],Iq=SB.length,Pk=t=>typeof t=="string"?parseFloat(t):t,jk=t=>typeof t=="number"||Re.test(t);function Eq(t,e,n,r,i,a){i?(t.opacity=Gt(0,n.opacity!==void 0?n.opacity:1,kq(r)),t.opacityExit=Gt(e.opacity!==void 0?e.opacity:1,0,Pq(r))):a&&(t.opacity=Gt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Iq;s++){const o=`border${SB[s]}Radius`;let l=Mk(e,o),u=Mk(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||jk(l)===jk(u)?(t[o]=Math.max(Gt(Pk(l),Pk(u),r),0),(wa.test(u)||wa.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,r))}function Mk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kq=_B(0,.5,YF),Pq=_B(.5,.95,en);function _B(t,e,n){return r=>r<t?0:r>e?1:n(Sd(t,e,r))}function Dk(t,e){t.min=e.min,t.max=e.max}function Gr(t,e){Dk(t.x,e.x),Dk(t.y,e.y)}function Lk(t,e,n,r,i){return t-=e,t=Lg(t,1/n,r),i!==void 0&&(t=Lg(t,1/i,r)),t}function jq(t,e=0,n=1,r=.5,i,a=t,s=t){if(wa.test(e)&&(e=parseFloat(e),e=Gt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=Gt(a.min,a.max,r);t===a&&(o-=e),t.min=Lk(t.min,e,n,o,i),t.max=Lk(t.max,e,n,o,i)}function Nk(t,e,[n,r,i],a,s){jq(t,e[n],e[r],e[i],e.scale,a,s)}const Mq=["x","scaleX","originX"],Dq=["y","scaleY","originY"];function zk(t,e,n,r){Nk(t.x,e,Mq,n?n.x:void 0,r?r.x:void 0),Nk(t.y,e,Dq,n?n.y:void 0,r?r.y:void 0)}function Rk(t){return t.translate===0&&t.scale===1}function TB(t){return Rk(t.x)&&Rk(t.y)}function Lq(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function CB(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Ok(t){return Or(t.x)/Or(t.y)}class Nq{constructor(){this.members=[]}add(e){ST(this.members,e),e.scheduleRender()}remove(e){if(_T(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fk(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `)}const s=t.x.scale*e.x,o=t.y.scale*e.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const zq=(t,e)=>t.depth-e.depth;class Rq{constructor(){this.children=[],this.isDirty=!1}add(e){ST(this.children,e),this.isDirty=!0}remove(e){_T(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zq),this.isDirty=!1,this.children.forEach(e)}}function Oq(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Pa(r),t(a-e))};return Lt.read(r,!0),()=>Pa(r)}function Fq(t){window.MotionDebug&&window.MotionDebug.record(t)}function Bq(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Vq(t,e,n){const r=Qn(t)?t:vu(t);return r.start(wT("",r,e,n)),r.animation}const Bk=["","X","Y","Z"],Hq={visibility:"hidden"},Vk=1e3;let Gq=0;const El={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function IB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=Gq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,El.totalNodes=El.resolvedTargetDeltas=El.recalculatedProjection=0,this.nodes.forEach($q),this.nodes.forEach(Jq),this.nodes.forEach(Kq),this.nodes.forEach(Yq),Fq(El)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rq)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new TT),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Bq(s),this.instance=s;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let c;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=Oq(f,250),Um.hasAnimatedSinceResize&&(Um.hasAnimatedSinceResize=!1,this.nodes.forEach(Gk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||h.getDefaultTransition()||rX,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=h.getProps(),x=!this.targetLayout||!CB(this.targetLayout,v)||p,A=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,A);const b={...bT(m,"layout"),onPlay:g,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Gk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qq),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const c=this.path[h];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hk);return}this.isUpdating||this.nodes.forEach(Xq),this.isUpdating=!1,this.nodes.forEach(Zq),this.nodes.forEach(Uq),this.nodes.forEach(Wq),this.clearAllSnapshots();const o=performance.now();Nn.delta=As(0,1e3/60,o-Nn.timestamp),Nn.timestamp=o,Nn.isProcessing=!0,Hx.update.process(Nn),Hx.preRender.process(Nn),Hx.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(qq),this.sharedNodes.forEach(eX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!TB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;s&&(o||Il(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),iX(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return sn();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(ro(o.x,l.offset.x),ro(o.y,l.offset.y)),o}removeElementScroll(s){const o=sn();Gr(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:c}=u;if(u!==this.root&&h&&c.layoutScroll){if(h.isRoot){Gr(o,s);const{scroll:f}=this.root;f&&(ro(o.x,-f.offset.x),ro(o.y,-f.offset.y))}ro(o.x,h.offset.x),ro(o.y,h.offset.y)}}return o}applyTransform(s,o=!1){const l=sn();Gr(l,s);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&wc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Il(h.latestValues)&&wc(l,h.latestValues)}return Il(this.latestValues)&&wc(l,this.latestValues),l}removeTransform(s){const o=sn();Gr(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Il(u.latestValues))continue;hS(u.latestValues)&&u.updateSnapshot();const h=sn(),c=u.measurePageBox();Gr(h,c),zk(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Il(this.latestValues)&&zk(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Kf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gr(this.target,this.layout.layoutBox),xB(this.target,this.targetDelta)):Gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Kf(this.relativeTargetOrigin,this.target,p.target),Gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}El.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hS(this.parent.latestValues)||yB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||c))return;Gr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;pq(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:v}=o;if(!v){this.projectionTransform&&(this.projectionDelta=bc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=bc(),this.projectionDeltaWithTransform=bc());const m=this.projectionTransform;Jf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Fk(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),El.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},c=bc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=sn(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,g=this.getStack(),y=!g||g.members.length<=1,x=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(nX));this.animationProgress=0;let A;this.mixTargetDelta=b=>{const S=b/1e3;Uk(c.x,s.x,S),Uk(c.y,s.y,S),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tX(this.relativeTarget,this.relativeTargetOrigin,f,S),A&&Lq(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=sn()),Gr(A,this.relativeTarget)),m&&(this.animationValues=h,Eq(h,u,this.latestValues,S,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{Um.hasAnimatedSinceResize=!0,this.currentAnimation=Vq(0,Vk,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:h}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&EB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||sn();const c=Or(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+c;const f=Or(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}Gr(o,l),wc(o,h),Jf(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Nq),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let h=0;h<Bk.length;h++){const c="rotate"+Bk[h];l[c]&&(u[c]=l[c],s.setStaticValue(c,0))}s.render();for(const h in u)s.setStaticValue(h,u[h]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Hq;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Gm(s==null?void 0:s.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Gm(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Il(this.latestValues)&&(m.transform=h?h({},""):"none",this.hasProjected=!1),m}const f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),u.transform=Fk(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,c.animationValues?u.opacity=c===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in Cg){if(f[m]===void 0)continue;const{correct:g,applyTo:y}=Cg[m],x=u.transform==="none"?f[m]:g(f[m],c);if(y){const A=y.length;for(let b=0;b<A;b++)u[y[b]]=x}else u[m]=x}return this.options.layoutId&&(u.pointerEvents=c===this?Gm(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Hk),this.root.sharedNodes.clear()}}}function Uq(t){t.updateLayout()}function Wq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,s=n.source!==t.layout.source;a==="size"?Jr(c=>{const f=s?n.measuredBox[c]:n.layoutBox[c],p=Or(f);f.min=r[c].min,f.max=f.min+p}):EB(a,n.layoutBox,r)&&Jr(c=>{const f=s?n.measuredBox[c]:n.layoutBox[c],p=Or(r[c]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+p)});const o=bc();Jf(o,r,n.layoutBox);const l=bc();s?Jf(l,t.applyTransform(i,!0),n.measuredBox):Jf(l,r,n.layoutBox);const u=!TB(o);let h=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:f,layout:p}=c;if(f&&p){const v=sn();Kf(v,n.layoutBox,f.layoutBox);const m=sn();Kf(m,r,p.layoutBox),CB(v,m)||(h=!0),c.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=v,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $q(t){El.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Yq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qq(t){t.clearSnapshot()}function Hk(t){t.clearMeasurements()}function Xq(t){t.isLayoutDirty=!1}function Zq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jq(t){t.resolveTargetDelta()}function Kq(t){t.calcProjection()}function Qq(t){t.resetRotation()}function eX(t){t.removeLeadSnapshot()}function Uk(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Wk(t,e,n,r){t.min=Gt(e.min,n.min,r),t.max=Gt(e.max,n.max,r)}function tX(t,e,n,r){Wk(t.x,e.x,n.x,r),Wk(t.y,e.y,n.y,r)}function nX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rX={duration:.45,ease:[.4,0,.1,1]},$k=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Yk=$k("applewebkit/")&&!$k("chrome/")?Math.round:en;function qk(t){t.min=Yk(t.min),t.max=Yk(t.max)}function iX(t){qk(t.x),qk(t.y)}function EB(t,e,n){return t==="position"||t==="preserve-aspect"&&!uS(Ok(e),Ok(n),.2)}const aX=IB({attachResizeListener:(t,e)=>as(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qx={current:void 0},kB=IB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qx.current){const t=new aX({});t.mount(window),t.setOptions({layoutScroll:!0}),Qx.current=t}return Qx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sX={pan:{Feature:wq},drag:{Feature:bq,ProjectionNode:kB,MeasureLayout:wB}},oX=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lX(t){const e=oX.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function dS(t,e,n=1){const[r,i]=lX(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return hB(s)?parseFloat(s):s}else return nS(i)?dS(i,e,n+1):i}function uX(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!nS(a))return;const s=dS(a,r);s&&i.set(s)});for(const i in e){const a=e[i];if(!nS(a))continue;const s=dS(a,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const cX=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),PB=t=>cX.has(t),hX=t=>Object.keys(t).some(PB),Xk=t=>t===Iu||t===Re,Zk=(t,e)=>parseFloat(t.split(", ")[e]),Jk=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Zk(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?Zk(a[1],t):0}},fX=new Set(["x","y","z"]),dX=vp.filter(t=>!fX.has(t));function pX(t){const e=[];return dX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Zc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Jk(4,13),y:Jk(5,14)};Zc.translateX=Zc.x;Zc.translateY=Zc.y;const vX=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=Zc[u](r,a)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(o[u]),t[u]=Zc[u](l,a)}),t},mX=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(PB);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],c=Wh(h);const f=e[l];let p;if(Eg(f)){const v=f.length,m=f[0]===null?1:0;h=f[m],c=Wh(h);for(let g=m;g<v&&f[g]!==null;g++)p?kg(Wh(f[g])===p):p=Wh(f[g])}else p=Wh(f);if(c!==p)if(Xk(c)&&Xk(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===Re&&(e[l]=f.map(parseFloat))}else c!=null&&c.transform&&(p!=null&&p.transform)&&(h===0||f===0)?h===0?u.set(p.transform(h)):e[l]=c.transform(f):(s||(a=pX(t),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=vX(e,t,o);return a.length&&a.forEach(([h,c])=>{t.getValue(h).set(c)}),t.render(),g0&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function gX(t,e,n,r){return hX(e)?mX(t,e,n,r):{target:e,transitionEnd:r}}const yX=(t,e,n,r)=>{const i=uX(t,e,r);return e=i.target,r=i.transitionEnd,gX(t,e,n,r)},pS={current:null},jB={current:!1};function xX(){if(jB.current=!0,!!g0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pS.current=t.matches;t.addListener(e),e()}else pS.current=!1}function AX(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],s=n[i];if(Qn(a))t.addValue(i,a),Dg(r)&&r.add(i);else if(Qn(s))t.addValue(i,vu(a,{owner:t})),Dg(r)&&r.remove(i);else if(s!==a)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=t.getStaticValue(i);t.addValue(i,vu(o!==void 0?o:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Kk=new WeakMap,MB=Object.keys(wd),bX=MB.length,Qk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wX=oT.length;class SX{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Lt.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=A0(n),this.isVariantNode=yF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const c in h){const f=h[c];o[c]!==void 0&&Qn(f)&&(f.set(o[c],!1),Dg(u)&&u.add(c))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Kk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jB.current||xX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kk.delete(this.current),this.projection&&this.projection.unmount(),Pa(this.notifyUpdate),Pa(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Cu.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Lt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let s,o;for(let l=0;l<bX;l++){const u=MB[l],{isEnabled:h,Feature:c,ProjectionNode:f,MeasureLayout:p}=wd[u];f&&(s=f),h(n)&&(!this.features[u]&&c&&(this.features[u]=new c(this)),p&&(o=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:c,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||c&&xc(c),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:p})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qk.length;r++){const i=Qk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=AX(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wX;r++){const i=oT[r],a=this.props[i];(bd(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vu(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=vT(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new TT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DB extends SX{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let s=BY(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){OY(this,r,s);const o=yX(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function _X(t){return window.getComputedStyle(t)}class TX extends DB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Cu.has(n)){const r=AT(n);return r&&r.default||0}else{const r=_X(e),i=(wF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AB(e,n)}build(e,n,r,i){cT(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return pT(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){EF(e,n,r,i)}}class CX extends DB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cu.has(n)){const r=AT(n);return r&&r.default||0}return n=kF.has(n)?n:aT(n),e.getAttribute(n)}measureInstanceViewportBox(){return sn()}scrapeMotionValuesFromProps(e,n){return jF(e,n)}build(e,n,r,i){fT(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){PF(e,n,r,i)}mount(e){this.isSVGTag=dT(e.tagName),super.mount(e)}}const IX=(t,e)=>uT(t)?new CX(e,{enableHardwareAcceleration:!1}):new TX(e,{enableHardwareAcceleration:!0}),EX={layout:{ProjectionNode:kB,MeasureLayout:wB}},kX={...tq,...b7,...sX,...EX},pi=P$((t,e)=>l7(t,e,kX,IX));function LB(){const t=R.useRef(!1);return y0(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function PX(){const t=LB(),[e,n]=R.useState(0),r=R.useCallback(()=>{t.current&&n(e+1)},[e]);return[R.useCallback(()=>Lt.postRender(r),[r]),e]}class jX extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function MX({children:t,isPresent:e}){const n=R.useId(),r=R.useRef(null),i=R.useRef({width:0,height:0,top:0,left:0});return R.useInsertionEffect(()=>{const{width:a,height:s,top:o,left:l}=i.current;if(e||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),R.createElement(jX,{isPresent:e,childRef:r,sizeRef:i},R.cloneElement(t,{ref:r}))}const eA=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=Eu(DX),l=R.useId(),u=R.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{o.set(h,!0);for(const c of o.values())if(!c)return;r&&r()},register:h=>(o.set(h,!1),()=>o.delete(h))}),a?void 0:[n]);return R.useMemo(()=>{o.forEach((h,c)=>o.set(c,!1))},[n]),R.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(t=R.createElement(MX,{isPresent:n},t)),R.createElement(m0.Provider,{value:u},t)};function DX(){return new Map}function LX(t){return R.useEffect(()=>()=>t(),[])}const kl=t=>t.key||"";function NX(t,e){t.forEach(n=>{const r=kl(n);e.set(r,n)})}function zX(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Jc=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:s="sync"})=>{const o=R.useContext(lT).forceRender||PX()[0],l=LB(),u=zX(t);let h=u;const c=R.useRef(new Map).current,f=R.useRef(h),p=R.useRef(new Map).current,v=R.useRef(!0);if(y0(()=>{v.current=!1,NX(u,p),f.current=h}),LX(()=>{v.current=!0,p.clear(),c.clear()}),v.current)return R.createElement(R.Fragment,null,h.map(x=>R.createElement(eA,{key:kl(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:s},x)));h=[...h];const m=f.current.map(kl),g=u.map(kl),y=m.length;for(let x=0;x<y;x++){const A=m[x];g.indexOf(A)===-1&&!c.has(A)&&c.set(A,void 0)}return s==="wait"&&c.size&&(h=[]),c.forEach((x,A)=>{if(g.indexOf(A)!==-1)return;const b=p.get(A);if(!b)return;const S=m.indexOf(A);let w=x;if(!w){const _=()=>{c.delete(A);const T=Array.from(p.keys()).filter(C=>!g.includes(C));if(T.forEach(C=>p.delete(C)),f.current=u.filter(C=>{const E=kl(C);return E===A||T.includes(E)}),!c.size){if(l.current===!1)return;o(),r&&r()}};w=R.createElement(eA,{key:kl(b),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:a,mode:s},b),c.set(A,w)}h.splice(S,0,w)}),h=h.map(x=>{const A=x.key;return c.has(A)?x:R.createElement(eA,{key:kl(x),isPresent:!0,presenceAffectsLayout:a,mode:s},x)}),R.createElement(R.Fragment,null,c.size?h:h.map(x=>R.cloneElement(x)))},NB=R.createContext(null);function RX(t,e,n,r){if(!r)return t;const i=t.findIndex(h=>h.value===e);if(i===-1)return t;const a=r>0?1:-1,s=t[i+a];if(!s)return t;const o=t[i],l=s.layout,u=Gt(l.min,l.max,.5);return a===1&&o.layout.max+n>u||a===-1&&o.layout.min+n<u?PY(t,i,i+a):t}function OX({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...a},s){const o=Eu(()=>pi(e)),l=[],u=R.useRef(!1),h={axis:n,registerItem:(c,f)=>{const p=l.findIndex(v=>c===v.value);p!==-1?l[p].layout=f[n]:l.push({value:c,layout:f[n]}),l.sort(VX)},updateOrder:(c,f,p)=>{if(u.current)return;const v=RX(l,c,f,p);l!==v&&(u.current=!0,r(v.map(BX).filter(m=>i.indexOf(m)!==-1)))}};return R.useEffect(()=>{u.current=!1}),R.createElement(o,{...a,ref:s,ignoreStrict:!0},R.createElement(NB.Provider,{value:h},t))}const FX=R.forwardRef(OX);function BX(t){return t.value}function VX(t,e){return t.layout.min-e.layout.min}function zB(t){const e=Eu(()=>vu(t)),{isStatic:n}=R.useContext(iT);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}const HX=t=>t&&typeof t=="object"&&t.mix,GX=t=>HX(t)?t.mix:void 0;function UX(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],s=t[3+n],o=xT(i,a,{mixer:GX(a[0]),...s});return e?o(r):o}function RB(t,e){const n=zB(e()),r=()=>n.set(e());return r(),y0(()=>{const i=()=>Lt.update(r,!1,!0),a=t.map(s=>s.on("change",i));return()=>{a.forEach(s=>s()),Pa(r)}}),n}function WX(t){Zf.current=[],t();const e=RB(Zf.current,t);return Zf.current=void 0,e}function $X(t,e,n,r){if(typeof t=="function")return WX(t);const i=typeof e=="function"?e:UX(e,n,r);return Array.isArray(t)?eP(t,i):eP([t],([a])=>i(a))}function eP(t,e){const n=Eu(()=>[]);return RB(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function tP(t,e=0){return Qn(t)?t:zB(e)}function YX({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:a=!0,...s},o){const l=Eu(()=>pi(r)),u=R.useContext(NB),h={x:tP(e.x),y:tP(e.y)},c=$X([h.x,h.y],([m,g])=>m||g?1:"unset"),{axis:f,registerItem:p,updateOrder:v}=u;return R.createElement(l,{drag:f,...s,dragSnapToOrigin:!0,style:{...e,x:h.x,y:h.y,zIndex:c},layout:a,onDrag:(m,g)=>{const{velocity:y}=g;y[f]&&v(n,h[f].get(),y[f]),i&&i(m,g)},onLayoutMeasure:m=>p(n,m),ref:o,ignoreStrict:!0},t)}const qX=R.forwardRef(YX),OB={Group:FX,Item:qX};class XX{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const ZX=()=>new XX;function JX(){return Eu(ZX)}/*!
 * OverlayScrollbars
 * Version: 2.9.2
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const Cr=(t,e)=>{const{o:n,i:r,u:i}=t;let a=n,s;const o=(h,c)=>{const f=a,p=h,v=c||(r?!r(f,p):f!==p);return(v||i)&&(a=p,s=f),[a,v,s]};return[e?h=>o(e(a,s),h):o,h=>[a,!!h,s]]},KX=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,yr=KX?window:{},FB=Math.max,QX=Math.min,vS=Math.round,Ng=Math.abs,nP=Math.sign,BB=yr.cancelAnimationFrame,CT=yr.requestAnimationFrame,zg=yr.setTimeout,mS=yr.clearTimeout,_0=t=>typeof yr[t]<"u"?yr[t]:void 0,eZ=_0("MutationObserver"),rP=_0("IntersectionObserver"),Rg=_0("ResizeObserver"),Wm=_0("ScrollTimeline"),IT=t=>t===void 0,T0=t=>t===null,Sa=t=>typeof t=="number",xp=t=>typeof t=="string",ET=t=>typeof t=="boolean",gi=t=>typeof t=="function",ja=t=>Array.isArray(t),Og=t=>typeof t=="object"&&!ja(t)&&!T0(t),kT=t=>{const e=!!t&&t.length,n=Sa(e)&&e>-1&&e%1==0;return ja(t)||!gi(t)&&n?e>0&&Og(t)?e-1 in t:!0:!1},Fg=t=>!!t&&t.constructor===Object,Bg=t=>t instanceof HTMLElement,C0=t=>t instanceof Element;function jt(t,e){if(kT(t))for(let n=0;n<t.length&&e(t[n],n,t)!==!1;n++);else t&&jt(Object.keys(t),n=>e(t[n],n,t));return t}const VB=(t,e)=>t.indexOf(e)>=0,_d=(t,e)=>t.concat(e),Zt=(t,e,n)=>(!xp(e)&&kT(e)?Array.prototype.push.apply(t,e):t.push(e),t),Wo=t=>Array.from(t||[]),PT=t=>ja(t)?t:!xp(t)&&kT(t)?Wo(t):[t],gS=t=>!!t&&!t.length,yS=t=>Wo(new Set(t)),Lr=(t,e,n)=>{jt(t,i=>i&&i.apply(void 0,e||[])),!n&&(t.length=0)},HB="paddingTop",GB="paddingRight",UB="paddingLeft",WB="paddingBottom",$B="marginLeft",YB="marginRight",qB="marginBottom",XB="overflowX",ZB="overflowY",I0="width",E0="height",lo="visible",Ul="hidden",Kc="scroll",tZ=t=>{const e=String(t||"");return e?e[0].toUpperCase()+e.slice(1):""},k0=(t,e,n,r)=>{if(t&&e){let i=!0;return jt(n,a=>{const s=t[a],o=e[a];s!==o&&(i=!1)}),i}return!1},JB=(t,e)=>k0(t,e,["w","h"]),$m=(t,e)=>k0(t,e,["x","y"]),nZ=(t,e)=>k0(t,e,["t","r","b","l"]),ru=()=>{},Oe=(t,...e)=>t.bind(0,...e),Sc=t=>{let e;const n=t?zg:CT,r=t?mS:BB;return[i=>{r(e),e=n(()=>i(),gi(t)?t():t)},()=>r(e)]},xS=(t,e)=>{const{_:n,v:r,p:i,S:a}=e||{};let s,o,l,u,h=ru;const c=function(g){h(),mS(s),u=s=o=void 0,h=ru,t.apply(this,g)},f=m=>a&&o?a(o,m):m,p=()=>{h!==ru&&c(f(l)||l)},v=function(){const g=Wo(arguments),y=gi(n)?n():n;if(Sa(y)&&y>=0){const A=gi(r)?r():r,b=Sa(A)&&A>=0,S=y>0?zg:CT,w=y>0?mS:BB,T=f(g)||g,C=c.bind(0,T);let E;h(),i&&!u?(C(),u=!0,E=S(()=>u=void 0,y)):(E=S(C,y),b&&!s&&(s=zg(p,A))),h=()=>w(E),o=l=T}else c(g)};return v.m=p,v},KB=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Vi=t=>t?Object.keys(t):[],At=(t,e,n,r,i,a,s)=>{const o=[e,n,r,i,a,s];return(typeof t!="object"||T0(t))&&!gi(t)&&(t={}),jt(o,l=>{jt(l,(u,h)=>{const c=l[h];if(t===c)return!0;const f=ja(c);if(c&&Fg(c)){const p=t[h];let v=p;f&&!ja(p)?v=[]:!f&&!Fg(p)&&(v={}),t[h]=At(v,c)}else t[h]=f?c.slice():c})}),t},QB=(t,e)=>jt(At({},t),(n,r,i)=>{n===void 0?delete i[r]:n&&Fg(n)&&(i[r]=QB(n))}),jT=t=>!Vi(t).length,eV=(t,e,n)=>FB(t,QX(e,n)),iu=t=>yS((ja(t)?t:(t||"").split(" ")).filter(e=>e)),MT=(t,e)=>t&&t.getAttribute(e),iP=(t,e)=>t&&t.hasAttribute(e),Qa=(t,e,n)=>{jt(iu(e),r=>{t&&t.setAttribute(r,String(n||""))})},ea=(t,e)=>{jt(iu(e),n=>t&&t.removeAttribute(n))},P0=(t,e)=>{const n=iu(MT(t,e)),r=Oe(Qa,t,e),i=(a,s)=>{const o=new Set(n);return jt(iu(a),l=>{o[s](l)}),Wo(o).join(" ")};return{O:a=>r(i(a,"delete")),$:a=>r(i(a,"add")),C:a=>{const s=iu(a);return s.reduce((o,l)=>o&&n.includes(l),s.length>0)}}},tV=(t,e,n)=>(P0(t,e).O(n),Oe(DT,t,e,n)),DT=(t,e,n)=>(P0(t,e).$(n),Oe(tV,t,e,n)),Vg=(t,e,n,r)=>(r?DT:tV)(t,e,n),LT=(t,e,n)=>P0(t,e).C(n),nV=t=>P0(t,"class"),rV=(t,e)=>{nV(t).O(e)},NT=(t,e)=>(nV(t).$(e),Oe(rV,t,e)),iV=(t,e)=>{const n=e?C0(e)&&e:document;return n?Wo(n.querySelectorAll(t)):[]},rZ=(t,e)=>{const n=e?C0(e)&&e:document;return n&&n.querySelector(t)},AS=(t,e)=>C0(t)&&t.matches(e),aV=t=>AS(t,"body"),bS=t=>t?Wo(t.childNodes):[],Td=t=>t&&t.parentElement,_c=(t,e)=>C0(t)&&t.closest(e),wS=t=>document.activeElement,iZ=(t,e,n)=>{const r=_c(t,e),i=t&&rZ(n,r),a=_c(i,e)===r;return r&&i?r===t||i===t||a&&_c(_c(t,n),e)!==r:!1},Qc=t=>{jt(PT(t),e=>{const n=Td(e);e&&n&&n.removeChild(e)})},Ir=(t,e)=>Oe(Qc,t&&e&&jt(PT(e),n=>{n&&t.appendChild(n)})),Dc=t=>{const e=document.createElement("div");return Qa(e,"class",t),e},sV=t=>{const e=Dc();return e.innerHTML=t.trim(),jt(bS(e),n=>Qc(n))},aP=(t,e)=>t.getPropertyValue(e)||t[e]||"",oV=t=>{const e=t||0;return isFinite(e)?e:0},yv=t=>oV(parseFloat(t||"")),SS=t=>Math.round(t*1e4)/1e4,lV=t=>`${SS(oV(t))}px`;function Cd(t,e){t&&e&&jt(e,(n,r)=>{try{const i=t.style,a=T0(n)||ET(n)?"":Sa(n)?lV(n):n;r.indexOf("--")===0?i.setProperty(r,a):i[r]=a}catch{}})}function bs(t,e,n){const r=xp(e);let i=r?"":{};if(t){const a=yr.getComputedStyle(t,n)||t.style;i=r?aP(a,e):Wo(e).reduce((s,o)=>(s[o]=aP(a,o),s),i)}return i}const sP=(t,e,n)=>{const r=e?`${e}-`:"",i=n?`-${n}`:"",a=`${r}top${i}`,s=`${r}right${i}`,o=`${r}bottom${i}`,l=`${r}left${i}`,u=bs(t,[a,s,o,l]);return{t:yv(u[a]),r:yv(u[s]),b:yv(u[o]),l:yv(u[l])}},aZ=(t,e)=>`translate${Og(t)?`(${t.x},${t.y})`:`Y(${t})`}`,sZ=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),oZ={w:0,h:0},j0=(t,e)=>e?{w:e[`${t}Width`],h:e[`${t}Height`]}:oZ,lZ=t=>j0("inner",t||yr),Lc=Oe(j0,"offset"),uV=Oe(j0,"client"),Hg=Oe(j0,"scroll"),zT=t=>{const e=parseFloat(bs(t,I0))||0,n=parseFloat(bs(t,E0))||0;return{w:e-vS(e),h:n-vS(n)}},tA=t=>t.getBoundingClientRect(),uZ=t=>!!t&&sZ(t),_S=t=>!!(t&&(t[E0]||t[I0])),cV=(t,e)=>{const n=_S(t);return!_S(e)&&n},oP=(t,e,n,r)=>{jt(iu(e),i=>{t&&t.removeEventListener(i,n,r)})},Ht=(t,e,n,r)=>{var i;const a=(i=r&&r.H)!=null?i:!0,s=r&&r.I||!1,o=r&&r.A||!1,l={passive:a,capture:s};return Oe(Lr,iu(e).map(u=>{const h=o?c=>{oP(t,u,h,s),n&&n(c)}:n;return t&&t.addEventListener(u,h,l),Oe(oP,t,u,h,s)}))},hV=t=>t.stopPropagation(),TS=t=>t.preventDefault(),fV=t=>hV(t)||TS(t),fa=(t,e)=>{const{x:n,y:r}=Sa(e)?{x:e,y:e}:e||{};Sa(n)&&(t.scrollLeft=n),Sa(r)&&(t.scrollTop=r)},Er=t=>({x:t.scrollLeft,y:t.scrollTop}),dV=()=>({D:{x:0,y:0},T:{x:0,y:0}}),cZ=(t,e)=>{const{D:n,T:r}=t,{w:i,h:a}=e,s=(c,f,p)=>{let v=nP(c)*p,m=nP(f)*p;if(v===m){const g=Ng(c),y=Ng(f);m=g>y?0:m,v=g<y?0:v}return v=v===m?0:v,[v+0,m+0]},[o,l]=s(n.x,r.x,i),[u,h]=s(n.y,r.y,a);return{D:{x:o,y:u},T:{x:l,y:h}}},lP=({D:t,T:e})=>{const n=(r,i)=>r===0&&r<=i;return{x:n(t.x,e.x),y:n(t.y,e.y)}},uP=({D:t,T:e},n)=>{const r=(i,a,s)=>eV(0,1,(i-s)/(i-a)||0);return{x:r(t.x,e.x,n.x),y:r(t.y,e.y,n.y)}},CS=t=>{t&&t.focus&&t.focus({preventScroll:!0})},cP=(t,e)=>{jt(PT(e),t)},IS=t=>{const e=new Map,n=(a,s)=>{if(a){const o=e.get(a);cP(l=>{o&&o[l?"delete":"clear"](l)},s)}else e.forEach(o=>{o.clear()}),e.clear()},r=(a,s)=>{if(xp(a)){const u=e.get(a)||new Set;return e.set(a,u),cP(h=>{gi(h)&&u.add(h)},s),Oe(n,a,s)}ET(s)&&s&&n();const o=Vi(a),l=[];return jt(o,u=>{const h=a[u];h&&Zt(l,r(u,h))}),Oe(Lr,l)},i=(a,s)=>{jt(Wo(e.get(a)),o=>{s&&!gS(s)?o.apply(0,s):o()})};return r(t||{}),[r,n,i]},hP=t=>JSON.stringify(t,(e,n)=>{if(gi(n))throw 0;return n}),fP=(t,e)=>t?`${e}`.split(".").reduce((n,r)=>n&&KB(n,r)?n[r]:void 0,t):void 0,hZ={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},pV=(t,e)=>{const n={},r=_d(Vi(e),Vi(t));return jt(r,i=>{const a=t[i],s=e[i];if(Og(a)&&Og(s))At(n[i]={},pV(a,s)),jT(n[i])&&delete n[i];else if(KB(e,i)&&s!==a){let o=!0;if(ja(a)||ja(s))try{hP(a)===hP(s)&&(o=!1)}catch{}o&&(n[i]=s)}}),n},dP=(t,e,n)=>r=>[fP(t,r),n||fP(e,r)!==void 0],yh="data-overlayscrollbars",Ym="os-environment",xv=`${Ym}-scrollbar-hidden`,nA=`${yh}-initialize`,qm="noClipping",pP=`${yh}-body`,So=yh,fZ="host",es=`${yh}-viewport`,dZ=XB,pZ=ZB,vZ="arrange",vV="measuring",mZ="scrolling",mV="scrollbarHidden",gZ="noContent",ES=`${yh}-padding`,vP=`${yh}-content`,RT="os-size-observer",yZ=`${RT}-appear`,xZ=`${RT}-listener`,AZ="os-trinsic-observer",bZ="os-theme-none",Br="os-scrollbar",wZ=`${Br}-rtl`,SZ=`${Br}-horizontal`,_Z=`${Br}-vertical`,gV=`${Br}-track`,OT=`${Br}-handle`,TZ=`${Br}-visible`,CZ=`${Br}-cornerless`,mP=`${Br}-interaction`,gP=`${Br}-unusable`,kS=`${Br}-auto-hide`,yP=`${kS}-hidden`,xP=`${Br}-wheel`,IZ=`${gV}-interactive`,EZ=`${OT}-interactive`;let yV;const kZ=()=>yV,PZ=t=>{yV=t};let rA;const jZ=()=>{const t=(b,S,w)=>{Ir(document.body,b),Ir(document.body,b);const _=uV(b),T=Lc(b),C=zT(S);return w&&Qc(b),{x:T.h-_.h+C.h,y:T.w-_.w+C.w}},e=b=>{let S=!1;const w=NT(b,xv);try{S=bs(b,"scrollbar-width")==="none"||bs(b,"display","::-webkit-scrollbar")==="none"}catch{}return w(),S},n=`.${Ym}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${Ym} div{width:200%;height:200%;margin:10px 0}.${xv}{scrollbar-width:none!important}.${xv}::-webkit-scrollbar,.${xv}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,i=sV(`<div class="${Ym}"><div></div><style>${n}</style></div>`)[0],a=i.firstChild,s=i.lastChild,o=kZ();o&&(s.nonce=o);const[l,,u]=IS(),[h,c]=Cr({o:t(i,a),i:$m},Oe(t,i,a,!0)),[f]=c(),p=e(i),v={x:f.x===0,y:f.y===0},m={elements:{host:null,padding:!p,viewport:b=>p&&aV(b)&&b,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},g=At({},hZ),y=Oe(At,{},g),x=Oe(At,{},m),A={k:f,M:v,R:p,V:!!Wm,L:Oe(l,"r"),U:x,P:b=>At(m,b)&&x(),N:y,q:b=>At(g,b)&&y(),B:At({},m),F:At({},g)};if(ea(i,"style"),Qc(i),Ht(yr,"resize",()=>{u("r",[])}),gi(yr.matchMedia)&&!p&&(!v.x||!v.y)){const b=S=>{const w=yr.matchMedia(`(resolution: ${yr.devicePixelRatio}dppx)`);Ht(w,"change",()=>{S(),b(S)},{A:!0})};b(()=>{const[S,w]=h();At(A.k,S),u("r",[w])})}return A},Fa=()=>(rA||(rA=jZ()),rA),xV=(t,e)=>gi(e)?e.apply(0,t):e,MZ=(t,e,n,r)=>{const i=IT(r)?n:r;return xV(t,i)||e.apply(0,t)},AV=(t,e,n,r)=>{const i=IT(r)?n:r,a=xV(t,i);return!!a&&(Bg(a)?a:e.apply(0,t))},DZ=(t,e)=>{const{nativeScrollbarsOverlaid:n,body:r}=e||{},{M:i,R:a,U:s}=Fa(),{nativeScrollbarsOverlaid:o,body:l}=s().cancel,u=n??o,h=IT(r)?l:r,c=(i.x||i.y)&&u,f=t&&(T0(h)?!a:h);return!!c||!!f},FT=new WeakMap,LZ=(t,e)=>{FT.set(t,e)},NZ=t=>{FT.delete(t)},bV=t=>FT.get(t),zZ=(t,e,n)=>{let r=!1;const i=n?new WeakMap:!1,a=()=>{r=!0},s=o=>{if(i&&n){const l=n.map(u=>{const[h,c]=u||[];return[c&&h?(o||iV)(h,t):[],c]});jt(l,u=>jt(u[0],h=>{const c=u[1],f=i.get(h)||[];if(t.contains(h)&&c){const v=Ht(h,c,m=>{r?(v(),i.delete(h)):e(m)});i.set(h,Zt(f,v))}else Lr(f),i.delete(h)}))}};return s(),[a,s]},AP=(t,e,n,r)=>{let i=!1;const{j:a,X:s,Y:o,W:l,J:u,G:h}=r||{},c=xS(()=>i&&n(!0),{_:33,v:99}),[f,p]=zZ(t,c,o),v=a||[],m=s||[],g=_d(v,m),y=(A,b)=>{if(!gS(b)){const S=u||ru,w=h||ru,_=[],T=[];let C=!1,E=!1;if(jt(b,k=>{const{attributeName:I,target:j,type:P,oldValue:D,addedNodes:L,removedNodes:F}=k,V=P==="attributes",U=P==="childList",z=t===j,H=V&&I,G=H&&MT(j,I||""),N=xp(G)?G:null,W=H&&D!==N,q=VB(m,I)&&W;if(e&&(U||!z)){const $=V&&W,Z=$&&l&&AS(j,l),Q=(Z?!S(j,I,D,N):!V||$)&&!w(k,!!Z,t,r);jt(L,re=>Zt(_,re)),jt(F,re=>Zt(_,re)),E=E||Q}!e&&z&&W&&!S(j,I,D,N)&&(Zt(T,I),C=C||q)}),p(k=>yS(_).reduce((I,j)=>(Zt(I,iV(k,j)),AS(j,k)?Zt(I,j):I),[])),e)return!A&&E&&n(!1),[!1];if(!gS(T)||C){const k=[yS(T),C];return!A&&n.apply(0,k),k}}},x=new eZ(Oe(y,!1));return[()=>(x.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:g,subtree:e,childList:e,characterData:e}),i=!0,()=>{i&&(f(),x.disconnect(),i=!1)}),()=>{if(i)return c.m(),y(!0,x.takeRecords())}]},wV={},SV={},RZ=t=>{jt(t,e=>jt(e,(n,r)=>{wV[r]=e[r]}))},_V=(t,e,n)=>Vi(t).map(r=>{const{static:i,instance:a}=t[r],[s,o,l]=n||[],u=n?a:i;if(u){const h=n?u(s,o,e):u(e);return(l||SV)[r]=h}}),Ap=t=>SV[t],OZ="__osOptionsValidationPlugin",FZ="__osSizeObserverPlugin",BZ=(t,e)=>{const{M:n}=e,[r,i]=t("showNativeOverlaidScrollbars");return[r&&n.x&&n.y,i]},eh=t=>t.indexOf(lo)===0,VZ=(t,e)=>{const n=(i,a,s,o)=>{const l=i===lo?Ul:i.replace(`${lo}-`,""),u=eh(i),h=eh(s);return!a&&!o?Ul:u&&h?lo:u?a&&o?l:a?lo:Ul:a?l:h&&o?lo:Ul},r={x:n(e.x,t.x,e.y,t.y),y:n(e.y,t.y,e.x,t.x)};return{K:r,Z:{x:r.x===Kc,y:r.y===Kc}}},TV="__osScrollbarsHidingPlugin",HZ="__osClickScrollPlugin",CV=(t,e,n)=>{const{dt:r}=n||{},i=Ap(FZ),[a]=Cr({o:!1,u:!0});return()=>{const s=[],l=sV(`<div class="${RT}"><div class="${xZ}"></div></div>`)[0],u=l.firstChild,h=c=>{const f=c instanceof ResizeObserverEntry;let p=!1,v=!1;if(f){const[m,,g]=a(c.contentRect),y=_S(m);v=cV(m,g),p=!v&&!y}else v=c===!0;p||e({ft:!0,dt:v})};if(Rg){const c=new Rg(f=>h(f.pop()));c.observe(u),Zt(s,()=>{c.disconnect()})}else if(i){const[c,f]=i(u,h,r);Zt(s,_d([NT(l,yZ),Ht(l,"animationstart",c)],f))}else return ru;return Oe(Lr,Zt(s,Ir(t,l)))}},GZ=(t,e)=>{let n;const r=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,i=Dc(AZ),[a]=Cr({o:!1}),s=(l,u)=>{if(l){const h=a(r(l)),[,c]=h;return c&&!u&&e(h)&&[h]}},o=(l,u)=>s(u.pop(),l);return[()=>{const l=[];if(rP)n=new rP(Oe(o,!1),{root:t}),n.observe(i),Zt(l,()=>{n.disconnect()});else{const u=()=>{const h=Lc(i);s(h)};Zt(l,CV(i,u)()),u()}return Oe(Lr,Zt(l,Ir(t,i)))},()=>n&&o(!0,n.takeRecords())]},UZ=(t,e,n,r)=>{let i,a,s,o,l,u;const h=`[${So}]`,c=`[${es}]`,f=["id","class","style","open","wrap","cols","rows"],{vt:p,gt:v,ot:m,ht:g,bt:y,nt:x,wt:A,yt:b,St:S,Ot:w}=t,_=q=>bs(q,"direction")==="rtl",T={$t:!1,ct:_(p)},C=Fa(),E=Ap(TV),[k]=Cr({i:JB,o:{w:0,h:0}},()=>{const q=E&&E.tt(t,e,T,C,n).ut,Z=!(A&&x)&&LT(v,So,qm),X=!x&&b(vZ),Q=X&&Er(g),re=Q&&w(),K=S(vV,Z),le=X&&q&&q()[0],we=Hg(m),oe=zT(m);return le&&le(),fa(g,Q),re&&re(),Z&&K(),{w:we.w+oe.w,h:we.h+oe.h}}),I=xS(r,{_:()=>i,v:()=>a,S(q,$){const[Z]=q,[X]=$;return[_d(Vi(Z),Vi(X)).reduce((Q,re)=>(Q[re]=Z[re]||X[re],Q),{})]}}),j=q=>{const $=_(p);At(q,{Ct:u!==$}),At(T,{ct:$}),u=$},P=(q,$)=>{const[Z,X]=q,Q={xt:X};return At(T,{$t:Z}),!$&&r(Q),Q},D=({ft:q,dt:$})=>{const X=!(q&&!$)&&C.R?I:r,Q={ft:q||$,dt:$};j(Q),X(Q)},L=(q,$)=>{const[,Z]=k(),X={Ht:Z};return j(X),Z&&!$&&(q?r:I)(X),X},F=(q,$,Z)=>{const X={Et:$};return j(X),$&&!Z&&I(X),X},[V,U]=y?GZ(v,P):[],z=!x&&CV(v,D,{dt:!0}),[H,G]=AP(v,!1,F,{X:f,j:f}),N=x&&Rg&&new Rg(q=>{const $=q[q.length-1].contentRect;D({ft:!0,dt:cV($,l)}),l=$}),W=xS(()=>{const[,q]=k();r({Ht:q})},{_:222,p:!0});return[()=>{N&&N.observe(v);const q=z&&z(),$=V&&V(),Z=H(),X=C.L(Q=>{Q?I({zt:Q}):W()});return()=>{N&&N.disconnect(),q&&q(),$&&$(),o&&o(),Z(),X()}},({It:q,At:$,Dt:Z})=>{const X={},[Q]=q("update.ignoreMutation"),[re,K]=q("update.attributes"),[le,we]=q("update.elementEvents"),[oe,Pe]=q("update.debounce"),Le=we||K,Ge=$||Z,st=Ue=>gi(Q)&&Q(Ue);if(Le){s&&s(),o&&o();const[Ue,Ye]=AP(y||m,!0,L,{j:_d(f,re||[]),Y:le,W:h,G:(Ne,hn)=>{const{target:qt,attributeName:yt}=Ne;return(!hn&&yt&&!x?iZ(qt,h,c):!1)||!!_c(qt,`.${Br}`)||!!st(Ne)}});o=Ue(),s=Ye}if(Pe)if(I.m(),ja(oe)){const Ue=oe[0],Ye=oe[1];i=Sa(Ue)&&Ue,a=Sa(Ye)&&Ye}else Sa(oe)?(i=oe,a=!1):(i=!1,a=!1);if(Ge){const Ue=G(),Ye=U&&U(),Ne=s&&s();Ue&&At(X,F(Ue[0],Ue[1],Ge)),Ye&&At(X,P(Ye[0],Ge)),Ne&&At(X,L(Ne[0],Ge))}return j(X),X},T]},WZ=(t,e,n,r)=>{const i="--os-viewport-percent",a="--os-scroll-percent",s="--os-scroll-direction",{U:o}=Fa(),{scrollbars:l}=o(),{slot:u}=l,{vt:h,gt:c,ot:f,Tt:p,ht:v,wt:m,nt:g}=e,{scrollbars:y}=p?{}:t,{slot:x}=y||{},A=[],b=[],S=[],w=AV([h,c,f],()=>g&&m?h:c,u,x),_=H=>{if(Wm){const G=new Wm({source:v,axis:H});return{Mt:W=>{const q=W.kt.animate({clear:["left"],[a]:[0,1]},{timeline:G});return()=>q.cancel()}}}},T={x:_("x"),y:_("y")},C=()=>{const{Rt:H,Vt:G}=n,N=(W,q)=>eV(0,1,W/(W+q)||0);return{x:N(G.x,H.x),y:N(G.y,H.y)}},E=(H,G,N)=>{const W=N?NT:rV;jt(H,q=>{W(q.kt,G)})},k=(H,G)=>{jt(H,N=>{const[W,q]=G(N);Cd(W,q)})},I=(H,G,N)=>{const W=ET(N),q=W?N:!0,$=W?!N:!0;q&&E(b,H,G),$&&E(S,H,G)},j=()=>{const H=C(),G=N=>W=>[W.kt,{[i]:SS(N)+""}];k(b,G(H.x)),k(S,G(H.y))},P=()=>{if(!Wm){const{Lt:H}=n,G=uP(H,Er(v)),N=W=>q=>[q.kt,{[a]:SS(W)+""}];k(b,N(G.x)),k(S,N(G.y))}},D=()=>{const{Lt:H}=n,G=lP(H),N=W=>q=>[q.kt,{[s]:W?"0":"1"}];k(b,N(G.x)),k(S,N(G.y))},L=()=>{if(g&&!m){const{Rt:H,Lt:G}=n,N=lP(G),W=uP(G,Er(v)),q=$=>{const{kt:Z}=$,X=Td(Z)===f&&Z,Q=(re,K,le)=>{const we=K*re;return lV(le?we:-we)};return[X,X&&{transform:aZ({x:Q(W.x,H.x,N.x),y:Q(W.y,H.y,N.y)})}]};k(b,q),k(S,q)}},F=H=>{const G=H?"x":"y",W=Dc(`${Br} ${H?SZ:_Z}`),q=Dc(gV),$=Dc(OT),Z={kt:W,Ut:q,Pt:$},X=T[G];return Zt(H?b:S,Z),Zt(A,[Ir(W,q),Ir(q,$),Oe(Qc,W),X&&X.Mt(Z),r(Z,I,H)]),Z},V=Oe(F,!0),U=Oe(F,!1),z=()=>(Ir(w,b[0].kt),Ir(w,S[0].kt),Oe(Lr,A));return V(),U(),[{Nt:j,qt:P,Bt:D,Ft:L,jt:I,Xt:{Yt:b,Wt:V,Jt:Oe(k,b)},Gt:{Yt:S,Wt:U,Jt:Oe(k,S)}},z]},$Z=(t,e,n,r)=>(i,a,s)=>{const{gt:o,ot:l,nt:u,ht:h,Kt:c,Ot:f}=e,{kt:p,Ut:v,Pt:m}=i,[g,y]=Sc(333),[x,A]=Sc(444),b=_=>{gi(h.scrollBy)&&h.scrollBy({behavior:"smooth",left:_.x,top:_.y})},S=()=>{const _="pointerup pointercancel lostpointercapture",T=`client${s?"X":"Y"}`,C=s?I0:E0,E=s?"left":"top",k=s?"w":"h",I=s?"x":"y",j=(D,L)=>F=>{const{Rt:V}=n,U=Lc(v)[k]-Lc(m)[k],H=L*F/U*V[I];fa(h,{[I]:D+H})},P=[];return Ht(v,"pointerdown",D=>{const L=_c(D.target,`.${OT}`)===m,F=L?m:v,V=t.scrollbars,{button:U,isPrimary:z,pointerType:H}=D,{pointers:G}=V;if(U===0&&z&&V[L?"dragScroll":"clickScroll"]&&(G||[]).includes(H)){Lr(P),A();const W=!L&&D.shiftKey,q=Oe(tA,m),$=Oe(tA,v),Z=(Ye,Ne)=>(Ye||q())[E]-(Ne||$())[E],X=vS(tA(h)[C])/Lc(h)[k]||1,Q=j(Er(h)[I],1/X),re=D[T],K=q(),le=$(),we=K[C],oe=Z(K,le)+we/2,Pe=re-le[E],Le=L?0:Pe-oe,Ge=Ye=>{Lr(Ue),F.releasePointerCapture(Ye.pointerId)},st=f(),Ue=[()=>{const Ye=Er(h);st();const Ne=Er(h),hn={x:Ne.x-Ye.x,y:Ne.y-Ye.y};(Ng(hn.x)>3||Ng(hn.y)>3)&&(f(),fa(h,Ye),b(hn),x(st))},Ht(c,_,Ge),Ht(c,"selectstart",Ye=>TS(Ye),{H:!1}),Ht(v,_,Ge),Ht(v,"pointermove",Ye=>{const Ne=Ye[T]-re;(L||W)&&Q(Le+Ne)})];if(F.setPointerCapture(D.pointerId),W)Q(Le);else if(!L){const Ye=Ap(HZ);if(Ye){const Ne=Ye(Q,Z,Le,we,Pe);Zt(Ue,Oe(Ne)),Zt(P,Oe(Ne,!0))}}}})};let w=!0;return Oe(Lr,[Ht(m,"pointermove pointerleave",r),Ht(p,"pointerenter",()=>{a(mP,!0)}),Ht(p,"pointerleave pointercancel",()=>{a(mP,!1)}),!u&&Ht(p,"mousedown",()=>{const _=wS();(iP(_,es)||iP(_,So)||_===document.body)&&zg(Oe(CS,l),25)}),Ht(p,"wheel",_=>{const{deltaX:T,deltaY:C,deltaMode:E}=_;w&&E===0&&Td(p)===o&&b({x:T,y:C}),w=!1,a(xP,!0),g(()=>{w=!0,a(xP)}),TS(_)},{H:!1,I:!0}),Ht(p,"pointerdown",Oe(Ht,c,"click",fV,{A:!0,I:!0,H:!1}),{I:!0}),S(),y,A])},YZ=(t,e,n,r,i,a)=>{let s,o,l,u,h,c=ru,f=0;const p=H=>H.pointerType==="mouse",[v,m]=Sc(),[g,y]=Sc(100),[x,A]=Sc(100),[b,S]=Sc(()=>f),[w,_]=WZ(t,i,r,$Z(e,i,r,H=>p(H)&&F())),{gt:T,Qt:C,wt:E}=i,{jt:k,Nt:I,qt:j,Bt:P,Ft:D}=w,L=(H,G)=>{if(S(),H)k(yP);else{const N=Oe(k,yP,!0);f>0&&!G?b(N):N()}},F=()=>{(l?!s:!u)&&(L(!0),g(()=>{L(!1)}))},V=H=>{k(kS,H,!0),k(kS,H,!1)},U=H=>{p(H)&&(s=l,l&&L(!0))},z=[S,y,A,m,()=>c(),Ht(T,"pointerover",U,{A:!0}),Ht(T,"pointerenter",U),Ht(T,"pointerleave",H=>{p(H)&&(s=!1,l&&L(!1))}),Ht(T,"pointermove",H=>{p(H)&&o&&F()}),Ht(C,"scroll",H=>{v(()=>{j(),F()}),a(H),D()})];return[()=>Oe(Lr,Zt(z,_())),({It:H,Dt:G,Zt:N,tn:W})=>{const{nn:q,sn:$,en:Z,cn:X}=W||{},{Ct:Q,dt:re}=N||{},{ct:K}=n,{M:le}=Fa(),{K:we,rn:oe}=r,[Pe,Le]=H("showNativeOverlaidScrollbars"),[Ge,st]=H("scrollbars.theme"),[Ue,Ye]=H("scrollbars.visibility"),[Ne,hn]=H("scrollbars.autoHide"),[qt,yt]=H("scrollbars.autoHideSuspend"),[qi]=H("scrollbars.autoHideDelay"),[ie,ae]=H("scrollbars.dragScroll"),[B,Be]=H("scrollbars.clickScroll"),[lt,yn]=H("overflow"),_i=re&&!G,wr=oe.x||oe.y,$a=q||$||X||Q||G,jn=Z||Ye||yn,_n=Pe&&le.x&&le.y,Hr=(Bn,Os,rv)=>{const Gh=Bn.includes(Kc)&&(Ue===lo||Ue==="auto"&&Os===Kc);return k(TZ,Gh,rv),Gh};if(f=qi,_i&&(qt&&wr?(V(!1),c(),x(()=>{c=Ht(C,"scroll",Oe(V,!0),{A:!0})})):V(!0)),Le&&k(bZ,_n),st&&(k(h),k(Ge,!0),h=Ge),yt&&!qt&&V(!0),hn&&(o=Ne==="move",l=Ne==="leave",u=Ne==="never",L(u,!0)),ae&&k(EZ,ie),Be&&k(IZ,B),jn){const Bn=Hr(lt.x,we.x,!0),Os=Hr(lt.y,we.y,!1);k(CZ,!(Bn&&Os))}$a&&(j(),I(),D(),X&&P(),k(gP,!oe.x,!0),k(gP,!oe.y,!1),k(wZ,K&&!E))},{},w]},qZ=t=>{const e=Fa(),{U:n,R:r}=e,{elements:i}=n(),{padding:a,viewport:s,content:o}=i,l=Bg(t),u=l?{}:t,{elements:h}=u,{padding:c,viewport:f,content:p}=h||{},v=l?t:u.target,m=aV(v),g=v.ownerDocument,y=g.documentElement,x=()=>g.defaultView||yr,A=Oe(MZ,[v]),b=Oe(AV,[v]),S=Oe(Dc,""),w=Oe(A,S,s),_=Oe(b,S,o),T=oe=>{const Pe=Lc(oe),Le=Hg(oe),Ge=bs(oe,XB),st=bs(oe,ZB);return Le.w-Pe.w>0&&!eh(Ge)||Le.h-Pe.h>0&&!eh(st)},C=w(f),E=C===v,k=E&&m,I=!E&&_(p),j=!E&&C===I,P=k?y:C,D=k?P:v,L=!E&&b(S,a,c),F=!j&&I,V=[F,P,L,D].map(oe=>Bg(oe)&&!Td(oe)&&oe),U=oe=>oe&&VB(V,oe),z=!U(P)&&T(P)?P:v,H=k?y:P,N={vt:v,gt:D,ot:P,ln:L,bt:F,ht:H,Qt:k?g:P,an:m?y:z,Kt:g,wt:m,Tt:l,nt:E,un:x,yt:oe=>LT(P,es,oe),St:(oe,Pe)=>Vg(P,es,oe,Pe),Ot:()=>Vg(H,es,mZ,!0)},{vt:W,gt:q,ln:$,ot:Z,bt:X}=N,Q=[()=>{ea(q,[So,nA]),ea(W,nA),m&&ea(y,[nA,So])}];let re=bS([X,Z,$,q,W].find(oe=>oe&&!U(oe)));const K=k?W:X||Z,le=Oe(Lr,Q);return[N,()=>{const oe=x(),Pe=wS(),Le=Ne=>{Ir(Td(Ne),bS(Ne)),Qc(Ne)},Ge=Ne=>Ht(Ne,"focusin focusout focus blur",fV,{I:!0,H:!1}),st="tabindex",Ue=MT(Z,st),Ye=Ge(Pe);return Qa(q,So,E?"":fZ),Qa($,ES,""),Qa(Z,es,""),Qa(X,vP,""),E||(Qa(Z,st,Ue||"-1"),m&&Qa(y,pP,"")),Ir(K,re),Ir(q,$),Ir($||q,!E&&Z),Ir(Z,X),Zt(Q,[Ye,()=>{const Ne=wS(),hn=U(Z),qt=hn&&Ne===Z?W:Ne,yt=Ge(qt);ea($,ES),ea(X,vP),ea(Z,es),m&&ea(y,pP),Ue?Qa(Z,st,Ue):ea(Z,st),U(X)&&Le(X),hn&&Le(Z),U($)&&Le($),CS(qt),yt()}]),r&&!E&&(DT(Z,es,mV),Zt(Q,Oe(ea,Z,es))),CS(!E&&m&&Pe===W&&oe.top===oe?Z:Pe),Ye(),re=0,le},le]},XZ=({bt:t})=>({Zt:e,_n:n,Dt:r})=>{const{xt:i}=e||{},{$t:a}=n;t&&(i||r)&&Cd(t,{[E0]:a&&"100%"})},ZZ=({gt:t,ln:e,ot:n,nt:r},i)=>{const[a,s]=Cr({i:nZ,o:sP()},Oe(sP,t,"padding",""));return({It:o,Zt:l,_n:u,Dt:h})=>{let[c,f]=s(h);const{R:p}=Fa(),{ft:v,Ht:m,Ct:g}=l||{},{ct:y}=u,[x,A]=o("paddingAbsolute");(v||f||(h||m))&&([c,f]=a(h));const S=!r&&(A||g||f);if(S){const w=!x||!e&&!p,_=c.r+c.l,T=c.t+c.b,C={[YB]:w&&!y?-_:0,[qB]:w?-T:0,[$B]:w&&y?-_:0,top:w?-c.t:0,right:w?y?-c.r:"auto":0,left:w?y?"auto":-c.l:0,[I0]:w&&`calc(100% + ${_}px)`},E={[HB]:w?c.t:0,[GB]:w?c.r:0,[WB]:w?c.b:0,[UB]:w?c.l:0};Cd(e||n,C),Cd(n,E),At(i,{ln:c,dn:!w,rt:e?E:At({},C,E)})}return{fn:S}}},JZ=(t,e)=>{const n=Fa(),{gt:r,ln:i,ot:a,nt:s,Qt:o,ht:l,wt:u,St:h,un:c}=t,{R:f}=n,p=u&&s,v=Oe(FB,0),m={display:()=>!1,direction:G=>G!=="ltr",flexDirection:G=>G.endsWith("-reverse"),writingMode:G=>G!=="horizontal-tb"},g=Vi(m),y={i:JB,o:{w:0,h:0}},x={i:$m,o:{}},A=G=>{h(vV,!p&&G)},b=G=>{if(!g.some(K=>{const le=G[K];return le&&m[K](le)}))return{D:{x:0,y:0},T:{x:1,y:1}};A(!0);const W=Er(l),q=h(gZ,!0),$=Ht(o,Kc,K=>{const le=Er(l);K.isTrusted&&le.x===W.x&&le.y===W.y&&hV(K)},{I:!0,A:!0});fa(l,{x:0,y:0}),q();const Z=Er(l),X=Hg(l);fa(l,{x:X.w,y:X.h});const Q=Er(l);fa(l,{x:Q.x-Z.x<1&&-X.w,y:Q.y-Z.y<1&&-X.h});const re=Er(l);return fa(l,W),CT(()=>$()),{D:Z,T:re}},S=(G,N)=>{const W=yr.devicePixelRatio%1!==0?1:0,q={w:v(G.w-N.w),h:v(G.h-N.h)};return{w:q.w>W?q.w:0,h:q.h>W?q.h:0}},[w,_]=Cr(y,Oe(zT,a)),[T,C]=Cr(y,Oe(Hg,a)),[E,k]=Cr(y),[I]=Cr(x),[j,P]=Cr(y),[D]=Cr(x),[L]=Cr({i:(G,N)=>k0(G,N,g),o:{}},()=>uZ(a)?bs(a,g):{}),[F,V]=Cr({i:(G,N)=>$m(G.D,N.D)&&$m(G.T,N.T),o:dV()}),U=Ap(TV),z=(G,N)=>`${N?dZ:pZ}${tZ(G)}`,H=G=>{const N=q=>[lo,Ul,Kc].map($=>z($,q)),W=N(!0).concat(N()).join(" ");h(W),h(Vi(G).map(q=>z(G[q],q==="x")).join(" "),!0)};return({It:G,Zt:N,_n:W,Dt:q},{fn:$})=>{const{ft:Z,Ht:X,Ct:Q,dt:re,zt:K}=N||{},le=U&&U.tt(t,e,W,n,G),{it:we,ut:oe,_t:Pe}=le||{},[Le,Ge]=BZ(G,n),[st,Ue]=G("overflow"),Ye=eh(st.x),Ne=eh(st.y),hn=!0;let qt=_(q),yt=C(q),qi=k(q),ie=P(q);Ge&&f&&h(mV,!Le);{LT(r,So,qm)&&A(!0);const[GE]=oe?oe():[],[iv]=qt=w(q),[av]=yt=T(q),sv=uV(a),ov=p&&lZ(c()),v8={w:v(av.w+iv.w),h:v(av.h+iv.h)},UE={w:v((ov?ov.w:sv.w+v(sv.w-av.w))+iv.w),h:v((ov?ov.h:sv.h+v(sv.h-av.h))+iv.h)};GE&&GE(),ie=j(UE),qi=E(S(v8,UE),q)}const[ae,B]=ie,[Be,lt]=qi,[yn,_i]=yt,[wr,$a]=qt,[jn,_n]=I({x:Be.w>0,y:Be.h>0}),Hr=Ye&&Ne&&(jn.x||jn.y)||Ye&&jn.x&&!jn.y||Ne&&jn.y&&!jn.x,Bn=$||Q||K||$a||_i||B||lt||Ue||Ge||hn,Os=VZ(jn,st),[rv,Gh]=D(Os.K),[h8,f8]=L(q),HE=Q||re||f8||_n||q,[d8,p8]=HE?F(b(h8),q):V();return Bn&&(Gh&&H(Os.K),Pe&&we&&Cd(a,Pe(Os,W,we(Os,yn,wr)))),A(!1),Vg(r,So,qm,Hr),Vg(i,ES,qm,Hr),At(e,{K:rv,Vt:{x:ae.w,y:ae.h},Rt:{x:Be.w,y:Be.h},rn:jn,Lt:cZ(d8,Be)}),{en:Gh,nn:B,sn:lt,cn:p8||lt,vn:HE}}},KZ=t=>{const[e,n,r]=qZ(t),i={ln:{t:0,r:0,b:0,l:0},dn:!1,rt:{[YB]:0,[qB]:0,[$B]:0,[HB]:0,[GB]:0,[WB]:0,[UB]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},K:{x:Ul,y:Ul},rn:{x:!1,y:!1},Lt:dV()},{vt:a,ht:s,nt:o,Ot:l}=e,{R:u,M:h}=Fa(),c=!u&&(h.x||h.y),f=[XZ(e),ZZ(e,i),JZ(e,i)];return[n,p=>{const v={},g=c&&Er(s),y=g&&l();return jt(f,x=>{At(v,x(p,v)||{})}),fa(s,g),y&&y(),!o&&fa(a,0),v},i,e,r]},QZ=(t,e,n,r,i)=>{let a=!1;const s=dP(e,{}),[o,l,u,h,c]=KZ(t),[f,p,v]=UZ(h,u,s,b=>{A({},b)}),[m,g,,y]=YZ(t,e,v,u,h,i),x=b=>Vi(b).some(S=>!!b[S]),A=(b,S)=>{if(n())return!1;const{pn:w,Dt:_,At:T,gn:C}=b,E=w||{},k=!!_||!a,I={It:dP(e,E,k),pn:E,Dt:k};if(C)return g(I),!1;const j=S||p(At({},I,{At:T})),P=l(At({},I,{_n:v,Zt:j}));g(At({},I,{Zt:j,tn:P}));const D=x(j),L=x(P),F=D||L||!jT(E)||k;return a=!0,F&&r(b,{Zt:j,tn:P}),F};return[()=>{const{an:b,ht:S,Ot:w}=h,_=Er(b),T=[f(),o(),m()],C=w();return fa(S,_),C(),Oe(Lr,T)},A,()=>({hn:v,bn:u}),{wn:h,yn:y},c]},da=(t,e,n)=>{const{N:r}=Fa(),i=Bg(t),a=i?t:t.target,s=bV(a);if(e&&!s){let o=!1;const l=[],u={},h=E=>{const k=QB(E),I=Ap(OZ);return I?I(k,!0):k},c=At({},r(),h(e)),[f,p,v]=IS(),[m,g,y]=IS(n),x=(E,k)=>{y(E,k),v(E,k)},[A,b,S,w,_]=QZ(t,c,()=>o,({pn:E,Dt:k},{Zt:I,tn:j})=>{const{ft:P,Ct:D,xt:L,Ht:F,Et:V,dt:U}=I,{nn:z,sn:H,en:G,cn:N}=j;x("updated",[C,{updateHints:{sizeChanged:!!P,directionChanged:!!D,heightIntrinsicChanged:!!L,overflowEdgeChanged:!!z,overflowAmountChanged:!!H,overflowStyleChanged:!!G,scrollCoordinatesChanged:!!N,contentMutation:!!F,hostMutation:!!V,appear:!!U},changedOptions:E||{},force:!!k}])},E=>x("scroll",[C,E])),T=E=>{NZ(a),Lr(l),o=!0,x("destroyed",[C,E]),p(),g()},C={options(E,k){if(E){const I=k?r():{},j=pV(c,At(I,h(E)));jT(j)||(At(c,j),b({pn:j}))}return At({},c)},on:m,off:(E,k)=>{E&&k&&g(E,k)},state(){const{hn:E,bn:k}=S(),{ct:I}=E,{Vt:j,Rt:P,K:D,rn:L,ln:F,dn:V,Lt:U}=k;return At({},{overflowEdge:j,overflowAmount:P,overflowStyle:D,hasOverflow:L,scrollCoordinates:{start:U.D,end:U.T},padding:F,paddingAbsolute:V,directionRTL:I,destroyed:o})},elements(){const{vt:E,gt:k,ln:I,ot:j,bt:P,ht:D,Qt:L}=w.wn,{Xt:F,Gt:V}=w.yn,U=H=>{const{Pt:G,Ut:N,kt:W}=H;return{scrollbar:W,track:N,handle:G}},z=H=>{const{Yt:G,Wt:N}=H,W=U(G[0]);return At({},W,{clone:()=>{const q=U(N());return b({gn:!0}),q}})};return At({},{target:E,host:k,padding:I||j,viewport:j,content:P||j,scrollOffsetElement:D,scrollEventElement:L,scrollbarHorizontal:z(F),scrollbarVertical:z(V)})},update:E=>b({Dt:E,At:!0}),destroy:Oe(T,!1),plugin:E=>u[Vi(E)[0]]};return Zt(l,[_]),LZ(a,C),_V(wV,da,[C,f,u]),DZ(w.wn.wt,!i&&t.cancel)?(T(!0),C):(Zt(l,A()),x("initialized",[C]),C.update(),C)}return s};da.plugin=t=>{const e=ja(t),n=e?t:[t],r=n.map(i=>_V(i,da)[0]);return RZ(n),e?r:r[0]};da.valid=t=>{const e=t&&t.elements,n=gi(e)&&e();return Fg(n)&&!!bV(n.target)};da.env=()=>{const{k:t,M:e,R:n,V:r,B:i,F:a,U:s,P:o,N:l,q:u}=Fa();return At({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:n,scrollTimeline:r,staticDefaultInitialization:i,staticDefaultOptions:a,getDefaultInitialization:s,setDefaultInitialization:o,getDefaultOptions:l,setDefaultOptions:u})};da.nonce=PZ;const eJ=()=>{if(typeof window>"u"){const u=()=>{};return[u,u]}let t,e;const n=window,r=typeof n.requestIdleCallback=="function",i=n.requestAnimationFrame,a=n.cancelAnimationFrame,s=r?n.requestIdleCallback:i,o=r?n.cancelIdleCallback:a,l=()=>{o(t),a(e)};return[(u,h)=>{l(),t=s(r?()=>{l(),e=i(u)}:u,typeof h=="object"?h:{timeout:2233})},l]},tJ=t=>{const{options:e,events:n,defer:r}=t||{},[i,a]=R.useMemo(eJ,[]),s=R.useRef(null),o=R.useRef(r),l=R.useRef(e),u=R.useRef(n);return R.useEffect(()=>{o.current=r},[r]),R.useEffect(()=>{const{current:h}=s;l.current=e,da.valid(h)&&h.options(e||{},!0)},[e]),R.useEffect(()=>{const{current:h}=s;u.current=n,da.valid(h)&&h.on(n||{},!0)},[n]),R.useEffect(()=>()=>{var h;a(),(h=s.current)==null||h.destroy()},[]),R.useMemo(()=>[h=>{const c=s.current;if(da.valid(c))return;const f=o.current,p=l.current||{},v=u.current||{},m=()=>s.current=da(h,p,v);f?i(m,f):m()},()=>s.current],[])},nJ=(t,e)=>{const{element:n="div",options:r,events:i,defer:a,children:s,...o}=t,l=n,u=R.useRef(null),h=R.useRef(null),[c,f]=tJ({options:r,events:i,defer:a});return R.useEffect(()=>{const{current:p}=u,{current:v}=h;if(!p)return;const m=p;return c(n==="body"?{target:m,cancel:{body:null}}:{target:m,elements:{viewport:v,content:v}}),()=>{var g;return(g=f())==null?void 0:g.destroy()}},[c,n]),R.useImperativeHandle(e,()=>({osInstance:f,getElement:()=>u.current}),[]),Wc.createElement(l,{"data-overlayscrollbars-initialize":"",ref:u,...o},n==="body"?s:Wc.createElement("div",{"data-overlayscrollbars-contents":"",ref:h},s))},BT=R.forwardRef(nJ);function fi(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?bP(t.position):"start"in t||"end"in t?bP(t):"line"in t||"column"in t?PS(t):""}function PS(t){return wP(t&&t.line)+":"+wP(t&&t.column)}function bP(t){return PS(t&&t.start)+"-"+PS(t&&t.end)}function wP(t){return t&&typeof t=="number"?t:1}class wt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=fi(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}wt.prototype.file="";wt.prototype.name="";wt.prototype.reason="";wt.prototype.message="";wt.prototype.stack="";wt.prototype.column=void 0;wt.prototype.line=void 0;wt.prototype.ancestors=void 0;wt.prototype.cause=void 0;wt.prototype.fatal=void 0;wt.prototype.place=void 0;wt.prototype.ruleId=void 0;wt.prototype.source=void 0;const sa={basename:rJ,dirname:iJ,extname:aJ,join:sJ,sep:"/"};function rJ(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bp(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function iJ(t){if(bp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function aJ(t){bp(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function sJ(...t){let e=-1,n;for(;++e<t.length;)bp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":oJ(n)}function oJ(t){bp(t);const e=t.codePointAt(0)===47;let n=lJ(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function lJ(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function bp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const uJ={cwd:cJ};function cJ(){return"/"}function jS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function hJ(t){if(typeof t=="string")t=new URL(t);else if(!jS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return fJ(t)}function fJ(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const iA=["history","path","basename","stem","extname","dirname"];class IV{constructor(e){let n;e?jS(e)?n={path:e}:typeof e=="string"||dJ(e)?n={value:e}:n=e:n={},this.cwd=uJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<iA.length;){const a=iA[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)iA.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?sa.basename(this.path):void 0}set basename(e){sA(e,"basename"),aA(e,"basename"),this.path=sa.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?sa.dirname(this.path):void 0}set dirname(e){SP(this.basename,"dirname"),this.path=sa.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?sa.extname(this.path):void 0}set extname(e){if(aA(e,"extname"),SP(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=sa.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){jS(e)&&(e=hJ(e)),sA(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?sa.basename(this.path,this.extname):void 0}set stem(e){sA(e,"stem"),aA(e,"stem"),this.path=sa.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new wt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function aA(t,e){if(t&&t.includes(sa.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+sa.sep+"`")}function sA(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function SP(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dJ(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pJ=["md","markdown","mdown","mkdn","mkd","mdwn","mkdown","ron"],vJ=pJ.map(function(t){return"."+t});function mJ(t,e){const n=gJ(t)?t:new IV(t),{format:r,...i}=e||{};return{file:n,options:{format:r==="md"||r==="mdx"?r:n.extname&&(i.mdExtensions||vJ).includes(n.extname)?"md":"mdx",...i}}}function gJ(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yJ(){return{enter:{mdxFlowExpression:AJ,mdxTextExpression:bJ},exit:{mdxFlowExpression:_P,mdxFlowExpressionChunk:TP,mdxTextExpression:_P,mdxTextExpressionChunk:TP}}}function xJ(){return{handlers:{mdxFlowExpression:CP,mdxTextExpression:CP},unsafe:[{character:"{",inConstruct:["phrasing"]},{atBreak:!0,character:"{"}]}}function AJ(t){this.enter({type:"mdxFlowExpression",value:""},t),this.buffer()}function bJ(t){this.enter({type:"mdxTextExpression",value:""},t),this.buffer()}function _P(t){const e=this.resume(),n=t.estree,r=this.stack[this.stack.length-1];r.type==="mdxFlowExpression"||r.type,this.exit(t),r.value=e,n&&(r.data={estree:n})}function TP(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}function CP(t){return"{"+(t.value||"")+"}"}function IP(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const wJ=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],EP={0:"ï¿½",128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};function EV(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function SJ(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function _J(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function kP(t){return _J(t)||EV(t)}const PP=document.createElement("i");function Id(t){const e="&"+t+";";PP.innerHTML=e;const n=PP.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const Bu=String.fromCharCode,TJ=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function CJ(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let i=0,a=-1,s="",o,l;e.position&&("start"in e.position||"indent"in e.position?(l=e.position.indent,o=e.position.start):o=e.position);let u=(o?o.line:0)||1,h=(o?o.column:0)||1,c=p(),f;for(i--;++i<=t.length;)if(f===10&&(h=(l?l[a]:0)||1),f=t.charCodeAt(i),f===38){const g=t.charCodeAt(i+1);if(g===9||g===10||g===12||g===32||g===38||g===60||Number.isNaN(g)||n&&g===n){s+=Bu(f),h++;continue}const y=i+1;let x=y,A=y,b;if(g===35){A=++x;const I=t.charCodeAt(A);I===88||I===120?(b="hexadecimal",A=++x):b="decimal"}else b="named";let S="",w="",_="";const T=b==="named"?kP:b==="decimal"?EV:SJ;for(A--;++A<=t.length;){const I=t.charCodeAt(A);if(!T(I))break;_+=Bu(I),b==="named"&&wJ.includes(_)&&(S=_,w=Id(_))}let C=t.charCodeAt(A)===59;if(C){A++;const I=b==="named"?Id(_):!1;I&&(S=_,w=I)}let E=1+A-y,k="";if(!(!C&&e.nonTerminated===!1))if(!_)b!=="named"&&v(4,E);else if(b==="named"){if(C&&!w)v(5,1);else if(S!==_&&(A=x+S.length,E=1+A-x,C=!1),!C){const I=S?1:3;if(e.attribute){const j=t.charCodeAt(A);j===61?(v(I,E),w=""):kP(j)?w="":v(I,E)}else v(I,E)}k=w}else{C||v(2,E);let I=Number.parseInt(_,b==="hexadecimal"?16:10);if(IJ(I))v(7,E),k=Bu(65533);else if(I in EP)v(6,E),k=EP[I];else{let j="";EJ(I)&&v(6,E),I>65535&&(I-=65536,j+=Bu(I>>>10|55296),I=56320|I&1023),k=j+Bu(I)}}if(k){m(),c=p(),i=A-1,h+=A-y+1,r.push(k);const I=p();I.offset++,e.reference&&e.reference.call(e.referenceContext,k,{start:c,end:I},t.slice(y-1,A)),c=I}else _=t.slice(y-1,A),s+=_,h+=_.length,i=A-1}else f===10&&(u++,a++,h=0),Number.isNaN(f)?m():(s+=Bu(f),h++);return r.join("");function p(){return{line:u,column:h,offset:i+((o?o.offset:0)||0)}}function v(g,y){let x;e.warning&&(x=p(),x.column+=y,x.offset+=y,e.warning.call(e.warningContext,TJ[g],x,g))}function m(){s&&(r.push(s),e.text&&e.text.call(e.textContext,s,{start:c,end:p()}),s="")}}function IJ(t){return t>=55296&&t<=57343||t>1114111}function EJ(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const kJ=/["&'<>`]/g,PJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jJ=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,MJ=/[|\\{}()[\]^$+*?.]/g,jP=new WeakMap;function DJ(t,e){if(t=t.replace(e.subset?LJ(e.subset):kJ,r),e.subset||e.escapeOnly)return t;return t.replace(PJ,n).replace(jJ,r);function n(i,a,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(a+2),e)}function r(i,a,s){return e.format(i.charCodeAt(0),s.charCodeAt(a+1),e)}}function LJ(t){let e=jP.get(t);return e||(e=NJ(t),jP.set(t,e)),e}function NJ(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(MJ,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function zJ(t){return"&#x"+t.toString(16).toUpperCase()+";"}function RJ(t,e){return DJ(t,Object.assign({format:zJ},e))}const kV="  ";function OJ(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:r,mdxJsxFlowTagClosingMarker:i,mdxJsxFlowTagAttribute:c,mdxJsxFlowTagExpressionAttribute:f,mdxJsxFlowTagAttributeValueLiteral:t,mdxJsxFlowTagAttributeValueExpression:t,mdxJsxFlowTagSelfClosingMarker:s,mdxJsxTextTag:r,mdxJsxTextTagClosingMarker:i,mdxJsxTextTagAttribute:c,mdxJsxTextTagExpressionAttribute:f,mdxJsxTextTagAttributeValueLiteral:t,mdxJsxTextTagAttributeValueExpression:t,mdxJsxTextTagSelfClosingMarker:s},exit:{mdxJsxFlowTagClosingMarker:o,mdxJsxFlowTagNamePrimary:l,mdxJsxFlowTagNameMember:u,mdxJsxFlowTagNameLocal:h,mdxJsxFlowTagExpressionAttribute:p,mdxJsxFlowTagExpressionAttributeValue:n,mdxJsxFlowTagAttributeNamePrimary:v,mdxJsxFlowTagAttributeNameLocal:m,mdxJsxFlowTagAttributeValueLiteral:g,mdxJsxFlowTagAttributeValueLiteralValue:n,mdxJsxFlowTagAttributeValueExpression:y,mdxJsxFlowTagAttributeValueExpressionValue:n,mdxJsxFlowTagSelfClosingMarker:x,mdxJsxFlowTag:A,mdxJsxTextTagClosingMarker:o,mdxJsxTextTagNamePrimary:l,mdxJsxTextTagNameMember:u,mdxJsxTextTagNameLocal:h,mdxJsxTextTagExpressionAttribute:p,mdxJsxTextTagExpressionAttributeValue:n,mdxJsxTextTagAttributeNamePrimary:v,mdxJsxTextTagAttributeNameLocal:m,mdxJsxTextTagAttributeValueLiteral:g,mdxJsxTextTagAttributeValueLiteralValue:n,mdxJsxTextTagAttributeValueExpression:y,mdxJsxTextTagAttributeValueExpressionValue:n,mdxJsxTextTagSelfClosingMarker:x,mdxJsxTextTag:A}};function t(){this.buffer()}function e(_){return{line:_.line,column:_.column,offset:_.offset}}function n(_){this.config.enter.data.call(this,_),this.config.exit.data.call(this,_)}function r(_){const T={name:void 0,attributes:[],close:!1,selfClosing:!1,start:_.start,end:_.end};this.data.mdxJsxTagStack||(this.data.mdxJsxTagStack=[]),this.data.mdxJsxTag=T,this.buffer()}function i(_){if(this.data.mdxJsxTagStack.length===0)throw new wt("Unexpected closing slash `/` in tag, expected an open tag first",{start:_.start,end:_.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function a(_){if(this.data.mdxJsxTag.close)throw new wt("Unexpected attribute in closing tag, expected the end of the tag",{start:_.start,end:_.end},"mdast-util-mdx-jsx:unexpected-attribute")}function s(_){if(this.data.mdxJsxTag.close)throw new wt("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:_.start,end:_.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function o(){const _=this.data.mdxJsxTag;_.close=!0}function l(_){const T=this.data.mdxJsxTag;T.name=this.sliceSerialize(_)}function u(_){const T=this.data.mdxJsxTag;T.name+="."+this.sliceSerialize(_)}function h(_){const T=this.data.mdxJsxTag;T.name+=":"+this.sliceSerialize(_)}function c(_){const T=this.data.mdxJsxTag;a.call(this,_),T.attributes.push({type:"mdxJsxAttribute",name:"",value:null,position:{start:e(_.start),end:void 0}})}function f(_){const T=this.data.mdxJsxTag;a.call(this,_),T.attributes.push({type:"mdxJsxExpressionAttribute",value:""}),this.buffer()}function p(_){const T=this.data.mdxJsxTag,C=T.attributes[T.attributes.length-1];C.type;const E=_.estree;C.value=this.resume(),E&&(C.data={estree:E})}function v(_){const T=this.data.mdxJsxTag,C=T.attributes[T.attributes.length-1];C.type,C.name=this.sliceSerialize(_),C.position,C.position.end=e(_.end)}function m(_){const T=this.data.mdxJsxTag,C=T.attributes[T.attributes.length-1];C.type,C.name+=":"+this.sliceSerialize(_),C.position,C.position.end=e(_.end)}function g(_){const T=this.data.mdxJsxTag,C=T.attributes[T.attributes.length-1];C.value=CJ(this.resume(),{nonTerminated:!1}),C.position,C.position.end=e(_.end)}function y(_){const T=this.data.mdxJsxTag,C=T.attributes[T.attributes.length-1];C.type;const E={type:"mdxJsxAttributeValueExpression",value:this.resume()},k=_.estree;k&&(E.data={estree:k}),C.value=E,C.position,C.position.end=e(_.end)}function x(){const _=this.data.mdxJsxTag;_.selfClosing=!0}function A(_){const T=this.data.mdxJsxTag,C=this.data.mdxJsxTagStack,E=C[C.length-1];if(T.close&&E.name!==T.name)throw new wt("Unexpected closing tag `"+w(T)+"`, expected corresponding closing tag for `"+w(E)+"` ("+fi(E)+")",{start:_.start,end:_.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),T.close?C.pop():this.enter({type:_.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:T.name||null,attributes:T.attributes,children:[]},_,b),T.selfClosing||T.close?this.exit(_,S):C.push(T)}function b(_,T){const C=this.data.mdxJsxTagStack,E=C[C.length-1],k=_?" before the end of `"+_.type+"`":"",I=_?{start:_.start,end:_.end}:void 0;throw new wt("Expected a closing tag for `"+w(E)+"` ("+fi({start:T.start,end:T.end})+")"+k,I,"mdast-util-mdx-jsx:end-tag-mismatch")}function S(_,T){const C=this.data.mdxJsxTag;throw new wt("Expected the closing tag `"+w(C)+"` either after the end of `"+T.type+"` ("+fi(T.end)+") or another opening tag after the start of `"+T.type+"` ("+fi(T.start)+")",{start:_.start,end:_.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function w(_){return"<"+(_.close?"/":"")+(_.name||"")+">"}}function FJ(t){const e=t||{},n=e.quote||'"',r=e.quoteSmart||!1,i=e.tightSelfClosing||!1,a=e.printWidth||Number.POSITIVE_INFINITY,s=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize attribute values with `"+n+"` for `options.quote`, expected `\"`, or `'`");return o.peek=VJ,{handlers:{mdxJsxFlowElement:o,mdxJsxTextElement:o},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function o(l,u,h,c){const f=l.type==="mdxJsxFlowElement",p=l.name?!l.children||l.children.length===0:!1,v=PV(h),m=jV(v),g=h.createTracker(c),y=h.createTracker(c),x=[],A=(f?m:"")+"<"+(l.name||""),b=h.enter(l.type);if(g.move(A),y.move(A),l.attributes&&l.attributes.length>0){if(!l.name)throw new Error("Cannot serialize fragment w/ attributes");let C=-1;for(;++C<l.attributes.length;){const E=l.attributes[C];let k;if(E.type==="mdxJsxExpressionAttribute")k="{"+(E.value||"")+"}";else{if(!E.name)throw new Error("Cannot serialize attribute w/o name");const I=E.value,j=E.name;let P="";if(I!=null)if(typeof I=="object")P="{"+(I.value||"")+"}";else{const D=r&&IP(I,n)>IP(I,s)?s:n;P=D+RJ(I,{subset:[D]})+D}k=j+(P?"=":"")+P}x.push(k)}}let S=!1;const w=x.join(" ");f&&(/\r?\n|\r/.test(w)||g.current().now.column+w.length+(p?i?2:3:1)>a)&&(S=!0);let _=g,T=A;if(S){_=y;let C=-1;for(;++C<x.length;)x[C]=m+kV+x[C];T+=_.move(`
`+x.join(`
`)+`
`+m)}else w&&(T+=_.move(" "+w));return p&&(T+=_.move((i||S?"":" ")+"/")),T+=_.move(">"),l.children&&l.children.length>0&&(l.type==="mdxJsxTextElement"?T+=_.move(h.containerPhrasing(l,{..._.current(),before:">",after:"<"})):(_.shift(2),T+=_.move(`
`),T+=_.move(BJ(l,h,_.current())),T+=_.move(`
`))),p||(T+=_.move((f?m:"")+"</"+(l.name||"")+">")),b(),T}}function BJ(t,e,n){const r=e.indexStack,i=t.children,a=e.createTracker(n),s=jV(PV(e)),o=[];let l=-1;for(r.push(-1);++l<i.length;){const u=i[l];r[r.length-1]=l;const h={before:`
`,after:`
`,...a.current()},c=e.handle(u,t,e,h),f=u.type==="mdxJsxFlowElement"?c:e.indentLines(c,function(p,v,m){return(m?"":s)+p});o.push(a.move(f)),u.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&o.push(a.move(`

`))}return r.pop(),o.join("")}function PV(t){let e=0,n=t.stack.length;for(;--n>-1;){const r=t.stack[n];if(r==="blockquote"||r==="listItem")break;r==="mdxJsxFlowElement"&&e++}return e}function jV(t){return kV.repeat(t)}function VJ(){return"<"}function HJ(){return{enter:{mdxjsEsm:UJ},exit:{mdxjsEsm:WJ,mdxjsEsmData:$J}}}function GJ(){return{handlers:{mdxjsEsm:YJ}}}function UJ(t){this.enter({type:"mdxjsEsm",value:""},t),this.buffer()}function WJ(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,this.exit(t);const r=t.estree;n.value=e,r&&(n.data={estree:r})}function $J(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}function YJ(t){return t.value||""}function qJ(){return[yJ(),OJ(),HJ()]}function XJ(t){return{extensions:[xJ(),FJ(t),GJ()]}}var ZJ=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],MV=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],JJ="ââÂ·Ì-Í¯ÎÒ-ÒÖ-Ö½Ö¿×××××Ø-ØÙ-Ù©Ù°Û-ÛÛ-Û¤Û§Û¨Ûª-Û­Û°-Û¹ÜÜ°-ÝÞ¦-Þ°ß-ßß«-ß³ß½à -à à -à £à ¥-à §à ©-à ­à¡-à¡à¢-à¢à£-à£¡à££-à¤à¤º-à¤¼à¤¾-à¥à¥-à¥à¥¢à¥£à¥¦-à¥¯à¦-à¦à¦¼à¦¾-à§à§à§à§-à§à§à§¢à§£à§¦-à§¯à§¾à¨-à¨à¨¼à¨¾-à©à©à©à©-à©à©à©¦-à©±à©µàª-àªàª¼àª¾-à«à«-à«à«-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬à¬¼à¬¾-à­à­à­à­-à­à­-à­à­¢à­£à­¦-à­¯à®à®¾-à¯à¯-à¯à¯-à¯à¯à¯¦-à¯¯à°-à°à°¼à°¾-à±à±-à±à±-à±à±à±à±¢à±£à±¦-à±¯à²-à²à²¼à²¾-à³à³-à³à³-à³à³à³à³¢à³£à³¦-à³¯à³³à´-à´à´»à´¼à´¾-àµàµ-àµàµ-àµàµàµ¢àµ£àµ¦-àµ¯à¶-à¶à·à·-à·à·à·-à·à·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹-à¹à¹-à¹àº±àº´-àº¼à»-à»à»-à»à¼à¼à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾à¾à¾à¾-à¾à¾-à¾¼à¿á«-á¾á-áá-áá-á á¢-á¤á§-á­á±-á´á-áá-áá-áá©-á±á-áá²-á´ááá²á³á´-ááá -á©á -á á -á á¢©á¤ -á¤«á¤°-á¤»á¥-á¥á§-á§á¨-á¨á©-á©á© -á©¼á©¿-áªáª-áªáª°-áª½áª¿-á«á¬-á¬á¬´-á­á­-á­á­«-á­³á®-á®á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±-á±á±-á±á³-á³á³-á³¨á³­á³´á³·-á³¹á·-á·¿âââ¿âââ-ââ¡â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã¯ããã»ê -ê©ê¯ê´-ê½êêê°ê±ê ê ê ê £-ê §ê ¬ê¢ê¢ê¢´-ê£ê£-ê£ê£ -ê£±ê£¿-ê¤ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³-ê§ê§-ê§ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ê©ê©ê©-ê©ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬ï¸-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼ï¼¿ï½¥",DV="ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô¯Ô±-ÕÕÕ -Ö×-×ª×¯-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¡ -à¡ªà¡°-à¢à¢-à¢à¢ -à£à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¦à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à§¼à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°¹à°½à±-à±à±à± à±¡à²à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ-àµàµ-àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàº-àºàº-àº£àº¥àº§-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -áµá¸-á½á-á¬á¯-á¿á-áá -áªá®-á¸á-áá-á±á-áá -á¬á®-á°á-á³ááá  -á¡¸á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á¦°-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á²-á²á²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â¹â¼-â¿â-âââ -ââ°-â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã¯ã±-ãã -ã¿ã°-ã¿ã-ä¶¿ä¸-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¯ê-êê¢-êê-êêêêê-êê²-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­ê­-ê­©ê­°-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿",oA={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},lA="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",KJ={5:lA,"5module":lA+" export import",6:lA+" const class extends export import super"},QJ=/^in(stanceof)?$/,eK=new RegExp("["+DV+"]"),tK=new RegExp("["+DV+JJ+"]");function MS(t,e){for(var n=65536,r=0;r<e.length;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1}function Ma(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&eK.test(String.fromCharCode(t)):e===!1?!1:MS(t,MV)}function mu(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&tK.test(String.fromCharCode(t)):e===!1?!1:MS(t,MV)||MS(t,ZJ)}var pt=function(e,n){n===void 0&&(n={}),this.label=e,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Ur(t,e){return new pt(t,{beforeExpr:!0,binop:e})}var Wr={beforeExpr:!0},lr={startsExpr:!0},M0={};function ht(t,e){return e===void 0&&(e={}),e.keyword=t,M0[t]=new pt(t,e)}var O={num:new pt("num",lr),regexp:new pt("regexp",lr),string:new pt("string",lr),name:new pt("name",lr),privateId:new pt("privateId",lr),eof:new pt("eof"),bracketL:new pt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new pt("]"),braceL:new pt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new pt("}"),parenL:new pt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new pt(")"),comma:new pt(",",Wr),semi:new pt(";",Wr),colon:new pt(":",Wr),dot:new pt("."),question:new pt("?",Wr),questionDot:new pt("?."),arrow:new pt("=>",Wr),template:new pt("template"),invalidTemplate:new pt("invalidTemplate"),ellipsis:new pt("...",Wr),backQuote:new pt("`",lr),dollarBraceL:new pt("${",{beforeExpr:!0,startsExpr:!0}),eq:new pt("=",{beforeExpr:!0,isAssign:!0}),assign:new pt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new pt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new pt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Ur("||",1),logicalAND:Ur("&&",2),bitwiseOR:Ur("|",3),bitwiseXOR:Ur("^",4),bitwiseAND:Ur("&",5),equality:Ur("==/!=/===/!==",6),relational:Ur("</>/<=/>=",7),bitShift:Ur("<</>>/>>>",8),plusMin:new pt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Ur("%",10),star:Ur("*",10),slash:Ur("/",10),starstar:new pt("**",{beforeExpr:!0}),coalesce:Ur("??",1),_break:ht("break"),_case:ht("case",Wr),_catch:ht("catch"),_continue:ht("continue"),_debugger:ht("debugger"),_default:ht("default",Wr),_do:ht("do",{isLoop:!0,beforeExpr:!0}),_else:ht("else",Wr),_finally:ht("finally"),_for:ht("for",{isLoop:!0}),_function:ht("function",lr),_if:ht("if"),_return:ht("return",Wr),_switch:ht("switch"),_throw:ht("throw",Wr),_try:ht("try"),_var:ht("var"),_const:ht("const"),_while:ht("while",{isLoop:!0}),_with:ht("with"),_new:ht("new",{beforeExpr:!0,startsExpr:!0}),_this:ht("this",lr),_super:ht("super",lr),_class:ht("class",lr),_extends:ht("extends",Wr),_export:ht("export"),_import:ht("import",lr),_null:ht("null",lr),_true:ht("true",lr),_false:ht("false",lr),_in:ht("in",{beforeExpr:!0,binop:7}),_instanceof:ht("instanceof",{beforeExpr:!0,binop:7}),_typeof:ht("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ht("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ht("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Vr=/\r\n?|\n|\u2028|\u2029/,LV=new RegExp(Vr.source,"g");function ku(t){return t===10||t===13||t===8232||t===8233}function NV(t,e,n){n===void 0&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(ku(i))return r<n-1&&i===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1}var VT=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ii=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,zV=Object.prototype,nK=zV.hasOwnProperty,rK=zV.toString,wp=Object.hasOwn||function(t,e){return nK.call(t,e)},MP=Array.isArray||function(t){return rK.call(t)==="[object Array]"},DP=Object.create(null);function ho(t){return DP[t]||(DP[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function Mo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}var iK=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,th=function(e,n){this.line=e,this.column=n};th.prototype.offset=function(e){return new th(this.line,this.column+e)};var Sp=function(e,n,r){this.start=n,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)};function HT(t,e){for(var n=1,r=0;;){var i=NV(t,r,e);if(i<0)return new th(n,e-r);++n,r=i}}var Gg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},LP=!1;function aK(t){var e={};for(var n in Gg)e[n]=t&&wp(t,n)?t[n]:Gg[n];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!LP&&typeof console=="object"&&console.warn&&(LP=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),MP(e.onToken)){var r=e.onToken;e.onToken=function(i){return r.push(i)}}return MP(e.onComment)&&(e.onComment=sK(e,e.onComment)),e}function sK(t,e){return function(n,r,i,a,s,o){var l={type:n?"Block":"Line",value:r,start:i,end:a};t.locations&&(l.loc=new Sp(this,s,o)),t.ranges&&(l.range=[i,a]),e.push(l)}}var Ed=1,xh=2,GT=4,RV=8,OV=16,FV=32,UT=64,BV=128,_p=256,WT=Ed|xh|_p;function $T(t,e){return xh|(t?GT:0)|(e?RV:0)}var Ug=0,YT=1,Ls=2,VV=3,HV=4,GV=5,Yt=function(e,n,r){this.options=e=aK(e),this.sourceFile=e.sourceFile,this.keywords=ho(KJ[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var i="";e.allowReserved!==!0&&(i=oA[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(i+=" await")),this.reservedWords=ho(i);var a=(i?i+" ":"")+oA.strict;this.reservedWordsStrict=ho(a),this.reservedWordsStrictBind=ho(a+" "+oA.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Vr).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=O.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ed),this.regexpState=null,this.privateNameStack=[]},Ba={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Yt.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};Ba.inFunction.get=function(){return(this.currentVarScope().flags&xh)>0};Ba.inGenerator.get=function(){return(this.currentVarScope().flags&RV)>0&&!this.currentVarScope().inClassFieldInit};Ba.inAsync.get=function(){return(this.currentVarScope().flags&GT)>0&&!this.currentVarScope().inClassFieldInit};Ba.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&_p)return!1;if(e.flags&xh)return(e.flags&GT)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ba.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&UT)>0||n||this.options.allowSuperOutsideMethod};Ba.allowDirectSuper.get=function(){return(this.currentThisScope().flags&BV)>0};Ba.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ba.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(e&(xh|_p))>0||n};Ba.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&_p)>0};Yt.extend=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var r=this,i=0;i<e.length;i++)r=e[i](r);return r};Yt.parse=function(e,n){return new this(n,e).parse()};Yt.parseExpressionAt=function(e,n,r){var i=new this(r,e,n);return i.nextToken(),i.parseExpression()};Yt.tokenizer=function(e,n){return new this(n,e)};Object.defineProperties(Yt.prototype,Ba);var ar=Yt.prototype,oK=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;ar.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ii.lastIndex=t,t+=ii.exec(this.input)[0].length;var e=oK.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ii.lastIndex=t+e[0].length;var n=ii.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||Vr.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,ii.lastIndex=t,t+=ii.exec(this.input)[0].length,this.input[t]===";"&&t++}};ar.eat=function(t){return this.type===t?(this.next(),!0):!1};ar.isContextual=function(t){return this.type===O.name&&this.value===t&&!this.containsEsc};ar.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};ar.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};ar.canInsertSemicolon=function(){return this.type===O.eof||this.type===O.braceR||Vr.test(this.input.slice(this.lastTokEnd,this.start))};ar.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ar.semicolon=function(){!this.eat(O.semi)&&!this.insertSemicolon()&&this.unexpected()};ar.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};ar.expect=function(t){this.eat(t)||this.unexpected()};ar.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};var D0=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ar.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}};ar.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ar.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ar.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ke=Yt.prototype;ke.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==O.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var a=i[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var qT={kind:"loop"},lK={kind:"switch"};ke.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ii.lastIndex=this.pos;var e=ii.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(Ma(r,!0)){for(var i=n+1;mu(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var a=this.input.slice(n,i);if(!QJ.test(a))return!0}return!1};ke.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ii.lastIndex=this.pos;var t=ii.exec(this.input),e=this.pos+t[0].length,n;return!Vr.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(mu(n=this.input.charCodeAt(e+8))||n>55295&&n<56320))};ke.parseStatement=function(t,e,n){var r=this.type,i=this.startNode(),a;switch(this.isLet(t)&&(r=O._var,a="let"),r){case O._break:case O._continue:return this.parseBreakContinueStatement(i,r.keyword);case O._debugger:return this.parseDebuggerStatement(i);case O._do:return this.parseDoStatement(i);case O._for:return this.parseForStatement(i);case O._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!t);case O._class:return t&&this.unexpected(),this.parseClass(i,!0);case O._if:return this.parseIfStatement(i);case O._return:return this.parseReturnStatement(i);case O._switch:return this.parseSwitchStatement(i);case O._throw:return this.parseThrowStatement(i);case O._try:return this.parseTryStatement(i);case O._const:case O._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(i,a);case O._while:return this.parseWhileStatement(i);case O._with:return this.parseWithStatement(i);case O.braceL:return this.parseBlock(!0,i);case O.semi:return this.parseEmptyStatement(i);case O._export:case O._import:if(this.options.ecmaVersion>10&&r===O._import){ii.lastIndex=this.pos;var s=ii.exec(this.input),o=this.pos+s[0].length,l=this.input.charCodeAt(o);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===O._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!t);var u=this.value,h=this.parseExpression();return r===O.name&&h.type==="Identifier"&&this.eat(O.colon)?this.parseLabeledStatement(i,u,h,t):this.parseExpressionStatement(i,h)}};ke.parseBreakContinueStatement=function(t,e){var n=e==="break";this.next(),this.eat(O.semi)||this.insertSemicolon()?t.label=null:this.type!==O.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((t.label==null||i.name===t.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||t.label&&n))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")};ke.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ke.parseDoStatement=function(t){return this.next(),this.labels.push(qT),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(O._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(O.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ke.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(qT),this.enterScope(0),this.expect(O.parenL),this.type===O.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===O._var||this.type===O._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===O._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===O._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var a=this.isContextual("let"),s=!1,o=this.containsEsc,l=new D0,u=this.start,h=e>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===O._in||(s=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===O._in&&this.unexpected(e),t.await=!0):s&&this.options.ecmaVersion>=8&&(h.start===u&&!o&&h.type==="Identifier"&&h.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&s&&this.raise(h.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(h,!1,l),this.checkLValPattern(h),this.parseForIn(t,h)):(this.checkExpressionErrors(l,!0),e>-1&&this.unexpected(e),this.parseFor(t,h))};ke.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,Qf|(n?0:DS),!1,e)};ke.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(O._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ke.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(O.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ke.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(O.braceL),this.labels.push(lK),this.enterScope(0);for(var e,n=!1;this.type!==O.braceR;)if(this.type===O._case||this.type===O._default){var r=this.type===O._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(O.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ke.parseThrowStatement=function(t){return this.next(),Vr.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var uK=[];ke.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?FV:0),this.checkLValPattern(t,e?HV:Ls),this.expect(O.parenR),t};ke.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===O._catch){var e=this.startNode();this.next(),this.eat(O.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(O._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ke.parseVarStatement=function(t,e,n){return this.next(),this.parseVar(t,!1,e,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ke.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(qT),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ke.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ke.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ke.parseLabeledStatement=function(t,e,n,r){for(var i=0,a=this.labels;i<a.length;i+=1){var s=a[i];s.name===e&&this.raise(n.start,"Label '"+e+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===O._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===t.start)u.statementStart=this.start,u.kind=o;else break}return this.labels.push({name:e,kind:o,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")};ke.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ke.parseBlock=function(t,e,n){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(O.braceL),t&&this.enterScope(0);this.type!==O.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};ke.parseFor=function(t,e){return t.init=e,this.expect(O.semi),t.test=this.type===O.semi?null:this.parseExpression(),this.expect(O.semi),t.update=this.type===O.parenR?null:this.parseExpression(),this.expect(O.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ke.parseForIn=function(t,e){var n=this.type===O._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(O.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")};ke.parseVar=function(t,e,n,r){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(O.eq)?i.init=this.parseMaybeAssign(e):!r&&n==="const"&&!(this.type===O._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&i.id.type!=="Identifier"&&!(e&&(this.type===O._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(O.comma))break}return t};ke.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?YT:Ls,!1)};var Qf=1,DS=2,UV=4;ke.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===O.star&&e&DS&&this.unexpected(),t.generator=this.eat(O.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&Qf&&(t.id=e&UV&&this.type!==O.name?null:this.parseIdent(),t.id&&!(e&DS)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?YT:Ls:VV));var a=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($T(t.async,t.generator)),e&Qf||(t.id=this.type===O.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=a,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,e&Qf?"FunctionDeclaration":"FunctionExpression")};ke.parseFunctionParams=function(t){this.expect(O.parenL),t.params=this.parseBindingList(O.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ke.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),a=!1;for(i.body=[],this.expect(O.braceL);this.type!==O.braceR;){var s=this.parseClassElement(t.superClass!==null);s&&(i.body.push(s),s.type==="MethodDefinition"&&s.kind==="constructor"?(a&&this.raiseRecoverable(s.start,"Duplicate constructor in the same class"),a=!0):s.key&&s.key.type==="PrivateIdentifier"&&cK(r,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};ke.parseClassElement=function(t){if(this.eat(O.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,a=!1,s="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(O.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===O.star?o=!0:r="static"}if(n.static=o,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===O.star)&&!this.canInsertSemicolon()?a=!0:r="async"),!r&&(e>=9||!a)&&this.eat(O.star)&&(i=!0),!r&&!a&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===O.parenL||s!=="method"||i||a){var u=!n.static&&Wg(n,"constructor"),h=u&&t;u&&s!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":s,this.parseClassMethod(n,i,a,h)}else this.parseClassField(n);return n};ke.isClassElementNameStart=function(){return this.type===O.name||this.type===O.privateId||this.type===O.num||this.type===O.string||this.type===O.bracketL||this.type.keyword};ke.parseClassElementName=function(t){this.type===O.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ke.parseClassMethod=function(t,e,n,r){var i=t.key;t.kind==="constructor"?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&Wg(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,n,r);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ke.parseClassField=function(t){if(Wg(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Wg(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(O.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ke.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(_p|UT);this.type!==O.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};ke.parseClassId=function(t,e){this.type===O.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ls,!1)):(e===!0&&this.unexpected(),t.id=null)};ke.parseClassSuper=function(t){t.superClass=this.eat(O._extends)?this.parseExprSubscripts(null,!1):null};ke.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ke.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],a=0;a<n.length;++a){var s=n[a];wp(e,s.name)||(i?i.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}};function cK(t,e){var n=e.key.name,r=t[n],i="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(i=(e.static?"s":"i")+e.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(t[n]="true",!1):r?!0:(t[n]=i,!1)}function Wg(t,e){var n=t.computed,r=t.key;return!n&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}ke.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==O.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};ke.parseExport=function(t,e){if(this.next(),this.eat(O.star))return this.parseExportAllDeclaration(t,e);if(this.eat(O._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==O.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var n=0,r=t.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ke.parseExportDeclaration=function(t){return this.parseStatement(null)};ke.parseExportDefaultDeclaration=function(){var t;if(this.type===O._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Qf|UV,!1,t)}else if(this.type===O._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};ke.checkExport=function(t,e,n){t&&(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),wp(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)};ke.checkPatternExport=function(t,e){var n=e.type;if(n==="Identifier")this.checkExport(t,e,e.start);else if(n==="ObjectPattern")for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.checkPatternExport(t,a)}else if(n==="ArrayPattern")for(var s=0,o=e.elements;s<o.length;s+=1){var l=o[s];l&&this.checkPatternExport(t,l)}else n==="Property"?this.checkPatternExport(t,e.value):n==="AssignmentPattern"?this.checkPatternExport(t,e.left):n==="RestElement"&&this.checkPatternExport(t,e.argument)};ke.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}};ke.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ke.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};ke.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(O.braceL);!this.eat(O.braceR);){if(n)n=!1;else if(this.expect(O.comma),this.afterTrailingComma(O.braceR))break;e.push(this.parseExportSpecifier(t))}return e};ke.parseImport=function(t){return this.next(),this.type===O.string?(t.specifiers=uK,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===O.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ke.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Ls),this.finishNode(t,"ImportSpecifier")};ke.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Ls),this.finishNode(t,"ImportDefaultSpecifier")};ke.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Ls),this.finishNode(t,"ImportNamespaceSpecifier")};ke.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===O.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(O.comma)))return t;if(this.type===O.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(O.braceL);!this.eat(O.braceR);){if(e)e=!1;else if(this.expect(O.comma),this.afterTrailingComma(O.braceR))break;t.push(this.parseImportSpecifier())}return t};ke.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===O.string){var t=this.parseLiteral(this.value);return iK.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ke.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};ke.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var xi=Yt.prototype;xi.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t};xi.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var a=t[n-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};xi.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};xi.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==O.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};xi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case O.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(O.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case O.braceL:return this.parseObj(!0)}return this.parseIdent()};xi.parseBindingList=function(t,e,n,r){for(var i=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(O.comma),e&&this.type===O.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===O.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===O.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else i.push(this.parseAssignableListItem(r))}return i};xi.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};xi.parseBindingListItem=function(t){return t};xi.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(O.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};xi.checkLValSimple=function(t,e,n){e===void 0&&(e=Ug);var r=e!==Ug;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===Ls&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(wp(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),e!==GV&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};xi.checkLValPattern=function(t,e,n){switch(e===void 0&&(e=Ug),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.checkLValInnerPattern(a,e,n)}break;case"ArrayPattern":for(var s=0,o=t.elements;s<o.length;s+=1){var l=o[s];l&&this.checkLValInnerPattern(l,e,n)}break;default:this.checkLValSimple(t,e,n)}};xi.checkLValInnerPattern=function(t,e,n){switch(e===void 0&&(e=Ug),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var Kr=function(e,n,r,i,a){this.token=e,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!a},Vt={b_stat:new Kr("{",!1),b_expr:new Kr("{",!0),b_tmpl:new Kr("${",!1),p_stat:new Kr("(",!1),p_expr:new Kr("(",!0),q_tmpl:new Kr("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Kr("function",!1),f_expr:new Kr("function",!0),f_expr_gen:new Kr("function",!0,!1,null,!0),f_gen:new Kr("function",!1,!1,null,!0)},Ah=Yt.prototype;Ah.initialContext=function(){return[Vt.b_stat]};Ah.curContext=function(){return this.context[this.context.length-1]};Ah.braceIsBlock=function(t){var e=this.curContext();return e===Vt.f_expr||e===Vt.f_stat?!0:t===O.colon&&(e===Vt.b_stat||e===Vt.b_expr)?!e.isExpr:t===O._return||t===O.name&&this.exprAllowed?Vr.test(this.input.slice(this.lastTokEnd,this.start)):t===O._else||t===O.semi||t===O.eof||t===O.parenR||t===O.arrow?!0:t===O.braceL?e===Vt.b_stat:t===O._var||t===O._const||t===O.name?!1:!this.exprAllowed};Ah.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Ah.updateContext=function(t){var e,n=this.type;n.keyword&&t===O.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr};Ah.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};O.parenR.updateContext=O.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Vt.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};O.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Vt.b_stat:Vt.b_expr),this.exprAllowed=!0};O.dollarBraceL.updateContext=function(){this.context.push(Vt.b_tmpl),this.exprAllowed=!0};O.parenL.updateContext=function(t){var e=t===O._if||t===O._for||t===O._with||t===O._while;this.context.push(e?Vt.p_stat:Vt.p_expr),this.exprAllowed=!0};O.incDec.updateContext=function(){};O._function.updateContext=O._class.updateContext=function(t){t.beforeExpr&&t!==O._else&&!(t===O.semi&&this.curContext()!==Vt.p_stat)&&!(t===O._return&&Vr.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===O.colon||t===O.braceL)&&this.curContext()===Vt.b_stat)?this.context.push(Vt.f_expr):this.context.push(Vt.f_stat),this.exprAllowed=!1};O.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};O.backQuote.updateContext=function(){this.curContext()===Vt.q_tmpl?this.context.pop():this.context.push(Vt.q_tmpl),this.exprAllowed=!1};O.star.updateContext=function(t){if(t===O._function){var e=this.context.length-1;this.context[e]===Vt.f_expr?this.context[e]=Vt.f_expr_gen:this.context[e]=Vt.f_gen}this.exprAllowed=!0};O.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==O.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var $e=Yt.prototype;$e.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&a==="init"&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}i="$"+i;var s=e[i];if(s){var o;a==="init"?o=this.strict&&s.init||s.get||s.set:o=s.init||s[a],o&&this.raiseRecoverable(r.start,"Redefinition of property")}else s=e[i]={init:!1,get:!1,set:!1};s[a]=!0}};$e.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===O.comma){var a=this.startNodeAt(n,r);for(a.expressions=[i];this.eat(O.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return i};$e.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,a=-1,s=-1;e?(i=e.parenthesizedAssign,a=e.trailingComma,s=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new D0,r=!0);var o=this.start,l=this.startLoc;(this.type===O.parenL||this.type===O.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var u=this.parseMaybeConditional(t,e);if(n&&(u=n.call(this,u,o,l)),this.type.isAssign){var h=this.startNodeAt(o,l);return h.operator=this.value,this.type===O.eq&&(u=this.toAssignable(u,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=u.start&&(e.shorthandAssign=-1),this.type===O.eq?this.checkLValPattern(u):this.checkLValSimple(u),h.left=u,this.next(),h.right=this.parseMaybeAssign(t),s>-1&&(e.doubleProto=s),this.finishNode(h,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return i>-1&&(e.parenthesizedAssign=i),a>-1&&(e.trailingComma=a),u};$e.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(O.question)){var a=this.startNodeAt(n,r);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(O.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return i};$e.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,t)};$e.parseExprOp=function(t,e,n,r,i){var a=this.type.binop;if(a!=null&&(!i||this.type!==O._in)&&a>r){var s=this.type===O.logicalOR||this.type===O.logicalAND,o=this.type===O.coalesce;o&&(a=O.logicalAND.binop);var l=this.value;this.next();var u=this.start,h=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,h,a,i),f=this.buildBinary(e,n,t,c,l,s||o);return(s&&this.type===O.coalesce||o&&(this.type===O.logicalOR||this.type===O.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,n,r,i)}return t};$e.buildBinary=function(t,e,n,r,i,a){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var s=this.startNodeAt(t,e);return s.left=n,s.operator=i,s.right=r,this.finishNode(s,a?"LogicalExpression":"BinaryExpression")};$e.parseMaybeUnary=function(t,e,n,r){var i=this.start,a=this.startLoc,s;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(r),e=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===O.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(t,!0),l?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&WV(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&LS(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,s=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===O.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==O._in&&this.unexpected();else{if(s=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,a);u.operator=this.value,u.prefix=!1,u.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(O.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(i,a,s,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return s};function WV(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&WV(t.expression)}function LS(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&LS(t.expression)||t.type==="ParenthesizedExpression"&&LS(t.expression)}$e.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var a=this.parseSubscripts(i,n,r,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};$e.parseSubscripts=function(t,e,n,r,i){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,s=!1;;){var o=this.parseSubscript(t,e,n,r,a,s,i);if(o.optional&&(s=!0),o===t||o.type==="ArrowFunctionExpression"){if(s){var l=this.startNodeAt(e,n);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}t=o}};$e.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(O.arrow)};$e.parseSubscriptAsyncArrow=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!0,r)};$e.parseSubscript=function(t,e,n,r,i,a,s){var o=this.options.ecmaVersion>=11,l=o&&this.eat(O.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(O.bracketL);if(u||l&&this.type!==O.parenL&&this.type!==O.backQuote||this.eat(O.dot)){var h=this.startNodeAt(e,n);h.object=t,u?(h.property=this.parseExpression(),this.expect(O.bracketR)):this.type===O.privateId&&t.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!u,o&&(h.optional=l),t=this.finishNode(h,"MemberExpression")}else if(!r&&this.eat(O.parenL)){var c=new D0,f=this.yieldPos,p=this.awaitPos,v=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(O.parenR,this.options.ecmaVersion>=8,!1,c);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(c,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=p,this.awaitIdentPos=v,this.parseSubscriptAsyncArrow(e,n,m,s);this.checkExpressionErrors(c,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=v||this.awaitIdentPos;var g=this.startNodeAt(e,n);g.callee=t,g.arguments=m,o&&(g.optional=l),t=this.finishNode(g,"CallExpression")}else if(this.type===O.backQuote){(l||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(e,n);y.tag=t,y.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(y,"TaggedTemplateExpression")}return t};$e.parseExprAtom=function(t,e,n){this.type===O.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case O._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===O.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==O.dot&&this.type!==O.bracketL&&this.type!==O.parenL&&this.unexpected(),this.finishNode(r,"Super");case O._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case O.name:var a=this.start,s=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(O._function))return this.overrideContext(Vt.f_expr),this.parseFunction(this.startNodeAt(a,s),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(O.arrow))return this.parseArrowExpression(this.startNodeAt(a,s),[l],!1,e);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===O.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(O.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,s),[l],!0,e)}return l;case O.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case O.num:case O.string:return this.parseLiteral(this.value);case O._null:case O._true:case O._false:return r=this.startNode(),r.value=this.type===O._null?null:this.type===O._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case O.parenL:var h=this.start,c=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),c;case O.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(O.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case O.braceL:return this.overrideContext(Vt.b_expr),this.parseObj(!1,t);case O._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case O._class:return this.parseClass(this.startNode(),!1);case O._new:return this.parseNew();case O.backQuote:return this.parseTemplate();case O._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};$e.parseExprAtomDefault=function(){this.unexpected()};$e.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===O.parenL&&!t)return this.parseDynamicImport(e);if(this.type===O.dot){var n=this.startNodeAt(e.start,e.loc&&e.loc.start);return n.name="import",e.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};$e.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(O.parenR)){var e=this.start;this.eat(O.comma)&&this.eat(O.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};$e.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};$e.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};$e.parseParenExpression=function(){this.expect(O.parenL);var t=this.parseExpression();return this.expect(O.parenR),t};$e.shouldParseArrow=function(t){return!this.canInsertSemicolon()};$e.parseParenAndDistinguishExpression=function(t,e){var n=this.start,r=this.startLoc,i,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s=this.start,o=this.startLoc,l=[],u=!0,h=!1,c=new D0,f=this.yieldPos,p=this.awaitPos,v;for(this.yieldPos=0,this.awaitPos=0;this.type!==O.parenR;)if(u?u=!1:this.expect(O.comma),a&&this.afterTrailingComma(O.parenR,!0)){h=!0;break}else if(this.type===O.ellipsis){v=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===O.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,c,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(O.parenR),t&&this.shouldParseArrow(l)&&this.eat(O.arrow))return this.checkPatternErrors(c,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=p,this.parseParenArrowList(n,r,l,e);(!l.length||h)&&this.unexpected(this.lastTokStart),v&&this.unexpected(v),this.checkExpressionErrors(c,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,l.length>1?(i=this.startNodeAt(s,o),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",m,g)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}else return i};$e.parseParenItem=function(t){return t};$e.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var hK=[];$e.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===O.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(O.parenL)?t.arguments=this.parseExprList(O.parenR,this.options.ecmaVersion>=8,!1):t.arguments=hK,this.finishNode(t,"NewExpression")};$e.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===O.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===O.backQuote,this.finishNode(n,"TemplateElement")};$e.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===O.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(O.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(O.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")};$e.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===O.name||this.type===O.num||this.type===O.string||this.type===O.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===O.star)&&!Vr.test(this.input.slice(this.lastTokEnd,this.start))};$e.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(O.braceR);){if(r)r=!1;else if(this.expect(O.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(O.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,i,e),n.properties.push(a)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")};$e.parseProperty=function(t,e){var n=this.startNode(),r,i,a,s;if(this.options.ecmaVersion>=9&&this.eat(O.ellipsis))return t?(n.argument=this.parseIdent(!1),this.type===O.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,e),this.type===O.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(t||e)&&(a=this.start,s=this.startLoc),t||(r=this.eat(O.star)));var o=this.containsEsc;return this.parsePropertyName(n),!t&&!o&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(O.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,t,r,i,a,s,e,o),this.finishNode(n,"Property")};$e.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var n=t.value.start;t.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};$e.parsePropertyValue=function(t,e,n,r,i,a,s,o){(n||r)&&this.type===O.colon&&this.unexpected(),this.eat(O.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),t.kind="init"):this.options.ecmaVersion>=6&&this.type===O.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r)):!e&&!o&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==O.comma&&this.type!==O.braceR&&this.type!==O.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,a,this.copyNode(t.key)):this.type===O.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};$e.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(O.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(O.bracketR),t.key;t.computed=!1}return t.key=this.type===O.num||this.type===O.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$e.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};$e.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($T(e,r.generator)|UT|(n?BV:0)),this.expect(O.parenL),r.params=this.parseBindingList(O.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(r,"FunctionExpression")};$e.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.enterScope($T(n,!1)|OV),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(t,"ArrowFunctionExpression")};$e.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==O.braceL,a=this.strict,s=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||o)&&(s=this.strictDirective(this.end),s&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(t,!a&&!s&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,GV),t.body=this.parseBlock(!1,void 0,s&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=l}this.exitScope()};$e.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(r.type!=="Identifier")return!1}return!0};$e.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var a=i[r];this.checkLValInnerPattern(a,YT,e?null:n)}};$e.parseExprList=function(t,e,n,r){for(var i=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(O.comma),e&&this.afterTrailingComma(t))break;var s=void 0;n&&this.type===O.comma?s=null:this.type===O.ellipsis?(s=this.parseSpread(r),r&&this.type===O.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):s=this.parseMaybeAssign(!1,r),i.push(s)}return i};$e.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};$e.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};$e.parseIdentNode=function(){var t=this.startNode();return this.type===O.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=O.name):this.unexpected(),t};$e.parsePrivateIdent=function(){var t=this.startNode();return this.type===O.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};$e.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===O.semi||this.canInsertSemicolon()||this.type!==O.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(O.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};$e.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var $g=Yt.prototype;$g.raise=function(t,e){var n=HT(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r};$g.raiseRecoverable=$g.raise;$g.curPosition=function(){if(this.options.locations)return new th(this.curLine,this.pos-this.lineStart)};var $o=Yt.prototype,fK=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};$o.enterScope=function(t){this.scopeStack.push(new fK(t))};$o.exitScope=function(){this.scopeStack.pop()};$o.treatFunctionsAsVarInScope=function(t){return t.flags&xh||!this.inModule&&t.flags&Ed};$o.declareName=function(t,e,n){var r=!1;if(e===Ls){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&i.flags&Ed&&delete this.undefinedExports[t]}else if(e===HV){var a=this.currentScope();a.lexical.push(t)}else if(e===VV){var s=this.currentScope();this.treatFunctionsAsVar?r=s.lexical.indexOf(t)>-1:r=s.lexical.indexOf(t)>-1||s.var.indexOf(t)>-1,s.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var l=this.scopeStack[o];if(l.lexical.indexOf(t)>-1&&!(l.flags&FV&&l.lexical[0]===t)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(t)>-1){r=!0;break}if(l.var.push(t),this.inModule&&l.flags&Ed&&delete this.undefinedExports[t],l.flags&WT)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")};$o.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};$o.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};$o.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&WT)return e}};$o.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&WT&&!(e.flags&OV))return e}};var Tp=function(e,n,r){this.type="",this.start=n,this.end=0,e.options.locations&&(this.loc=new Sp(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[n,0])},Cp=Yt.prototype;Cp.startNode=function(){return new Tp(this,this.start,this.startLoc)};Cp.startNodeAt=function(t,e){return new Tp(this,t,e)};function $V(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}Cp.finishNode=function(t,e){return $V.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Cp.finishNodeAt=function(t,e,n,r){return $V.call(this,t,e,n,r)};Cp.copyNode=function(t){var e=new Tp(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var YV="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",qV=YV+" Extended_Pictographic",XV=qV,ZV=XV+" EBase EComp EMod EPres ExtPict",JV=ZV,dK=JV,pK={9:YV,10:qV,11:XV,12:ZV,13:JV,14:dK},vK="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",mK={9:"",10:"",11:"",12:"",13:"",14:vK},NP="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",KV="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",QV=KV+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",e3=QV+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",t3=e3+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",n3=t3+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",gK=n3+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",yK={9:KV,10:QV,11:e3,12:t3,13:n3,14:gK},r3={};function xK(t){var e=r3[t]={binary:ho(pK[t]+" "+NP),binaryOfStrings:ho(mK[t]),nonBinary:{General_Category:ho(NP),Script:ho(yK[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(var uA=0,zP=[9,10,11,12,13,14];uA<zP.length;uA+=1){var AK=zP[uA];xK(AK)}var be=Yt.prototype,Yg=function(e,n){this.parent=e,this.base=n||this};Yg.prototype.separatedFrom=function(e){for(var n=this;n;n=n.parent)for(var r=e;r;r=r.parent)if(n.base===r.base&&n!==r)return!0;return!1};Yg.prototype.sibling=function(){return new Yg(this.parent,this.base)};var Va=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=r3[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Va.prototype.reset=function(e,n,r){var i=r.indexOf("v")!==-1,a=r.indexOf("u")!==-1;this.start=e|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)};Va.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};Va.prototype.at=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return-1;var a=r.charCodeAt(e);if(!(n||this.switchU)||a<=55295||a>=57344||e+1>=i)return a;var s=r.charCodeAt(e+1);return s>=56320&&s<=57343?(a<<10)+s-56613888:a};Va.prototype.nextIndex=function(e,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(e>=i)return i;var a=r.charCodeAt(e),s;return!(n||this.switchU)||a<=55295||a>=57344||e+1>=i||(s=r.charCodeAt(e+1))<56320||s>57343?e+1:e+2};Va.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};Va.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};Va.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};Va.prototype.eat=function(e,n){return n===void 0&&(n=!1),this.current(n)===e?(this.advance(n),!0):!1};Va.prototype.eatChars=function(e,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,a=e;i<a.length;i+=1){var s=a[i],o=this.at(r,n);if(o===-1||o!==s)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};be.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=!1,i=!1,a=0;a<n.length;a++){var s=n.charAt(a);e.indexOf(s)===-1&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(s,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),s==="u"&&(r=!0),s==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(t.start,"Invalid regular expression flag")};function bK(t){for(var e in t)return!0;return!1}be.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&bK(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};be.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];t.groupNames[r]||t.raise("Invalid named capture referenced")}};be.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new Yg(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};be.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};be.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};be.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1};be.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};be.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};be.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return i!==-1&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1};be.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};be.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};be.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};be.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};be.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};be.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};be.regexp_eatSyntaxCharacter=function(t){var e=t.current();return i3(e)?(t.lastIntValue=e,t.advance(),!0):!1};function i3(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}be.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;(n=t.current())!==-1&&!i3(n);)t.advance();return t.pos!==e};be.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};be.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(e)for(var r=0,i=n;r<i.length;r+=1){var a=i[r];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};be.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};be.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Mo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Mo(t.lastIntValue);return!0}return!1};be.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),wK(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function wK(t){return Ma(t,!0)||t===36||t===95}be.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),SK(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function SK(t){return mu(t,!0)||t===36||t===95||t===8204||t===8205}be.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};be.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1};be.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};be.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};be.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};be.regexp_eatZero=function(t){return t.current()===48&&!L0(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};be.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};be.regexp_eatControlLetter=function(t){var e=t.current();return a3(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function a3(t){return t>=65&&t<=90||t>=97&&t<=122}be.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var n=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(r&&i>=55296&&i<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(s>=56320&&s<=57343)return t.lastIntValue=(i-55296)*1024+(s-56320)+65536,!0}t.pos=a,t.lastIntValue=i}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&_K(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=n}return!1};function _K(t){return t>=0&&t<=1114111}be.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};be.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var s3=0,ws=1,li=2;be.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(TK(e))return t.lastIntValue=-1,t.advance(),ws;var n=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((n=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return n&&r===li&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return s3};function TK(t){return t===100||t===68||t===115||t===83||t===119||t===87}be.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),ws}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i)}return s3};be.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){wp(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")};be.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return ws;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return li;t.raise("Invalid property name")};be.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";o3(e=t.current());)t.lastStringValue+=Mo(e),t.advance();return t.lastStringValue!==""};function o3(t){return a3(t)||t===95}be.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";CK(e=t.current());)t.lastStringValue+=Mo(e),t.advance();return t.lastStringValue!==""};function CK(t){return o3(t)||L0(t)}be.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};be.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&n===li&&t.raise("Negated character class may contain strings"),!0}return!1};be.regexp_classContents=function(t){return t.current()===93?ws:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),ws)};be.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(e===-1||n===-1)&&t.raise("Invalid character class"),e!==-1&&n!==-1&&e>n&&t.raise("Range out of order in character class")}}};be.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(n===99||c3(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};be.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};be.regexp_classSetExpression=function(t){var e=ws,n;if(!this.regexp_eatClassSetRange(t))if(n=this.regexp_eatClassSetOperand(t)){n===li&&(e=li);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(n=this.regexp_eatClassSetOperand(t))){n!==li&&(e=ws);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(n=this.regexp_eatClassSetOperand(t),!n)return e;n===li&&(e=li)}};be.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return n!==-1&&r!==-1&&n>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};be.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?ws:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};be.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var n=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return n&&r===li&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var i=this.regexp_eatCharacterClassEscape(t);if(i)return i;t.pos=e}return null};be.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=e}return null};be.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===li&&(e=li);return e};be.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?ws:li};be.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var n=t.current();return n<0||n===t.lookahead()&&IK(n)||EK(n)?!1:(t.advance(),t.lastIntValue=n,!0)};function IK(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}function EK(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}be.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return kK(e)?(t.lastIntValue=e,t.advance(),!0):!1};function kK(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}be.regexp_eatClassControlLetter=function(t){var e=t.current();return L0(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};be.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};be.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;L0(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e};function L0(t){return t>=48&&t<=57}be.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;l3(n=t.current());)t.lastIntValue=16*t.lastIntValue+u3(n),t.advance();return t.pos!==e};function l3(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function u3(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}be.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+n*8+t.lastIntValue:t.lastIntValue=e*8+n}else t.lastIntValue=e;return!0}return!1};be.regexp_eatOctalDigit=function(t){var e=t.current();return c3(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function c3(t){return t>=48&&t<=55}be.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!l3(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+u3(i),t.advance()}return!0};var N0=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Sp(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},ct=Yt.prototype;ct.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new N0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ct.getToken=function(){return this.next(),new N0(this)};typeof Symbol<"u"&&(ct[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===O.eof,value:e}}}});ct.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(O.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ct.readToken=function(t){return Ma(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ct.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ct.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=NV(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())};ct.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!ku(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())};ct.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&VT.test(String.fromCharCode(t)))++this.pos;else break e}}};ct.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)};ct.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(O.ellipsis)):(++this.pos,this.finishToken(O.dot))};ct.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(O.assign,2):this.finishOp(O.slash,1)};ct.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=t===42?O.star:O.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++n,r=O.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(O.assign,n+1):this.finishOp(r,n)};ct.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(O.assign,3)}return this.finishOp(t===124?O.logicalOR:O.logicalAND,2)}return e===61?this.finishOp(O.assign,2):this.finishOp(t===124?O.bitwiseOR:O.bitwiseAND,1)};ct.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(O.assign,2):this.finishOp(O.bitwiseXOR,1)};ct.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Vr.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(O.incDec,2):e===61?this.finishOp(O.assign,2):this.finishOp(O.plusMin,1)};ct.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(O.assign,n+1):this.finishOp(O.bitShift,n)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(n=2),this.finishOp(O.relational,n))};ct.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(O.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(O.arrow)):this.finishOp(t===61?O.eq:O.prefix,1)};ct.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(O.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(O.assign,3)}return this.finishOp(O.coalesce,2)}}return this.finishOp(O.question,1)};ct.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ma(e,!0)||e===92))return this.finishToken(O.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Mo(e)+"'")};ct.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(O.parenL);case 41:return++this.pos,this.finishToken(O.parenR);case 59:return++this.pos,this.finishToken(O.semi);case 44:return++this.pos,this.finishToken(O.comma);case 91:return++this.pos,this.finishToken(O.bracketL);case 93:return++this.pos,this.finishToken(O.bracketR);case 123:return++this.pos,this.finishToken(O.braceL);case 125:return++this.pos,this.finishToken(O.braceR);case 58:return++this.pos,this.finishToken(O.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(O.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(O.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Mo(t)+"'")};ct.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)};ct.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Vr.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var a=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(a);var o=this.regexpState||(this.regexpState=new Va(this));o.reset(n,i,s),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(i,s)}catch{}return this.finishToken(O.regexp,{pattern:i,flags:s,value:l})};ct.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&e===void 0,i=n&&this.input.charCodeAt(this.pos)===48,a=this.pos,s=0,o=0,l=0,u=e??1/0;l<u;++l,++this.pos){var h=this.input.charCodeAt(this.pos),c=void 0;if(r&&h===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=h;continue}if(h>=97?c=h-97+10:h>=65?c=h-65+10:h>=48&&h<=57?c=h-48:c=1/0,c>=t)break;o=h,s=s*t+c}return r&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:s};function PK(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function h3(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}ct.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return n==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=h3(this.input.slice(e,this.pos)),++this.pos):Ma(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(O.num,n)};ct.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var n=this.pos-e>=2&&this.input.charCodeAt(e)===48;n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&r===110){var i=h3(this.input.slice(e,this.pos));return++this.pos,Ma(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(O.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ma(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=PK(this.input.slice(e,this.pos),n);return this.finishToken(O.num,a)};ct.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e};ct.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ku(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(O.string,e)};var f3={};ct.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===f3)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ct.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw f3;this.raise(t,e)};ct.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===O.template||this.type===O.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(O.dollarBraceL)):(++this.pos,this.finishToken(O.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(O.template,t));if(n===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(ku(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ct.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(O.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};ct.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Mo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return ku(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};ct.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return n===null&&this.invalidStringToken(e,"Bad character escape sequence"),n};ct.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(mu(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,t+=this.input.slice(n,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(e?Ma:mu)(s,r)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Mo(s),n=this.pos}else break;e=!1}return t+this.input.slice(n,this.pos)};ct.readWord=function(){var t=this.readWord1(),e=O.name;return this.keywords.test(t)&&(e=M0[t]),this.finishToken(e,t)};var d3="8.12.1";Yt.acorn={Parser:Yt,version:d3,defaultOptions:Gg,Position:th,SourceLocation:Sp,getLineInfo:HT,Node:Tp,TokenType:pt,tokTypes:O,keywordTypes:M0,TokContext:Kr,tokContexts:Vt,isIdentifierChar:mu,isIdentifierStart:Ma,Token:N0,isNewLine:ku,lineBreak:Vr,lineBreakG:LV,nonASCIIwhitespace:VT};function jK(t,e){return Yt.parse(t,e)}function MK(t,e,n){return Yt.parseExpressionAt(t,e,n)}function DK(t,e){return Yt.tokenizer(t,e)}const LK=Object.freeze(Object.defineProperty({__proto__:null,Node:Tp,Parser:Yt,Position:th,SourceLocation:Sp,TokContext:Kr,Token:N0,TokenType:pt,defaultOptions:Gg,getLineInfo:HT,isIdentifierChar:mu,isIdentifierStart:Ma,isNewLine:ku,keywordTypes:M0,lineBreak:Vr,lineBreakG:LV,nonASCIIwhitespace:VT,parse:jK,parseExpressionAt:MK,tokContexts:Vt,tokTypes:O,tokenizer:DK,version:d3},Symbol.toStringTag,{value:"Module"}));var p3={exports:{}},NK={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",Agrave:"Ã",Aacute:"Ã",Acirc:"Ã",Atilde:"Ã",Auml:"Ã",Aring:"Ã",AElig:"Ã",Ccedil:"Ã",Egrave:"Ã",Eacute:"Ã",Ecirc:"Ã",Euml:"Ã",Igrave:"Ã",Iacute:"Ã",Icirc:"Ã",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã",Ograve:"Ã",Oacute:"Ã",Ocirc:"Ã",Otilde:"Ã",Ouml:"Ã",times:"Ã",Oslash:"Ã",Ugrave:"Ã",Uacute:"Ã",Ucirc:"Ã",Uuml:"Ã",Yacute:"Ã",THORN:"Ã",szlig:"Ã",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",divide:"Ã·",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",OElig:"Å",oelig:"Å",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",fnof:"Æ",circ:"Ë",tilde:"Ë",Alpha:"Î",Beta:"Î",Gamma:"Î",Delta:"Î",Epsilon:"Î",Zeta:"Î",Eta:"Î",Theta:"Î",Iota:"Î",Kappa:"Î",Lambda:"Î",Mu:"Î",Nu:"Î",Xi:"Î",Omicron:"Î",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigmaf:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",thetasym:"Ï",upsih:"Ï",piv:"Ï",ensp:"â",emsp:"â",thinsp:"â",zwnj:"â",zwj:"â",lrm:"â",rlm:"â",ndash:"â",mdash:"â",lsquo:"â",rsquo:"â",sbquo:"â",ldquo:"â",rdquo:"â",bdquo:"â",dagger:"â ",Dagger:"â¡",bull:"â¢",hellip:"â¦",permil:"â°",prime:"â²",Prime:"â³",lsaquo:"â¹",rsaquo:"âº",oline:"â¾",frasl:"â",euro:"â¬",image:"â",weierp:"â",real:"â",trade:"â¢",alefsym:"âµ",larr:"â",uarr:"â",rarr:"â",darr:"â",harr:"â",crarr:"âµ",lArr:"â",uArr:"â",rArr:"â",dArr:"â",hArr:"â",forall:"â",part:"â",exist:"â",empty:"â",nabla:"â",isin:"â",notin:"â",ni:"â",prod:"â",sum:"â",minus:"â",lowast:"â",radic:"â",prop:"â",infin:"â",ang:"â ",and:"â§",or:"â¨",cap:"â©",cup:"âª",int:"â«",there4:"â´",sim:"â¼",cong:"â",asymp:"â",ne:"â ",equiv:"â¡",le:"â¤",ge:"â¥",sub:"â",sup:"â",nsub:"â",sube:"â",supe:"â",oplus:"â",otimes:"â",perp:"â¥",sdot:"â",lceil:"â",rceil:"â",lfloor:"â",rfloor:"â",lang:"â©",rang:"âª",loz:"â",spades:"â ",clubs:"â£",hearts:"â¥",diams:"â¦"};const RP=A8(LK);(function(t){const e=NK,n=/^[\da-fA-F]+$/,r=/^\d+$/,i=new WeakMap;function a(l){l=l.Parser.acorn||l;let u=i.get(l);if(!u){const h=l.tokTypes,c=l.TokContext,f=l.TokenType,p=new c("<tag",!1),v=new c("</tag",!1),m=new c("<tag>...</tag>",!0,!0),g={tc_oTag:p,tc_cTag:v,tc_expr:m},y={jsxName:new f("jsxName"),jsxText:new f("jsxText",{beforeExpr:!0}),jsxTagStart:new f("jsxTagStart",{startsExpr:!0}),jsxTagEnd:new f("jsxTagEnd")};y.jsxTagStart.updateContext=function(){this.context.push(m),this.context.push(p),this.exprAllowed=!1},y.jsxTagEnd.updateContext=function(x){let A=this.context.pop();A===p&&x===h.slash||A===v?(this.context.pop(),this.exprAllowed=this.curContext()===m):this.exprAllowed=!0},u={tokContexts:g,tokTypes:y},i.set(l,u)}return u}function s(l){if(!l)return l;if(l.type==="JSXIdentifier")return l.name;if(l.type==="JSXNamespacedName")return l.namespace.name+":"+l.name.name;if(l.type==="JSXMemberExpression")return s(l.object)+"."+s(l.property)}t.exports=function(l){return l=l||{},function(u){return o({allowNamespaces:l.allowNamespaces!==!1,allowNamespacedObjects:!!l.allowNamespacedObjects},u)}},Object.defineProperty(t.exports,"tokTypes",{get:function(){return a(RP).tokTypes},configurable:!0,enumerable:!0});function o(l,u){const h=u.acorn||RP,c=a(h),f=h.tokTypes,p=c.tokTypes,v=h.tokContexts,m=c.tokContexts.tc_oTag,g=c.tokContexts.tc_cTag,y=c.tokContexts.tc_expr,x=h.isNewLine,A=h.isIdentifierStart,b=h.isIdentifierChar;return class extends u{static get acornJsx(){return c}jsx_readToken(){let S="",w=this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated JSX contents");let _=this.input.charCodeAt(this.pos);switch(_){case 60:case 123:return this.pos===this.start?_===60&&this.exprAllowed?(++this.pos,this.finishToken(p.jsxTagStart)):this.getTokenFromCode(_):(S+=this.input.slice(w,this.pos),this.finishToken(p.jsxText,S));case 38:S+=this.input.slice(w,this.pos),S+=this.jsx_readEntity(),w=this.pos;break;case 62:case 125:this.raise(this.pos,"Unexpected token `"+this.input[this.pos]+"`. Did you mean `"+(_===62?"&gt;":"&rbrace;")+'` or `{"'+this.input[this.pos]+'"}`?');default:x(_)?(S+=this.input.slice(w,this.pos),S+=this.jsx_readNewLine(!0),w=this.pos):++this.pos}}}jsx_readNewLine(S){let w=this.input.charCodeAt(this.pos),_;return++this.pos,w===13&&this.input.charCodeAt(this.pos)===10?(++this.pos,_=S?`
`:`\r
`):_=String.fromCharCode(w),this.options.locations&&(++this.curLine,this.lineStart=this.pos),_}jsx_readString(S){let w="",_=++this.pos;for(;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");let T=this.input.charCodeAt(this.pos);if(T===S)break;T===38?(w+=this.input.slice(_,this.pos),w+=this.jsx_readEntity(),_=this.pos):x(T)?(w+=this.input.slice(_,this.pos),w+=this.jsx_readNewLine(!1),_=this.pos):++this.pos}return w+=this.input.slice(_,this.pos++),this.finishToken(f.string,w)}jsx_readEntity(){let S="",w=0,_,T=this.input[this.pos];T!=="&"&&this.raise(this.pos,"Entity must start with an ampersand");let C=++this.pos;for(;this.pos<this.input.length&&w++<10;){if(T=this.input[this.pos++],T===";"){S[0]==="#"?S[1]==="x"?(S=S.substr(2),n.test(S)&&(_=String.fromCharCode(parseInt(S,16)))):(S=S.substr(1),r.test(S)&&(_=String.fromCharCode(parseInt(S,10)))):_=e[S];break}S+=T}return _||(this.pos=C,"&")}jsx_readWord(){let S,w=this.pos;do S=this.input.charCodeAt(++this.pos);while(b(S)||S===45);return this.finishToken(p.jsxName,this.input.slice(w,this.pos))}jsx_parseIdentifier(){let S=this.startNode();return this.type===p.jsxName?S.name=this.value:this.type.keyword?S.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(S,"JSXIdentifier")}jsx_parseNamespacedName(){let S=this.start,w=this.startLoc,_=this.jsx_parseIdentifier();if(!l.allowNamespaces||!this.eat(f.colon))return _;var T=this.startNodeAt(S,w);return T.namespace=_,T.name=this.jsx_parseIdentifier(),this.finishNode(T,"JSXNamespacedName")}jsx_parseElementName(){if(this.type===p.jsxTagEnd)return"";let S=this.start,w=this.startLoc,_=this.jsx_parseNamespacedName();for(this.type===f.dot&&_.type==="JSXNamespacedName"&&!l.allowNamespacedObjects&&this.unexpected();this.eat(f.dot);){let T=this.startNodeAt(S,w);T.object=_,T.property=this.jsx_parseIdentifier(),_=this.finishNode(T,"JSXMemberExpression")}return _}jsx_parseAttributeValue(){switch(this.type){case f.braceL:let S=this.jsx_parseExpressionContainer();return S.expression.type==="JSXEmptyExpression"&&this.raise(S.start,"JSX attributes must only be assigned a non-empty expression"),S;case p.jsxTagStart:case f.string:return this.parseExprAtom();default:this.raise(this.start,"JSX value should be either an expression or a quoted JSX text")}}jsx_parseEmptyExpression(){let S=this.startNodeAt(this.lastTokEnd,this.lastTokEndLoc);return this.finishNodeAt(S,"JSXEmptyExpression",this.start,this.startLoc)}jsx_parseExpressionContainer(){let S=this.startNode();return this.next(),S.expression=this.type===f.braceR?this.jsx_parseEmptyExpression():this.parseExpression(),this.expect(f.braceR),this.finishNode(S,"JSXExpressionContainer")}jsx_parseAttribute(){let S=this.startNode();return this.eat(f.braceL)?(this.expect(f.ellipsis),S.argument=this.parseMaybeAssign(),this.expect(f.braceR),this.finishNode(S,"JSXSpreadAttribute")):(S.name=this.jsx_parseNamespacedName(),S.value=this.eat(f.eq)?this.jsx_parseAttributeValue():null,this.finishNode(S,"JSXAttribute"))}jsx_parseOpeningElementAt(S,w){let _=this.startNodeAt(S,w);_.attributes=[];let T=this.jsx_parseElementName();for(T&&(_.name=T);this.type!==f.slash&&this.type!==p.jsxTagEnd;)_.attributes.push(this.jsx_parseAttribute());return _.selfClosing=this.eat(f.slash),this.expect(p.jsxTagEnd),this.finishNode(_,T?"JSXOpeningElement":"JSXOpeningFragment")}jsx_parseClosingElementAt(S,w){let _=this.startNodeAt(S,w),T=this.jsx_parseElementName();return T&&(_.name=T),this.expect(p.jsxTagEnd),this.finishNode(_,T?"JSXClosingElement":"JSXClosingFragment")}jsx_parseElementAt(S,w){let _=this.startNodeAt(S,w),T=[],C=this.jsx_parseOpeningElementAt(S,w),E=null;if(!C.selfClosing){e:for(;;)switch(this.type){case p.jsxTagStart:if(S=this.start,w=this.startLoc,this.next(),this.eat(f.slash)){E=this.jsx_parseClosingElementAt(S,w);break e}T.push(this.jsx_parseElementAt(S,w));break;case p.jsxText:T.push(this.parseExprAtom());break;case f.braceL:T.push(this.jsx_parseExpressionContainer());break;default:this.unexpected()}s(E.name)!==s(C.name)&&this.raise(E.start,"Expected corresponding JSX closing tag for <"+s(C.name)+">")}let k=C.name?"Element":"Fragment";return _["opening"+k]=C,_["closing"+k]=E,_.children=T,this.type===f.relational&&this.value==="<"&&this.raise(this.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(_,"JSX"+k)}jsx_parseText(){let S=this.parseLiteral(this.value);return S.type="JSXText",S}jsx_parseElement(){let S=this.start,w=this.startLoc;return this.next(),this.jsx_parseElementAt(S,w)}parseExprAtom(S){return this.type===p.jsxText?this.jsx_parseText():this.type===p.jsxTagStart?this.jsx_parseElement():super.parseExprAtom(S)}readToken(S){let w=this.curContext();if(w===y)return this.jsx_readToken();if(w===m||w===g){if(A(S))return this.jsx_readWord();if(S==62)return++this.pos,this.finishToken(p.jsxTagEnd);if((S===34||S===39)&&w==m)return this.jsx_readString(S)}return S===60&&this.exprAllowed&&this.input.charCodeAt(this.pos+1)!==33?(++this.pos,this.finishToken(p.jsxTagStart)):super.readToken(S)}updateContext(S){if(this.type==f.braceL){var w=this.curContext();w==m?this.context.push(v.b_expr):w==y?this.context.push(v.b_tmpl):super.updateContext(S),this.exprAllowed=!0}else if(this.type===f.slash&&S===p.jsxTagStart)this.context.length-=2,this.context.push(g),this.exprAllowed=!1;else return super.updateContext(S)}}}})(p3);var zK=p3.exports;const RK=q1(zK),Ni=Yo(/[A-Za-z]/),jr=Yo(/[\dA-Za-z]/),OK=Yo(/[#-'*+\--9=?A-Z^-~]/);function NS(t){return t!==null&&(t<32||t===127)}const zS=Yo(/\d/),FK=Yo(/[\dA-Fa-f]/),BK=Yo(/[!-/:-@[-`{-~]/);function Ie(t){return t!==null&&t<-2}function Qt(t){return t!==null&&(t<0||t===32)}function ft(t){return t===-2||t===-1||t===32}const VK=Yo(new RegExp("\\p{P}|\\p{S}","u")),Ka=Yo(/\s/);function Yo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}const HK={}.hasOwnProperty,GK=Symbol("continue"),cA=Symbol("exit"),UK=Symbol("skip");function WK(t,e){let n,r;typeof e=="function"?n=e:e&&typeof e=="object"&&(e.enter&&(n=e.enter),e.leave&&(r=e.leave)),i(t,void 0,void 0,[])();function i(a,s,o,l){return hA(a)&&(u.displayName="node ("+a.type+")"),u;function u(){const h=n?OP(n(a,s,o,l)):[];if(h[0]===cA)return h;if(h[0]!==UK){let c;for(c in a)if(HK.call(a,c)&&a[c]&&typeof a[c]=="object"&&c!=="data"&&c!=="position"){const f=l.concat(a),p=a[c];if(Array.isArray(p)){const v=p;let m=0;for(;m>-1&&m<v.length;){const g=v[m];if(hA(g)){const y=i(g,c,m,f)();if(y[0]===cA)return y;m=typeof y[1]=="number"?y[1]:m+1}else m++}}else if(hA(p)){const v=i(p,c,void 0,f)();if(v[0]===cA)return v}}}return r?OP(r(a,s,o,l)):h}}}function OP(t){return Array.isArray(t)?t:typeof t=="number"?[GK,t]:[t]}function hA(t){return!!(t&&typeof t=="object"&&"type"in t&&typeof t.type=="string"&&t.type.length>0)}function v3(t,e){const n=e.prefix||"",r=e.suffix||"",i=Object.assign({},e.acornOptions),a=[],s=[],o=i.onComment,l=i.onToken;let u=!1,h,c;const f=Object.assign({},i,{onComment:a,preserveParens:!0});l&&(f.onToken=s);const p=$K(t,e.tokenTypes),v=p.value,m=n+v+r,g=e.expression&&FP(v);if(g&&!e.allowEmpty)throw new wt("Unexpected empty expression",{place:x(0),ruleId:"unexpected-empty-expression",source:"micromark-extension-mdx-expression"});try{h=e.expression&&!g?e.acorn.parseExpressionAt(m,0,f):e.acorn.parse(m,f)}catch(A){const b=A,S=x(b.pos);b.message=String(b.message).replace(/ \(\d+:\d+\)$/,""),b.pos=S.offset,b.loc={line:S.line,column:S.column-1},c=b,u=b.raisedAt>=n.length+v.length||b.message==="Unterminated comment"}if(h&&e.expression&&!g)if(FP(m.slice(h.end,m.length-r.length)))h={type:"Program",start:0,end:n.length+v.length,body:[{type:"ExpressionStatement",expression:h,start:0,end:n.length+v.length}],sourceType:"module",comments:[]};else{const A=x(h.end),b=new Error("Unexpected content after expression");b.pos=A.offset,b.loc={line:A.line,column:A.column-1},c=b,h=void 0}if(h){if(h.comments=a,WK(h,function(A,b,S,w){let _=w[w.length-1],T=b;A.type==="ParenthesizedExpression"&&_&&T&&(typeof S=="number"&&(_=_[T],T=S),_[T]=A.expression),y(A)}),Array.isArray(o))o.push(...a);else if(typeof o=="function")for(const A of a)o(A.type==="Block",A.value,A.start,A.end,A.loc.start,A.loc.end);for(const A of s)A.end<=n.length||A.start-n.length>=v.length||(y(A),Array.isArray(l)?l.push(A):l(A))}return{estree:h,error:c,swallow:u};function y(A){const b=x(A.start),S=x(A.end);A.start=b.offset,A.end=S.offset,A.loc={start:{line:b.line,column:b.column-1,offset:b.offset},end:{line:S.line,column:S.column-1,offset:S.offset}},A.range=[A.start,A.end]}function x(A){let b=A-n.length;b<0?b=0:b>v.length&&(b=v.length);let S=YK(p.stops,b);return S||(S={line:e.start.line,column:e.start.column,offset:e.start.offset}),S}}function FP(t){return/^\s*$/.test(t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[^\r\n]*(\r\n|\n|\r)/g,""))}function $K(t,e){const n={value:"",stops:[]};let r=-1;for(;++r<t.length;){const i=t[r];if(i[0]==="enter"){const a=i[1].type;if(a==="lineEnding"||e.includes(a)){const s=i[2].sliceStream(i[1]);for(;s.length>0&&s[0]===-1;)s.shift();const o=qK(s);n.stops.push([n.value.length,i[1].start]),n.value+=o,n.stops.push([n.value.length,i[1].end])}}}return n}function YK(t,e){let n=0;for(;n<t.length&&t[n][0]<=e;)n+=1;if(n===0)return;const[r,i]=t[n-1],a=e-r;return{line:i.line,column:i.column+a,offset:i.offset+a}}function qK(t){let e=-1;const n=[];let r;for(;++e<t.length;){const i=t[e];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a="	";break}case-1:{if(r)continue;a=" ";break}default:a=String.fromCharCode(i)}r=i===-2,n.push(a)}return n.join("")}function ss(t){const e=t||{},n=e.loc||{},r=e.range||[void 0,void 0],i=BP(n.start,r[0]||e.start),a=BP(n.end,r[1]||e.end);if(i&&a)return{start:i,end:a}}function BP(t,e){if(t&&typeof t=="object"){const n="line"in t?fA(t.line):void 0,r="column"in t?fA(t.column):void 0;if(n&&r!==void 0)return{line:n,column:r+1,offset:fA(e)}}}function fA(t){return typeof t=="number"&&t>-1?t:void 0}const Tc="https://github.com/micromark/micromark-extension-mdx-expression/tree/main/packages/micromark-extension-mdx-expression",XK="#unexpected-end-of-file-in-expression-expected-a-corresponding-closing-brace-for-",ZK="#unexpected-lazy-line-in-expression-in-container-expected-line-to-be-prefixed",VP="#unexpected-type-in-code-expected-an-object-spread-spread",JK="#unexpected-extra-content-in-spread-only-a-single-spread-is-supported",KK="#could-not-parse-expression-with-acorn";function qg(t,e,n,r,i,a,s,o,l,u,h){const c=this,f=this.events.length+3;let p=0,v,m;return g;function g(b){return t.enter(n),t.enter(r),t.consume(b),t.exit(r),v=c.now(),y}function y(b){if(b===null){if(m)throw m;const S=new wt("Unexpected end of file in expression, expected a corresponding closing brace for `{`",{place:c.now(),ruleId:"unexpected-eof",source:"micromark-extension-mdx-expression"});throw S.url=Tc+XK,S}if(Ie(b))return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),A;if(b===125&&p===0){const S=a?QK.call(c,a,s,i,f,v,u||!1,l||!1):{type:"ok",estree:void 0};if(S.type==="ok"){t.enter(r),t.consume(b),t.exit(r);const w=t.exit(n);return o&&S.estree&&Object.assign(w,{estree:S.estree}),e}return m=S.message,t.enter(i),t.consume(b),x}return t.enter(i),x(b)}function x(b){return b===125&&p===0||b===null||Ie(b)?(t.exit(i),y(b)):(b===123&&!a?p+=1:b===125&&(p-=1),t.consume(b),x)}function A(b){const S=c.now();if(S.line!==v.line&&!h&&c.parser.lazy[S.line]){const w=new wt("Unexpected lazy line in expression in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",{place:c.now(),ruleId:"unexpected-lazy",source:"micromark-extension-mdx-expression"});throw w.url=Tc+ZK,w}return y(b)}}function QK(t,e,n,r,i,a,s){const o=v3(this.events.slice(r),{acorn:t,tokenTypes:[n],acornOptions:e,start:i,expression:!0,allowEmpty:a,prefix:s?"({":"",suffix:s?"})":""}),l=o.estree;if(s&&l){const u=l.body[0];if(u.type!=="ExpressionStatement"||u.expression.type!=="ObjectExpression"){const h=ss(u),c=new wt("Unexpected `"+u.type+"` in code: expected an object spread (`{...spread}`)",{place:h.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw c.url=Tc+VP,c}if(u.expression.properties[1]){const h=ss(u.expression.properties[1]),c=new wt("Unexpected extra content in spread: only a single spread is supported",{place:h.start,ruleId:"spread-extra",source:"micromark-extension-mdx-expression"});throw c.url=Tc+JK,c}if(u.expression.properties[0]&&u.expression.properties[0].type!=="SpreadElement"){const h=ss(u.expression.properties[0]),c=new wt("Unexpected `"+u.expression.properties[0].type+"` in code: only spread elements are supported",{place:h.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw c.url=Tc+VP,c}}if(o.error){const u=new wt("Could not parse expression with acorn",{cause:o.error,place:{line:o.error.loc.line,column:o.error.loc.column+1,offset:o.error.pos},ruleId:"acorn",source:"micromark-extension-mdx-expression"});return u.url=Tc+KK,{type:"nok",message:u}}return{type:"ok",estree:l}}function Pt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return ft(l)?(t.enter(n),o(l)):e(l)}function o(l){return ft(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}function eQ(t){const e=t||{},n=e.addResult,r=e.acorn,i=e.spread;let a=e.allowEmpty,s;if(a==null&&(a=!0),r){if(!r.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");s=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions)}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{123:{name:"mdxFlowExpression",tokenize:o,concrete:!0}},text:{123:{name:"mdxTextExpression",tokenize:l}}};function o(u,h,c){const f=this;return p;function p(y){return v(y)}function v(y){return qg.call(f,u,m,"mdxFlowExpression","mdxFlowExpressionMarker","mdxFlowExpressionChunk",r,s,n,i,a)(y)}function m(y){return ft(y)?Pt(u,g,"whitespace")(y):g(y)}function g(y){const x=f.parser.constructs.flow[60],b=(Array.isArray(x)?x:x?[x]:[]).find(function(S){return S.name==="mdxJsxFlowTag"});return y===60&&b?u.attempt(b,g,c)(y):y===null||Ie(y)?h(y):c(y)}}function l(u,h){const c=this;return f;function f(p){return qg.call(c,u,h,"mdxTextExpression","mdxTextExpressionMarker","mdxTextExpressionChunk",r,s,n,i,a,!0)(p)}}}const tQ=/[$_\p{ID_Start}]/u,nQ=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,rQ=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,iQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aQ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,m3={};function Ti(t){return t?tQ.test(String.fromCodePoint(t)):!1}function Yh(t,e){const r=(e||m3).jsx?rQ:nQ;return t?r.test(String.fromCodePoint(t)):!1}function _a(t,e){return((e||m3).jsx?aQ:iQ).test(t)}const HP="https://github.com/micromark/micromark-extension-mdx-jsx";function g3(t,e,n,r,i,a,s,o,l,u,h,c,f,p,v,m,g,y,x,A,b,S,w,_,T,C,E,k,I,j,P,D){const L=this;let F,V;return U;function U(B){return t.enter(o),t.enter(l),t.consume(B),t.exit(l),z}function z(B){return Qt(B)?n(B):(F=H,yt(B))}function H(B){if(B===47)return t.enter(u),t.consume(B),t.exit(u),F=G,yt;if(B===62)return qt(B);if(B!==null&&B>=0&&Ti(B))return t.enter(c),t.enter(f),t.consume(B),N;ae(B,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(B===33?" (note: to create a comment in MDX, use `{/* text */}`)":""))}function G(B){if(B===62)return qt(B);if(B!==null&&B>=0&&Ti(B))return t.enter(c),t.enter(f),t.consume(B),N;ae(B,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(B===42||B===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function N(B){if(B!==null&&B>=0&&Yh(B,{jsx:!0}))return t.consume(B),N;if(B===46||B===47||B===58||B===62||B===123||Qt(B)||Ka(B))return t.exit(f),F=W,yt(B);ae(B,"in name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(B===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function W(B){if(B===46)return t.enter(p),t.consume(B),t.exit(p),F=q,yt;if(B===58)return t.enter(m),t.consume(B),t.exit(m),F=X,yt;if(B===47||B===62||B===123||B!==null&&B>=0&&Ti(B))return t.exit(c),K(B);ae(B,"after name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function q(B){if(B!==null&&B>=0&&Ti(B))return t.enter(v),t.consume(B),$;ae(B,"before member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function $(B){if(B!==null&&B>=0&&Yh(B,{jsx:!0}))return t.consume(B),$;if(B===46||B===47||B===62||B===123||Qt(B)||Ka(B))return t.exit(v),F=Z,yt(B);ae(B,"in member name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(B===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function Z(B){if(B===46)return t.enter(p),t.consume(B),t.exit(p),F=q,yt;if(B===47||B===62||B===123||B!==null&&B>=0&&Ti(B))return t.exit(c),K(B);ae(B,"after member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function X(B){if(B!==null&&B>=0&&Ti(B))return t.enter(g),t.consume(B),Q;ae(B,"before local name","a character that can start a name, such as a letter, `$`, or `_`"+(B===43||B!==null&&B>46&&B<58?" (note: to create a link in MDX, use `[text](url)`)":""))}function Q(B){if(B!==null&&B>=0&&Yh(B,{jsx:!0}))return t.consume(B),Q;if(B===47||B===62||B===123||Qt(B)||Ka(B))return t.exit(g),F=re,yt(B);ae(B,"in local name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag")}function re(B){if(B===47||B===62||B===123||B!==null&&B>=0&&Ti(B))return t.exit(c),K(B);ae(B,"after local name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function K(B){if(B===47)return t.enter(h),t.consume(B),t.exit(h),F=hn,yt;if(B===62)return qt(B);if(B===123)return qg.call(L,t,le,y,x,A,r,i,a,!0,!1,s)(B);if(B!==null&&B>=0&&Ti(B))return t.enter(b),t.enter(S),t.enter(w),t.consume(B),we;ae(B,"before attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function le(B){return F=K,yt(B)}function we(B){if(B!==null&&B>=0&&Yh(B,{jsx:!0}))return t.consume(B),we;if(B===47||B===58||B===61||B===62||B===123||Qt(B)||Ka(B))return t.exit(w),F=oe,yt(B);ae(B,"in attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function oe(B){if(B===58)return t.enter(_),t.consume(B),t.exit(_),F=Pe,yt;if(B===61)return t.exit(S),t.enter(C),t.consume(B),t.exit(C),F=st,yt;if(B===47||B===62||B===123||Qt(B)||Ka(B)||B!==null&&B>=0&&Ti(B))return t.exit(S),t.exit(b),F=K,yt(B);ae(B,"after attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Pe(B){if(B!==null&&B>=0&&Ti(B))return t.enter(T),t.consume(B),Le;ae(B,"before local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function Le(B){if(B!==null&&B>=0&&Yh(B,{jsx:!0}))return t.consume(B),Le;if(B===47||B===61||B===62||B===123||Qt(B)||Ka(B))return t.exit(T),t.exit(S),F=Ge,yt(B);ae(B,"in local attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function Ge(B){if(B===61)return t.enter(C),t.consume(B),t.exit(C),F=st,yt;if(B===47||B===62||B===123||B!==null&&B>=0&&Ti(B))return t.exit(b),K(B);ae(B,"after local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function st(B){if(B===34||B===39)return t.enter(E),t.enter(k),t.consume(B),t.exit(k),V=B,Ye;if(B===123)return qg.call(L,t,Ue,j,P,D,r,i,a,!1,!1,s)(B);ae(B,"before attribute value","a character that can start an attribute value, such as `\"`, `'`, or `{`"+(B===60?" (note: to use an element or fragment as a prop value in MDX, use `{<element />}`)":""))}function Ue(B){return t.exit(b),F=K,yt(B)}function Ye(B){return B===null&&ae(B,"in attribute value","a corresponding closing quote `"+String.fromCodePoint(V)+"`"),B===V?(t.enter(k),t.consume(B),t.exit(k),t.exit(E),t.exit(b),V=void 0,F=K,yt):Ie(B)?(F=Ye,yt(B)):(t.enter(I),Ne(B))}function Ne(B){return B===null||B===V||Ie(B)?(t.exit(I),Ye(B)):(t.consume(B),Ne)}function hn(B){if(B===62)return qt(B);ae(B,"after self-closing slash","`>` to end the tag"+(B===42||B===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function qt(B){return t.enter(l),t.consume(B),t.exit(l),t.exit(o),e}function yt(B){return Ie(B)?(t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),ie):ft(B)||Ka(B)?(t.enter("esWhitespace"),qi(B)):F(B)}function qi(B){return Ie(B)?(t.exit("esWhitespace"),yt(B)):ft(B)||Ka(B)?(t.consume(B),qi):(t.exit("esWhitespace"),F(B))}function ie(B){if(!s&&L.parser.lazy[L.now().line]){const Be=new wt("Unexpected lazy line in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",L.now(),"micromark-extension-mdx-jsx:unexpected-lazy");throw Be.url=HP+"#unexpected-lazy-line-in-container-expected-line-to-be",Be}return yt(B)}function ae(B,Be,lt){const yn=new wt("Unexpected "+(B===null?"end of file":"character `"+(B===96?"` ` `":String.fromCodePoint(B))+"` ("+sQ(B)+")")+" "+Be+", expected "+lt,L.now(),"micromark-extension-mdx-jsx:unexpected-"+(B===null?"eof":"character"));throw yn.url=HP+(B===null?"#unexpected-end-of-file-at-expected-expect":"#unexpected-character-at-expected-expect"),yn}}function sQ(t){return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function oQ(t,e){return{name:"mdxJsxTextTag",tokenize:n};function n(r,i,a){return g3.call(this,r,i,a,t,e.acornOptions,e.addResult,!0,"mdxJsxTextTag","mdxJsxTextTagMarker","mdxJsxTextTagClosingMarker","mdxJsxTextTagSelfClosingMarker","mdxJsxTextTagName","mdxJsxTextTagNamePrimary","mdxJsxTextTagNameMemberMarker","mdxJsxTextTagNameMember","mdxJsxTextTagNamePrefixMarker","mdxJsxTextTagNameLocal","mdxJsxTextTagExpressionAttribute","mdxJsxTextTagExpressionAttributeMarker","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttribute","mdxJsxTextTagAttributeName","mdxJsxTextTagAttributeNamePrimary","mdxJsxTextTagAttributeNamePrefixMarker","mdxJsxTextTagAttributeNameLocal","mdxJsxTextTagAttributeInitializerMarker","mdxJsxTextTagAttributeValueLiteral","mdxJsxTextTagAttributeValueLiteralMarker","mdxJsxTextTagAttributeValueLiteralValue","mdxJsxTextTagAttributeValueExpression","mdxJsxTextTagAttributeValueExpressionMarker","mdxJsxTextTagAttributeValueExpressionValue")}}function lQ(t,e){return{name:"mdxJsxFlowTag",tokenize:n,concrete:!0};function n(r,i,a){const s=this;return o;function o(c){return l(c)}function l(c){return g3.call(s,r,u,a,t,e.acornOptions,e.addResult,!1,"mdxJsxFlowTag","mdxJsxFlowTagMarker","mdxJsxFlowTagClosingMarker","mdxJsxFlowTagSelfClosingMarker","mdxJsxFlowTagName","mdxJsxFlowTagNamePrimary","mdxJsxFlowTagNameMemberMarker","mdxJsxFlowTagNameMember","mdxJsxFlowTagNamePrefixMarker","mdxJsxFlowTagNameLocal","mdxJsxFlowTagExpressionAttribute","mdxJsxFlowTagExpressionAttributeMarker","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttribute","mdxJsxFlowTagAttributeName","mdxJsxFlowTagAttributeNamePrimary","mdxJsxFlowTagAttributeNamePrefixMarker","mdxJsxFlowTagAttributeNameLocal","mdxJsxFlowTagAttributeInitializerMarker","mdxJsxFlowTagAttributeValueLiteral","mdxJsxFlowTagAttributeValueLiteralMarker","mdxJsxFlowTagAttributeValueLiteralValue","mdxJsxFlowTagAttributeValueExpression","mdxJsxFlowTagAttributeValueExpressionMarker","mdxJsxFlowTagAttributeValueExpressionValue")(c)}function u(c){return ft(c)?Pt(r,h,"whitespace")(c):h(c)}function h(c){const f=s.parser.constructs.flow[123],v=(Array.isArray(f)?f:f?[f]:[]).find(m=>m.name==="mdxFlowExpression");return c===60?o(c):c===123&&v?r.attempt(v,h,a)(c):c===null||Ie(c)?i(c):a(c)}}}function uQ(t){const e=t||{},n=e.acorn;let r;if(n){if(!n.parse||!n.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");r=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions,{locations:!0})}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{60:lQ(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})},text:{60:oQ(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})}}}function cQ(){return{disable:{null:["autolink","codeIndented","htmlFlow","htmlText"]}}}function Ss(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function ai(t,e){return t.length>0?(Ss(t,t.length,0,e),t):e}function GP(t){if(t===null||Qt(t)||Ka(t))return 1;if(VK(t))return 2}function XT(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const RS={name:"attention",tokenize:fQ,resolveAll:hQ};function hQ(t,e){let n=-1,r,i,a,s,o,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const c=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);UP(c,-l),UP(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:c,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},o.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=ai(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=ai(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=ai(u,XT(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=ai(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=ai(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Ss(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function fQ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=GP(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),h=GP(l),c=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=!!(a===42?c:c&&(i||!f)),u._close=!!(a===42?f:f&&(h||!c)),e(l)}}function UP(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const dQ={name:"autolink",tokenize:pQ};function pQ(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Ni(p)?(t.consume(p),s):p===64?n(p):u(p)}function s(p){return p===43||p===45||p===46||jr(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||jr(p))&&r++<32?(t.consume(p),o):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||NS(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),h):OK(p)?(t.consume(p),u):n(p)}function h(p){return jr(p)?c(p):n(p)}function c(p){return p===46?(t.consume(p),r=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||jr(p))&&r++<63){const v=p===45?f:c;return t.consume(p),v}return n(p)}}const Ip={tokenize:vQ,partial:!0};function vQ(t,e,n){return r;function r(a){return ft(a)?Pt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ie(a)?e(a):n(a)}}const y3={name:"blockQuote",tokenize:mQ,continuation:{tokenize:gQ},exit:yQ};function mQ(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return ft(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function gQ(t,e,n){const r=this;return i;function i(s){return ft(s)?Pt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(y3,e,n)(s)}}function yQ(t){t.exit("blockQuote")}const x3={name:"characterEscape",tokenize:xQ};function xQ(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return BK(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const A3={name:"characterReference",tokenize:AQ};function AQ(t,e,n){const r=this;let i=0,a,s;return o;function o(c){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),l}function l(c){return c===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(c),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=jr,h(c))}function u(c){return c===88||c===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(c),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=FK,h):(t.enter("characterReferenceValue"),a=7,s=zS,h(c))}function h(c){if(c===59&&i){const f=t.exit("characterReferenceValue");return s===jr&&!Id(r.sliceSerialize(f))?n(c):(t.enter("characterReferenceMarker"),t.consume(c),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(c)&&i++<a?(t.consume(c),h):n(c)}}const WP={tokenize:wQ,partial:!0},$P={name:"codeFenced",tokenize:bQ,concrete:!0};function bQ(t,e,n){const r=this,i={tokenize:S,partial:!0};let a=0,s=0,o;return l;function l(w){return u(w)}function u(w){const _=r.events[r.events.length-1];return a=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,o=w,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(w)}function h(w){return w===o?(s++,t.consume(w),h):s<3?n(w):(t.exit("codeFencedFenceSequence"),ft(w)?Pt(t,c,"whitespace")(w):c(w))}function c(w){return w===null||Ie(w)?(t.exit("codeFencedFence"),r.interrupt?e(w):t.check(WP,m,b)(w)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===null||Ie(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),c(w)):ft(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Pt(t,p,"whitespace")(w)):w===96&&w===o?n(w):(t.consume(w),f)}function p(w){return w===null||Ie(w)?c(w):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||Ie(w)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),c(w)):w===96&&w===o?n(w):(t.consume(w),v)}function m(w){return t.attempt(i,b,g)(w)}function g(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),y}function y(w){return a>0&&ft(w)?Pt(t,x,"linePrefix",a+1)(w):x(w)}function x(w){return w===null||Ie(w)?t.check(WP,m,b)(w):(t.enter("codeFlowValue"),A(w))}function A(w){return w===null||Ie(w)?(t.exit("codeFlowValue"),x(w)):(t.consume(w),A)}function b(w){return t.exit("codeFenced"),e(w)}function S(w,_,T){let C=0;return E;function E(D){return w.enter("lineEnding"),w.consume(D),w.exit("lineEnding"),k}function k(D){return w.enter("codeFencedFence"),ft(D)?Pt(w,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):I(D)}function I(D){return D===o?(w.enter("codeFencedFenceSequence"),j(D)):T(D)}function j(D){return D===o?(C++,w.consume(D),j):C>=s?(w.exit("codeFencedFenceSequence"),ft(D)?Pt(w,P,"whitespace")(D):P(D)):T(D)}function P(D){return D===null||Ie(D)?(w.exit("codeFencedFence"),_(D)):T(D)}}}function wQ(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const dA={name:"codeIndented",tokenize:_Q},SQ={tokenize:TQ,partial:!0};function _Q(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Pt(t,a,"linePrefix",5)(u)}function a(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Ie(u)?t.attempt(SQ,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||Ie(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function TQ(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ie(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Pt(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):Ie(s)?i(s):n(s)}}const CQ={name:"codeText",tokenize:kQ,resolve:IQ,previous:EQ};function IQ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function EQ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function kQ(t,e,n){let r=0,i,a;return s;function s(c){return t.enter("codeText"),t.enter("codeTextSequence"),o(c)}function o(c){return c===96?(t.consume(c),r++,o):(t.exit("codeTextSequence"),l(c))}function l(c){return c===null?n(c):c===32?(t.enter("space"),t.consume(c),t.exit("space"),l):c===96?(a=t.enter("codeTextSequence"),i=0,h(c)):Ie(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||Ie(c)?(t.exit("codeTextData"),l(c)):(t.consume(c),u)}function h(c){return c===96?(t.consume(c),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(c)):(a.type="codeTextData",u(c))}}class PQ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&qh(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),qh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),qh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);qh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);qh(this.left,n.reverse())}}}function qh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function b3(t){const e={};let n=-1,r,i,a,s,o,l,u;const h=new PQ(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,jQ(h,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=h.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},h.get(i)[1].start),o=h.slice(i,n),o.unshift(r),h.splice(i,n-i+1,o))}}return Ss(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function jQ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],u={};let h,c,f=-1,p=n,v=0,m=0;const g=[m];for(;p;){for(;t.get(++i)[1]!==p;);a.push(i),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),c&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),c=p,p=p.next}for(p=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(m=f+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),f=g.length;f--;){const y=o.slice(g[f],g[f+1]),x=a.pop();l.push([x,x+y.length-1]),t.splice(x,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[v+l[f][0]]=v+l[f][1],v+=l[f][1]-l[f][0]-1;return u}const MQ={tokenize:NQ,resolve:LQ},DQ={tokenize:zQ,partial:!0};function LQ(t){return b3(t),t}function NQ(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Ie(o)?t.check(DQ,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zQ(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Pt(t,a,"linePrefix")}function a(s){if(s===null||Ie(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function w3(t,e,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return c;function c(y){return y===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(y),t.exit(a),f):y===null||y===32||y===41||NS(y)?n(y):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(o),f(y)):y===null||y===60||Ie(y)?n(y):(t.consume(y),y===92?v:p)}function v(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function m(y){return!h&&(y===null||y===41||Qt(y))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(y)):h<u&&y===40?(t.consume(y),h++,m):y===41?(t.consume(y),h--,m):y===null||y===32||y===40||NS(y)?n(y):(t.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(t.consume(y),m):m(y)}}function S3(t,e,n,r,i,a){const s=this;let o=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(a),h}function h(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Ie(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===null||p===91||p===93||Ie(p)||o++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!ft(p)),p===92?f:c)}function f(p){return p===91||p===92||p===93?(t.consume(p),o++,c):c(p)}}function _3(t,e,n,r,i,a){let s;return o;function o(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(a),u(f))}function u(f){return f===s?(t.exit(a),l(s)):f===null?n(f):Ie(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Pt(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===s||f===null||Ie(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?c:h)}function c(f){return f===s||f===92?(t.consume(f),h):h(f)}}function ed(t,e){let n;return r;function r(i){return Ie(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ft(i)?Pt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function Nc(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const RQ={name:"definition",tokenize:FQ},OQ={tokenize:BQ,partial:!0};function FQ(t,e,n){const r=this;let i;return a;function a(p){return t.enter("definition"),s(p)}function s(p){return S3.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Nc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Qt(p)?ed(t,u)(p):u(p)}function u(p){return w3(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(OQ,c,c)(p)}function c(p){return ft(p)?Pt(t,f,"whitespace")(p):f(p)}function f(p){return p===null||Ie(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function BQ(t,e,n){return r;function r(o){return Qt(o)?ed(t,i)(o):n(o)}function i(o){return _3(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return ft(o)?Pt(t,s,"whitespace")(o):s(o)}function s(o){return o===null||Ie(o)?e(o):n(o)}}const VQ={name:"hardBreakEscape",tokenize:HQ};function HQ(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ie(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const GQ={name:"headingAtx",tokenize:WQ,resolve:UQ};function UQ(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ss(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function WQ(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||Qt(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||Ie(h)?(t.exit("atxHeading"),e(h)):ft(h)?Pt(t,o,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function u(h){return h===null||h===35||Qt(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),u)}}const $Q=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],YP=["pre","script","style","textarea"],YQ={name:"htmlFlow",tokenize:JQ,resolveTo:ZQ,concrete:!0},qQ={tokenize:QQ,partial:!0},XQ={tokenize:KQ,partial:!0};function ZQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function JQ(t,e,n){const r=this;let i,a,s,o,l;return u;function u(N){return h(N)}function h(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),c}function c(N){return N===33?(t.consume(N),f):N===47?(t.consume(N),a=!0,m):N===63?(t.consume(N),i=3,r.interrupt?e:z):Ni(N)?(t.consume(N),s=String.fromCharCode(N),g):n(N)}function f(N){return N===45?(t.consume(N),i=2,p):N===91?(t.consume(N),i=5,o=0,v):Ni(N)?(t.consume(N),i=4,r.interrupt?e:z):n(N)}function p(N){return N===45?(t.consume(N),r.interrupt?e:z):n(N)}function v(N){const W="CDATA[";return N===W.charCodeAt(o++)?(t.consume(N),o===W.length?r.interrupt?e:I:v):n(N)}function m(N){return Ni(N)?(t.consume(N),s=String.fromCharCode(N),g):n(N)}function g(N){if(N===null||N===47||N===62||Qt(N)){const W=N===47,q=s.toLowerCase();return!W&&!a&&YP.includes(q)?(i=1,r.interrupt?e(N):I(N)):$Q.includes(s.toLowerCase())?(i=6,W?(t.consume(N),y):r.interrupt?e(N):I(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):a?x(N):A(N))}return N===45||jr(N)?(t.consume(N),s+=String.fromCharCode(N),g):n(N)}function y(N){return N===62?(t.consume(N),r.interrupt?e:I):n(N)}function x(N){return ft(N)?(t.consume(N),x):E(N)}function A(N){return N===47?(t.consume(N),E):N===58||N===95||Ni(N)?(t.consume(N),b):ft(N)?(t.consume(N),A):E(N)}function b(N){return N===45||N===46||N===58||N===95||jr(N)?(t.consume(N),b):S(N)}function S(N){return N===61?(t.consume(N),w):ft(N)?(t.consume(N),S):A(N)}function w(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),l=N,_):ft(N)?(t.consume(N),w):T(N)}function _(N){return N===l?(t.consume(N),l=null,C):N===null||Ie(N)?n(N):(t.consume(N),_)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Qt(N)?S(N):(t.consume(N),T)}function C(N){return N===47||N===62||ft(N)?A(N):n(N)}function E(N){return N===62?(t.consume(N),k):n(N)}function k(N){return N===null||Ie(N)?I(N):ft(N)?(t.consume(N),k):n(N)}function I(N){return N===45&&i===2?(t.consume(N),L):N===60&&i===1?(t.consume(N),F):N===62&&i===4?(t.consume(N),H):N===63&&i===3?(t.consume(N),z):N===93&&i===5?(t.consume(N),U):Ie(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(qQ,G,j)(N)):N===null||Ie(N)?(t.exit("htmlFlowData"),j(N)):(t.consume(N),I)}function j(N){return t.check(XQ,P,G)(N)}function P(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),D}function D(N){return N===null||Ie(N)?j(N):(t.enter("htmlFlowData"),I(N))}function L(N){return N===45?(t.consume(N),z):I(N)}function F(N){return N===47?(t.consume(N),s="",V):I(N)}function V(N){if(N===62){const W=s.toLowerCase();return YP.includes(W)?(t.consume(N),H):I(N)}return Ni(N)&&s.length<8?(t.consume(N),s+=String.fromCharCode(N),V):I(N)}function U(N){return N===93?(t.consume(N),z):I(N)}function z(N){return N===62?(t.consume(N),H):N===45&&i===2?(t.consume(N),z):I(N)}function H(N){return N===null||Ie(N)?(t.exit("htmlFlowData"),G(N)):(t.consume(N),H)}function G(N){return t.exit("htmlFlow"),e(N)}}function KQ(t,e,n){const r=this;return i;function i(s){return Ie(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function QQ(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ip,e,n)}}const eee={name:"htmlText",tokenize:tee};function tee(t,e,n){const r=this;let i,a,s;return o;function o(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),l}function l(z){return z===33?(t.consume(z),u):z===47?(t.consume(z),S):z===63?(t.consume(z),A):Ni(z)?(t.consume(z),T):n(z)}function u(z){return z===45?(t.consume(z),h):z===91?(t.consume(z),a=0,v):Ni(z)?(t.consume(z),x):n(z)}function h(z){return z===45?(t.consume(z),p):n(z)}function c(z){return z===null?n(z):z===45?(t.consume(z),f):Ie(z)?(s=c,F(z)):(t.consume(z),c)}function f(z){return z===45?(t.consume(z),p):c(z)}function p(z){return z===62?L(z):z===45?f(z):c(z)}function v(z){const H="CDATA[";return z===H.charCodeAt(a++)?(t.consume(z),a===H.length?m:v):n(z)}function m(z){return z===null?n(z):z===93?(t.consume(z),g):Ie(z)?(s=m,F(z)):(t.consume(z),m)}function g(z){return z===93?(t.consume(z),y):m(z)}function y(z){return z===62?L(z):z===93?(t.consume(z),y):m(z)}function x(z){return z===null||z===62?L(z):Ie(z)?(s=x,F(z)):(t.consume(z),x)}function A(z){return z===null?n(z):z===63?(t.consume(z),b):Ie(z)?(s=A,F(z)):(t.consume(z),A)}function b(z){return z===62?L(z):A(z)}function S(z){return Ni(z)?(t.consume(z),w):n(z)}function w(z){return z===45||jr(z)?(t.consume(z),w):_(z)}function _(z){return Ie(z)?(s=_,F(z)):ft(z)?(t.consume(z),_):L(z)}function T(z){return z===45||jr(z)?(t.consume(z),T):z===47||z===62||Qt(z)?C(z):n(z)}function C(z){return z===47?(t.consume(z),L):z===58||z===95||Ni(z)?(t.consume(z),E):Ie(z)?(s=C,F(z)):ft(z)?(t.consume(z),C):L(z)}function E(z){return z===45||z===46||z===58||z===95||jr(z)?(t.consume(z),E):k(z)}function k(z){return z===61?(t.consume(z),I):Ie(z)?(s=k,F(z)):ft(z)?(t.consume(z),k):C(z)}function I(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),i=z,j):Ie(z)?(s=I,F(z)):ft(z)?(t.consume(z),I):(t.consume(z),P)}function j(z){return z===i?(t.consume(z),i=void 0,D):z===null?n(z):Ie(z)?(s=j,F(z)):(t.consume(z),j)}function P(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Qt(z)?C(z):(t.consume(z),P)}function D(z){return z===47||z===62||Qt(z)?C(z):n(z)}function L(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function F(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),V}function V(z){return ft(z)?Pt(t,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):U(z)}function U(z){return t.enter("htmlTextData"),s(z)}}const ZT={name:"labelEnd",tokenize:oee,resolveTo:see,resolveAll:aee},nee={tokenize:lee},ree={tokenize:uee},iee={tokenize:cee};function aee(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function see(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[s][1].end)},h={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return o=[["enter",l,e],["enter",u,e]],o=ai(o,t.slice(a+1,a+r+3)),o=ai(o,[["enter",h,e]]),o=ai(o,XT(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=ai(o,[["exit",h,e],t[s-2],t[s-1],["exit",u,e]]),o=ai(o,t.slice(s+1)),o=ai(o,[["exit",l,e]]),Ss(t,a,t.length,o),t}function oee(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(f){return a?a._inactive?c(f):(s=r.parser.defined.includes(Nc(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(nee,h,s?h:c)(f):f===91?t.attempt(ree,h,s?u:c)(f):s?h(f):c(f)}function u(f){return t.attempt(iee,h,c)(f)}function h(f){return e(f)}function c(f){return a._balanced=!0,n(f)}}function lee(t,e,n){return r;function r(c){return t.enter("resource"),t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),i}function i(c){return Qt(c)?ed(t,a)(c):a(c)}function a(c){return c===41?h(c):w3(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function s(c){return Qt(c)?ed(t,l)(c):h(c)}function o(c){return n(c)}function l(c){return c===34||c===39||c===40?_3(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):h(c)}function u(c){return Qt(c)?ed(t,h)(c):h(c)}function h(c){return c===41?(t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),t.exit("resource"),e):n(c)}}function uee(t,e,n){const r=this;return i;function i(o){return S3.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Nc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function cee(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const hee={name:"labelStartImage",tokenize:fee,resolveAll:ZT.resolveAll};function fee(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const dee={name:"labelStartLink",tokenize:pee,resolveAll:ZT.resolveAll};function pee(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const pA={name:"lineEnding",tokenize:vee};function vee(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Pt(t,e,"linePrefix")}}const Xm={name:"thematicBreak",tokenize:mee};function mee(t,e,n){let r=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ie(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),ft(u)?Pt(t,o,"whitespace")(u):o(u))}}const fr={name:"list",tokenize:xee,continuation:{tokenize:Aee},exit:wee},gee={tokenize:See,partial:!0},yee={tokenize:bee,partial:!0};function xee(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(p){const v=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:zS(p)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Xm,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return zS(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Ip,r.interrupt?n:h,t.attempt(gee,f,c))}function h(p){return r.containerState.initialBlankLine=!0,a++,f(p)}function c(p){return ft(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Aee(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ip,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pt(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!ft(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(yee,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pt(t,t.attempt(fr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function bee(t,e,n){const r=this;return Pt(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function wee(t){t.exit(this.containerState.type)}function See(t,e,n){const r=this;return Pt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!ft(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const qP={name:"setextUnderline",tokenize:Tee,resolveTo:_ee};function _ee(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function Tee(t,e,n){const r=this;let i;return a;function a(u){let h=r.events.length,c;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){c=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),ft(u)?Pt(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ie(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Cee={tokenize:kee,partial:!0},XP="https://github.com/micromark/micromark-extension-mdxjs-esm",Iee=new Set(["ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ImportDeclaration"]);function Eee(t){const e={tokenize:i,concrete:!0};if(!t||!t.acorn||!t.acorn.parse)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");const n=t.acorn,r=Object.assign({ecmaVersion:2024,sourceType:"module"},t.acornOptions,{locations:!0});return{flow:{101:e,105:e}};function i(a,s,o){const l=this,u=l.parser.definedModuleSpecifiers||(l.parser.definedModuleSpecifiers=[]),h=this.events.length+1;let c="";return l.interrupt?o:f;function f(x){return l.now().column>1?o(x):(a.enter("mdxjsEsm"),a.enter("mdxjsEsmData"),a.consume(x),c+=String.fromCharCode(x),p)}function p(x){return Ni(x)?(a.consume(x),c+=String.fromCharCode(x),p):(c==="import"||c==="export")&&x===32?(a.consume(x),v):o(x)}function v(x){return x===null||Ie(x)?(a.exit("mdxjsEsmData"),m(x)):(a.consume(x),v)}function m(x){return x===null?y(x):Ie(x)?a.check(Cee,y,g)(x):(a.enter("mdxjsEsmData"),v(x))}function g(x){return a.enter("lineEnding"),a.consume(x),a.exit("lineEnding"),m}function y(x){const A=v3(l.events.slice(h),{acorn:n,acornOptions:r,tokenTypes:["mdxjsEsmData"],prefix:u.length>0?"var "+u.join(",")+`
`:""});if(A.error){if(x!==null&&A.swallow)return g(x);const S=new wt("Could not parse import/exports with acorn",{cause:A.error,place:{line:A.error.loc.line,column:A.error.loc.column+1,offset:A.error.pos},ruleId:"acorn",source:"micromark-extension-mdxjs-esm"});throw S.url=XP+"#could-not-parse-importexports-with-acorn",S}u.length>0&&A.estree.body.shift();let b=-1;for(;++b<A.estree.body.length;){const S=A.estree.body[b];if(!Iee.has(S.type)){const w=new wt("Unexpected `"+S.type+"` in code: only import/exports are supported",{place:ss(S),ruleId:"non-esm",source:"micromark-extension-mdxjs-esm"});throw w.url=XP+"#unexpected-type-in-code-only-importexports-are-supported",w}if(S.type==="ImportDeclaration"&&!l.interrupt){let w=-1;for(;++w<S.specifiers.length;){const _=S.specifiers[w];u.push(_.local.name)}}}return Object.assign(a.exit("mdxjsEsm"),t.addResult?{estree:A.estree}:void 0),s(x)}}}function kee(t,e,n){return r;function r(i){return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(Ip,e,n)}}const ZP={}.hasOwnProperty;function T3(t){const e={};let n=-1;for(;++n<t.length;)Pee(e,t[n]);return e}function Pee(t,e){let n;for(n in e){const i=(ZP.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){ZP.call(i,s)||(i[s]=[]);const o=a[s];jee(i[s],Array.isArray(o)?o:o?[o]:[])}}}function jee(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ss(t,0,0,r)}function Mee(t){const e=Object.assign({acorn:Yt.extend(RK()),acornOptions:{ecmaVersion:2024,sourceType:"module"},addResult:!0},t);return T3([Eee(e),eQ(e),uQ(e),cQ()])}const Dee={};function Lee(t){const e=this,n=t||Dee,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Mee(n)),a.push(qJ()),s.push(XJ(n))}const Nee={};function zee(t,e){const n=Nee,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return C3(t,r,i)}function C3(t,e,n){if(Ree(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return JP(t.children,e,n)}return Array.isArray(t)?JP(t,e,n):""}function JP(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=C3(t[i],e,n);return r.join("")}function Ree(t){return!!(t&&typeof t=="object")}function I3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}function bh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&jr(t.charCodeAt(n+1))&&jr(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="ï¿½"}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}const Oee={tokenize:Fee};function Fee(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Pt(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Ie(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Bee={tokenize:Vee},KP={tokenize:Hee};function Vee(t){const e=this,n=[];let r=0,i,a,s;return o;function o(A){if(r<n.length){const b=n[r];return e.containerState=b[1],t.attempt(b[0].continuation,l,u)(A)}return u(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const b=e.events.length;let S=b,w;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){w=e.events[S][1].end;break}y(r);let _=b;for(;_<e.events.length;)e.events[_][1].end=Object.assign({},w),_++;return Ss(e.events,S+1,0,e.events.slice(b)),e.events.length=_,u(A)}return o(A)}function u(A){if(r===n.length){if(!i)return f(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(KP,h,c)(A)}function h(A){return i&&x(),y(r),f(A)}function c(A){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,v(A)}function f(A){return e.containerState={},t.attempt(KP,p,v)(A)}function p(A){return r++,n.push([e.currentConstruct,e.containerState]),f(A)}function v(A){if(A===null){i&&x(),y(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),m(A)}function m(A){if(A===null){g(t.exit("chunkFlow"),!0),y(0),t.consume(A);return}return Ie(A)?(t.consume(A),g(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(A),m)}function g(A,b){const S=e.sliceStream(A);if(b&&S.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(S),e.parser.lazy[A.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<s&&(!i.events[w][1].end||i.events[w][1].end.offset>s))return;const _=e.events.length;let T=_,C,E;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(C){E=e.events[T][1].end;break}C=!0}for(y(r),w=_;w<e.events.length;)e.events[w][1].end=Object.assign({},E),w++;Ss(e.events,T+1,0,e.events.slice(_)),e.events.length=w}}function y(A){let b=n.length;for(;b-- >A;){const S=n[b];e.containerState=S[1],S[0].exit.call(e,t)}n.length=A}function x(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Hee(t,e,n){return Pt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Gee={tokenize:Uee};function Uee(t){const e=this,n=t.attempt(Ip,r,t.attempt(this.parser.constructs.flowInitial,i,Pt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(MQ,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Wee={resolveAll:k3()},$ee=E3("string"),Yee=E3("text");function E3(t){return{tokenize:e,resolveAll:k3(t==="text"?qee:void 0)};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(h){return u(h)?a(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),a(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const c=i[h];let f=-1;if(c)for(;++f<c.length;){const p=c[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function k3(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function qee(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function Xee(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:x,enter:A,exit:b,attempt:_(S),check:_(w),interrupt:_(w,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:p,sliceSerialize:f,now:v,defineSkip:m,write:c};let h=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function c(k){return s=ai(s,k),g(),s[s.length-1]!==null?[]:(T(e,0),u.events=XT(a,u.events,u),u.events)}function f(k,I){return Jee(p(k),I)}function p(k){return Zee(s,k)}function v(){const{line:k,column:I,offset:j,_index:P,_bufferIndex:D}=r;return{line:k,column:I,offset:j,_index:P,_bufferIndex:D}}function m(k){i[k.line]=k.column,E()}function g(){let k;for(;r._index<s.length;){const I=s[r._index];if(typeof I=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<I.length;)y(I.charCodeAt(r._bufferIndex));else y(I)}}function y(k){h=h(k)}function x(k){Ie(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,E()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=k}function A(k,I){const j=I||{};return j.type=k,j.start=v(),u.events.push(["enter",j,u]),o.push(j),j}function b(k){const I=o.pop();return I.end=v(),u.events.push(["exit",I,u]),I}function S(k,I){T(k,I.from)}function w(k,I){I.restore()}function _(k,I){return j;function j(P,D,L){let F,V,U,z;return Array.isArray(P)?G(P):"tokenize"in P?G([P]):H(P);function H($){return Z;function Z(X){const Q=X!==null&&$[X],re=X!==null&&$.null,K=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(re)?re:re?[re]:[]];return G(K)(X)}}function G($){return F=$,V=0,$.length===0?L:N($[V])}function N($){return Z;function Z(X){return z=C(),U=$,$.partial||(u.currentConstruct=$),$.name&&u.parser.constructs.disable.null.includes($.name)?q():$.tokenize.call(I?Object.assign(Object.create(u),I):u,l,W,q)(X)}}function W($){return k(U,z),D}function q($){return z.restore(),++V<F.length?N(F[V]):L}}}function T(k,I){k.resolveAll&&!a.includes(k)&&a.push(k),k.resolve&&Ss(u.events,I,u.events.length-I,k.resolve(u.events.slice(I),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function C(){const k=v(),I=u.previous,j=u.currentConstruct,P=u.events.length,D=Array.from(o);return{restore:L,from:P};function L(){r=k,u.previous=I,u.currentConstruct=j,u.events.length=P,o=D,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Zee(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function Jee(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Kee={42:fr,43:fr,45:fr,48:fr,49:fr,50:fr,51:fr,52:fr,53:fr,54:fr,55:fr,56:fr,57:fr,62:y3},Qee={91:RQ},ete={[-2]:dA,[-1]:dA,32:dA},tte={35:GQ,42:Xm,45:[qP,Xm],60:YQ,61:qP,95:Xm,96:$P,126:$P},nte={38:A3,92:x3},rte={[-5]:pA,[-4]:pA,[-3]:pA,33:hee,38:A3,42:RS,60:[dQ,eee],91:dee,92:[VQ,x3],93:ZT,95:RS,96:CQ},ite={null:[RS,Wee]},ate={null:[42,95]},ste={null:[]},ote=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ate,contentInitial:Qee,disable:ste,document:Kee,flow:tte,flowInitial:ete,insideSpan:ite,string:nte,text:rte},Symbol.toStringTag,{value:"Module"}));function lte(t){const n=T3([ote,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(Oee),document:i(Bee),flow:i(Gee),string:i($ee),text:i(Yee)};return r;function i(a){return s;function s(o){return Xee(r,a,o)}}}function ute(t){for(;!b3(t););return t}const QP=/[\0\t\n\r]/g;function cte(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let u,h,c,f,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),c=0,e="",n&&(a.charCodeAt(0)===65279&&c++,n=void 0);c<a.length;){if(QP.lastIndex=c,u=QP.exec(a),f=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(f),!u){e=a.slice(c);break}if(p===10&&c===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),c<f&&(l.push(a.slice(c,f)),t+=f-c),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}c=f+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const hte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fte(t){return t.replace(hte,dte)}function dte(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return I3(n.slice(a?2:1),a?16:10)}return Id(n)||t}const P3={}.hasOwnProperty;function pte(t,e,n){return typeof e!="string"&&(n=e,e=void 0),vte(n)(ute(lte(n).document().write(cte()(t,e,!0))))}function vte(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ue),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(Pe),blockQuote:a(re),characterEscape:C,characterReference:C,codeFenced:a(K),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(K,s),codeText:a(le,s),codeTextData:C,data:C,codeFlowValue:C,definition:a(we),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(oe),hardBreakEscape:a(Le),hardBreakTrailing:a(Le),htmlFlow:a(Ge,s),htmlFlowData:C,htmlText:a(Ge,s),htmlTextData:C,image:a(st),label:s,link:a(Ue),listItem:a(Ne),listItemValue:f,listOrdered:a(Ye,c),listUnordered:a(Ye),paragraph:a(hn),reference:N,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Pe),strong:a(qt),thematicBreak:a(qi)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:Q,autolinkProtocol:X,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:$,characterReference:Z,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:E,codeIndented:l(y),codeText:l(D),codeTextData:E,data:E,definition:l(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(j),htmlFlowData:E,htmlText:l(P),htmlTextData:E,image:l(F),label:U,labelText:V,lineEnding:k,link:l(L),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:z,resourceTitleString:H,resource:G,setextHeading:l(T),setextHeadingLineSequence:_,setextHeadingText:w,strong:l(),thematicBreak:l()}};j3(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ie){let ae={type:"root",children:[]};const B={stack:[ae],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:h,data:n},Be=[];let lt=-1;for(;++lt<ie.length;)if(ie[lt][1].type==="listOrdered"||ie[lt][1].type==="listUnordered")if(ie[lt][0]==="enter")Be.push(lt);else{const yn=Be.pop();lt=i(ie,yn,lt)}for(lt=-1;++lt<ie.length;){const yn=e[ie[lt][0]];P3.call(yn,ie[lt][1].type)&&yn[ie[lt][1].type].call(Object.assign({sliceSerialize:ie[lt][2].sliceSerialize},B),ie[lt][1])}if(B.tokenStack.length>0){const yn=B.tokenStack[B.tokenStack.length-1];(yn[1]||ej).call(B,void 0,yn[0])}for(ae.position={start:Bs(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:Bs(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)ae=e.transforms[lt](ae)||ae;return ae}function i(ie,ae,B){let Be=ae-1,lt=-1,yn=!1,_i,wr,$a,jn;for(;++Be<=B;){const _n=ie[Be];switch(_n[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{_n[0]==="enter"?lt++:lt--,jn=void 0;break}case"lineEndingBlank":{_n[0]==="enter"&&(_i&&!jn&&!lt&&!$a&&($a=Be),jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jn=void 0}if(!lt&&_n[0]==="enter"&&_n[1].type==="listItemPrefix"||lt===-1&&_n[0]==="exit"&&(_n[1].type==="listUnordered"||_n[1].type==="listOrdered")){if(_i){let Hr=Be;for(wr=void 0;Hr--;){const Bn=ie[Hr];if(Bn[1].type==="lineEnding"||Bn[1].type==="lineEndingBlank"){if(Bn[0]==="exit")continue;wr&&(ie[wr][1].type="lineEndingBlank",yn=!0),Bn[1].type="lineEnding",wr=Hr}else if(!(Bn[1].type==="linePrefix"||Bn[1].type==="blockQuotePrefix"||Bn[1].type==="blockQuotePrefixWhitespace"||Bn[1].type==="blockQuoteMarker"||Bn[1].type==="listItemIndent"))break}$a&&(!wr||$a<wr)&&(_i._spread=!0),_i.end=Object.assign({},wr?ie[wr][1].start:_n[1].end),ie.splice(wr||Be,0,["exit",_i,_n[2]]),Be++,B++}if(_n[1].type==="listItemPrefix"){const Hr={type:"listItem",_spread:!1,start:Object.assign({},_n[1].start),end:void 0};_i=Hr,ie.splice(Be,0,["enter",Hr,_n[2]]),Be++,B++,$a=void 0,jn=!0}}}return ie[ae][1]._spread=yn,B}function a(ie,ae){return B;function B(Be){o.call(this,ie(Be),Be),ae&&ae.call(this,Be)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ie,ae,B){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([ae,B]),ie.position={start:Bs(ae.start),end:void 0}}function l(ie){return ae;function ae(B){ie&&ie.call(this,B),u.call(this,B)}}function u(ie,ae){const B=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==ie.type&&(ae?ae.call(this,ie,Be[0]):(Be[1]||ej).call(this,ie,Be[0]));else throw new Error("Cannot close `"+ie.type+"` ("+fi({start:ie.start,end:ie.end})+"): itâs not open");B.position.end=Bs(ie.end)}function h(){return zee(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function f(ie){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=ie}function v(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=ie}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.value=ie.replace(/(\r?\n|\r)$/g,"")}function x(ie){const ae=this.resume(),B=this.stack[this.stack.length-1];B.label=ae,B.identifier=Nc(this.sliceSerialize(ie)).toLowerCase()}function A(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.title=ie}function b(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.url=ie}function S(ie){const ae=this.stack[this.stack.length-1];if(!ae.depth){const B=this.sliceSerialize(ie).length;ae.depth=B}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function _(ie){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function C(ie){const B=this.stack[this.stack.length-1].children;let Be=B[B.length-1];(!Be||Be.type!=="text")&&(Be=yt(),Be.position={start:Bs(ie.start),end:void 0},B.push(Be)),this.stack.push(Be)}function E(ie){const ae=this.stack.pop();ae.value+=this.sliceSerialize(ie),ae.position.end=Bs(ie.end)}function k(ie){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const B=ae.children[ae.children.length-1];B.position.end=Bs(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ae.type)&&(C.call(this,ie),E.call(this,ie))}function I(){this.data.atHardBreak=!0}function j(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.value=ie}function P(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.value=ie}function D(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.value=ie}function L(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=ae,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function F(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=ae,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function V(ie){const ae=this.sliceSerialize(ie),B=this.stack[this.stack.length-2];B.label=fte(ae),B.identifier=Nc(ae).toLowerCase()}function U(){const ie=this.stack[this.stack.length-1],ae=this.resume(),B=this.stack[this.stack.length-1];if(this.data.inReference=!0,B.type==="link"){const Be=ie.children;B.children=Be}else B.alt=ae}function z(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.url=ie}function H(){const ie=this.resume(),ae=this.stack[this.stack.length-1];ae.title=ie}function G(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function W(ie){const ae=this.resume(),B=this.stack[this.stack.length-1];B.label=ae,B.identifier=Nc(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function q(ie){this.data.characterReferenceType=ie.type}function $(ie){const ae=this.sliceSerialize(ie),B=this.data.characterReferenceType;let Be;B?(Be=I3(ae,B==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=Id(ae);const lt=this.stack[this.stack.length-1];lt.value+=Be}function Z(ie){const ae=this.stack.pop();ae.position.end=Bs(ie.end)}function X(ie){E.call(this,ie);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(ie)}function Q(ie){E.call(this,ie);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(ie)}function re(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oe(){return{type:"emphasis",children:[]}}function Pe(){return{type:"heading",depth:0,children:[]}}function Le(){return{type:"break"}}function Ge(){return{type:"html",value:""}}function st(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function Ye(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function Ne(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function hn(){return{type:"paragraph",children:[]}}function qt(){return{type:"strong",children:[]}}function yt(){return{type:"text",value:""}}function qi(){return{type:"thematicBreak"}}}function Bs(t){return{line:t.line,column:t.column,offset:t.offset}}function j3(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?j3(t,r):mte(t,r)}}function mte(t,e){let n;for(n in e)if(P3.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function ej(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+fi({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+fi({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fi({start:e.start,end:e.end})+") is still open")}function gte(t){const e=this;e.parser=n;function n(r){return pte(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function yte(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function xte(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Ate(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function bte(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wte(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ste(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=bh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function _te(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Tte(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function M3(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Cte(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return M3(t,e);const i={src:bh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function Ite(t,e){const n={src:bh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Ete(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kte(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return M3(t,e);const i={href:bh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function Pte(t,e){const n={href:bh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function jte(t,e,n){const r=t.all(e),i=n?Mte(n):D3(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let c;h&&h.type==="element"&&h.tagName==="p"?c=h:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function Mte(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=D3(n[r])}return e}function D3(t){const e=t.spread;return e??t.children.length>1}function Dte(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Lte(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nte(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function zte(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const L3=z3("end"),N3=z3("start");function z3(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function R3(t){const e=N3(t),n=L3(t);if(e&&n)return{start:e,end:n}}function Rte(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=N3(e.children[1]),l=L3(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Ote(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const c=e.children[l],f={},p=s?s[l]:void 0;p&&(f.align=p);let v={type:"element",tagName:a,properties:f,children:[]};c&&(v.children=t.all(c),t.patch(c,v),v=t.applyData(c,v)),u.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function Fte(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const tj=9,nj=32;function Bte(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(rj(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(rj(e.slice(i),i>0,!1)),a.join("")}function rj(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===tj||a===nj;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===tj||a===nj;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Vte(t,e){const n={type:"text",value:Bte(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Hte(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Gte={blockquote:yte,break:xte,code:Ate,delete:bte,emphasis:wte,footnoteReference:Ste,heading:_te,html:Tte,imageReference:Cte,image:Ite,inlineCode:Ete,linkReference:kte,link:Pte,listItem:jte,list:Dte,paragraph:Lte,root:Nte,strong:zte,table:Rte,tableCell:Fte,tableRow:Ote,text:Vte,thematicBreak:Hte,toml:Av,yaml:Av,definition:Av,footnoteDefinition:Av};function Av(){}const O3=-1,z0=0,Xg=1,Zg=2,JT=3,KT=4,QT=5,eC=6,F3=7,B3=8,ij=typeof self=="object"?self:globalThis,Ute=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case z0:case O3:return n(s,i);case Xg:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Zg:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case JT:return n(new Date(s),i);case KT:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case QT:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case eC:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case F3:{const{name:o,message:l}=s;return n(new ij[o](l),i)}case B3:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new ij[a](s),i)};return r},aj=t=>Ute(new Map,t)(0),Vu="",{toString:Wte}={},{keys:$te}=Object,Xh=t=>{const e=typeof t;if(e!=="object"||!t)return[z0,e];const n=Wte.call(t).slice(8,-1);switch(n){case"Array":return[Xg,Vu];case"Object":return[Zg,Vu];case"Date":return[JT,Vu];case"RegExp":return[KT,Vu];case"Map":return[QT,Vu];case"Set":return[eC,Vu]}return n.includes("Array")?[Xg,n]:n.includes("Error")?[F3,n]:[Zg,n]},bv=([t,e])=>t===z0&&(e==="function"||e==="symbol"),Yte=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Xh(s);switch(o){case z0:{let h=s;switch(l){case"bigint":o=B3,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([O3],s)}return i([o,h],s)}case Xg:{if(l)return i([l,[...s]],s);const h=[],c=i([o,h],s);for(const f of s)h.push(a(f));return c}case Zg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],c=i([o,h],s);for(const f of $te(s))(t||!bv(Xh(s[f])))&&h.push([a(f),a(s[f])]);return c}case JT:return i([o,s.toISOString()],s);case KT:{const{source:h,flags:c}=s;return i([o,{source:h,flags:c}],s)}case QT:{const h=[],c=i([o,h],s);for(const[f,p]of s)(t||!(bv(Xh(f))||bv(Xh(p))))&&h.push([a(f),a(p)]);return c}case eC:{const h=[],c=i([o,h],s);for(const f of s)(t||!bv(Xh(f)))&&h.push(a(f));return c}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},sj=(t,{json:e,lossy:n}={})=>{const r=[];return Yte(!(e||n),!!e,new Map,r)(t),r},Jg=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?aj(sj(t,e)):structuredClone(t):(t,e)=>aj(sj(t,e));function qte(t,e){const n=[{type:"text",value:"â©"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Xte(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Zte(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||qte,r=t.options.footnoteBackLabel||Xte,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),c=String(u.identifier).toUpperCase(),f=bh(c.toLowerCase());let p=0;const v=[],m=t.footnoteCounts.get(c);for(;m!==void 0&&++p<=m;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const g=h[h.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const x=g.children[g.children.length-1];x&&x.type==="text"?x.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...v)}else h.push(...v);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Jg(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const V3=function(t){if(t==null)return ene;if(typeof t=="function")return R0(t);if(typeof t=="object")return Array.isArray(t)?Jte(t):Kte(t);if(typeof t=="string")return Qte(t);throw new Error("Expected function, string, or object as test")};function Jte(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=V3(t[n]);return R0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Kte(t){const e=t;return R0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Qte(t){return R0(e);function e(n){return n&&n.type===t}}function R0(t){return e;function e(n,r,i){return!!(tne(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ene(){return!0}function tne(t){return t!==null&&typeof t=="object"&&"type"in t}const H3=[],nne=!0,oj=!1,rne="skip";function ine(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=V3(i),s=r?-1:1;o(t,void 0,[])();function o(l,u,h){const c=l&&typeof l=="object"?l:{};if(typeof c.type=="string"){const p=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=H3,v,m,g;if((!e||a(l,u,h[h.length-1]||void 0))&&(p=ane(n(l,h)),p[0]===oj))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==rne)for(m=(r?y.children.length:-1)+s,g=h.concat(y);m>-1&&m<y.children.length;){const x=y.children[m];if(v=o(x,m,g)(),v[0]===oj)return v;m=typeof v[1]=="number"?v[1]:m+s}}return p}}}function ane(t){return Array.isArray(t)?t:typeof t=="number"?[nne,t]:t==null?H3:[t]}function tC(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),ine(t,a,o,i);function o(l,u){const h=u[u.length-1],c=h?h.children.indexOf(l):void 0;return s(l,c,h)}}const OS={}.hasOwnProperty,sne={};function one(t,e){const n=e||sne,r=new Map,i=new Map,a=new Map,s={...Gte,...n.handlers},o={all:u,applyData:une,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:lne,wrap:hne};return tC(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const c=h.type==="definition"?r:i,f=String(h.identifier).toUpperCase();c.has(f)||c.set(f,h)}}),o;function l(h,c){const f=h.type,p=o.handlers[f];if(OS.call(o.handlers,f)&&p)return p(o,h,c);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in h){const{children:m,...g}=h,y=Jg(g);return y.children=o.all(h),y}return Jg(h)}return(o.options.unknownHandler||cne)(o,h,c)}function u(h){const c=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const v=o.one(f[p],h);if(v){if(p&&f[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=lj(v.value)),!Array.isArray(v)&&v.type==="element")){const m=v.children[0];m&&m.type==="text"&&(m.value=lj(m.value))}Array.isArray(v)?c.push(...v):c.push(v)}}}return c}}function lne(t,e){t.position&&(e.position=R3(t))}function une(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Jg(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function cne(t,e){const n=e.data||{},r="value"in e&&!(OS.call(n,"hProperties")||OS.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function hne(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function lj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function uj(t,e){const n=one(t,e),r=n.one(t,void 0),i=Zte(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function fne(t,e){return t&&"run"in t?async function(n,r){const i=uj(n,{file:r,...e});await t.run(i,r)}:function(n,r){return uj(n,{file:r,...e||t})}}function cj(t){if(t)throw t}var Zm=Object.prototype.hasOwnProperty,G3=Object.prototype.toString,hj=Object.defineProperty,fj=Object.getOwnPropertyDescriptor,dj=function(e){return typeof Array.isArray=="function"?Array.isArray(e):G3.call(e)==="[object Array]"},pj=function(e){if(!e||G3.call(e)!=="[object Object]")return!1;var n=Zm.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Zm.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Zm.call(e,i)},vj=function(e,n){hj&&n.name==="__proto__"?hj(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},mj=function(e,n){if(n==="__proto__")if(Zm.call(e,n)){if(fj)return fj(e,n).value}else return;return e[n]},dne=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=mj(o,n),i=mj(e,n),o!==i&&(h&&i&&(pj(i)||(a=dj(i)))?(a?(a=!1,s=r&&dj(r)?r:[]):s=r&&pj(r)?r:{},vj(o,{name:n,newValue:t(h,s,i)})):typeof i<"u"&&vj(o,{name:n,newValue:i}));return o};const vA=q1(dne);function FS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pne(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const h=t[++a];let c=-1;if(l){s(l);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,h?vne(h,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function vne(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const h=u;if(o&&n)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const mne=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},gne={}.hasOwnProperty;class nC extends mne{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pne()}copy(){const e=new nC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(vA(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(yA("data",this.frozen),this.namespace[e]=n,this):gne.call(this.namespace,e)&&this.namespace[e]||void 0:e?(yA("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wv(e),r=this.parser||this.Parser;return mA("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),mA("process",this.parser||this.Parser),gA("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=wv(e),l=r.parse(o);r.run(l,o,function(h,c,f){if(h||!c||!f)return u(h);const p=c,v=r.stringify(p,f);Ane(v)?f.value=v:f.result=v,u(h,f)});function u(h,c){h||!c?s(h):a?a(c):n(void 0,c)}}}processSync(e){let n=!1,r;return this.freeze(),mA("processSync",this.parser||this.Parser),gA("processSync",this.compiler||this.Compiler),this.process(e,i),yj("processSync","process",n),r;function i(a,s){n=!0,cj(a),r=s}}run(e,n,r){gj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=wv(n);i.run(e,l,u);function u(h,c,f){const p=c||e;h?o(h):s?s(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),yj("runSync","run",r),i;function a(s,o){cj(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=wv(n),i=this.compiler||this.Compiler;return gA("stringify",i),gj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(yA("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...c]=u;l(h,c)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=vA(!0,i.settings,u.settings))}function o(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const c=u[h];a(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let c=-1,f=-1;for(;++c<r.length;)if(r[c][0]===u){f=c;break}if(f===-1)r.push([u,...h]);else if(h.length>0){let[p,...v]=h;const m=r[f][1];FS(m)&&FS(p)&&(p=vA(!0,m,p)),r[f]=[u,p,...v]}}}}const yne=new nC().freeze();function mA(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function gA(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function yA(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gj(t){if(!FS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function yj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wv(t){return xne(t)?t:new IV(t)}function xne(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Ane(t){return typeof t=="string"||bne(t)}function bne(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}class wne{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:e=>this.replacement=e}}replace(e,n,r,i){e&&n&&(r!=null?e[n][r]=i:e[n]=i)}remove(e,n,r){e&&n&&(r!=null?e[n].splice(r,1):delete e[n])}}class Sne extends wne{constructor(e,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r},this.enter=e,this.leave=n}visit(e,n,r,i){if(e){if(this.enter){const s=this.should_skip,o=this.should_remove,l=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,n,r,i),this.replacement&&(e=this.replacement,this.replace(n,r,i,e)),this.should_remove&&this.remove(n,r,i);const u=this.should_skip,h=this.should_remove;if(this.should_skip=s,this.should_remove=o,this.replacement=l,u)return e;if(h)return null}let a;for(a in e){const s=e[a];if(s&&typeof s=="object")if(Array.isArray(s)){const o=s;for(let l=0;l<o.length;l+=1){const u=o[l];xj(u)&&(this.visit(u,e,a,l)||l--)}}else xj(s)&&this.visit(s,e,a,null)}if(this.leave){const s=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,n,r,i),this.replacement&&(e=this.replacement,this.replace(n,r,i,e)),this.should_remove&&this.remove(n,r,i);const l=this.should_remove;if(this.replacement=s,this.should_remove=o,l)return null}}return e}}function xj(t){return t!==null&&typeof t=="object"&&"type"in t&&typeof t.type=="string"}function kd(t,{enter:e,leave:n}){return new Sne(e,n).visit(t,null)}function U3(t,e){if(t.type==="MemberExpression")return!t.computed&&U3(t.object,t);if(t.type==="Identifier"){if(!e)return!0;switch(e.type){case"MemberExpression":return e.computed||t===e.object;case"MethodDefinition":return e.computed;case"PropertyDefinition":return e.computed||t===e.value;case"Property":return e.computed||t===e.value;case"ExportSpecifier":case"ImportSpecifier":return t===e.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}function W3(t){const e=new WeakMap,n=new Map,r=new Hu(null,!1),i=[];let a=r;kd(t,{enter(s,o){switch(s.type){case"Identifier":o&&U3(s,o)&&i.push([a,s]);break;case"ImportDeclaration":s.specifiers.forEach(l=>{a.declarations.set(l.local.name,l)});break;case"FunctionExpression":case"FunctionDeclaration":case"ArrowFunctionExpression":s.type==="FunctionDeclaration"?(s.id&&a.declarations.set(s.id.name,s),e.set(s,a=new Hu(a,!1))):(e.set(s,a=new Hu(a,!1)),s.type==="FunctionExpression"&&s.id&&a.declarations.set(s.id.name,s)),s.params.forEach(l=>{BS(l).forEach(u=>{a.declarations.set(u,s)})});break;case"ForStatement":case"ForInStatement":case"ForOfStatement":e.set(s,a=new Hu(a,!0));break;case"BlockStatement":e.set(s,a=new Hu(a,!0));break;case"ClassDeclaration":case"VariableDeclaration":a.add_declaration(s);break;case"CatchClause":e.set(s,a=new Hu(a,!0)),s.param&&BS(s.param).forEach(l=>{s.param&&a.declarations.set(l,s.param)});break}},leave(s){e.has(s)&&a!==null&&a.parent&&(a=a.parent)}});for(let s=i.length-1;s>=0;--s){const[o,l]=i[s];o.references.has(l.name)||$3(o,l.name),o.find_owner(l.name)||n.set(l.name,l)}return{map:e,scope:r,globals:n}}function $3(t,e){t.references.add(e),t.parent&&$3(t.parent,e)}class Hu{constructor(e,n){this.parent=e,this.block=n,this.declarations=new Map,this.initialised_declarations=new Set,this.references=new Set}add_declaration(e){if(e.type==="VariableDeclaration")if(e.kind==="var"&&this.block&&this.parent)this.parent.add_declaration(e);else{const n=r=>{BS(r.id).forEach(i=>{this.declarations.set(i,e),r.init&&this.initialised_declarations.add(i)})};e.declarations.forEach(n)}else e.id&&this.declarations.set(e.id.name,e)}find_owner(e){return this.declarations.has(e)?this:this.parent&&this.parent.find_owner(e)}has(e){return this.declarations.has(e)||!!this.parent&&this.parent.has(e)}}function BS(t){return dc(t).map(e=>e.name)}function dc(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let n=t;for(;n.type==="MemberExpression";)n=n.object;e.push(n);break;case"ObjectPattern":const r=a=>{a.type==="RestElement"?dc(a.argument,e):dc(a.value,e)};t.properties.forEach(r);break;case"ArrayPattern":const i=a=>{a&&dc(a,e)};t.elements.forEach(a=>{a&&i(a)});break;case"RestElement":dc(t.argument,e);break;case"AssignmentPattern":dc(t.left,e);break}return e}function io(t,e){const n=["start","end","loc","range","comments"];let r=-1;for(;++r<n.length;){const i=n[r];i in t&&(e[i]=t[i])}}function _ne(t){return t.type==="FunctionDeclaration"?{...t,type:"FunctionExpression"}:(t.type,{...t,type:"ClassExpression"})}function Tne(t){return t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"||t.type==="VariableDeclaration"}function rC(t,e){let n=-1;const r=[],i=[];let a;for(;++n<t.length;){const s=t[n];s.type==="ImportNamespaceSpecifier"?a=s:i.push(s)}if(a){const s={type:"VariableDeclarator",id:a.local,init:e};io(a,s),r.push(s)}return r.push({type:"VariableDeclarator",id:{type:"ObjectPattern",properties:i.map(function(s){let o=s.type==="ImportSpecifier"?s.imported:s.type==="ExportSpecifier"?s.exported:{type:"Identifier",name:"default"},l=s.local;s.type==="ExportSpecifier"&&(l=o,o=s.local);const u={type:"Property",kind:"init",shorthand:o.name===l.name,method:!1,computed:!1,key:o,value:l};return io(s,u),u})},init:a?{type:"Identifier",name:a.local.name}:e}),r}function _o(t){let e=-1,n;for(;++e<t.length;){const r=t[e],i=typeof r=="string"&&_a(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};n=n?{type:"MemberExpression",object:n,property:i,computed:i.type==="Literal",optional:!1}:i}return n.type,n}function Aj(t){let e=-1,n;for(;++e<t.length;){const r=t[e];typeof r=="string"&&_a(r,{jsx:!0});const i={type:"JSXIdentifier",name:r};n=n?{type:"JSXMemberExpression",object:n,property:i}:i}return n}function Cne(t){const e=t.baseUrl||void 0,n=typeof e=="object"?e.href:e,r=t.outputFormat||"program",i=t.pragma===void 0?"React.createElement":t.pragma,a=t.pragmaFrag===void 0?"React.Fragment":t.pragmaFrag,s=t.pragmaImportSource||"react",o=t.jsxImportSource||"react",l=t.jsxRuntime||"automatic";return function(h,c){const f=[],p=[];let v=0,m,g,y;if(l==="classic"&&a&&Sv(h,"@jsxFrag",a),l==="classic"&&i&&Sv(h,"@jsx",i),l==="automatic"&&o&&Sv(h,"@jsxImportSource",o),l&&Sv(h,"@jsxRuntime",l),l==="classic"&&s){if(!i)throw new Error("Missing `pragma` in classic runtime with `pragmaImportSource`");S({type:"ImportDeclaration",specifiers:[{type:"ImportDefaultSpecifier",local:{type:"Identifier",name:i.split(".")[0]}}],source:{type:"Literal",value:s}})}for(y of h.body)if(y.type==="ExportDefaultDeclaration")m&&c.fail("Unexpected duplicate layout, expected a single layout (previous: "+fi(ss(m))+")",{ancestors:[h,y],place:ss(y),ruleId:"duplicate-layout",source:"recma-document"}),m=y,p.push({type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"MDXLayout"},init:Tne(y.declaration)?_ne(y.declaration):y.declaration}]});else if(y.type==="ExportNamedDeclaration"&&y.source){const w=y.source;y.specifiers=y.specifiers.filter(function(_){if(_.exported.name==="default"){m&&c.fail("Unexpected duplicate layout, expected a single layout (previous: "+fi(ss(m))+")",{ancestors:[h,y,_],place:ss(y),ruleId:"duplicate-layout",source:"recma-document"}),m=_;const T=[];if(_.local.name==="default")T.push({type:"ImportDefaultSpecifier",local:{type:"Identifier",name:"MDXLayout"}});else{const k={type:"ImportSpecifier",imported:_.local,local:{type:"Identifier",name:"MDXLayout"}};io(_.local,k),T.push(k)}const C={type:"Literal",value:w.value};io(w,C);const E={type:"ImportDeclaration",specifiers:T,source:C};return io(_,E),S(E),!1}return!0}),y.specifiers.length>0&&b(y)}else y.type==="ExportNamedDeclaration"||y.type==="ExportAllDeclaration"?b(y):y.type==="ImportDeclaration"?S(y):y.type==="ExpressionStatement"&&(y.expression.type==="JSXElement"||y.expression.type==="JSXFragment")?(g=!0,p.push(...u(y.expression,r,!!m))):p.push(y);g||p.push(...u(void 0,r,!!m)),f.push(["MDXContent","default"]),r==="function-body"&&p.push({type:"ReturnStatement",argument:{type:"ObjectExpression",properties:[...Array.from({length:v}).map(function(w,_){return{type:"SpreadElement",argument:{type:"Identifier",name:"_exportAll"+(_+1)}}}),...f.map(function(w){return{type:"Property",kind:"init",method:!1,computed:!1,shorthand:typeof w=="string",key:{type:"Identifier",name:typeof w=="string"?w:w[1]},value:{type:"Identifier",name:typeof w=="string"?w:w[0]}}})]}}),h.body=p;let x=!1,A=!1;(n||r==="function-body")&&kd(h,{enter(w){if((w.type==="ExportAllDeclaration"||w.type==="ExportNamedDeclaration"||w.type==="ImportDeclaration")&&w.source){let _=w.source.value;try{new URL(_)}catch{(_.startsWith("/")||_.startsWith("./")||_.startsWith("../"))&&(_=new URL(_,n).href)}const T={type:"Literal",value:_};io(w.source,T),w.source=T;return}if(w.type==="ImportExpression"){A=!0;const _={type:"CallExpression",callee:{type:"Identifier",name:"_resolveDynamicMdxSpecifier"},arguments:[w.source],optional:!1};w.source=_;return}if(w.type==="MemberExpression"&&"object"in w&&w.object.type==="MetaProperty"&&w.property.type==="Identifier"&&w.object.meta.name==="import"&&w.object.property.name==="meta"&&w.property.name==="url"){x=!0;const _={type:"Identifier",name:"_importMetaUrl"};io(w,_),this.replace(_)}}}),A&&(n||(x=!0),h.body.push(Ine(n?{type:"Literal",value:n}:{type:"Identifier",name:"_importMetaUrl"}))),x&&h.body.unshift(...Ene());function b(w){if(w.type==="ExportNamedDeclaration"){w.declaration&&f.push(...W3(w.declaration).scope.declarations.keys());for(y of w.specifiers)f.push(y.exported.name)}S(w)}function S(w){let _,T;if(r==="function-body")if(w.type==="ImportDeclaration"||w.type==="ExportAllDeclaration"||w.type==="ExportNamedDeclaration"&&w.source){w.source;const C={type:"ImportExpression",source:w.source};io(w,C),T={type:"AwaitExpression",argument:C},(w.type==="ImportDeclaration"||w.type==="ExportNamedDeclaration")&&w.specifiers.length===0?_={type:"ExpressionStatement",expression:T}:_={type:"VariableDeclaration",kind:"const",declarations:w.type==="ExportAllDeclaration"?[{type:"VariableDeclarator",id:{type:"Identifier",name:"_exportAll"+ ++v},init:T}]:rC(w.specifiers,T)}}else if(w.declaration)_=w.declaration;else{const C=w.specifiers.filter(function(E){return E.local.name!==E.exported.name}).map(function(E){return{type:"VariableDeclarator",id:E.exported,init:E.local}});C.length>0&&(_={type:"VariableDeclaration",kind:"const",declarations:C})}else _=w;_&&p.push(_)}};function u(h,c,f){let v={type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"MDXLayout"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!1},closingElement:{type:"JSXClosingElement",name:{type:"JSXIdentifier",name:"MDXLayout"}},children:[{type:"JSXElement",openingElement:{type:"JSXOpeningElement",name:{type:"JSXIdentifier",name:"_createMdxContent"},attributes:[{type:"JSXSpreadAttribute",argument:{type:"Identifier",name:"props"}}],selfClosing:!0},closingElement:null,children:[]}]};f||(v={type:"ConditionalExpression",test:{type:"Identifier",name:"MDXLayout"},consequent:v,alternate:{type:"CallExpression",callee:{type:"Identifier",name:"_createMdxContent"},arguments:[{type:"Identifier",name:"props"}],optional:!1}});let m=h||{type:"Identifier",name:"undefined"};m.type==="JSXFragment"&&m.children.length===1&&m.children[0].type==="JSXElement"&&(m=m.children[0]);let g=!1;kd(m,{enter(x){if(x.type==="ArrowFunctionExpression"||x.type==="FunctionDeclaration"||x.type==="FunctionExpression")return this.skip();(x.type==="AwaitExpression"||x.type==="ForOfStatement"&&x.await)&&(g=!0)}});const y={type:"FunctionDeclaration",id:{type:"Identifier",name:"MDXContent"},params:[{type:"AssignmentPattern",left:{type:"Identifier",name:"props"},right:{type:"ObjectExpression",properties:[]}}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:v}]}};return[{type:"FunctionDeclaration",async:g,id:{type:"Identifier",name:"_createMdxContent"},params:[{type:"Identifier",name:"props"}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:m}]}},c==="program"?{type:"ExportDefaultDeclaration",declaration:y}:y]}}function Sv(t,e,n){var r;(r=t.comments)==null||r.unshift({type:"Block",value:e+" "+n,data:{_mdxIsPragmaComment:!0}})}function Ine(t){return{type:"FunctionDeclaration",id:{type:"Identifier",name:"_resolveDynamicMdxSpecifier"},generator:!1,async:!1,params:[{type:"Identifier",name:"d"}],body:{type:"BlockStatement",body:[{type:"IfStatement",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:"d"}},operator:"!==",right:{type:"Literal",value:"string"}},consequent:{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}},alternate:null},{type:"TryStatement",block:{type:"BlockStatement",body:[{type:"ExpressionStatement",expression:{type:"NewExpression",callee:{type:"Identifier",name:"URL"},arguments:[{type:"Identifier",name:"d"}]}},{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}}]},handler:{type:"CatchClause",param:null,body:{type:"BlockStatement",body:[]}},finalizer:null},{type:"IfStatement",test:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"CallExpression",callee:_o(["d","startsWith"]),arguments:[{type:"Literal",value:"/"}],optional:!1},operator:"||",right:{type:"CallExpression",callee:_o(["d","startsWith"]),arguments:[{type:"Literal",value:"./"}],optional:!1}},operator:"||",right:{type:"CallExpression",callee:_o(["d","startsWith"]),arguments:[{type:"Literal",value:"../"}],optional:!1}},consequent:{type:"ReturnStatement",argument:{type:"MemberExpression",object:{type:"NewExpression",callee:{type:"Identifier",name:"URL"},arguments:[{type:"Identifier",name:"d"},t]},property:{type:"Identifier",name:"href"},computed:!1,optional:!1}},alternate:null},{type:"ReturnStatement",argument:{type:"Identifier",name:"d"}}]}}}function Ene(){return[{type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"_importMetaUrl"},init:_o(["arguments",0,"baseUrl"])}],kind:"const"},{type:"IfStatement",test:{type:"UnaryExpression",operator:"!",prefix:!0,argument:{type:"Identifier",name:"_importMetaUrl"}},consequent:{type:"ThrowStatement",argument:{type:"NewExpression",callee:{type:"Identifier",name:"Error"},arguments:[{type:"Literal",value:"Unexpected missing `options.baseUrl` needed to support `export â¦ from`, `import`, or `import.meta.url` when generating `function-body`"}]}},alternate:null}]}const xA=/@(jsx|jsxFrag|jsxImportSource|jsxRuntime)\s+(\S+)/g;function kne(t,e){const n=e||{};let r=n.runtime==="automatic";const i={},a={};kd(t,{enter(s){if(s.type==="Program"){const o=s.comments||[];let l=-1;for(;++l<o.length;){xA.lastIndex=0;let u=xA.exec(o[l].value);for(;u;)i[u[1]]=u[2],u=xA.exec(o[l].value)}if(i.jsxRuntime)if(i.jsxRuntime==="automatic"){if(r=!0,i.jsx)throw new Error("Unexpected `@jsx` pragma w/ automatic runtime");if(i.jsxFrag)throw new Error("Unexpected `@jsxFrag` pragma w/ automatic runtime")}else if(i.jsxRuntime==="classic"){if(r=!1,i.jsxImportSource)throw new Error("Unexpected `@jsxImportSource` w/ classic runtime")}else throw new Error("Unexpected `jsxRuntime` `"+i.jsxRuntime+"`, expected `automatic` or `classic`")}},leave(s){if(s.type==="Program"){const m=[];if(a.fragment&&m.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"Fragment"},local:{type:"Identifier",name:"_Fragment"}}),a.jsx&&m.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"jsx"},local:{type:"Identifier",name:"_jsx"}}),a.jsxs&&m.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"jsxs"},local:{type:"Identifier",name:"_jsxs"}}),a.jsxDEV&&m.push({type:"ImportSpecifier",imported:{type:"Identifier",name:"jsxDEV"},local:{type:"Identifier",name:"_jsxDEV"}}),m.length>0){let g=0;for(;g<s.body.length;){const y=s.body[g];if("directive"in y&&y.directive)g++;else break}s.body.splice(g,0,{type:"ImportDeclaration",specifiers:m,source:{type:"Literal",value:(i.jsxImportSource||n.importSource||"react")+(n.development?"/jsx-dev-runtime":"/jsx-runtime")}})}}if(s.type!=="JSXElement"&&s.type!=="JSXFragment")return;const o=[];let l=-1;for(;++l<s.children.length;){const m=s.children[l];if(m.type==="JSXExpressionContainer")m.expression.type!=="JSXEmptyExpression"&&o.push(m.expression);else if(m.type==="JSXText"){const g=m.value.replace(/\t/g," ").replace(/ *(\r?\n|\r) */g,`
`).replace(/\n+/g,`
`).replace(/\n+$/,"").replace(/^\n+/,"").replace(/\n/g," ");if(g){const y={type:"Literal",value:g};td(m,y),o.push(y)}}else m.type!=="JSXElement"&&m.type!=="JSXFragment"&&m.type,o.push(m)}let u;const h=[];let c=[],f;if(s.type==="JSXElement"){if(u=Kg(s.openingElement.name),u.type==="Identifier"&&/^[a-z]/.test(u.name)){const x={type:"Literal",value:u.name};td(u,x),u=x}let m;const g=s.openingElement.attributes;let y=-1;for(;++y<g.length;){const x=g[y];if(x.type==="JSXSpreadAttribute")x.argument.type==="ObjectExpression"?h.push(...x.argument.properties):h.push({type:"SpreadElement",argument:x.argument}),m=!0;else{const A=Pne(x);if(r&&A.key.type==="Identifier"&&A.key.name==="key"){if(m)throw new Error("Expected `key` to come before any spread expressions");const b=A.value;b.type!=="AssignmentPattern"&&b.type!=="ArrayPattern"&&b.type!=="ObjectPattern"&&b.type,f=b}else h.push(A)}}}else r?(a.fragment=!0,u={type:"Identifier",name:"_Fragment"}):u=bj(i.jsxFrag||n.pragmaFrag||"React.Fragment");r?o.length>0&&h.push({type:"Property",key:{type:"Identifier",name:"children"},value:o.length>1?{type:"ArrayExpression",elements:o}:o[0],kind:"init",method:!1,shorthand:!1,computed:!1}):c=o;let p;if(r){c.push({type:"ObjectExpression",properties:h}),f?c.push(f):n.development&&c.push({type:"Identifier",name:"undefined"});const m=o.length>1;if(n.development){a.jsxDEV=!0,p={type:"Identifier",name:"_jsxDEV"},c.push({type:"Literal",value:m});const g={type:"ObjectExpression",properties:[{type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:"fileName"},value:{type:"Literal",value:n.filePath||"<source.js>"}}]};s.loc&&g.properties.push({type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:"lineNumber"},value:{type:"Literal",value:s.loc.start.line}},{type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:"columnNumber"},value:{type:"Literal",value:s.loc.start.column+1}}),c.push(g,{type:"ThisExpression"})}else m?(a.jsxs=!0,p={type:"Identifier",name:"_jsxs"}):(a.jsx=!0,p={type:"Identifier",name:"_jsx"})}else h.length>0?c.unshift({type:"ObjectExpression",properties:h}):c.length>0&&c.unshift({type:"Literal",value:null}),p=bj(i.jsx||n.pragma||"React.createElement");c.unshift(u);const v={type:"CallExpression",callee:p,arguments:c,optional:!1};td(s,v),this.replace(v)}})}function Pne(t){let e;if(t.value)if(t.value.type==="JSXExpressionContainer"){const r=t.value.expression;r.type,e=r}else{const r=t.value;r.type!=="JSXElement"&&r.type,e=r,delete e.raw}else e={type:"Literal",value:!0};const n={type:"Property",key:Kg(t.name),value:e,kind:"init",method:!1,shorthand:!1,computed:!1};return td(t,n),n}function Kg(t){let e;if(t.type==="JSXMemberExpression"){const n=Kg(t.property);e={type:"MemberExpression",object:Kg(t.object),property:n,computed:n.type==="Literal",optional:!1}}else t.type==="JSXNamespacedName"?e={type:"Literal",value:t.namespace.name+":"+t.name.name}:e=_a(t.name)?{type:"Identifier",name:t.name}:{type:"Literal",value:t.name};return td(t,e),e}function bj(t){const e=t.split(".");let n=-1,r;for(;++n<e.length;){const i=_a(e[n])?{type:"Identifier",name:e[n]}:{type:"Literal",value:e[n]};r=r?{type:"MemberExpression",object:r,property:i,computed:!!(n&&i.type==="Literal"),optional:!1}:i}return r}function td(t,e){const n=["start","end","loc","range","comments"];let r=-1;for(;++r<n.length;){const i=n[r];i in t&&(e[i]=t[i])}}function jne(t){const{development:e,outputFormat:n}=t||{};return function(r,i){if(kne(r,{development:e,filePath:i.history[0]}),r.comments&&(r.comments=r.comments.filter(function(a){var s;return!((s=a.data)!=null&&s._mdxIsPragmaComment)})),n==="function-body"){let a=0;for(;a<r.body.length;){const o=r.body[a];if("directive"in o&&o.directive)a++;else break}const s=r.body[a];s&&s.type==="ImportDeclaration"&&typeof s.source.value=="string"&&/\/jsx-(dev-)?runtime$/.test(s.source.value)&&(r.body[a]={type:"VariableDeclaration",kind:"const",declarations:rC(s.specifiers,_o(["arguments",0]))})}}}function wj(t){let e=-1,n;for(;++e<t.length;){const r=t[e];n=n?{type:"BinaryExpression",left:n,operator:"+",right:r}:r}return n}function Mne(t){const{development:e,outputFormat:n,providerImportSource:r}=t;return function(i,a){const s=W3(i),o=[];let l=!1,u=!1,h;if(kd(i,{enter(c){const f=s.map.get(c);(c.type==="FunctionDeclaration"||c.type==="FunctionExpression"||c.type==="ArrowFunctionExpression")&&(o.push({components:[],idToInvalidComponentName:new Map,node:c,objects:[],references:{},tags:[]}),Gu(c,"MDXContent")&&f&&!AA(f,"MDXLayout")&&o[0].components.push("MDXLayout"));const p=o[0];if(!(!p||!Gu(p.node,"_createMdxContent")&&!r)&&(f&&(f.node=c,h=f),h&&c.type==="JSXElement")){let v=c.openingElement.name;if(v.type==="JSXMemberExpression"){const m=[];for(;v.type==="JSXMemberExpression";)m.unshift(v.property.name),v=v.object;m.unshift(v.name);const g=m.join("."),y=v.name,x=AA(h,y);if(!Object.hasOwn(p.references,g)){const A=h.parent;(!x||A&&A.node.type==="FunctionDeclaration"&&Gu(A.node,"_createMdxContent"))&&(p.references[g]={component:!0,node:c})}!p.objects.includes(y)&&!x&&p.objects.push(y)}else if(v.type!=="JSXNamespacedName"){if(_a(v.name)&&!/^[a-z]/.test(v.name)){const m=v.name;AA(h,m)||(m!=="MDXLayout"&&!Object.hasOwn(p.references,m)&&(p.references[m]={component:!0,node:c}),p.components.includes(m)||p.components.push(m))}else if(!(c.data&&c.data._mdxExplicitJsx)){const m=v.name;p.tags.includes(m)||p.tags.push(m);let g=["_components",m];if(_a(m)===!1){let y=p.idToInvalidComponentName.get(m);y===void 0&&(y=`_component${p.idToInvalidComponentName.size}`,p.idToInvalidComponentName.set(m,y)),g=[y]}c.openingElement.name=Aj(g),c.closingElement&&(c.closingElement.name=Aj(g))}}}},leave(c){const f=[],p=[],v=[],m=[];if(h&&h.node===c&&(h=h.parent),c.type==="FunctionDeclaration"||c.type==="FunctionExpression"||c.type==="ArrowFunctionExpression"){const g=c,y=o[o.length-1];let x;for(x of y.tags.sort())f.push({type:"Property",kind:"init",key:_a(x)?{type:"Identifier",name:x}:{type:"Literal",value:x},value:{type:"Literal",value:x},method:!1,shorthand:!1,computed:!1});p.push(...y.components);for(x of y.objects)p.includes(x)||p.push(x);p.sort();const A=[];if(f.length>0||p.length>0||y.idToInvalidComponentName.size>0){if(r&&(l=!0,v.push({type:"CallExpression",callee:{type:"Identifier",name:"_provideComponents"},arguments:[],optional:!1})),(Gu(y.node,"MDXContent")||Gu(y.node,"_createMdxContent"))&&v.push(_o(["props","components"])),f.length>0||v.length>1)for(const C of v)f.push({type:"SpreadElement",argument:C});let _=f.length>0?{type:"ObjectExpression",properties:f}:{type:"LogicalExpression",operator:"||",left:v[0],right:{type:"ObjectExpression",properties:[]}},T;if(p.length>0&&(T={type:"ObjectPattern",properties:p.map(function(C){return{type:"Property",kind:"init",key:{type:"Identifier",name:C==="MDXLayout"?"wrapper":C},value:{type:"Identifier",name:C},method:!1,shorthand:C!=="MDXLayout",computed:!1}})}),y.tags.length>0&&(m.push({type:"VariableDeclarator",id:{type:"Identifier",name:"_components"},init:_}),_={type:"Identifier",name:"_components"}),Gu(y.node,"_createMdxContent"))for(const[C,E]of[...y.idToInvalidComponentName].sort(function([k],[I]){return k.localeCompare(I)}))m.push({type:"VariableDeclarator",id:{type:"Identifier",name:E},init:{type:"MemberExpression",object:{type:"Identifier",name:"_components"},property:{type:"Literal",value:C},computed:!0,optional:!1}});T&&m.push({type:"VariableDeclarator",id:T,init:_}),m.length>0&&A.push({type:"VariableDeclaration",kind:"const",declarations:m})}let b;for(b in y.references)if(Object.hasOwn(y.references,b)){const _=b.split(".");let T=0;for(;++T<_.length;){const C=_.slice(0,T).join(".");Object.hasOwn(y.references,C)||(y.references[C]={component:!1,node:y.references[b].node})}}const S=Object.keys(y.references).sort();let w=-1;for(;++w<S.length;){const _=S[w],T=y.references[_],C=fi(ss(T.node)),E=[{type:"Literal",value:_},{type:"Literal",value:T.component}];u=!0,e&&C&&E.push({type:"Literal",value:C}),A.push({type:"IfStatement",test:{type:"UnaryExpression",operator:"!",prefix:!0,argument:_o(_.split("."))},consequent:{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"_missingMdxReference"},arguments:E,optional:!1}},alternate:void 0})}A.length>0&&(g.body.type!=="BlockStatement"&&(g.body={type:"BlockStatement",body:[{type:"ReturnStatement",argument:g.body}]}),g.body.body.unshift(...A)),o.pop()}}}),l&&r&&i.body.unshift(Dne(r,n)),u){const c=[{type:"Literal",value:"Expected "},{type:"ConditionalExpression",test:{type:"Identifier",name:"component"},consequent:{type:"Literal",value:"component"},alternate:{type:"Literal",value:"object"}},{type:"Literal",value:" `"},{type:"Identifier",name:"id"},{type:"Literal",value:"` to be defined: you likely forgot to import, pass, or provide it."}],f=[{type:"Identifier",name:"id"},{type:"Identifier",name:"component"}];e&&(c.push({type:"ConditionalExpression",test:{type:"Identifier",name:"place"},consequent:wj([{type:"Literal",value:"\nItâs referenced in your code at `"},{type:"Identifier",name:"place"},{type:"Literal",value:(a.path?"` in `"+a.path:"")+"`"}]),alternate:{type:"Literal",value:""}}),f.push({type:"Identifier",name:"place"})),i.body.push({type:"FunctionDeclaration",id:{type:"Identifier",name:"_missingMdxReference"},generator:!1,async:!1,params:f,body:{type:"BlockStatement",body:[{type:"ThrowStatement",argument:{type:"NewExpression",callee:{type:"Identifier",name:"Error"},arguments:[wj(c)]}}]}})}n==="function-body"&&i.body.unshift({type:"ExpressionStatement",expression:{type:"Literal",value:"use strict"},directive:"use strict"})}}function Dne(t,e){const n=[{type:"ImportSpecifier",imported:{type:"Identifier",name:"useMDXComponents"},local:{type:"Identifier",name:"_provideComponents"}}];return e==="function-body"?{type:"VariableDeclaration",kind:"const",declarations:rC(n,_o(["arguments",0]))}:{type:"ImportDeclaration",specifiers:n,source:{type:"Literal",value:t}}}function Gu(t,e){return!!(t&&"id"in t&&t.id&&t.id.name===e)}function AA(t,e){let n=t;for(;n;){if(n.declarations.has(e))return!0;n=n.parent||void 0}return!1}const{stringify:Lne}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");const _v={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Li=17,Nne={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Li,ClassExpression:Li,FunctionExpression:Li,ObjectExpression:Li,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Uu(t,e){const{generator:n}=t;if(t.write("("),e!=null&&e.length>0){n[e[0].type](e[0],t);const{length:r}=e;for(let i=1;i<r;i++){const a=e[i];t.write(", "),n[a.type](a,t)}}t.write(")")}function Y3(t,e,n,r){const i=t.expressionsPrecedence[e.type];if(i===Li)return!0;const a=t.expressionsPrecedence[n.type];return i!==a?!r&&i===15&&a===14&&n.operator==="**"||i<a:i!==13&&i!==14?!1:e.operator==="**"&&n.operator==="**"?!r:i===13&&a===13&&(e.operator==="??"||n.operator==="??")?!0:r?_v[e.operator]<=_v[n.operator]:_v[e.operator]<_v[n.operator]}function Tv(t,e,n,r){const{generator:i}=t;Y3(t,e,n,r)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function zne(t,e,n,r){const i=e.split(`
`),a=i.length-1;if(t.write(i[0].trim()),a>0){t.write(r);for(let s=1;s<a;s++)t.write(n+i[s].trim()+r);t.write(n+i[a].trim())}}function Vn(t,e,n,r){const{length:i}=e;for(let a=0;a<i;a++){const s=e[a];t.write(n),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),zne(t,s.value,n,r),t.write("*/"+r))}}function Rne(t){let e=t;for(;e!=null;){const{type:n}=e;if(n[0]==="C"&&n[1]==="a")return!0;if(n[0]==="M"&&n[1]==="e"&&n[2]==="m")e=e.object;else return!1}}function bA(t,e){const{generator:n}=t,{declarations:r}=e;t.write(e.kind+" ");const{length:i}=r;if(i>0){n.VariableDeclarator(r[0],t);for(let a=1;a<i;a++)t.write(", "),n.VariableDeclarator(r[a],t)}}let Sj,_j,Tj,Cj,Ij,Ej;const q3={Program(t,e){const n=e.indent.repeat(e.indentLevel),{lineEnd:r,writeComments:i}=e;i&&t.comments!=null&&Vn(e,t.comments,n,r);const a=t.body,{length:s}=a;for(let o=0;o<s;o++){const l=a[o];i&&l.comments!=null&&Vn(e,l.comments,n,r),e.write(n),this[l.type](l,e),e.write(r)}i&&t.trailingComments!=null&&Vn(e,t.trailingComments,n,r)},BlockStatement:Ej=function(t,e){const n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e,a=n+e.indent;e.write("{");const s=t.body;if(s!=null&&s.length>0){e.write(r),i&&t.comments!=null&&Vn(e,t.comments,a,r);const{length:o}=s;for(let l=0;l<o;l++){const u=s[l];i&&u.comments!=null&&Vn(e,u.comments,a,r),e.write(a),this[u.type](u,e),e.write(r)}e.write(n)}else i&&t.comments!=null&&(e.write(r),Vn(e,t.comments,a,r),e.write(n));i&&t.trailingComments!=null&&Vn(e,t.trailingComments,a,r),e.write("}"),e.indentLevel--},ClassBody:Ej,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){const n=e.expressionsPrecedence[t.expression.type];n===Li||n===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){const n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e;e.indentLevel++;const a=n+e.indent,s=a+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+r);const{cases:o}=t,{length:l}=o;for(let u=0;u<l;u++){const h=o[u];i&&h.comments!=null&&Vn(e,h.comments,a,r),h.test?(e.write(a+"case "),this[h.test.type](h.test,e),e.write(":"+r)):e.write(a+"default:"+r);const{consequent:c}=h,{length:f}=c;for(let p=0;p<f;p++){const v=c[p];i&&v.comments!=null&&Vn(e,v.comments,s,r),e.write(s),this[v.type](v,e),e.write(r)}}e.indentLevel-=2,e.write(n+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){const{handler:n}=t;n.param==null?e.write(" catch "):(e.write(" catch ("),this[n.param.type](n.param,e),e.write(") ")),this[n.body.type](n.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){const{init:n}=t;n.type[0]==="V"?bA(e,n):this[n.type](n,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:Sj=function(t,e){e.write(`for ${t.await?"await ":""}(`);const{left:n}=t;n.type[0]==="V"?bA(e,n):this[n.type](n,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:Sj,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:_j=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),Uu(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:_j,VariableDeclaration(t,e){bA(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");const{superClass:n}=t,{type:r}=n,i=e.expressionsPrecedence[r];(r[0]!=="C"||r[1]!=="l"||r[5]!=="E")&&(i===Li||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");const{specifiers:n}=t,{length:r}=n;let i=0;if(r>0){for(;i<r;){i>0&&e.write(", ");const a=n[i],s=a.type[6];if(s==="D")e.write(a.local.name,a),i++;else if(s==="N")e.write("* as "+a.local.name,a),i++;else break}if(i<r){for(e.write("{");;){const a=n[i],{name:s}=a.imported;if(e.write(s,a),s!==a.local.name&&e.write(" as "+a.local.name),++i<r)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");const{specifiers:n}=t,{length:r}=n;if(r>0)for(let i=0;;){const a=n[i],{name:s}=a.local;if(e.write(s,a),s!==a.exported.name&&e.write(" as "+a.exported.name),++i<r)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");const n=t.kind[0];(n==="g"||n==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),Uu(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);const{params:n}=t;n!=null&&(n.length===1&&n[0].type[0]==="I"?e.write(n[0].name,n[0]):Uu(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:Tj=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:Tj,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Tv(e,t.argument,t)},TemplateLiteral(t,e){const{quasis:n,expressions:r}=t;e.write("`");const{length:i}=r;for(let s=0;s<i;s++){const o=r[s],l=n[s];e.write(l.value.raw,l),e.write("${"),this[o.type](o,e),e.write("}")}const a=n[n.length-1];e.write(a.value.raw,a),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Tv(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:Ij=function(t,e){if(e.write("["),t.elements.length>0){const{elements:n}=t,{length:r}=n;for(let i=0;;){const a=n[i];if(a!=null&&this[a.type](a,e),++i<r)e.write(", ");else{a==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:Ij,ObjectExpression(t,e){const n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e,a=n+e.indent;if(e.write("{"),t.properties.length>0){e.write(r),i&&t.comments!=null&&Vn(e,t.comments,a,r);const s=","+r,{properties:o}=t,{length:l}=o;for(let u=0;;){const h=o[u];if(i&&h.comments!=null&&Vn(e,h.comments,a,r),e.write(a),this[h.type](h,e),++u<l)e.write(s);else break}e.write(r),i&&t.trailingComments!=null&&Vn(e,t.trailingComments,a,r),e.write(n+"}")}else i?t.comments!=null?(e.write(r),Vn(e,t.comments,a,r),t.trailingComments!=null&&Vn(e,t.trailingComments,a,r),e.write(n+"}")):t.trailingComments!=null?(e.write(r),Vn(e,t.trailingComments,a,r),e.write(n+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){if(t.static&&e.write("static "),t.computed&&e.write("["),this[t.key.type](t.key,e),t.computed&&e.write("]"),t.value==null){t.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[t.value.type](t.value,e),e.write(";")},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){const{properties:n}=t,{length:r}=n;for(let i=0;this[n[i].type](n[i],e),++i<r;)e.write(", ")}e.write("}")},SequenceExpression(t,e){Uu(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){const{operator:n,argument:r,argument:{type:i}}=t;e.write(n);const a=Y3(e,r,t);!a&&(n.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&r.prefix&&r.operator[0]===n&&(n==="+"||n==="-"))&&e.write(" "),a?(e.write(n.length>1?" (":"("),this[i](r,e),e.write(")")):this[i](r,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:Cj=function(t,e){const n=t.operator==="in";n&&e.write("("),Tv(e,t.left,t,!1),e.write(" "+t.operator+" "),Tv(e,t.right,t,!0),n&&e.write(")")},LogicalExpression:Cj,ConditionalExpression(t,e){const{test:n}=t,r=e.expressionsPrecedence[n.type];r===Li||r<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[n.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");const n=e.expressionsPrecedence[t.callee.type];n===Li||n<e.expressionsPrecedence.CallExpression||Rne(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),Uu(e,t.arguments)},CallExpression(t,e){const n=e.expressionsPrecedence[t.callee.type];n===Li||n<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),Uu(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){const n=e.expressionsPrecedence[t.object.type];n===Li||n<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(Lne(t.value),t)},RegExpLiteral(t,e){const{regex:n}=t;e.write(`/${n.pattern}/${n.flags}`,t)}},One={};class Fne{constructor(e){const n=e??One;this.output="",n.output!=null?(this.output=n.output,this.write=this.writeToStream):this.output="",this.generator=n.generator!=null?n.generator:q3,this.expressionsPrecedence=n.expressionsPrecedence!=null?n.expressionsPrecedence:Nne,this.indent=n.indent!=null?n.indent:"  ",this.lineEnd=n.lineEnd!=null?n.lineEnd:`
`,this.indentLevel=n.startingIndentLevel!=null?n.startingIndentLevel:0,this.writeComments=n.comments?n.comments:!1,n.sourceMap!=null&&(this.write=n.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=n.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:n.sourceMap.file||n.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,n){this.output+=e,this.map(e,n)}writeToStreamAndMap(e,n){this.output.write(e),this.map(e,n)}map(e,n){if(n!=null){const{type:a}=n;if(a[0]==="L"&&a[2]==="n"){this.column=0,this.line++;return}if(n.loc!=null){const{mapping:s}=this;s.original=n.loc.start,s.name=n.name,this.sourceMap.addMapping(s)}if(a[0]==="T"&&a[8]==="E"||a[0]==="L"&&a[1]==="i"&&typeof n.value=="string"){const{length:s}=e;let{column:o,line:l}=this;for(let u=0;u<s;u++)e[u]===`
`?(o=0,l++):o++;this.column=o,this.line=l;return}}const{length:r}=e,{lineEnd:i}=this;r>0&&(this.lineEndSize>0&&(i.length===1?e[r-1]===i:e.endsWith(i))?(this.line+=this.lineEndSize,this.column=0):this.column+=r)}toString(){return this.output}}function Bne(t,e){const n=new Fne(e);return n.generator[t.type](t,n),n.output}const Vne={};function kj(t,e){const{SourceMapGenerator:n,filePath:r,handlers:i}=e||Vne,a=n?new n({file:r||"<unknown>.js"}):void 0,s=Bne(t,{comments:!0,generator:{...q3,...i},sourceMap:a||void 0}),o=a?a.toJSON():void 0;return{value:s,map:o}}const Pj={JSXAttribute:Hne,JSXClosingElement:Gne,JSXClosingFragment:Une,JSXElement:Wne,JSXEmptyExpression:$ne,JSXExpressionContainer:Yne,JSXFragment:qne,JSXIdentifier:Xne,JSXMemberExpression:Zne,JSXNamespacedName:Jne,JSXOpeningElement:Kne,JSXOpeningFragment:Qne,JSXSpreadAttribute:ere,JSXText:tre};function Hne(t,e){this[t.name.type](t.name,e),t.value!==null&&t.value!==void 0&&(e.write("="),t.value.type==="Literal"?e.write('"'+X3(String(t.value.value)).replace(/"/g,"&quot;")+'"',t):this[t.value.type](t.value,e))}function Gne(t,e){e.write("</"),this[t.name.type](t.name,e),e.write(">")}function Une(t,e){e.write("</>",t)}function Wne(t,e){let n=-1;if(this[t.openingElement.type](t.openingElement,e),t.children)for(;++n<t.children.length;){const r=t.children[n];if(r.type==="JSXSpreadChild")throw new Error("JSX spread children are not supported");this[r.type](r,e)}t.closingElement&&this[t.closingElement.type](t.closingElement,e)}function $ne(){}function Yne(t,e){e.write("{"),this[t.expression.type](t.expression,e),e.write("}")}function qne(t,e){let n=-1;if(this[t.openingFragment.type](t.openingFragment,e),t.children)for(;++n<t.children.length;){const r=t.children[n];if(r.type==="JSXSpreadChild")throw new Error("JSX spread children are not supported");this[r.type](r,e)}this[t.closingFragment.type](t.closingFragment,e)}function Xne(t,e){e.write(t.name,t)}function Zne(t,e){this[t.object.type](t.object,e),e.write("."),this[t.property.type](t.property,e)}function Jne(t,e){this[t.namespace.type](t.namespace,e),e.write(":"),this[t.name.type](t.name,e)}function Kne(t,e){let n=-1;if(e.write("<"),this[t.name.type](t.name,e),t.attributes)for(;++n<t.attributes.length;)e.write(" "),this[t.attributes[n].type](t.attributes[n],e);e.write(t.selfClosing?" />":">")}function Qne(t,e){e.write("<>",t)}function ere(t,e){e.write("{"),this.SpreadElement(t,e),e.write("}")}function tre(t,e){e.write(X3(t.value).replace(/[<>{}]/g,nre),t)}function X3(t){return t.replace(/&(?=[#a-z])/gi,"&amp;")}function nre(t){return t==="<"?"&lt;":t===">"?"&gt;":t==="{"?"&#123;":"&#125;"}function rre(t){const e=this,{SourceMapGenerator:n}=t;e.compiler=r;function r(i,a){const s=n?kj(i,{SourceMapGenerator:n,filePath:a.path||"unknown.mdx",handlers:Pj}):kj(i,{handlers:Pj});return a.map=s.map,s.value}}function ire(t,e){const n={type:"Block",value:t.value};e.inherit(t,n),e.comments.push(n);const r={type:"JSXEmptyExpression",comments:[Object.assign({},n,{leading:!1,trailing:!0})]};e.patch(t,r);const i={type:"JSXExpressionContainer",expression:r};return e.patch(t,i),i}function are(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}class Ep{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Ep.prototype.property={};Ep.prototype.normal={};Ep.prototype.space=null;function Z3(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Ep(n,r,e)}function VS(t){return t.toLowerCase()}class Ai{constructor(e,n){this.property=e,this.attribute=n}}Ai.prototype.space=null;Ai.prototype.boolean=!1;Ai.prototype.booleanish=!1;Ai.prototype.overloadedBoolean=!1;Ai.prototype.number=!1;Ai.prototype.commaSeparated=!1;Ai.prototype.spaceSeparated=!1;Ai.prototype.commaOrSpaceSeparated=!1;Ai.prototype.mustUseProperty=!1;Ai.prototype.defined=!1;let sre=0;const Ze=Pu(),on=Pu(),J3=Pu(),ce=Pu(),zt=Pu(),zc=Pu(),_r=Pu();function Pu(){return 2**++sre}const HS=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:on,commaOrSpaceSeparated:_r,commaSeparated:zc,number:ce,overloadedBoolean:J3,spaceSeparated:zt},Symbol.toStringTag,{value:"Module"})),wA=Object.keys(HS);class iC extends Ai{constructor(e,n,r,i){let a=-1;if(super(e,n),jj(this,"space",i),typeof r=="number")for(;++a<wA.length;){const s=wA[a];jj(this,wA[a],(r&HS[s])===HS[s])}}}iC.prototype.defined=!0;function jj(t,e,n){n&&(t[e]=n)}const ore={}.hasOwnProperty;function wh(t){const e={},n={};let r;for(r in t.properties)if(ore.call(t.properties,r)){const i=t.properties[r],a=new iC(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[VS(r)]=r,n[VS(a.attribute)]=r}return new Ep(e,n,t.space)}const K3=wh({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Q3=wh({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function e5(t,e){return e in t?t[e]:e}function t5(t,e){return e5(t,e.toLowerCase())}const n5=wh({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:t5,properties:{xmlns:null,xmlnsXLink:null}}),r5=wh({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:on,ariaAutoComplete:null,ariaBusy:on,ariaChecked:on,ariaColCount:ce,ariaColIndex:ce,ariaColSpan:ce,ariaControls:zt,ariaCurrent:null,ariaDescribedBy:zt,ariaDetails:null,ariaDisabled:on,ariaDropEffect:zt,ariaErrorMessage:null,ariaExpanded:on,ariaFlowTo:zt,ariaGrabbed:on,ariaHasPopup:null,ariaHidden:on,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zt,ariaLevel:ce,ariaLive:null,ariaModal:on,ariaMultiLine:on,ariaMultiSelectable:on,ariaOrientation:null,ariaOwns:zt,ariaPlaceholder:null,ariaPosInSet:ce,ariaPressed:on,ariaReadOnly:on,ariaRelevant:null,ariaRequired:on,ariaRoleDescription:zt,ariaRowCount:ce,ariaRowIndex:ce,ariaRowSpan:ce,ariaSelected:on,ariaSetSize:ce,ariaSort:null,ariaValueMax:ce,ariaValueMin:ce,ariaValueNow:ce,ariaValueText:null,role:null}}),lre=wh({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:t5,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zc,acceptCharset:zt,accessKey:zt,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:zt,autoFocus:Ze,autoPlay:Ze,blocking:zt,capture:null,charSet:null,checked:Ze,cite:null,className:zt,cols:ce,colSpan:null,content:null,contentEditable:on,controls:Ze,controlsList:zt,coords:ce|zc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:J3,draggable:on,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:zt,height:ce,hidden:Ze,high:ce,href:null,hrefLang:null,htmlFor:zt,httpEquiv:zt,id:null,imageSizes:null,imageSrcSet:null,inert:Ze,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:zt,itemRef:zt,itemScope:Ze,itemType:zt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:ce,manifest:null,max:null,maxLength:ce,media:null,method:null,min:null,minLength:ce,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:ce,pattern:null,ping:zt,placeholder:null,playsInline:Ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:zt,required:Ze,reversed:Ze,rows:ce,rowSpan:ce,sandbox:zt,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shadowRootClonable:Ze,shadowRootDelegatesFocus:Ze,shadowRootMode:null,shape:null,size:ce,sizes:null,slot:null,span:ce,spellCheck:on,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ce,step:null,style:null,tabIndex:ce,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:on,width:ce,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:zt,axis:null,background:null,bgColor:null,border:ce,borderColor:null,bottomMargin:ce,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:ce,leftMargin:ce,link:null,longDesc:null,lowSrc:null,marginHeight:ce,marginWidth:ce,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:ce,rules:null,scheme:null,scrolling:on,standby:null,summary:null,text:null,topMargin:ce,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ce,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:ce,security:null,unselectable:null}}),ure=wh({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:e5,properties:{about:_r,accentHeight:ce,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ce,amplitude:ce,arabicForm:null,ascent:ce,attributeName:null,attributeType:null,azimuth:ce,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ce,by:null,calcMode:null,capHeight:ce,className:zt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ce,diffuseConstant:ce,direction:null,display:null,dur:null,divisor:ce,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:ce,enableBackground:null,end:null,event:null,exponent:ce,externalResourcesRequired:null,fill:null,fillOpacity:ce,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zc,g2:zc,glyphName:zc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ce,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ce,horizOriginX:ce,horizOriginY:ce,id:null,ideographic:ce,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ce,k:ce,k1:ce,k2:ce,k3:ce,k4:ce,kernelMatrix:_r,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ce,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ce,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ce,overlineThickness:ce,paintOrder:null,panose1:null,path:null,pathLength:ce,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:zt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ce,pointsAtY:ce,pointsAtZ:ce,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_r,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_r,rev:_r,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_r,requiredFeatures:_r,requiredFonts:_r,requiredFormats:_r,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ce,specularExponent:ce,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ce,strikethroughThickness:ce,string:null,stroke:null,strokeDashArray:_r,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ce,strokeOpacity:ce,strokeWidth:null,style:null,surfaceScale:ce,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_r,tabIndex:ce,tableValues:null,target:null,targetX:ce,targetY:ce,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_r,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ce,underlineThickness:ce,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ce,values:null,vAlphabetic:ce,vMathematical:ce,vectorEffect:null,vHanging:ce,vIdeographic:ce,version:null,vertAdvY:ce,vertOriginX:ce,vertOriginY:ce,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ce,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),cre=/^data[-\w.:]+$/i,Mj=/-[a-z]/g,hre=/[A-Z]/g;function fre(t,e){const n=VS(e);let r=e,i=Ai;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cre.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Mj,pre);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Mj.test(a)){let s=a.replace(hre,dre);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=iC}return new i(r,e)}function dre(t){return"-"+t.toLowerCase()}function pre(t){return t.charAt(1).toUpperCase()}const vre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mre=Z3([Q3,K3,n5,r5,lre],"html"),aC=Z3([Q3,K3,n5,r5,ure],"svg");function gre(t){return t.join(" ").trim()}var sC={exports:{}},Dj=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,yre=/\n/g,xre=/^\s*/,Are=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,bre=/^:\s*/,wre=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Sre=/^[;\s]*/,_re=/^\s+|\s+$/g,Tre=`
`,Lj="/",Nj="*",Rl="",Cre="comment",Ire="declaration",Ere=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var m=v.match(yre);m&&(n+=m.length);var g=v.lastIndexOf(Tre);r=~g?v.length-g:r+v.length}function a(){var v={line:n,column:r};return function(m){return m.position=new s(v),u(),m}}function s(v){this.start=v,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(v){var m=new Error(e.source+":"+n+":"+r+": "+v);if(m.reason=v,m.filename=e.source,m.line=n,m.column=r,m.source=t,!e.silent)throw m}function l(v){var m=v.exec(t);if(m){var g=m[0];return i(g),t=t.slice(g.length),m}}function u(){l(xre)}function h(v){var m;for(v=v||[];m=c();)m!==!1&&v.push(m);return v}function c(){var v=a();if(!(Lj!=t.charAt(0)||Nj!=t.charAt(1))){for(var m=2;Rl!=t.charAt(m)&&(Nj!=t.charAt(m)||Lj!=t.charAt(m+1));)++m;if(m+=2,Rl===t.charAt(m-1))return o("End of comment missing");var g=t.slice(2,m-2);return r+=2,i(g),t=t.slice(m),r+=2,v({type:Cre,comment:g})}}function f(){var v=a(),m=l(Are);if(m){if(c(),!l(bre))return o("property missing ':'");var g=l(wre),y=v({type:Ire,property:zj(m[0].replace(Dj,Rl)),value:g?zj(g[0].replace(Dj,Rl)):Rl});return l(Sre),y}}function p(){var v=[];h(v);for(var m;m=f();)m!==!1&&(v.push(m),h(v));return v}return u(),p()};function zj(t){return t?t.replace(_re,Rl):Rl}var kre=Ere;function i5(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=kre(t),a=typeof e=="function",s,o,l=0,u=i.length;l<u;l++)r=i[l],s=r.property,o=r.value,a?e(s,o,r):o&&(n||(n={}),n[s]=o);return n}sC.exports=i5;sC.exports.default=i5;var Pre=sC.exports;const jre=q1(Pre),GS={}.hasOwnProperty,Mre=/[A-Z]/g,Dre=/-([a-z])/g,Lre=new Set(["td","th"]);function Nre(t,e){const n=e.schema;let r=n;const i=t.properties||{};n.space==="html"&&t.tagName.toLowerCase()==="svg"&&(r=aC,e.schema=r);const a=e.all(t),s=[];let o,l,u;for(o in i)if(GS.call(i,o)){let c=i[o];const f=fre(r,o);let p;if(c==null||c===!1||typeof c=="number"&&Number.isNaN(c)||!c&&f.boolean)continue;if(o=e.elementAttributeNameCase==="react"&&f.space?vre[f.property]||f.property:f.attribute,Array.isArray(c)&&(c=f.commaSeparated?are(c):gre(c)),o==="style"){let v=typeof c=="object"?c:zre(String(c),t.tagName);e.stylePropertyNameCase==="css"&&(v=Rre(v));const m=[];let g;for(g in v)GS.call(v,g)&&m.push({type:"Property",method:!1,shorthand:!1,computed:!1,key:_a(g)?{type:"Identifier",name:g}:{type:"Literal",value:g},value:{type:"Literal",value:String(v[g])},kind:"init"});u=m,p={type:"JSXExpressionContainer",expression:{type:"ObjectExpression",properties:m}}}else if(c===!0)p=null;else if(e.tableCellAlignToStyle&&Lre.has(t.tagName)&&o==="align"){l=String(c);continue}else p={type:"Literal",value:String(c)};_a(o,{jsx:!0})?s.push({type:"JSXAttribute",name:{type:"JSXIdentifier",name:o},value:p}):s.push({type:"JSXSpreadAttribute",argument:{type:"ObjectExpression",properties:[{type:"Property",method:!1,shorthand:!1,computed:!1,key:{type:"Literal",value:String(o)},value:p||{type:"Literal",value:!0},kind:"init"}]}})}if(l!==void 0){u||(u=[],s.push({type:"JSXAttribute",name:{type:"JSXIdentifier",name:"style"},value:{type:"JSXExpressionContainer",expression:{type:"ObjectExpression",properties:u}}}));const c=e.stylePropertyNameCase==="css"?a5("textAlign"):"textAlign";u.push({type:"Property",method:!1,shorthand:!1,computed:!1,key:_a(c)?{type:"Identifier",name:c}:{type:"Literal",value:c},value:{type:"Literal",value:l},kind:"init"})}e.schema=n;const h={type:"JSXElement",openingElement:{type:"JSXOpeningElement",attributes:s,name:e.createJsxElementName(t.tagName),selfClosing:a.length===0},closingElement:a.length>0?{type:"JSXClosingElement",name:e.createJsxElementName(t.tagName)}:null,children:a};return e.inherit(t,h),h}function zre(t,e){const n={};try{jre(t,r)}catch(i){const a=i;throw new Error("Could not parse `style` attribute on `"+e+"`",{cause:a})}return n;function r(i,a){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Dre,Ore)),n[s]=a}}function Rre(t){const e={};let n;for(n in t)GS.call(t,n)&&(e[a5(n)]=t[n]);return e}function a5(t){let e=t.replace(Mre,Fre);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Ore(t,e){return e.toUpperCase()}function Fre(t){return"-"+t.toLowerCase()}const Bre={}.hasOwnProperty,Vre=[];function Qg(t,e){const n=e?[...e].sort(oC):Vre;n.length>0&&s5(t,{comments:n,index:0})}function s5(t,e){if(e.index===e.comments.length)return;const n=[],r=[];let i;for(i in t)if(Bre.call(t,i)){const s=t[i];if(s&&typeof s=="object"&&i!=="comments")if(Array.isArray(s)){let o=-1;for(;++o<s.length;)s[o]&&typeof s[o].type=="string"&&n.push(s[o])}else typeof s.type=="string"&&n.push(s)}n.sort(oC),r.push(...Rj(e,t,!1,{leading:!0,trailing:!1}));let a=-1;for(;++a<n.length;)s5(n[a],e);r.push(...Rj(e,t,!0,{leading:!1,trailing:n.length>0})),r.length>0&&(t.comments=r)}function Rj(t,e,n,r){const i=[];for(;t.comments[t.index]&&oC(t.comments[t.index],e,n)<1;)i.push(Object.assign({},t.comments[t.index++],r));return i}function oC(t,e,n){const r=n?"end":"start";return t.range&&e.range?t.range[0]-e.range[n?1:0]:t.loc&&t.loc.start&&e.loc&&e.loc[r]?t.loc.start.line-e.loc[r].line||t.loc.start.column-e.loc[r].column:"start"in t&&r in e?t.start-e[r]:Number.NaN}function Oj(t,e){const n=t.data&&t.data.estree,r=n&&n.comments||[];let i;n&&(e.comments.push(...r),Qg(n,n.comments),i=n.body[0]&&n.body[0].type==="ExpressionStatement"&&n.body[0].expression||void 0),i||(i={type:"JSXEmptyExpression"},e.patch(t,i));const a={type:"JSXExpressionContainer",expression:i};return e.inherit(t,a),a}function Fj(t,e){const n=e.schema;let r=n;const i=t.attributes||[];let a=-1;t.name&&n.space==="html"&&t.name.toLowerCase()==="svg"&&(r=aC,e.schema=r);const s=e.all(t),o=[];for(;++a<i.length;){const u=i[a],h=u.value;let c;if(u.type==="mdxJsxAttribute"){if(h==null)c=null;else if(typeof h=="object"){const p=h.data&&h.data.estree,v=p&&p.comments||[];let m;p&&(e.comments.push(...v),Qg(p,p.comments),m=p.body[0]&&p.body[0].type==="ExpressionStatement"&&p.body[0].expression||void 0),c={type:"JSXExpressionContainer",expression:m||{type:"JSXEmptyExpression"}},e.inherit(h,c)}else c={type:"Literal",value:String(h)};const f={type:"JSXAttribute",name:e.createJsxAttributeName(u.name),value:c};e.inherit(u,f),o.push(f)}else{const f=u.data&&u.data.estree,p=f&&f.comments||[];let v;f&&(e.comments.push(...p),Qg(f,f.comments),v=f.body[0]&&f.body[0].type==="ExpressionStatement"&&f.body[0].expression&&f.body[0].expression.type==="ObjectExpression"&&f.body[0].expression.properties&&f.body[0].expression.properties[0]&&f.body[0].expression.properties[0].type==="SpreadElement"&&f.body[0].expression.properties[0].argument||void 0);const m={type:"JSXSpreadAttribute",argument:v||{type:"ObjectExpression",properties:[]}};e.inherit(u,m),o.push(m)}}e.schema=n;const l=t.name?{type:"JSXElement",openingElement:{type:"JSXOpeningElement",attributes:o,name:e.createJsxElementName(t.name),selfClosing:s.length===0},closingElement:s.length>0?{type:"JSXClosingElement",name:e.createJsxElementName(t.name)}:null,children:s}:{type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:s};return e.inherit(t,l),l}function Hre(t,e){const n=t.data&&t.data.estree,r=n&&n.comments||[];n&&(e.comments.push(...r),Qg(n,r),e.esm.push(...n.body))}const Gre=/[ \t\n\f\r]/g;function Ure(t){return typeof t=="object"?t.type==="text"?Bj(t.value):!1:Bj(t)}function Bj(t){return t.replace(Gre,"")===""}function Wre(t,e){const n=e.all(t),r=[];let i=-1,a;for(;++i<n.length;){const o=n[i];o.type==="JSXExpressionContainer"&&o.expression.type==="Literal"&&Ure(String(o.expression.value))?a&&a.push(o):(a&&r.push(...a),r.push(o),a=[])}const s={type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:r};return e.inherit(t,s),s}function $re(t,e){const n=String(t.value||"");if(n){const r={type:"Literal",value:n};e.inherit(t,r);const i={type:"JSXExpressionContainer",expression:r};return e.patch(t,i),i}}const Yre={comment:ire,doctype:qre,element:Nre,mdxFlowExpression:Oj,mdxJsxFlowElement:Fj,mdxJsxTextElement:Fj,mdxTextExpression:Oj,mdxjsEsm:Hre,root:Wre,text:$re};function qre(){}const Vj={}.hasOwnProperty;function Xre(t,e){const n=e||{};function r(i,...a){let s=r.invalid;const o=r.handlers;if(i&&Vj.call(i,t)){const l=String(i[t]);s=Vj.call(o,l)?o[l]:r.unknown}if(s)return s.call(this,i,...a)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Zre={}.hasOwnProperty,Jre=new Set(["table","tbody","thead","tfoot","tr"]);function Kre(t){const e=Xre("type",{invalid:Qre,unknown:eie,handlers:{...Yre,...t.handlers}});return{elementAttributeNameCase:t.elementAttributeNameCase||"react",schema:t.space==="svg"?aC:mre,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1,comments:[],esm:[],all:tie,createJsxAttributeName:rie,createJsxElementName:iie,handle:n,inherit:nie,patch:o5};function n(r){return e(r,this)}}function Qre(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function eie(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function tie(t){const e=t.children||[];let n=-1;const r=[],i=this.schema.space==="html"&&t.type==="element"&&Jre.has(t.tagName.toLowerCase());for(;++n<e.length;){const a=e[n];if(i&&a.type==="text"&&a.value===`
`)continue;const s=this.handle(a);Array.isArray(s)?r.push(...s):s&&r.push(s)}return r}function nie(t,e){const n=t.data;let r,i;if(o5(t,e),n){for(i in n)Zre.call(n,i)&&i!=="estree"&&(r||(r={}),r[i]=n[i]);r&&(e.data=r)}}function o5(t,e){const n=R3(t);n&&n.start.offset!==void 0&&n.end.offset!==void 0&&(e.start=n.start.offset,e.end=n.end.offset,e.loc={start:{line:n.start.line,column:n.start.column-1},end:{line:n.end.line,column:n.end.column-1}},e.range=[n.start.offset,n.end.offset])}function rie(t){const e=l5(t);if(e.type==="JSXMemberExpression")throw new Error("Member expressions in attribute names are not supported");return e}function iie(t){return l5(t)}function l5(t){if(t.includes(".")){const e=t.split(".");let n=e.shift(),r={type:"JSXIdentifier",name:n};for(;n=e.shift();)r={type:"JSXMemberExpression",object:r,property:{type:"JSXIdentifier",name:n}};return r}if(t.includes(":")){const e=t.split(":");return{type:"JSXNamespacedName",namespace:{type:"JSXIdentifier",name:e[0]},name:{type:"JSXIdentifier",name:e[1]}}}return{type:"JSXIdentifier",name:t}}function aie(t,e){const n=Kre(e||{});let r=n.handle(t);const i=n.esm;if(r){r.type!=="JSXFragment"&&r.type!=="JSXElement"&&(r={type:"JSXFragment",openingFragment:{type:"JSXOpeningFragment"},closingFragment:{type:"JSXClosingFragment"},children:[r]},n.patch(t,r));const s={type:"ExpressionStatement",expression:r};n.patch(t,s),i.push(s)}const a={type:"Program",body:i,sourceType:"module",comments:n.comments};return n.patch(t,a),a}function sie(t){return function(e){return aie(e,t)}}function oie(){return function(t){tC(t,"raw",function(e,n,r){if(r&&typeof n=="number")return r.children.splice(n,1),n})}}const lie=/\s+/g,uie=/[\t\n\v\f\r ]+/g;function cie(t,e){e?typeof e=="string"&&(e={style:e}):e={};const n=e.preserveLineEndings?hie:fie;return String(t).replace(e.style==="html"?uie:lie,e.trim?die(n):n)}function hie(t){const e=/\r?\n|\r/.exec(t);return e?e[0]:" "}function fie(){return" "}function die(t){return e;function e(n,r,i){return r===0||r+n.length===i.length?"":t(n)}}function pie(){return function(t){tC(t,function(e,n,r){let i=-1,a=!0,s=!1;if(r&&typeof n=="number"&&e.type==="paragraph"){const o=e.children;for(;++i<o.length;){const l=o[i];if(l.type==="mdxJsxTextElement"||l.type==="mdxTextExpression")s=!0;else if(!(l.type==="text"&&cie(l.value,{style:"html",trim:!0})==="")){a=!1;break}}if(a&&s){i=-1;const l=[];for(;++i<o.length;){const u=o[i];u.type==="mdxJsxTextElement"&&(u.type="mdxJsxFlowElement"),u.type==="mdxTextExpression"&&(u.type="mdxFlowExpression"),u.type==="text"&&/^[\t\r\n ]+$/.test(String(u.value))||l.push(u)}return r.children.splice(n,1,...l),n}}if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement"){const o=e.data||(e.data={});o._mdxExplicitJsx=!0}})}}const vie=["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"];let Hj=!1;function mie(t){const e=t||{};e.format,(e.jsxRuntime==="classic"||e.pragma||e.pragmaFrag||e.pragmaImportSource)&&!Hj&&(Hj=!0,console.warn("Unexpected deprecated option `jsxRuntime: 'classic'`, `pragma`, `pragmaFrag`, or `pragmaImportSource`; see <https://mdxjs.com/migrating/v3/> on how to migrate"));const n=yne().use(gte);e.format!=="md"&&n.use(Lee);const r=e.remarkRehypeOptions||{};return n.use(pie).use(e.remarkPlugins||[]).use(fne,{...r,allowDangerousHtml:!0,passThrough:[...r.passThrough||[],...vie]}).use(e.rehypePlugins||[]),e.format==="md"&&n.use(oie),n.use(sie,e).use(Cne,e).use(Mne,e),e.jsx||n.use(jne,e),n.use(rre,e).use(e.recmaPlugins||[]),n}function gie(t,e){const{file:n,options:r}=mJ(t,e);return mie(r).process(n)}function yie(t){const{Fragment:e,baseUrl:n,development:r,jsx:i,jsxDEV:a,jsxs:s,useMDXComponents:o,...l}=t||{};if(!e)throw new Error("Expected `Fragment` given to `evaluate`");if(r){if(!a)throw new Error("Expected `jsxDEV` given to `evaluate`")}else{if(!i)throw new Error("Expected `jsx` given to `evaluate`");if(!s)throw new Error("Expected `jsxs` given to `evaluate`")}return{compiletime:{...l,development:r,outputFormat:"function-body",providerImportSource:o?"#":void 0},runtime:{Fragment:e,baseUrl:n,jsx:i,jsxDEV:a,jsxs:s,useMDXComponents:o}}}const xie=Object.getPrototypeOf(u5).constructor;async function u5(t,e){return new xie(String(t))(e)}async function lC(t,e){const{compiletime:n,runtime:r}=yie(e);return u5(await gie(t,n),r)}var c5={},O0={},uC={},SA={},Gj;function Aie(){return Gj||(Gj=1,function(t){(function(e,n){n(t,R,b8)})(zl,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=v;var i=s(n),a=s(r);function s(x){return x&&x.__esModule?x:{default:x}}var o=Object.assign||function(x){for(var A=1;A<arguments.length;A++){var b=arguments[A];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(x[S]=b[S])}return x};function l(x,A){var b={};for(var S in x)A.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(x,S)&&(b[S]=x[S]);return b}function u(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}var h=function(){function x(A,b){for(var S=0;S<b.length;S++){var w=b[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,b,S){return b&&x(A.prototype,b),S&&x(A,S),A}}();function c(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function f(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var p=!1;function v(x){p=x}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){v(!0)}}))}catch{}function m(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return p?x:x.capture}function g(x){if("touches"in x){var A=x.touches[0],b=A.pageX,S=A.pageY;return{x:b,y:S}}var w=x.screenX,_=x.screenY;return{x:w,y:_}}var y=function(x){f(A,x);function A(){var b;u(this,A);for(var S=arguments.length,w=Array(S),_=0;_<S;_++)w[_]=arguments[_];var T=c(this,(b=A.__proto__||Object.getPrototypeOf(A)).call.apply(b,[this].concat(w)));return T._handleSwipeStart=T._handleSwipeStart.bind(T),T._handleSwipeMove=T._handleSwipeMove.bind(T),T._handleSwipeEnd=T._handleSwipeEnd.bind(T),T._onMouseDown=T._onMouseDown.bind(T),T._onMouseMove=T._onMouseMove.bind(T),T._onMouseUp=T._onMouseUp.bind(T),T._setSwiperRef=T._setSwiperRef.bind(T),T}return h(A,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,m({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(S){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(S))}},{key:"_onMouseMove",value:function(S){this.mouseDown&&this._handleSwipeMove(S)}},{key:"_onMouseUp",value:function(S){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(S)}},{key:"_handleSwipeStart",value:function(S){var w=g(S),_=w.x,T=w.y;this.moveStart={x:_,y:T},this.props.onSwipeStart(S)}},{key:"_handleSwipeMove",value:function(S){if(this.moveStart){var w=g(S),_=w.x,T=w.y,C=_-this.moveStart.x,E=T-this.moveStart.y;this.moving=!0;var k=this.props.onSwipeMove({x:C,y:E},S);k&&S.cancelable&&S.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(S){this.props.onSwipeEnd(S);var w=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-w?this.props.onSwipeLeft(1,S):this.movePosition.deltaX>w&&this.props.onSwipeRight(1,S),this.movePosition.deltaY<-w?this.props.onSwipeUp(1,S):this.movePosition.deltaY>w&&this.props.onSwipeDown(1,S)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(S){this.swiper=S,this.props.innerRef(S)}},{key:"render",value:function(){var S=this.props;S.tagName;var w=S.className,_=S.style,T=S.children;S.allowMouseEvents,S.onSwipeUp,S.onSwipeDown,S.onSwipeLeft,S.onSwipeRight,S.onSwipeStart,S.onSwipeMove,S.onSwipeEnd,S.innerRef,S.tolerance;var C=l(S,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,o({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:w,style:_},C),T)}}]),A}(n.Component);y.displayName="ReactSwipe",y.propTypes={tagName:a.default.string,className:a.default.string,style:a.default.object,children:a.default.node,allowMouseEvents:a.default.bool,onSwipeUp:a.default.func,onSwipeDown:a.default.func,onSwipeLeft:a.default.func,onSwipeRight:a.default.func,onSwipeStart:a.default.func,onSwipeMove:a.default.func,onSwipeEnd:a.default.func,innerRef:a.default.func,tolerance:a.default.number.isRequired},y.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=y})}(SA)),SA}(function(t){(function(e,n){n(t,Aie())})(zl,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=r.default})})(uC);var kp={},h5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,r(o)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)e.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(h5);var bie=h5.exports;Object.defineProperty(kp,"__esModule",{value:!0});kp.default=void 0;var Vs=wie(bie);function wie(t){return t&&t.__esModule?t:{default:t}}function Sie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _ie={ROOT:function(e){return(0,Vs.default)(Sie({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,Vs.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,Vs.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,Vs.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,Vs.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,Vs.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,Vs.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,Vs.default)({dot:!0,selected:e})}};kp.default=_ie;var Pp={},F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.outerWidth=void 0;var Tie=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};F0.outerWidth=Tie;var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.default=void 0;var Cie=function(e,n,r){var i=e===0?e:e+n,a=r==="horizontal"?[i,0,0]:[0,i,0],s="translate3d",o="("+a.join(",")+")";return s+o};Sh.default=Cie;var jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.default=void 0;var Iie=function(){return window};jp.default=Iie;Object.defineProperty(Pp,"__esModule",{value:!0});Pp.default=void 0;var Ci=Pie(R),el=B0(kp),Eie=F0,Uj=B0(Sh),kie=B0(uC),Cv=B0(jp);function B0(t){return t&&t.__esModule?t:{default:t}}function f5(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return f5=function(){return t},t}function Pie(t){if(t&&t.__esModule)return t;if(t===null||nd(t)!=="object"&&typeof t!="function")return{default:t};var e=f5();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function nd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nd=function(n){return typeof n}:nd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nd(t)}function US(){return US=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}function jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Die(t,e,n){return e&&Mie(t.prototype,e),t}function Lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},WS(t,e)}function Nie(t){var e=Rie();return function(){var r=ey(t),i;if(e){var a=ey(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return zie(this,i)}}function zie(t,e){return e&&(nd(e)==="object"||typeof e=="function")?e:Gn(t)}function Gn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oie=function(e){return e.hasOwnProperty("key")},cC=function(t){Lie(n,t);var e=Nie(n);function n(r){var i;return jie(this,n),i=e.call(this,r),Ln(Gn(i),"itemsWrapperRef",void 0),Ln(Gn(i),"itemsListRef",void 0),Ln(Gn(i),"thumbsRef",void 0),Ln(Gn(i),"setItemsWrapperRef",function(a){i.itemsWrapperRef=a}),Ln(Gn(i),"setItemsListRef",function(a){i.itemsListRef=a}),Ln(Gn(i),"setThumbsRef",function(a,s){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[s]=a}),Ln(Gn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var a=Ci.Children.count(i.props.children),s=i.itemsWrapperRef.clientWidth,o=i.props.thumbWidth?i.props.thumbWidth:(0,Eie.outerWidth)(i.thumbsRef[0]),l=Math.floor(s/o),u=l<a,h=u?a-l:0;i.setState(function(c,f){return{itemSize:o,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:h,showArrows:u}})}}),Ln(Gn(i),"handleClickItem",function(a,s,o){if(!Oie(o)||o.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(a,s)}}),Ln(Gn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Ln(Gn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Ln(Gn(i),"onSwipeMove",function(a){var s=a.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var o=0,l=Ci.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,h=Math.max(l-i.state.visibleItems,0),c=-h*100/i.state.visibleItems;u===o&&s>0&&(s=0),u===c&&s<0&&(s=0);var f=i.itemsWrapperRef.clientWidth,p=u+100/(f/s);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){i.itemsListRef.style[v]=(0,Uj.default)(p,"%",i.props.axis)}),!0}),Ln(Gn(i),"slideRight",function(a){i.moveTo(i.state.firstItem-(typeof a=="number"?a:1))}),Ln(Gn(i),"slideLeft",function(a){i.moveTo(i.state.firstItem+(typeof a=="number"?a:1))}),Ln(Gn(i),"moveTo",function(a){a=a<0?0:a,a=a>=i.state.lastPosition?i.state.lastPosition:a,i.setState({firstItem:a})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return Die(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Cv.default)().addEventListener("resize",this.updateSizes),(0,Cv.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Cv.default)().removeEventListener("resize",this.updateSizes),(0,Cv.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var a=i;return i>=this.state.lastPosition&&(a=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(a=this.state.firstItem),i<this.state.firstItem&&(a=i),a}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(a,s){var o=el.default.ITEM(!1,s===i.state.selectedItem),l={key:s,ref:function(h){return i.setThumbsRef(h,s)},className:o,onClick:i.handleClickItem.bind(i,s,i.props.children[s]),onKeyDown:i.handleClickItem.bind(i,s,i.props.children[s]),"aria-label":"".concat(i.props.labels.item," ").concat(s+1),style:{width:i.props.thumbWidth}};return Ci.default.createElement("li",US({},l,{role:"button",tabIndex:0}),a)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var a=Ci.Children.count(this.props.children)>1,s=this.state.showArrows&&this.state.firstItem>0,o=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),h=(0,Uj.default)(u,"px",this.props.axis),c=this.props.transitionTime+"ms";return l={WebkitTransform:h,MozTransform:h,MsTransform:h,OTransform:h,transform:h,msTransform:h,WebkitTransitionDuration:c,MozTransitionDuration:c,MsTransitionDuration:c,OTransitionDuration:c,transitionDuration:c,msTransitionDuration:c},Ci.default.createElement("div",{className:el.default.CAROUSEL(!1)},Ci.default.createElement("div",{className:el.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Ci.default.createElement("button",{type:"button",className:el.default.ARROW_PREV(!s),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),a?Ci.default.createElement(kie.default,{tagName:"ul",className:el.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Ci.default.createElement("ul",{className:el.default.SLIDER(!1,this.state.swiping),ref:function(p){return i.setItemsListRef(p)},style:l},this.renderItems()),Ci.default.createElement("button",{type:"button",className:el.default.ARROW_NEXT(!o),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Ci.Component);Pp.default=cC;Ln(cC,"displayName","Thumbs");Ln(cC,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.default=void 0;var Fie=function(){return document};V0.default=Fie;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.setPosition=kr.getPosition=kr.isKeyboardEvent=kr.defaultStatusFormatter=kr.noop=void 0;var Bie=R,Vie=Hie(Sh);function Hie(t){return t&&t.__esModule?t:{default:t}}var Gie=function(){};kr.noop=Gie;var Uie=function(e,n){return"".concat(e," of ").concat(n)};kr.defaultStatusFormatter=Uie;var Wie=function(e){return e?e.hasOwnProperty("key"):!1};kr.isKeyboardEvent=Wie;var $ie=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=Bie.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,a=r-1;return e&&(e!==a||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===a&&(i+=100-n.centerSlidePercentage),i}return-e*100};kr.getPosition=$ie;var Yie=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,Vie.default)(e,"%",n)}),r};kr.setPosition=Yie;var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.fadeAnimationHandler=pa.slideStopSwipingHandler=pa.slideSwipeAnimationHandler=pa.slideAnimationHandler=void 0;var d5=R,qie=Xie(Sh),va=kr;function Xie(t){return t&&t.__esModule?t:{default:t}}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){Zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jie=function(e,n){var r={},i=n.selectedItem,a=i,s=d5.Children.count(e.children)-1,o=e.infiniteLoop&&(i<0||i>s);if(o)return a<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,va.setPosition)(-(s+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,va.setPosition)(-(s+2)*100,e.axis):a>s&&(r.itemListStyle=(0,va.setPosition)(0,e.axis)),r;var l=(0,va.getPosition)(i,e),u=(0,qie.default)(l,"%",e.axis),h=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=Ol(Ol({},r.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),r};pa.slideAnimationHandler=Jie;var Kie=function(e,n,r,i){var a={},s=n.axis==="horizontal",o=d5.Children.count(n.children),l=0,u=(0,va.getPosition)(r.selectedItem,n),h=n.infiniteLoop?(0,va.getPosition)(o-1,n)-100:(0,va.getPosition)(o-1,n),c=s?e.x:e.y,f=c;u===l&&c>0&&(f=0),u===h&&c<0&&(f=0);var p=u+100/(r.itemSize/f),v=Math.abs(c)>n.swipeScrollTolerance;return n.infiniteLoop&&v&&(r.selectedItem===0&&p>-100?p-=o*100:r.selectedItem===o-1&&p<-o*100&&(p+=o*100)),(!n.preventMovementUntilSwipeScrollTolerance||v||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),a.itemListStyle=(0,va.setPosition)(p,n.axis)),v&&!r.cancelClick&&i({cancelClick:!0}),a};pa.slideSwipeAnimationHandler=Kie;var Qie=function(e,n){var r=(0,va.getPosition)(n.selectedItem,e),i=(0,va.setPosition)(r,e.axis);return{itemListStyle:i}};pa.slideStopSwipingHandler=Qie;var eae=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",a={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(a=Ol(Ol({},a),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:a,selectedStyle:Ol(Ol({},a),{},{opacity:1,position:"relative"}),prevStyle:Ol({},a)}};pa.fadeAnimationHandler=eae;Object.defineProperty(O0,"__esModule",{value:!0});O0.default=void 0;var Ct=rae(R),tae=Mp(uC),is=Mp(kp),nae=Mp(Pp),Iv=Mp(V0),Ev=Mp(jp),Mf=kr,ty=pa;function Mp(t){return t&&t.__esModule?t:{default:t}}function p5(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return p5=function(){return t},t}function rae(t){if(t&&t.__esModule)return t;if(t===null||rd(t)!=="object"&&typeof t!="function")return{default:t};var e=p5();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function rd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rd=function(n){return typeof n}:rd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rd(t)}function $S(){return $S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(this,arguments)}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){rt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sae(t,e,n){return e&&aae(t.prototype,e),t}function oae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},YS(t,e)}function lae(t){var e=cae();return function(){var r=ny(t),i;if(e){var a=ny(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return uae(this,i)}}function uae(t,e){return e&&(rd(e)==="object"||typeof e=="function")?e:at(t)}function at(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hC=function(t){oae(n,t);var e=lae(n);function n(r){var i;iae(this,n),i=e.call(this,r),rt(at(i),"thumbsRef",void 0),rt(at(i),"carouselWrapperRef",void 0),rt(at(i),"listRef",void 0),rt(at(i),"itemsRef",void 0),rt(at(i),"timer",void 0),rt(at(i),"animationHandler",void 0),rt(at(i),"setThumbsRef",function(s){i.thumbsRef=s}),rt(at(i),"setCarouselWrapperRef",function(s){i.carouselWrapperRef=s}),rt(at(i),"setListRef",function(s){i.listRef=s}),rt(at(i),"setItemsRef",function(s,o){i.itemsRef||(i.itemsRef=[]),i.itemsRef[o]=s}),rt(at(i),"autoPlay",function(){Ct.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),rt(at(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),rt(at(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),rt(at(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),rt(at(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),rt(at(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,Iv.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,Iv.default)().activeElement)):!1}),rt(at(i),"navigateWithKeyboard",function(s){if(i.isFocusWithinTheCarousel()){var o=i.props.axis,l=o==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},h=l?u.ArrowRight:u.ArrowDown,c=l?u.ArrowLeft:u.ArrowUp;h===s.keyCode?i.increment():c===s.keyCode&&i.decrement()}}),rt(at(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var s=i.props.axis==="horizontal",o=i.itemsRef[0];if(o){var l=s?o.clientWidth:o.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),rt(at(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),rt(at(i),"handleClickItem",function(s,o){if(Ct.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(s,o),s!==i.state.selectedItem&&i.setState({selectedItem:s})}}),rt(at(i),"handleOnChange",function(s,o){Ct.Children.count(i.props.children)<=1||i.props.onChange(s,o)}),rt(at(i),"handleClickThumb",function(s,o){i.props.onClickThumb(s,o),i.moveTo(s)}),rt(at(i),"onSwipeStart",function(s){i.setState({swiping:!0}),i.props.onSwipeStart(s)}),rt(at(i),"onSwipeEnd",function(s){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(s),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),rt(at(i),"onSwipeMove",function(s,o){i.props.onSwipeMove(o);var l=i.props.swipeAnimationHandler(s,i.props,i.state,i.setState.bind(at(i)));return i.setState(Ii({},l)),!!Object.keys(l).length}),rt(at(i),"decrement",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof s=="number"?s:1))}),rt(at(i),"increment",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof s=="number"?s:1))}),rt(at(i),"moveTo",function(s){if(typeof s=="number"){var o=Ct.Children.count(i.props.children)-1;s<0&&(s=i.props.infiniteLoop?o:0),s>o&&(s=i.props.infiniteLoop?0:o),i.selectItem({selectedItem:s}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),rt(at(i),"onClickNext",function(){i.increment(1)}),rt(at(i),"onClickPrev",function(){i.decrement(1)}),rt(at(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),rt(at(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),rt(at(i),"changeItem",function(s){return function(o){(!(0,Mf.isKeyboardEvent)(o)||o.key==="Enter")&&i.moveTo(s)}}),rt(at(i),"selectItem",function(s){i.setState(Ii({previousItem:i.state.selectedItem},s),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(s.selectedItem,Ct.Children.toArray(i.props.children)[s.selectedItem])}),rt(at(i),"getInitialImage",function(){var s=i.props.selectedItem,o=i.itemsRef&&i.itemsRef[s],l=o&&o.getElementsByTagName("img")||[];return l[0]}),rt(at(i),"getVariableItemHeight",function(s){var o=i.itemsRef&&i.itemsRef[s];if(i.state.hasMount&&o&&o.children.length){var l=o.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var h=function p(){i.forceUpdate(),u.removeEventListener("load",p)};u.addEventListener("load",h)}}var c=l[0]||o.children[0],f=c.clientHeight;return f>0?f:null}return null});var a={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&ty.fadeAnimationHandler||ty.slideAnimationHandler,i.state=Ii(Ii({},a),i.animationHandler(r,a)),i}return sae(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,a){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),a.swiping&&!this.state.swiping&&this.setState(Ii({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Ct.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var a=i.getInitialImage();a&&!a.complete?a.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,Ev.default)().addEventListener("resize",this.updateSizes),(0,Ev.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,Iv.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,Ev.default)().removeEventListener("resize",this.updateSizes),(0,Ev.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,Iv.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var a=this;return this.props.children?Ct.Children.map(this.props.children,function(s,o){var l=o===a.state.selectedItem,u=o===a.state.previousItem,h=l&&a.state.selectedStyle||u&&a.state.prevStyle||a.state.slideStyle||{};a.props.centerMode&&a.props.axis==="horizontal"&&(h=Ii(Ii({},h),{},{minWidth:a.props.centerSlidePercentage+"%"})),a.state.swiping&&a.state.swipeMovementStarted&&(h=Ii(Ii({},h),{},{pointerEvents:"none"}));var c={ref:function(p){return a.setItemsRef(p,o)},key:"itemKey"+o+(i?"clone":""),className:is.default.ITEM(!0,o===a.state.selectedItem,o===a.state.previousItem),onClick:a.handleClickItem.bind(a,o,s),style:h};return Ct.default.createElement("li",c,a.props.renderItem(s,{isSelected:o===a.state.selectedItem,isPrevious:o===a.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,a=this.props,s=a.showIndicators,o=a.labels,l=a.renderIndicator,u=a.children;return s?Ct.default.createElement("ul",{className:"control-dots"},Ct.Children.map(u,function(h,c){return l&&l(i.changeItem(c),c===i.state.selectedItem,c,o.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Ct.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Ct.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Ct.Children.count(this.props.children)===0?null:Ct.default.createElement(nae.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Ct.Children.count(this.props.children)===0)return null;var a=this.props.swipeable&&Ct.Children.count(this.props.children)>1,s=this.props.axis==="horizontal",o=this.props.showArrows&&Ct.Children.count(this.props.children)>1,l=o&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=o&&(this.state.selectedItem<Ct.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,h=this.renderItems(!0),c=h.shift(),f=h.pop(),p={className:is.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},v={};if(s){if(p.onSwipeLeft=this.onSwipeForward,p.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);v.height=m||"auto"}}else p.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,p.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,p.style=Ii(Ii({},p.style),{},{height:this.state.itemSize}),v.height=this.state.itemSize;return Ct.default.createElement("div",{"aria-label":this.props.ariaLabel,className:is.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Ct.default.createElement("div",{className:is.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),Ct.default.createElement("div",{className:is.default.WRAPPER(!0,this.props.axis),style:v},a?Ct.default.createElement(tae.default,$S({tagName:"ul",innerRef:this.setListRef},p,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&c):Ct.default.createElement("ul",{className:is.default.SLIDER(!0,this.state.swiping),ref:function(y){return i.setListRef(y)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&c)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Ct.default.Component);O0.default=hC;rt(hC,"displayName","Carousel");rt(hC,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Mf.noop,onClickThumb:Mf.noop,onChange:Mf.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Ct.default.createElement("button",{type:"button","aria-label":r,className:is.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Ct.default.createElement("button",{type:"button","aria-label":r,className:is.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Ct.default.createElement("li",{className:is.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Ct.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Ct.Children.toArray(r.props.children).find(function(a){return a.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Mf.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:ty.slideSwipeAnimationHandler,stopSwipingHandler:ty.slideStopSwipingHandler});var hae={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(O0),n=hae,r=i(Pp);function i(a){return a&&a.__esModule?a:{default:a}}})(c5);function H0(t){return d.jsx("div",{className:"flavor",children:d.jsx("i",{children:t.children})})}function Dp(t){const{staticPuzDir:e,whiteBackground:n=!1,pad:r=!1,fullWidth:i=!1,inverted:a=!1,center:s=!1,maxWidth:o,width:l,unscoped:u=!1,alt:h,style:c}=t,f=t.nameWithExt??(t.name!==void 0?`${t.name}.png`:void 0);return d.jsx("div",{className:Tt({"puz-img":!0,"puz-img-center":s}),style:c,children:d.jsx("img",{className:Tt({"puz-img-white-bg":n,"puz-img-pad":r,"puz-img-full-width":i,"puz-img-inverted":a}),style:{maxWidth:o!==void 0?`min(100%, ${o})`:void 0,width:l!==void 0?`min(100%, ${l})`:void 0},src:f===void 0?`${e}/default.png`:u?`${Bt.staticImagesDir}/${f}`:`${e}/default/${f}`,alt:h===void 0?"":h,title:h===void 0?"":h})})}function G0(t){const{staticPuzDir:e,items:n,animationHandler:r,imgProps:i,carouselInnerStyle:a}=t;return d.jsx(c5.Carousel,{showStatus:!1,showThumbs:!1,animationHandler:r,swipeable:r!=="fade",children:n.map(({images:s,caption:o,halfwidth:l=!1,thirdwidth:u=!1},h)=>d.jsxs("div",{style:{height:"100%"},children:[d.jsx("div",{className:"carousel-inner",style:a,children:(s??[]).map(c=>d.jsx(Dp,{staticPuzDir:e,style:{width:l?"50%":u?"33%":void 0},...i,...i!=null&&i.nameWithExt?{nameWithExt:c}:{name:c}},c))}),o===""?null:d.jsx("p",{className:"legend",children:typeof o=="string"?o.split(`
`).map((c,f)=>d.jsxs(Wc.Fragment,{children:[c,d.jsx("br",{})]},f)):o})]},h))})}function v5(t){const{staticPuzDir:e,name:n,autoPlay:r,isPreview:i,...a}=t,s=(r??!1)&&!i,o=n===void 0?`${e}/default.mp3`:`${e}/default/${n}.mp3`,l=R.useRef(null),u=$c(f=>f.autoplayIsPaused),h=$c(f=>f.autoplayVolume),c=vh();return R.useEffect(()=>{const f=l.current;if(f===null||!s)return;f.volume=h??.3;const p=()=>{c({autoplayIsPaused:!0})},v=()=>{c({autoplayVolume:f.volume})};return f.addEventListener("pause",p),f.addEventListener("volumechange",v),()=>{f.removeEventListener("pause",p),f.removeEventListener("volumechange",v)}},[s,h,c]),d.jsxs("div",{className:"puz-audio",children:[d.jsx("span",{className:"copy-only",children:d.jsx("a",{href:o,children:"[See original puzzle for audio]"})}),d.jsx("audio",{ref:l,controls:!0,src:o,autoPlay:s&&!u,...a})]})}function m5(t){const{content:e,lessLowerMargin:n=!1,inline:r=!1}=t,i=e.trim().split(`
`).map((o,l)=>d.jsx("span",{className:"blanks",children:o.split(" ").map((u,h)=>{const c=u.startsWith("[")&&u.endsWith("]"),f=c?u.slice(1,-1):u,p=f===""||/[^_\d]/.test(f),v=f==="_"?"":f.length>1?d.jsx("span",{style:{fontSize:160/f.length+"%"},children:f}):f;return d.jsx("span",{className:Tt({boxed:c,space:p}),children:v},h)})},l)),a=[...e.replaceAll("  ","    ")].map((o,l)=>d.jsx("span",{children:o===" "?d.jsx(d.Fragment,{children:"Â "}):o===`
`?d.jsx("br",{}):o},l)),s=Tt({"blanks-wrapper":!0,"less-lower-margin":n,"no-copy":!0,"blanks-wrapper-inline":r});return d.jsx(d.Fragment,{children:r?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"copy-only",children:a}),d.jsx("span",{className:s,children:i})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"copy-only",children:a}),d.jsx("div",{className:s,children:i})]})})}function g5(t){const{headers:e,cells:n,tableClassName:r,tableStyle:i,cellStyle:a}=t;return d.jsx("table",{className:r,style:i,children:d.jsxs("tbody",{children:[!!e&&d.jsx("tr",{children:e.map((s,o)=>d.jsx("th",{children:s},o))}),n.map((s,o)=>d.jsx("tr",{children:s.map((l,u)=>{if(typeof l!="object"||l===null||!("data"in l))return d.jsx("td",{style:a,children:l},u);const{data:h,style:c,...f}=l;return d.jsx("td",{style:{...a,...c},...f,children:h},u)})},o))]})})}function qS(t){return d.jsx("span",{className:"solved-title-answer spoiler",children:t.children})}function fae(t){return d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Authorsâ Notes"}),t.children]})}function y5(t){const{isLocked:e,slot:n,supportedMimeTypes:r,maxFileSize:i,onSubmitSuccess:a}=t,[s,o]=R.useState(null),l=ot(),u=wn();return d.jsxs("div",{className:"image-submission",children:[d.jsx("div",{children:d.jsx("input",{type:"file",disabled:e||u.isHeld,onChange:h=>{if(h.target.files===null)return;const[c]=h.target.files;if(c!==void 0){if(!r.includes(c.type)){o("File format not supported.");return}if(c.size>i){o("File is too large.");return}u.acquireAndRun(async f=>{try{await l.sendDirectBackendReqAsync({type:WO.SUBMIT_IMAGE,payload:{slot:n}},c,()=>new Promise((p,v)=>{const m=new FileReader;m.onload=g=>{var x;const y=(x=g.target)==null?void 0:x.result;if(typeof y!="string"){v(new Error("failed to read file"));return}p(y)},m.onerror=g=>{var y;v((y=g.target)==null?void 0:y.error)},m.readAsDataURL(c)})),await a(),o(null)}catch(p){o("Failed to upload image. Please try again later and contact us if the problem persists."),console.error(p)}})}}})}),u.isHeld?d.jsx(he,{inline:!0}):s===null?null:d.jsx("div",{className:"image-submission-error",children:s})]})}const fC="/static/puzzlejs/",br={},dC={"data-text":null,"data-text-replacements":null,"data-text-characters":"ABCDEFGHIJKLMNOPQRSTUVWXYZ","data-text-shift-key":"rebus","data-text-shift-lock":!1,"data-text-solution":null,"data-text-advance-on-type":!1,"data-fill-classes":null,"data-fills":null,"data-fill-cycle":!0,"data-paths":null,"data-path-max-directions":2,"data-path-style":"straight","data-edges":null,"data-edge-style":"box","data-spokes":null,"data-spoke-max-directions":null,"data-spoke-allowed-directions":"*","data-spoke-levels":1,"data-spoke-style":"solid","data-clue-locations":null,"data-clue-indicators":null,"data-top-clues":null,"data-bottom-clues":null,"data-left-clues":null,"data-right-clues":null,"data-drag-paint-fill":!0,"data-drag-draw-path":!1,"data-drag-draw-edge":!1,"data-drag-draw-spoke":!1,"data-unselectable-givens":!1,"data-extracts":null,"data-no-input":!1,"data-no-screenreader":!1,"data-puzzle-id":null,"data-team-id":null,"data-player-id":null};br.default=dC;br.linear={"data-text-advance-on-type":!0,"data-unselectable-givens":!0};br.crossword={"data-text-advance-on-type":!0,"data-clue-locations":"crossword"};br.notext={"data-text-characters":""};br.sudoku={"data-text-characters":"123456789","data-edges":"3x3","data-text":"9x9","data-text-shift-key":"candidates"};br.pathpaint={"data-path-style":"curved","data-drag-draw-path":!0,"data-fill-cycle":!1};br.trains={"data-path-style":"track","data-drag-paint-fill":!1,"data-fill-cycle":!1,"data-drag-draw-path":!0};br.slitherlink={"data-drag-draw-edge":!0,"data-edge-style":"dots"};br.spokes={"data-drag-draw-spoke":!0};br.wordsearch={"data-drag-draw-spoke":!0};br.slant={"data-drag-draw-spoke":!0,"data-spoke-allowed-directions":"x","data-edge-style":"offset"};br.bridges={"data-drag-draw-spoke":!0,"data-drag-paint-fill":!1,"data-fill-cycle":!1,"data-spoke-allowed-directions":"+","data-spoke-levels":2};br.solution={"data-no-input":!0};const ju=R.createContext(dC);function ur(t,e){return t===null?null:Array.isArray(t)?t:t.split(e)}function dae(t,e){return t[e]}function kv(t){return pC()?d.jsx("td",{role:"cell","aria-colindex":t.colIndex,"aria-label":"An empty cell in the outer clue area",className:"cell outer-cell unselectable"}):d.jsx("td",{className:"cell outer-cell unselectable"})}function Pv(t){const{clues:e,clueIndex:n,colIndex:r,zone:i}=t,a=pC(),s=a?"cell":void 0,o=a?r:void 0;if(n<0||n>=e.length||!e[n])return d.jsx("td",{className:"cell outer-cell unselectable","aria-label":a?"An empty clue in the "+i+" area":void 0,role:s,"aria-colindex":o});const l=`cell outer-cell zone-${t.zone}`,u=a?e[n]+": A clue in the "+i+" clue area":void 0;return d.jsx("td",{role:s,"aria-colindex":o,"aria-label":u,className:l,children:e[n]})}function Ya(t){const{edgeName:e}=t;let{"data-edge-style":n}=R.useContext(ju);return n.endsWith(".svg")||(n=fC+"edge-"+n+".svg"),d.jsx("use",{className:e,href:n+"#"+e})}function _A(t){const{spokeCode:e,spokePrefix:n,spokeSuffix:r}=t;let{"data-spoke-style":i}=R.useContext(ju);return e?(i.endsWith(".svg")||(i=fC+"spoke-"+i+".svg"),d.jsx(d.Fragment,{children:Array.from(Array(8).keys()).map(a=>e&1<<a?d.jsx("use",{transform:"rotate"+(a>>1)*90+")",href:i+"#"+n+"spoke-n"+(a&1?"e":"")+r},a):null)})):null}const pae=["o0","i2","i0","l0","i1","r2","r1","t1","i3","r3","r0","t3","l1","t2","t0","x0"];function vae(t){const{pathCode:e}=t,n=pae[e];let{"data-path-style":r}=R.useContext(ju);return e?(r.endsWith(".svg")||(r=fC+"path-"+r+".svg"),d.jsx("use",{className:"path",href:r+"#path-"+n[0],transform:n[1]==="0"?void 0:"rotate("+parseInt(n[1])*90+")"})):null}function mae(t){const{cellInfo:{pathCode:e,edgeCode:n=0,unselectable:r,xEdgeCode:i=0,spokeCode:a=0,xSpokeCode:s=0,spokeCodes:o}}=t,{"data-spoke-levels":l}=R.useContext(ju),u=[];for(let h=2;h<=l+1;h++)u.push(h);return d.jsxs("svg",{"aria-hidden":"true",viewBox:"-15 -15 30 30",children:[e?d.jsx(vae,{pathCode:e}):null,r?null:d.jsx(Ya,{edgeName:"edge-base"}),n&1?d.jsx(Ya,{edgeName:"edge-top"}):null,n&2?d.jsx(Ya,{edgeName:"edge-bottom"}):null,n&4?d.jsx(Ya,{edgeName:"edge-left"}):null,n&8?d.jsx(Ya,{edgeName:"edge-right"}):null,i&1?d.jsx(Ya,{edgeName:"x-edge-top"}):null,i&2?d.jsx(Ya,{edgeName:"x-edge-bottom"}):null,i&4?d.jsx(Ya,{edgeName:"x-edge-left"}):null,i&8?d.jsx(Ya,{edgeName:"x-edge-right"}):null,d.jsx(_A,{spokeCode:a,spokePrefix:"",spokeSuffix:""}),d.jsx(_A,{spokeCode:s,spokePrefix:"x-",spokeSuffix:""}),o?u.map(h=>d.jsx(_A,{spokeCode:o.get(h),spokePrefix:"",spokeSuffix:"-"+h.toString()},h)):null]})}function TA(t,e){return e!=null&&e[t]?e[t]:t}function jv(t){if(t===null)return null;let e=0;const n=[];for(let r=0;r<t.length;r++)n.push(t[r].split(" ")),e=Math.max(n[r].length,e);return{clues:n,depth:e}}function gae(t){const{cellInfo:e,colIndex:n,isCopyjackVersion:r=!1}=t,{clue:i,extractCode:a,fill:s,row:o,column:l,blackCell:u,innerText:h,pathCode:c,edgeCode:f,classes:p}=e,v=pC(),m=s!=="transparent",g={};return r&&m&&Object.assign(g,{borderTop:"1px solid black",borderBottom:"1px solid black",borderLeft:"1px solid black",borderRight:"1px solid black"}),(f??0)&1&&(g.borderTop="3px solid black"),(f??0)&2&&(g.borderBottom="3px solid black"),(f??0)&4&&(g.borderLeft="3px solid black"),(f??0)&8&&(g.borderRight="3px solid black"),d.jsxs("td",{role:v?"cell":void 0,"aria-colindex":v?n:void 0,id:`cell-${o}-${l}`,className:`${p.join(" ")}${s?` ${s} added-fill`:""}${u?" black-cell unselectable":""}${c?" path-cell":""}`,style:g,children:[i?d.jsx("div",{"aria-hidden":"true",className:"clue",children:i.indicator}):null,a?d.jsx("div",{"aria-hidden":"true",className:"extract-code",children:a}):null,d.jsx("div",{"aria-hidden":"true",className:"text",children:d.jsx("span",{children:h})}),m?d.jsx(mae,{cellInfo:e}):null]})}function pC(){const{"data-no-screenreader":t,"data-top-clues":e,"data-left-clues":n,"data-right-clues":r,"data-bottom-clues":i}=R.useContext(ju);return!!(t||e||n||r||i)}function Yj(t){const{tableClassName:e,data:{numCols:n,numRows:r,cellInfos:i,topClues:a,bottomClues:s,leftClues:o,rightClues:l},isCopyjackVersion:u=!1}=t;let c=!R.useContext(ju)["data-no-screenreader"];(a!==null||s!==null||o!==null||l!==null)&&(c=!1);let f=`A ${r} row by ${n} column puzzle grid.`,p,v,m;return c?(m="grid",p=((a==null?void 0:a.depth)??0)+((s==null?void 0:s.depth)??0)+r,v=((o==null?void 0:o.depth)??0)+((l==null?void 0:l.depth)??0)+n):f+=" Unfortunately, this specific puzzle is not compatible with a screen reader.",d.jsx("table",{className:`puzzle-grid-content no-input ${e??""} ${u?"copy-only":""}`,role:m,"aria-rowcount":p,"aria-colcount":v,"aria-label":f,children:d.jsxs("tbody",{children:[a?Array.from(Array(a.depth).keys()).map(g=>d.jsxs("tr",{role:c?"row":void 0,"aria-rowindex":c?g+1:void 0,children:[Array.from(Array((o==null?void 0:o.depth)??0).keys()).map(y=>d.jsx(kv,{colIndex:y},y)),a.clues.map((y,x)=>d.jsx(Pv,{clues:y,clueIndex:g-a.depth+y.length,colIndex:1+((o==null?void 0:o.depth)??0)+x,zone:"top"},x)),Array.from(Array((l==null?void 0:l.depth)??0).keys()).map(y=>d.jsx(kv,{colIndex:1+((o==null?void 0:o.depth)??0)+n+y},y))]},g)):null,i.map((g,y)=>d.jsxs("tr",{role:c?"row":void 0,"aria-rowindex":c?((a==null?void 0:a.depth)??0)+y+1:void 0,children:[o?Array.from(Array(o.depth).keys()).map(x=>d.jsx(Pv,{clues:o.clues[y],zone:"left",clueIndex:x-o.depth+o.clues[y].length,colIndex:1+x},x)):null,g.map((x,A)=>d.jsx(gae,{cellInfo:x,colIndex:1+((o==null?void 0:o.depth)??0)+A,isCopyjackVersion:u},A)),l?Array.from(Array(l.depth).keys()).map(x=>d.jsx(Pv,{clues:l.clues[y],clueIndex:x,colIndex:1+((o==null?void 0:o.depth)??0)+n+x,zone:"right"},x)):null]},y)),s?Array.from(Array(s.depth).keys()).map(g=>d.jsxs("tr",{role:c?"row":void 0,"aria-rowindex":c?((a==null?void 0:a.depth)??0)+r+g+1:void 0,children:[Array.from(Array((o==null?void 0:o.depth)??0).keys()).map(y=>d.jsx(kv,{colIndex:1+y},y)),s.clues.map((y,x)=>d.jsx(Pv,{clues:y,zone:"bottom",clueIndex:g,colIndex:1+((o==null?void 0:o.depth)??0)+x},x)),Array.from(Array((l==null?void 0:l.depth)??0).keys()).map(y=>d.jsx(kv,{colIndex:1+((o==null?void 0:o.depth)??0)+n+y},y))]},g)):null]})})}function x5(t){var z,H;const{modes:e,text:n,optionsOverride:r,isUsingCopyjack:i=!0,tableClassName:a}=t,s={...dC};for(const G of e??[])Object.assign(s,br[G]);Object.assign(s,r),s["data-text"]=n??null;const o=ur(s["data-clue-indicators"]," ");let l=ur(s["data-text"],"|");const u=dae(s,"data-text-replacements"),h=ur(s["data-fill-classes"]," "),c=ur(s["data-fills"],"|"),f=ur(s["data-text-solution"],"|");let p=ur(s["data-edges"],"|");const v=ur(s["data-paths"],"|"),m=s["data-spoke-levels"]+1,g=new Array(m);for(let G=1;G<m;G++){let N=G>1?ur(s["data-spokes-"+G.toString()],"|"):ur(s["data-spokes"],"|");N||(N=void 0),g[G]=N}const y=ur(s["data-extracts"]," "),x=s["data-unselectable-givens"],A=jv(ur(s["data-top-clues"],"|")),b=jv(ur(s["data-bottom-clues"],"|")),S=jv(ur(s["data-left-clues"],"|")),w=jv(ur(s["data-right-clues"],"|")),_=(t.acrossClues??[]).map(G=>({clue:G}));let T=0;const C=(t.downClues??[]).map(G=>({clue:G}));let E=0;if(l||(l=f),l===null)throw new Error("textLines is null!");const k=!s["data-no-input"];let I=0,j=0,P=0,D=0;if(l.length==1&&/^\d+x\d+$/.test(l[0])){const G=l[0].split("x");l=[];for(let N=0;N<parseInt(G[1]);N++)l[N]=".".repeat(parseInt(G[0]))}if(p&&p.length==1&&/^\d+x\d+$/.test(p[0])){const G=p[0].split("x");p=null,D=parseInt(G[0]),P=parseInt(G[1])}const L=l.length;let F=0;const V=[];for(let G=0;G<l.length;G++){V.push([]),F=Math.max(F,l[G].length);for(let N=0;N<l[G].length;N++){const W={row:G,column:N,ariaColIndex:1+((S==null?void 0:S.depth)??0)+N,xSpokeCode:0,classes:["cell","inner-cell"]},q=l[G][N];if(q==".")f?W.innerText=TA(f[G][N],u):k&&s["data-text-characters"]&&(W.contentEditable=!0,W.autocapitalize="off");else if(q=="#"){if(W.classes.push("extract"),f?W.innerText=TA(f[G][N],u):k&&s["data-text-characters"]&&(W.contentEditable=!0,W.autocapitalize="off"),y){const X=y[j++];W.extractCode=X}}else q=="@"?(W.blackCell=!0,W.unselectable=!0):(W.innerText=TA(q,u),W.givenText=!0,x&&(W.unselectable=!0));let $=0;if((p||P||D)&&(P&&(G%P==0&&($|=1),G==l.length-1&&($|=2)),D&&(N%D==0&&($|=4),N==l[G].length-1&&($|=8)),p)){if(p.length==l.length)$|=parseInt(p[G][N],16);else if(p.length==l.length*2+1){const X=p[G*2],Q=p[G*2+1],re=p[G*2+2],K=X.length==l[G].length?X[N]:X[N*2+1],le=Q.length==l[G].length+1?Q[N]:Q[N*2],we=Q.length==l[G].length+1?Q[N+1]:Q[N*2+2],oe=re.length==l[G].length?re[N]:re[N*2+1];K!=" "&&K!="."&&($|=1),oe!=" "&&oe!="."&&($|=2),le!=" "&&le!="."&&($|=4),we!=" "&&we!="."&&($|=8)}}W.edgeCode=$;let Z=0;if(v){if(v.length==l.length)Z|={"â":12,"â":3,"â":10,"â":6,"â":9,"â":5}[v[G][N]]||parseInt(v[G][N],16);else if(v.length==l.length*2+1){const X=v[G*2],Q=v[G*2+1],re=v[G*2+2],K=X.length==l[G].length?X[N]:X[N*2+1],le=Q.length==l[G].length+1?Q[N]:Q[N*2],we=Q.length==l[G].length+1?Q[N+1]:Q[N*2+2],oe=re.length==l[G].length?re[N]:re[N*2+1];K!=" "&&K!="."&&(Z|=1),oe!=" "&&oe!="."&&(Z|=2),le!=" "&&le!="."&&(Z|=4),we!=" "&&we!="."&&(Z|=8)}}W.pathCode=Z;for(let X=1;X<m;X++){let Q=0;if(g[X]){const re=g[X],K=re[G*2],le=re[G*2+1],we=re[G*2+2],oe=K[N*2+1],Pe=K[N*2+2],Le=le[N*2+2],Ge=we[N*2+2],st=we[N*2+1],Ue=we[N*2],Ye=le[N*2],Ne=K[N*2];oe!=" "&&oe!="."&&(Q|=1),(Pe=="/"||Pe=="'"||Pe=="X"||Pe=="x")&&(Q|=2),Le!=" "&&Le!="."&&(Q|=4),(Ge=="\\"||Ge=="`"||Ge=="X"||Ge=="x")&&(Q|=8),st!=" "&&st!="."&&(Q|=16),(Ue=="/"||Ue=="'"||Ue=="X"||Ue=="x")&&(Q|=32),Ye!=" "&&Ye!="."&&(Q|=64),(Ne=="\\"||Ne=="`"||Ne=="X"||Ne=="x")&&(Q|=128)}Q&&(X>1?(W.spokeCodes||(W.spokeCodes=new Map),W.spokeCodes.set(X,Q)):W.spokeCode=Q)}if(s["data-clue-locations"]&&l[G][N]!="@"){const X=(N==0||l[G][N-1]=="@"||$&4)&&N<l[G].length-1&&l[G][N+1]!="@"&&!($&8),Q=(G==0||l[G-1][N]=="@"||$&1)&&G<l.length-1&&l[G+1][N]!="@"&&!($&2);if(X||Q||s["data-clue-locations"]=="all"){const re=o?o[I++]:String(++I);!(re.trim()==="")&&s["data-clue-locations"]=="crossword"&&(X&&(W.clue||(W.clue={}),W.clue.acrossClueNumber=re),Q&&(W.clue||(W.clue={}),W.clue.downClueNumber=re),X&&_[T]&&(_[T].acrossClueNumber=re,T++),Q&&C[E]&&(C[E].downClueNumber=re,E++)),W.clue&&(W.clue.indicator=re)}s["data-clue-locations"]=="crossword"&&(!X&&N>0&&l[G][N-1]!="@"&&!($&4)&&(W.clue||(W.clue={}),W.clue.acrossClueNumber=(z=V[G][N-1].clue)==null?void 0:z.acrossClueNumber),!Q&&G>0&&l[G-1][N]!="@"&&!($&1)&&(W.clue||(W.clue={}),W.clue.downClueNumber=(H=V[G-1][N].clue)==null?void 0:H.downClueNumber))}if(h){let X=0;c&&c[G][N]!="."?X=parseInt(c[G][N],36):X=0,W.fill=h[X]}V[G].push(W)}}const U={numCols:F,numRows:L,cellInfos:V,topClues:A,bottomClues:b,leftClues:S,rightClues:w};return d.jsxs("div",{className:"puzzle-entry loaded",children:[d.jsxs(ju.Provider,{value:s,children:[i?d.jsx(Yj,{tableClassName:a,data:U,isCopyjackVersion:!0}):null,d.jsx(Yj,{tableClassName:`${a} ${i?"no-copy":""}`,data:U})]}),_.length>0&&C.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Across"}),d.jsx("ol",{children:_.map(({clue:G,acrossClueNumber:N})=>d.jsx("li",{value:N,children:G},N))}),d.jsx("h4",{children:"Down"}),d.jsx("ol",{children:C.map(({clue:G,downClueNumber:N})=>d.jsx("li",{value:N,children:G},N))})]})]})}const qj="the-end-redirect",A5=t=>t==="blank"?null:`/static/images/cutscenes/${t}${t.includes(".")?"":".png"}`;function yae(t){const{keyframe:e,keyframeId:n,dialogueElem:r,dialogueComponents:i,onChooseDialogOption:a,onUndo:s,onRedo:o}=t,{dialogOptions:l=["..."],dialogOptionsReqs:u,imageName:h}=e,c=Dt();if(c===null)return d.jsx(he,{inline:!0});const f=u!==void 0?u.map(v=>w8(v,c)):void 0,p=A5(h);return d.jsxs("div",{className:"keyframe",children:[d.jsx(Jc,{mode:"popLayout",children:d.jsx(pi.div,{className:"keyframe-image",style:{backgroundImage:p===null?void 0:`url(${p})`},initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:n==="intro-darken"?1:.15}},h)}),d.jsxs("div",{className:"keyframe-bottom",children:[d.jsx("div",{className:"keyframe-dir-button",children:s!==void 0?d.jsx("button",{onClick:s,children:"â"}):null}),d.jsxs("div",{className:"keyframe-dialog-box",children:[d.jsx("div",{className:"keyframe-dialogue",children:R.createElement(r,{components:i})}),l.map((v,m)=>{const g=!((f==null?void 0:f[m])??!0);return d.jsx("a",{href:"#",className:Tt({"keyframe-dialog-option":!0,disabled:g}),onClick:y=>{y.preventDefault(),!g&&a(m)},children:v},`${n}_${m}`)})]}),d.jsx("div",{className:"keyframe-dir-button",children:o!==void 0?d.jsx("button",{onClick:o,children:"â¶"}):null})]})]})}function xae(t){const{puzName:e,firstKeyframeId:n}=t,r=$O(e),i=Ea(e),[a,s]=R.useState(null),[o,l]=R.useState(!1),u=mh(),{history:h,historyPosition:c}=r,f=c!==null?h[c]??null:null,[p,v]=R.useState(f),m=Te(ne.KEYFRAME,p===null?null:{keyframeId:p}),g=He(),y=Ea(Rn.puzName)??!1,x=Te(ne.TEAM_PUZZLE_105,g===null||!y?null:{teamId:g}),A=y!==null&&(!y||x!==null),b=(x==null?void 0:x.status)??null,S=b!==null&&b.type===dr.ACCEPTED?b.moonickDialogue:null,w=ot(),_=Je(U=>U.setRedirectCommand),T=wn(),C=YO(e),E=(C==null?void 0:C.cutsceneImages)??null,k=R.useRef([]),I=i!==null&&i&&f===null;if(R.useEffect(()=>{I&&s(null)},[I,s]),R.useEffect(()=>{v(f)},[f]),R.useEffect(()=>{p===null&&i!==null&&(i||u({cutscenesState:{[e]:{history:[n],historyPosition:0}}}))},[e,p,n,i,u]),R.useEffect(()=>{p===qj&&_({path:"/sunrise",replace:!0})},[p,_]),R.useEffect(()=>{if(p===null||m===null||!A)return;const{dialogue:U}=m;let z=!1;return lC(U,X1).then(H=>{z||s({keyframeId:p,keyframe:m,dialogueElem:H.default,dialogueComponents:{TeamDisplayNameDisplay:ln,Twemoji:ve,MoonickDialogue:()=>d.jsx(d.Fragment,{children:S??"Very well."})}})}).catch(H=>{console.error(H),!z&&s(null)}),()=>{z=!0}},[p,m,A,S]),R.useEffect(()=>{if(!o)return;if(a===null){l(!1);return}const{endCutscene:U=!1,redirectPath:z}=a.keyframe;U&&!(i??!1)||(l(!1),z!==void 0&&_({path:z}),u({cutscenesState:{[e]:_g()}}))},[e,o,a,u,_,i]),R.useEffect(()=>{E!==null&&(k.current=E.flatMap(U=>{const z=A5(U);if(z===null)return[];const H=new Image;return H.src=z,[H]}))},[E]),g===null||i===null)return d.jsx(he,{inline:!0});if(i&&f===null)return d.jsx("div",{style:{textAlign:"center",margin:"1em",fontSize:"1.5em"},children:d.jsx("button",{onClick:()=>{u({cutscenesState:{[e]:{history:[n],historyPosition:0}}})},children:"Replay cutscene"})});if(a===null||p===null||p===qj||c===null)return d.jsx(he,{inline:!0});const{keyframeId:j,keyframe:P,dialogueElem:D,dialogueComponents:L}=a,F=c>0?c-1:null,V=c<h.length-1?c+1:null;return d.jsx(yae,{keyframe:P,keyframeId:j,dialogueElem:D,dialogueComponents:L,onChooseDialogOption:U=>{T.acquireAndRun(async z=>{const H=P.endCutscene??!1,G=(P.dialogOptions??[]).length>1,N=H&&!i;if(N||G){const q=await w.sendScopeStepAndWaitAsync({type:ne.TEAM_CUTSCENES,teamId:g},{setCutsceneComplete:N?e:void 0,chooseDialogOption:G?{keyframeId:j,index:U}:void 0});if(z()||q===null||(q.isDisallowed??!1))return}if(H&&u({completedStoryBeats:{[e]:!0}}),H||P.redirectPath!==void 0){l(!0);return}const W=P.nextId.length===1?P.nextId[0]:P.nextId[U];if(W===void 0)throw new Error(`no next keyframe id for option ${U} in ${j}`);u({cutscenesState:{[e]:{history:[...h.slice(0,c+1),W],historyPosition:c+1}}})})},onUndo:F!==null?()=>{u({cutscenesState:{[e]:{history:h,historyPosition:F}}})}:void 0,onRedo:V!==null?()=>{u({cutscenesState:{[e]:{history:h,historyPosition:V}}})}:void 0})}function vC(t){const{renderCtx:{elem:e,components:n,props:r}}=t;return d.jsx("div",{className:"puzzle-content clipboard-container",children:R.createElement(e,{components:n,...r})})}function Do(t){const{contentType:e=gs.PUZZLE,puzName:n,isPreview:r}=t,{renderCtx:i}=IC(n,e,r);return i===null?d.jsx(he,{inline:!0}):d.jsx(vC,{renderCtx:i})}function b5(t){const{puzName:e,...n}=t;return d.jsx("div",{className:"puzzle-content-preview no-copy",...n,children:d.jsx(Do,{puzName:e,isPreview:!0})})}function U0({puzName:t}){const e=Dt();return e===null?d.jsx(he,{inline:!0}):e.puzzles[t]===void 0?d.jsx("div",{className:"puzzle-content-preview-with-link puzzle-content-preview-not-unlocked",children:"(Puzzle not unlocked)"}):d.jsxs("div",{className:"puzzle-content-preview-with-link",children:[d.jsx(b5,{puzName:t}),d.jsx(tt,{className:"puzzle-content-preview-link",puzName:t,children:d.jsx("div",{className:"copy-only",children:"[Link to another puzzle]"})})]})}function Jm(t){const{syncedVal:e,onAnyChange:n,onUpdate:r,...i}=t,[a,s]=R.useState("");return R.useEffect(()=>{e!==null&&s(e)},[e,s]),e===null?d.jsx(he,{inline:!0}):d.jsx("input",{type:"text",value:a,onChange:o=>{s(o.target.value),n==null||n(o.target.value),document.activeElement!==o.target&&r(o.target.value)},onBlur:o=>{a!==e&&r(a)},...i})}function Pd(t){const{syncedVal:e,onAnyChange:n,onUpdate:r,...i}=t;return d.jsx(Jm,{type:"number",syncedVal:e===null?null:e.toString(),onAnyChange:n===void 0?void 0:a=>n(Number(a)),onUpdate:a=>r(Number(a)),...i})}function Aae(t){const{syncedVal:e,onUpdate:n,...r}=t,[i,a]=R.useState("");return R.useEffect(()=>{e!==null&&a(e)},[e,a]),e===null?d.jsx(he,{inline:!0}):d.jsx("textarea",{value:i,onChange:s=>a(s.target.value),onBlur:s=>{i!==e&&n(i)},...r})}function W0(t){const{infoText:e}=t;return d.jsx("div",{className:"section-box puzzle-section-box",children:d.jsx("div",{children:e??"The hunt is over, but you may still submit something to get a simulated interaction."})})}const w5=t=>{const e=XO(t);return e===null?null:!e};function bae(t){var _,T;const{puzName:e,isLocked:n=!1}=t,r=He(),i=Tu(C=>C.getSockClient)(),a=Te(ne.TEAM_PUZZLE_105,r===null?null:{teamId:r}),s=R.useRef(null),[o,l]=R.useState(""),[u,h]=R.useState(!1),c=Dt(),f=wn(),{isHeld:p}=f,v=a==null?void 0:a.confirmedTitles[e],m=(_=c==null?void 0:c.puzzles[e])==null?void 0:_.answer,g=w5((a==null?void 0:a.checkTitleThrottledTime)??null)??!1,y=`You've been rate limited for making too many mistakes! Please try again after ${Rn.checkTitleRateLimitIntervalMinutes} minutes.`,x=((T=Te(ne.TEAM_TITLES,r!==null?{teamId:r}:null))==null?void 0:T.titles)??null,A=(x==null?void 0:x[e])??null;if(R.useEffect(()=>{A!==null&&l(A)},[A]),R.useEffect(()=>{g&&l("")},[g]),R.useEffect(()=>{u&&s.current!==null&&(p||v===void 0&&o===""&&(s.current.focus(),h(!1)))},[u,s,p,v,o]),r===null||i===null||a===null||c===null||x===null)return d.jsx(he,{inline:!0});const b={type:ne.TEAM_PUZZLE_105,teamId:r},S=()=>{if(s.current===null||g)return;const C=s.current.value;C.trim()!==""&&f.acquireAndRun(async E=>{const k=await i.sendScopeStepAndWaitAsync(b,{checkTitle:{puzName:e,title:C}});if(E()||k===null)return;const{checkTitleResp:I}=k;if(I===void 0)throw new Error(`received invalid check title response ${k}`);const j=Ad(C);(()=>{switch(I){case uv.CORRECT:return Aa.success(`${j} is an appropriate title!`),!0;case uv.WRONG:return Aa.error(`${j} is not an appropriate title.`),!0;case uv.RATE_LIMITED:return Aa.warning(y),!0;case uv.ALREADY_SOLVED:return!0}})(),s.current!==null&&(h(!0),l(""))})},w=`puzzle-105-move-button ${n?"disabled":""}`;return d.jsxs("div",{className:"puzzle-105-supporting-document",children:[d.jsxs("div",{className:"puzzle-105-move-buttons",children:[d.jsx("div",{className:w,onClick:()=>{n||i.sendTeamPuzzle105ScopeStep({movePuz:{puzName:e,diff:-1}},r)},children:d.jsx(ve,{children:"â¬ï¸"})}),d.jsx("div",{className:w,onClick:()=>{n||i.sendTeamPuzzle105ScopeStep({movePuz:{puzName:e,diff:1}},r)},children:d.jsx(ve,{children:"â¬ï¸"})})]}),d.jsxs("div",{className:"puzzle-105-supporting-document-middle",children:[d.jsxs("div",{children:["Title:"," ",d.jsx("input",{ref:s,maxLength:Rn.titleMaxLength,placeholder:A??void 0,value:v??o,disabled:p||g,readOnly:n||v!==void 0,onChange:C=>{l(C.target.value)},onKeyDown:C=>{C.key==="Enter"&&S()}})," ",d.jsx("span",{className:"puzzle-105-supporting-document-title-check-wrapper",children:v!==void 0?d.jsx(ve,{children:"â"}):g?d.jsx(Ce,{text:y,children:d.jsx(ve,{children:"â³â ï¸"})}):d.jsx("button",{onClick:()=>{S()},children:"Check"})})]}),d.jsxs("div",{children:["Answer: ",m===void 0?"(not yet solved)":d.jsx("b",{children:m})]})]}),d.jsx(U0,{puzName:e})]})}function S5(t){const{teamId:e,isLocked:n=!1,hideAnswer:r=!1}=t,i=Tu(A=>A.getSockClient)(),a=Te(ne.TEAM_PUZZLE_105,e===null?null:{teamId:e}),[s,o]=R.useState(null);if(R.useEffect(()=>{if(a===null)return;const{status:A}=a;o(A!==void 0&&!J1(a)?A.submitTime:Date.now())},[a,o]),a===null||i===null||s===null)return d.jsx(he,{});const l=A=>b=>{i.sendTeamPuzzle105ScopeStep({formFields:A(b)},e)},u=(A,b)=>d.jsxs("div",{className:"puzzle-105-form-field",children:[d.jsx("div",{className:"puzzle-105-form-field-left",children:A}),d.jsx("div",{className:"puzzle-105-form-field-right",children:b})]}),{difficulty:h,sharePermission:c}=a.formFields,f=A=>{i.sendTeamPuzzle105ScopeStep({formFields:{difficulty:A}},e)},p=A=>d.jsxs("label",{className:"puzzle-105-radio-button-label",children:[d.jsx("input",{type:"radio",disabled:n,checked:h!==null&&h===A,onChange:()=>f(A)}),A]}),v=A=>{i.sendTeamPuzzle105ScopeStep({formFields:{sharePermission:A}},e)},m=(A,b)=>d.jsxs("label",{className:"puzzle-105-radio-button-label",children:[d.jsx("input",{type:"radio",disabled:n,checked:c!==null&&c===A,onChange:()=>v(A)}),b]}),{formLimits:{shortInputMaxLength:g,longInputMaxLength:y}}=Rn,x=(A,b,S,w)=>d.jsxs("div",{className:"puzzle-105-textarea-field",children:[d.jsx("div",{children:A}),d.jsx(Aae,{disabled:n,maxLength:y,syncedVal:b,onUpdate:S,...w})]});return d.jsxs("div",{className:"puzzle-105-form",children:[d.jsx("h1",{children:"Free Puzzle Request Form"}),u(`Record the title of your Free Puzzle (optional, max ${g} chars):`,d.jsx(Jm,{disabled:n,maxLength:g,syncedVal:a.formFields.title,onUpdate:l(A=>({title:A.trim()}))})),u(`Enter the answer to your Free Puzzle (max ${g} chars):`,d.jsx(Jm,{disabled:n,maxLength:g,syncedVal:a.formFields.answer,className:`puzzle-105-answer-input ${r?"hidden":""}`,onUpdate:l(A=>({answer:A.split("/").map(b=>Ad(b)).join(" / ")}))})),u("Date:",d.jsx("input",{type:"text",disabled:!0,value:new Date(s).toLocaleDateString()})),u("Hex color (6 digits) associated with your Free Puzzle:",d.jsxs(d.Fragment,{children:["#",d.jsx(Jm,{disabled:n,maxLength:6,syncedVal:a.formFields.hexColor,onUpdate:l(A=>({hexColor:S8(A)}))})]})),u("Estimate the difficulty of your Free Puzzle:",d.jsxs("div",{className:"puzzle-105-form-field-radio-buttons",children:[p(1),p(2),p(3),p(4),p(5)]})),x(`Record the flavortext for your Free Puzzle (optional, max ${y} chars):`,a.formFields.flavortext,l(A=>({flavortext:A.trim()}))),x(`Record a brief solution to your Free Puzzle (max ${y} chars):`,a.formFields.solution,l(A=>({solution:A.trim()}))),x(`Instructions to solvers to be appended to your Free Puzzle (optional, max ${y} chars):`,a.formFields.instructions,l(A=>({instructions:A.trim()}))),x(`Notes (optional, max ${y} chars):`,a.formFields.notes,l(A=>({notes:A.trim()}))),d.jsxs("div",{children:[d.jsx("div",{children:"Grant permission to share your Free Puzzle with other teams?"}),d.jsx("div",{children:d.jsxs("div",{className:"puzzle-105-form-field-radio-buttons",children:[m(Hm.FULL,"Yes, including through wishes"),m(Hm.WRAPUP,"Yes, but only in wrap-up"),m(Hm.NONE,"No")]})})]})]})}function wae(t){const{isLocked:e=!1}=t,n=He(),r=Tu(o=>o.getSockClient)();R.useState(null);const i=Te(ne.TEAM_PUZZLE_105,n===null?null:{teamId:n});if(n===null||r===null||i===null)return d.jsx(he,{});const{diagramUrl:a}=i,s={type:ne.TEAM_PUZZLE_105,teamId:n};return d.jsxs("div",{className:"puzzle-105-diagram",children:[d.jsx("div",{children:d.jsx("h4",{children:"Upload a Diagram of your Free Puzzle (only PNG/JPG supported, max 1MB)"})}),d.jsx(y5,{isLocked:e,slot:qO.PUZZLE_105,supportedMimeTypes:["image/png","image/jpeg"],maxFileSize:1e6,onSubmitSuccess:async()=>{await r.sendScopeStepAndWaitAsync(s,{downloadDiagramUrl:!0})}}),a===void 0?null:d.jsx("img",{src:Z1(a)})]})}function mC(t){const{data:{teamId:e,flavortext:n,diagramUrl:r,instructions:i}}=t;return d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["Submitted by: ",d.jsx(ln,{teamId:e})]}),d.jsx(H0,{children:n}),r===void 0?null:d.jsx("div",{className:"puz-img puzzle-105-content-image",children:d.jsx("img",{className:"puz-img-full-width",src:Z1(r)})}),d.jsx("p",{style:{whiteSpace:"pre-wrap"},children:i})]})}function gC(t){const{teamId:e}=t,n=Te(ne.TEAM_PUZZLE_105,e===null?null:{teamId:e});if(R.useState(null),n===null)return d.jsx(he,{});const{diagramUrl:r,formFields:{flavortext:i,instructions:a}}=n;return d.jsxs("div",{className:"puzzle-105-preview",children:[d.jsx("div",{className:"puzzle-header",children:d.jsx("h1",{children:n.formFields.title})}),d.jsx(mC,{data:{teamId:e,flavortext:i,diagramUrl:r,instructions:a}})]})}function Sae(){const t=He(),e=Tu(g=>g.getSockClient)(),n=ir(),r=Te(ne.TEAM_PUZZLE_105,t===null?null:{teamId:t}),i=Ea(Rn.puzName),a=Ho(),s=wn(),{isHeld:o}=s,l=r===null?null:_8(r),u=w5(l)??!1;if(t===null||r===null||e===null||i===null)return d.jsx(he,{});const{status:h=null}=r,c=J1(r),f=h!==null&&h.type===dr.ACCEPTED,p=h!==null&&h.type===dr.PENDING,v=T8(r),m={type:ne.TEAM_PUZZLE_105,teamId:t};return d.jsxs("div",{children:[d.jsxs("div",{children:[d.jsx("div",{children:"Form"}),r.order.map((g,y)=>{const x=r.confirmedTitles[g];return d.jsxs("div",{children:["Supporting Document ",y+1,": ",x??"(untitled)"]},g)}),d.jsx("div",{children:"Diagram"})]}),d.jsx("hr",{}),f?d.jsx("div",{className:"puzzle-105-submit-success",children:"Congratulations! Your Application has passed review. Please submit your Application to the nearest cavern."}):p?d.jsx("div",{children:"Congratulations! Your Application passed the baseline requirements and has been submitted to our staff for review. Please wait up to 300000 business seconds for your Application to be processed."}):l!==null&&u?d.jsxs("div",{className:"puzzle-105-submit-error",children:["Your Application has been rejected for the following reason: Wrongly ordered documentation. Please try again at or after"," ",new Date(l).toLocaleString(),"."]}):h!==null&&h.type===dr.REJECTED?d.jsxs("div",{className:"puzzle-105-submit-error",children:["Your Application has been rejected for the following reason:"," ",h.reason,".!?".includes(h.reason[h.reason.length-1])?"":"."," ","Please resubmit your Application after making the necessary modifications."]}):null,c&&!u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"puzzle-105-submit-warning",children:"WARNING: Submitting a wrongly ordered application may result in rejection of your application and delay your Free Puzzle."}),v.length>0?d.jsxs("div",{className:"puzzle-105-validation-errors",children:[d.jsx("div",{className:"puzzle-105-validation-errors-explanation",children:"Please correct the following issues to proceed with your Application:"}),d.jsx("div",{children:d.jsx("ul",{children:v.map((g,y)=>d.jsx("li",{children:g},y))})})]}):null,d.jsx("div",{className:"puzzle-105-posthunt-submission-infobox",children:a?d.jsx(W0,{}):null}),d.jsx("div",{children:d.jsx("button",{disabled:o||v.length>0,onClick:()=>{s.acquireAndRun(async g=>{await e.sendScopeStepAndWaitAsync(m,{submit:!0})})},children:"Submit"})})]}):null,n&&c&&!i?d.jsx("button",{disabled:o,onClick:()=>{s.acquireAndRun(async g=>{await e.sendScopeStepAndWaitAsync(m,{submit:!0,ignoreSubmitErrors:!0})})},children:"Submit unchecked (admin only)"}):null]})}function _ae(t){const{isLocked:e,puzName:n}=t,r=JX();return d.jsx(OB.Item,{as:"div",value:n,dragListener:!1,dragControls:r,children:d.jsx(bae,{isLocked:e,puzName:n})})}function Tae(){const t=He(),e=Te(ne.TEAM_PUZZLE_105,t===null?null:{teamId:t}),n=(e==null?void 0:e.order)??null,[r,i]=R.useState(null);if(R.useEffect(()=>{n!==null&&i(n)},[n]),t===null||e===null||r===null)return d.jsx(he,{});const a=!J1(e);return d.jsxs("div",{children:[d.jsx("div",{className:"puzzle-105-header",children:d.jsx("h1",{children:"Application for Free Puzzle Redemption"})}),d.jsx(S5,{teamId:t,isLocked:a}),d.jsx("div",{className:"puzzle-105-supporting-documents",children:d.jsx(OB.Group,{as:"div",axis:"y",values:r,onReorder:()=>{},children:r.map(s=>d.jsx(_ae,{isLocked:a,puzName:s},s))})}),d.jsx(wae,{isLocked:a}),d.jsx("div",{className:"puzzle-105-header",children:d.jsx("h1",{children:"Preview your Free Puzzle"})}),d.jsx(gC,{teamId:t}),d.jsx("div",{className:"puzzle-105-header",children:d.jsx("h1",{children:"Review and Submit"})}),d.jsx(Sae,{})]})}function _5(t){const{status:e}=t;if(e===void 0)return null;switch(e.type){case Tr.ACCEPTED:return d.jsxs("div",{className:"puzzle-139-accepted",children:[d.jsx("p",{children:d.jsx("b",{children:"Your submission was accepted!"})}),d.jsx("p",{children:e.comment})]});case Tr.REJECTED:return d.jsx("div",{className:"puzzle-139-rejected",children:d.jsxs("div",{children:[d.jsx("p",{children:d.jsx("b",{children:"Your submission was rejected with the following response:"})}),d.jsx("p",{children:e.reason}),d.jsx("p",{children:d.jsx("b",{children:"Please make the necessary corrections and try again."})})]})})}return null}function Cae(){const t=He(),e=ot(),n=Te(ne.TEAM_PUZZLE_139,t===null?null:{teamId:t}),r=Ho(),i=R.useRef(null),[a,s]=R.useState(uo.NONE),o=wn(),{isHeld:l}=o;if(R.useEffect(()=>{if(n===null||i.current===null)return;const{submissionText:v,sharePermission:m}=n;v!==void 0&&(i.current.value=v),m!==void 0&&s(m)},[n]),t===null||n===null)return d.jsx(he,{});const{diagramUrl:u,status:h}=n,c=h!==void 0&&h.type!==Tr.REJECTED,f={type:ne.TEAM_PUZZLE_139,teamId:t},p=[[uo.BOTH,"Yes, both picture and fun fact"],[uo.FACT,"Yes, only the fun fact"],[uo.NONE,"No"]];return d.jsxs("div",{className:"puzzle-139",children:[d.jsx("h4",{children:"Upload a picture (only JPG supported, max 5MB)"}),d.jsx(y5,{isLocked:c,slot:qO.PUZZLE_139,supportedMimeTypes:["image/jpeg"],maxFileSize:5e6,onSubmitSuccess:async()=>{await e.sendScopeStepAndWaitAsync(f,{downloadDiagramUrl:!0})}}),u===void 0?null:d.jsx("img",{className:"puzzle-139-preview-image",src:Z1(u)}),d.jsx("h4",{children:"Write a fun fact"}),d.jsx("textarea",{disabled:c,maxLength:Tg.maxLength,ref:i}),d.jsx("h4",{children:"Grant permission to share your submission in wrap-up?"}),d.jsx("form",{className:"form-field-radio-buttons",children:p.map(([v,m])=>d.jsxs("label",{children:[d.jsx("input",{type:"radio",checked:a===v,disabled:c,onChange:()=>s(v)}),m]},v))}),c?null:d.jsxs(d.Fragment,{children:[r?d.jsx(W0,{}):null,d.jsx("div",{children:d.jsx("button",{disabled:l,onClick:()=>{o.acquireAndRun(async v=>{if(i.current!==null){if(u===void 0){Aa.warning("Please upload a picture.");return}if(i.current.value.trim()===""){Aa.warning("Please enter a fun fact.");return}await e.sendScopeStepAndWaitAsync(f,{submit:{submissionText:i.current.value,sharePermission:a}})}})},children:"Submit"})})]}),h!==void 0&&h.type===Tr.PENDING?d.jsx(d.Fragment,{children:"Thank you for your submission. We will evaluate it shortly."}):null,d.jsx(_5,{status:h})]})}function Iae(){const t=He(),e=ot(),n=Te(ne.TEAM_PUZZLE_144,t===null?null:{teamId:t}),r=Ho(),i=R.useRef(null),a=wn(),{isHeld:s}=a;if(t===null||n===null||r===null)return d.jsx(he,{});const{req:o,resp:l}=n,u=o!==void 0,h=o!==void 0&&l===void 0,c={type:ne.TEAM_PUZZLE_144,teamId:t},f=p=>Math.round(p*10)%10===0?p.toString():p.toFixed(1);return d.jsxs("div",{className:"puzzle-144",children:[d.jsx("textarea",{disabled:u,defaultValue:(o==null?void 0:o.text)??"",maxLength:Qw.maxLength,ref:i,placeholder:`Write your answer here (max ${Qw.maxLength} characters).`}),u?null:d.jsxs(d.Fragment,{children:[d.jsx("div",{children:"Be sure to check your work. You may only submit once."}),r?d.jsx(W0,{}):null,d.jsx("div",{children:d.jsx("button",{disabled:s,onClick:()=>{a.acquireAndRun(async p=>{if(i.current!==null){if(i.current.value.trim()===""){Aa.warning("Please enter a response.");return}await e.sendScopeStepAndWaitAsync(c,{submitReq:{text:i.current.value}})}})},children:"Submit"})})]}),h?d.jsx(d.Fragment,{children:"Thank you for your submission. We will evaluate it shortly."}):null,l!==void 0?d.jsxs(d.Fragment,{children:[d.jsx("div",{children:l.text}),d.jsxs("div",{className:"puzzle-144-grade",children:[f(l.numPoints)," / 10"]})]}):null]})}function Eae(t){const{headers:e,checkboxStrings:n}=t,[r,i]=R.useState(Array(11).fill(!1)),a=Math.min(Math.max(10+(r[0]?1:0)+(r[1]?1:0)+(r[2]?-1:0)+(r[3]?-1:0)+(r[4]?-1:0)+(r[5]?-5:(r[6]?-3:0)+(r[7]?-1:0))+(r[8]?-5:(r[9]?-2:0)+(r[10]?-1:0)),0),11),s=o=>d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:r[o],onChange:()=>{const l=[...r];l[o]=!r[o],i(l)}}),n[o]]});return d.jsxs(d.Fragment,{children:[d.jsx("p",{children:e[0]}),d.jsxs("ul",{className:"puz144-rubric-list",children:[d.jsx("li",{children:s(0)}),d.jsx("li",{children:s(1)})]}),d.jsx("p",{children:e[1]}),d.jsxs("ul",{className:"puz144-rubric-list",children:[d.jsx("li",{children:s(2)}),d.jsx("li",{children:s(3)}),d.jsx("li",{children:s(4)})]}),d.jsx("p",{children:e[2]}),d.jsxs("ul",{className:"puz144-rubric-list",children:[d.jsx("li",{children:s(5)}),d.jsx("li",{children:s(6)}),d.jsx("li",{children:s(7)})]}),d.jsx("p",{children:e[3]}),d.jsxs("ul",{className:"puz144-rubric-list",children:[d.jsx("li",{children:s(8)}),d.jsx("li",{children:s(9)}),d.jsx("li",{children:s(10)})]}),d.jsxs("p",{children:["Base score: ",d.jsxs("span",{className:"puz144-rubric-score",children:[a," / 10"]})]})]})}function kae(t){const{isBerry:e}=t;return e?d.jsx("span",{className:"berry",children:"Berry"}):d.jsx("span",{className:"non-berry",children:"Not a berry"})}async function Pae(t,e){await new Promise(n=>setTimeout(()=>{t(),n()},e))}const Xj=2e3,Zj=200,Zh=["Flipping","Flipping.","Flipping..","Flipping...","Flipping....","Done!"];function jae(){const[t,e]=R.useState(""),[n,r]=R.useState(!1),i=R.useRef([null,null,null,null]),a=async()=>{if(n||i.current.some(o=>o===null))return;r(!0),e(Zh[0]),i.current.map((o,l)=>{o&&(o.style.animation="none",setTimeout(()=>{o.style.animation=`spin-heads ${Xj/1e3}s`},l*Zj))});const s=(i.current.length-1)*Zj+Xj;for(const o of Zh.slice(1))await Pae(()=>{e(o),o===Zh[Zh.length-1]&&r(!1)},s/(Zh.length-1))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("p",{children:"The answer is a nine letter word."}),d.jsx("button",{onClick:a,disabled:n,children:"Flip coins!"})]}),d.jsx("div",{style:{marginTop:"20px"},children:t}),d.jsx("div",{className:"coins",children:i.current.map((s,o)=>d.jsxs("div",{className:"coin",ref:l=>{i.current[o]=l},children:[d.jsx("div",{className:"heads",children:"heads"}),d.jsx("div",{className:"tails no-copy",children:"tails"})]},o))})]})}function Mae({staticPuzDir:t}){const e=R.useRef(null),n=()=>{const a=e.current;if(a===null)return;const s=a.clientWidth;a.style.height=`${s/2}px`},r=a=>{var l;if(a.pointerType==="mouse")return;const s=e.current;if(s===null)return;const o=(l=s.contentWindow)==null?void 0:l.updatePresses;o!==void 0&&o(a,1)},i=a=>{var l;if(a.pointerType==="mouse")return;const s=e.current;if(s===null)return;const o=(l=s.contentWindow)==null?void 0:l.updatePresses;if(o!==void 0)return o(a,0)};return R.useEffect(()=>(window.addEventListener("resize",n),document.addEventListener("pointerdown",r),document.addEventListener("pointerup",i),n(),()=>{window.removeEventListener("resize",n),document.removeEventListener("pointerdown",r),document.removeEventListener("pointerup",i)}),[]),d.jsx("iframe",{id:"get-home-game",ref:e,src:`${t}/default/get-home.html`})}function Dae(){const t=He(),e=ot(),n=Rt(ne.HOPE_POOL),r=Te(ne.TEAM_HOPE_POOL,t!==null?{teamId:t}:null),i=hp(),a=Ea(Cl.puzName),s=wn(),[o,l]=R.useState(!1),[u,h]=R.useState(!1);if(t===null||n===null||r===null||a===null||i===null)return d.jsx(he,{inline:!0});const{poolAmt:c}=n,{cycleContribution:f,hopeFromSolve:p}=r,v={type:ne.TEAM_HOPE_POOL,teamId:t},m=Math.max(Math.min(c/Cl.minToClaim*100,100),0),g=i>=Cl.contributionAmt,y=!a&&c>=Cl.minToClaim&&f<=0;return d.jsxs("div",{children:[d.jsx("h4",{children:"The Pool"}),d.jsxs("div",{className:"hope-pool-meter",style:{backgroundSize:`${m}%`},children:[c," / ",Cl.minToClaim]}),d.jsxs("div",{className:"hope-pool-control",children:[d.jsxs("div",{className:"hope-pool-current-hope",children:["You have ",Yc(i)," hope."]}),d.jsxs("div",{className:"hope-pool-buttons",children:[d.jsx("button",{disabled:s.isHeld||!g,onClick:()=>{s.acquireAndRun(async x=>{l(!0),await e.sendScopeStepAndWaitAsync(v,{contribute:Cl.contributionAmt}),l(!1)})},children:o?d.jsx(he,{inline:!0}):"Contribute"}),d.jsx("button",{className:"hope-pool-claim-button",disabled:!y||s.isHeld,onClick:()=>{s.acquireAndRun(async x=>{h(!0),await e.sendScopeStepAndWaitAsync(v,{claim:!0}),h(!1)})},children:u?d.jsx(he,{inline:!0}):"Claim"})]})]}),f>0?d.jsxs("div",{children:["Your team has contributed ",f," hope to the pool since the last reset."]}):null,f>0&&!a?d.jsx("div",{children:"Your team may not claim the pool until the pool is reset."}):null,a&&p!==void 0?d.jsxs("div",{children:["You claimed the pool for ",Yc(p)," hope! You cannot claim the pool again, but you may still contribute to it."]}):null]})}function Lae(t){const{staticPuzDir:e,headerNum:n,name:r}=t;return d.jsxs("div",{className:`puz329-card ${n===void 0?"puz329-card-no-header":void 0}`,children:[n!==void 0?d.jsxs("div",{className:"puz329-card-header",children:[d.jsxs("div",{className:"puz329-card-header-left",children:[d.jsx("div",{className:"puz329-card-header-part",children:"Part"}),d.jsx("div",{className:"puz329-card-header-num",children:n})]}),d.jsx("div",{className:"puz329-card-header-right",children:d.jsx("span",{})})]}):null,d.jsx(Dp,{staticPuzDir:e,name:r}),d.jsxs("div",{className:"puz329-card-footer",children:[d.jsx("div",{className:"puz329-card-question-mark",children:"?"}),d.jsxs("div",{className:"puz329-card-footer-right",children:[d.jsx("div",{}),d.jsx("div",{}),d.jsx("div",{})]})]})]})}function Nae({staticPuzDir:t}){return R.useEffect(()=>{const e=document.querySelectorAll("link[rel~='icon']");if(e.length===0){const r=document.createElement("link");return r.rel="icon",r.href=`${t}/default.png`,document.getElementsByTagName("head")[0].appendChild(r),()=>{document.getElementsByTagName("head")[0].removeChild(r)}}const n=[];for(const r of e){if(!(r instanceof HTMLLinkElement))throw new Error("Must get a link when fetching link!");n.push(r.href),r.href=`${t}/default.png`}return()=>{e.forEach((r,i)=>{if(!(r instanceof HTMLLinkElement))throw new Error("Must get a link when fetching link!");r.href=n[i]})}},[t]),d.jsx(d.Fragment,{})}function zae(){const t=He(),e=ot(),n=hp(),r=Ea(WE.puzName),i=wn();return t===null||r===null||n===null?d.jsx(he,{inline:!0}):r?d.jsx("p",{children:"You are filled with hope!"}):n>=WE.hopeLimit?d.jsx(H0,{children:"You have too much hope..."}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["A voice rings out: ",d.jsx("b",{children:"FEAR NOT, HOPE IS HERE!"})]}),d.jsx("p",{children:d.jsx("button",{onClick:()=>{i.acquireAndRun(async a=>{await e.sendScopeStepAndWaitAsync({type:ne.TEAM_HOPELESS,teamId:t},{solve:!0})})},children:"Get Hope"})})]})}function Jh(t){return[...Array(t).keys()]}function Rae(t){let e;if(e=/^\((\d+)\)$/.exec(t)){const n=Number(e[1])**2;return(r,i)=>r**2+i**2<n}if(e=/^\[(\d+)\]$/.exec(t)){const n=Number(e[1]);return(r,i)=>Math.max(Math.abs(r),Math.abs(i))<n}if(e=/^<(\d+)>$/.exec(t)){const n=Number(e[1]);return(r,i)=>Math.abs(r)+Math.abs(i)<n}if(t==="/w")return(n,r)=>r<0;if(t==="/e")return(n,r)=>r>0;if(t==="/ne")return(n,r)=>-n+r>0;if(t==="/sw")return(n,r)=>n-r>0;if(t==="/nw")return(n,r)=>n+r<0;if(t==="/se")return(n,r)=>n+r>0;if(t==="/s")return(n,r)=>n>0;if(t==="R")return(n,r)=>n===0||r===0;if(t==="B")return(n,r)=>Math.abs(n)===Math.abs(r);if(t==="N")return(n,r)=>{const i=Math.abs(n),a=Math.abs(r);return Math.min(i,a)===1&&Math.max(i,a)===2};if(t==="Q")return(n,r)=>n===0||r===0||Math.abs(n)===Math.abs(r);throw new Error(`what? ${t}`)}function Oae(t){let e=(a,s)=>a===0,n=!1,r=t;r[0]==="*"&&(r=r.slice(1),e=(a,s)=>a===s),r[0]==="!"&&(r=r.slice(1),e=(a,s)=>!0,n=!0);let i;if(i=/^(\d+)/.exec(r)){r=r.slice(i[1].length);const a=Number(i[1]);e=(s,o)=>s===a}return{text:t,countPredicate:e,locPredicate:Rae(r),inverter:n}}function T5(t){const{boardIndex:e,blocks:n}=t,r=e==null?void 0:e.toString(),i=mh(),s=C8(r??null)??t.locs??Jh(n.length).map(S=>[0,S]),o=S=>{r!==void 0&&i({blocksPuzzleBoardsState:{[r]:S}})},[l,u]=R.useState(null),h=ot(),c=He(),f=Te(ne.TEAM_BLOCKS,c===null?null:{teamId:c}),p=ir(),v=Jh(15).map(S=>Jh(15).map(w=>null)),m=s.map(S=>!1),g=n.map(Oae);g.forEach((S,w)=>{if(S.inverter){const[_,T]=s[w];s.forEach((C,E)=>{if(E!==w){const[k,I]=C;S.locPredicate(k-_,I-T)&&(m[E]=!0)}})}}),g.forEach((S,w)=>{let _=!0;const[T,C]=s[w],{text:E,locPredicate:k,countPredicate:I}=S;let j=0;s.forEach((P,D)=>{if(D!==w){const[L,F]=P;k(L-T,F-C)!==m[w]&&(j+=1)}}),_=I(j,s.length-1),v[T][C]={ix:w,block:E,valid:_}});const y=e!==void 0&&f!==null&&!(f.solvedBoards[e]??!1),x=v.flat(2).every(S=>(S==null?void 0:S.valid)??!0),A=R.useCallback(S=>{c!==null&&e!==void 0&&h.sendScopeStepAndWaitAsync({type:ne.TEAM_BLOCKS,teamId:c},{setBoardSolved:{boardIndex:e,isSolved:S}}).catch(console.error)},[h,c,e]);R.useEffect(()=>{e!==void 0&&c!==null&&y&&x&&A(!0)},[c,y,x,h,e,A]);function b(S,w,_){if(r!==void 0)if(l!==null){const T=[...s];_!==void 0&&(T[_]=T[l]),T[l]=[S,w],o(T),u(null)}else _!==void 0&&u(_)}return c===null?d.jsx(he,{inline:!0}):d.jsxs(d.Fragment,{children:[e!==void 0&&p?d.jsx("div",{children:d.jsxs("button",{onClick:()=>{A(y)},children:["Set ",y?"solved":"unsolved"," (admin only)"]})}):null,d.jsx("table",{className:Tt({"blocks-puzzle-table":!0,"blocks-puzzle-moving":l!==null}),children:d.jsx("tbody",{children:Jh(15).map(S=>d.jsx("tr",{children:Jh(15).map(w=>{var _,T,C,E,k;return d.jsxs("td",{onClick:()=>{var I;return b(S,w,(I=v[S][w])==null?void 0:I.ix)},className:Tt({clicked:((_=v[S][w])==null?void 0:_.ix)===l,valid:((T=v[S][w])==null?void 0:T.valid)??!1,invalid:(v[S][w]&&!((C=v[S][w])!=null&&C.valid))??!1}),"data-copy-only-styles":"border: 1px dotted black; color: white;",children:[(E=v[S][w])==null?void 0:E.block,d.jsx("br",{}),v[S][w]&&((k=v[S][w])!=null&&k.valid?"â":"â")]},w)})},S))})})]})}function Fae(){const t=He(),e=Te(ne.TEAM_BLOCKS,t===null?null:{teamId:t});if(e===null)return d.jsx(he,{inline:!0});const{maxNumBoards:n,boardSpecs:r,solvedBoards:i,inscription:a}=e,s=Object.values(i).filter(l=>l).length,o=s0.inscriptionNumBoards-s;return d.jsxs(d.Fragment,{children:[d.jsx("p",{children:r.length>=n?d.jsx(d.Fragment,{children:"You found all the blocks!"}):d.jsxs(d.Fragment,{children:["You found ",r.length," of my ",n," groups of blocks. Wishing might help you find more!"]})}),d.jsx("p",{children:"Click a block and an empty square to move it there, or two blocks to swap them."}),d.jsx("div",{className:"blocks-puzzle-boards",children:r.map((l,u)=>d.jsxs(R.Fragment,{children:[i[u]??!1?d.jsx("div",{className:"note",children:"Youâve found a way to arrange this group of blocks! You may still play around with it, if youâd like."}):null,d.jsx("div",{className:Tt({"blocks-puzzle-board-wrapper":!0,"blocks-puzzle-board-wrapper-solved":i[u]??!1}),children:d.jsx(T5,{boardIndex:u,blocks:l})})]},u))}),d.jsx("p",{children:o>0?d.jsxs(d.Fragment,{children:["Youâve arranged ",s," ",s===1?"group":"groups"," of blocks. If you arrange ",o," more, I might just be able to remember something."]}):d.jsxs(d.Fragment,{children:["Thanks for arranging my blocks! Hereâs something I remember:",d.jsx("pre",{children:a})]})})]})}function Jj(t){return[...Array(t).keys()]}function Bae(){const[t,e]=R.useState(Array.from("ALNOAMCDAWDSDEPPATHTELKYDTERGNHI"));function n(r,i){const a=t.slice();for(const s of Jj(r)){const o=i+s,l=o+r,u=a[o];a[o]=a[l],a[l]=u}e(a)}return d.jsx("div",{className:"exchange-puzzle-wrapper",children:d.jsx("table",{className:"exchange-puzzle",children:d.jsxs("tbody",{children:[[16,8,4,2,1].map(r=>d.jsx("tr",{children:Jj(16/r).map(i=>d.jsx("td",{colSpan:2*r,children:d.jsx("button",{onClick:()=>n(r,2*r*i),role:"button",children:"â"})},i))},r)),d.jsx("tr",{children:t.map((r,i)=>d.jsx("td",{children:r},i))})]})})})}function C5(t){let n=0;const r=function(a){const s=a.scrollLeft;let o=(n-s)/30;o!==0&&Math.abs(o)<1&&(o=o>0?1:-1);const l=s+o;Math.abs(l-n)>1?(a.scrollLeft=l,requestAnimationFrame(()=>r(a))):a.scrollLeft=n},i=(a,s)=>{a.deltaY===0||a.deltaX!==0||!Number.isInteger(a.deltaY)&&Math.abs(a.deltaY)<50||(n=Math.max(0,Math.min(n+a.deltaY,s.scrollWidth-s.clientWidth)),r(s),a.preventDefault())};return d.jsx(BT,{...t,events:{...t.events,initialized:a=>{var o;const s=a.elements().viewport;s.addEventListener("wheel",l=>i(l,s)),t.events&&typeof((o=t.events)==null?void 0:o.initialized)=="function"&&t.events.initialized(a)},destroyed:(a,s)=>{var l;const o=a.elements().viewport;o.removeEventListener("wheel",u=>i(u,o)),t.events&&typeof((l=t.events)==null?void 0:l.destroyed)=="function"&&t.events.destroyed(a,s)}},children:t.children})}function Vae(){const t=He(),e=Te(ne.TEAM_OLIVE,t===null?null:{teamId:t}),n=Tu(g=>g.getSockClient)();if(e===null||n===null||t===null)return d.jsx(he,{inline:!0});const r={type:ne.TEAM_OLIVE,teamId:t},{grid1:i,grid2:a,numWishes:s,numTotalGrid1Tokens:o,numTotalGrid2Tokens:l}=e,u=Object.entries(i).filter(([g,y])=>y!==null).length,h=Object.entries(a).filter(([g,y])=>y!==null).length,c=rs.grid1Length,f=rs.grid2Width*rs.grid2Height,p=o-u,v=l-h,m=g=>{const{scrollOffsetElement:y}=g.elements();if(!y)return;const x=y.scrollLeft,A=y.scrollWidth,b=y.clientWidth,S=b*.05,w=A-b,_=Math.max(0,1-x/S),T=Math.max(0,1-(w-x)/S);y.style.maskImage=`
      linear-gradient(
        to right,
        rgba(0, 0, 0, ${_}),
        rgba(0, 0, 0, 1) 10%,
        rgba(0, 0, 0, 1) 90%,
        rgba(0, 0, 0, ${T})
      )
    `};return d.jsxs("div",{className:"olive",children:[d.jsxs("p",{children:["youâve found ",s+1," of my wishes, which lets you discover"," ",o," marks and ",l," penlights. wishing might help you find more! click on a cell to permanently discover a mark or penlight."]}),d.jsxs("div",{children:["marks: ",u," of ",c," collected"]}),p>0?d.jsxs("div",{children:["you may discover ",p," more",p===1?" mark":" marks","."]}):null,d.jsx("div",{className:"olive-grid-marks no-copy",children:i.map((g,y)=>d.jsx("div",{className:"olive-grid-mark",children:g===null?d.jsx("button",{className:"olive-button",disabled:p===0,onClick:()=>{(async()=>{await n.sendScopeStepAndWaitAsync(r,{revealGrid1:y})})().catch(x=>console.error(x))}}):d.jsx(ve,{children:g})},y))}),d.jsx("table",{className:"olive-grid-marks-table copy-only",children:d.jsx("tbody",{children:d.jsx("tr",{children:i.map((g,y)=>d.jsx("td",{children:g===null?"?":g},y))})})}),d.jsxs("div",{children:["penlights: ",h," of ",f," collected"]}),v>0?d.jsxs("div",{children:["you may discover ",v," more",v===1?" penlight":" penlights","."]}):null,d.jsx("div",{className:"olive-grid-penlights",children:d.jsx(C5,{options:K1,events:{initialized:m,scroll:m},style:{paddingBottom:"1rem"},defer:!0,children:d.jsx("table",{className:"olive-grid-penlights-table",children:d.jsx("tbody",{children:Array.from({length:rs.grid2Height}).map((g,y)=>d.jsx("tr",{children:Array.from({length:rs.grid2Width}).map((x,A)=>{const b=y*rs.grid2Width+A,S=a[b];return d.jsx("td",{children:S===null?d.jsx("button",{className:"olive-button",disabled:v===0,onClick:()=>{(async()=>{await n.sendScopeStepAndWaitAsync(r,{revealGrid2:b})})().catch(w=>console.error(w))},children:d.jsx("span",{className:"copy-only",children:"?"})}):S},A)})},y))})})})})]})}var Hae={value:()=>{}};function $0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Km(n)}function Km(t){this._=t}function Gae(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Km.prototype=$0.prototype={constructor:Km,on:function(t,e){var n=this._,r=Gae(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=Uae(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=Kj(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Kj(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Km(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Uae(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Kj(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Hae,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var XS="http://www.w3.org/1999/xhtml";const Qj={svg:"http://www.w3.org/2000/svg",xhtml:XS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Y0(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Qj.hasOwnProperty(e)?{space:Qj[e],local:t}:t}function Wae(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===XS&&e.documentElement.namespaceURI===XS?e.createElement(t):e.createElementNS(n,t)}}function $ae(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yC(t){var e=Y0(t);return(e.local?$ae:Wae)(e)}function Yae(){}function xC(t){return t==null?Yae:function(){return this.querySelector(t)}}function qae(t){typeof t!="function"&&(t=xC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new Fr(r,this._parents)}function Xae(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Zae(){return[]}function I5(t){return t==null?Zae:function(){return this.querySelectorAll(t)}}function Jae(t){return function(){return Xae(t.apply(this,arguments))}}function Kae(t){typeof t=="function"?t=Jae(t):t=I5(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new Fr(r,i)}function E5(t){return function(){return this.matches(t)}}function k5(t){return function(e){return e.matches(t)}}var Qae=Array.prototype.find;function ese(t){return function(){return Qae.call(this.children,t)}}function tse(){return this.firstElementChild}function nse(t){return this.select(t==null?tse:ese(typeof t=="function"?t:k5(t)))}var rse=Array.prototype.filter;function ise(){return Array.from(this.children)}function ase(t){return function(){return rse.call(this.children,t)}}function sse(t){return this.selectAll(t==null?ise:ase(typeof t=="function"?t:k5(t)))}function ose(t){typeof t!="function"&&(t=E5(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Fr(r,this._parents)}function P5(t){return new Array(t.length)}function lse(){return new Fr(this._enter||this._groups.map(P5),this._parents)}function ry(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ry.prototype={constructor:ry,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function use(t){return function(){return t}}function cse(t,e,n,r,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new ry(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function hse(t,e,n,r,i,a,s){var o,l,u=new Map,h=e.length,c=a.length,f=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(f[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<c;++o)p=s.call(t,a[o],o,a)+"",(l=u.get(p))?(r[o]=l,l.__data__=a[o],u.delete(p)):n[o]=new ry(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(f[o])===l&&(i[o]=l)}function fse(t){return t.__data__}function dse(t,e){if(!arguments.length)return Array.from(this,fse);var n=e?hse:cse,r=this._parents,i=this._groups;typeof t!="function"&&(t=use(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=r[u],c=i[u],f=c.length,p=pse(t.call(h,h&&h.__data__,u,r)),v=p.length,m=o[u]=new Array(v),g=s[u]=new Array(v),y=l[u]=new Array(f);n(h,c,m,g,y,p,e);for(var x=0,A=0,b,S;x<v;++x)if(b=m[x]){for(x>=A&&(A=x+1);!(S=g[A])&&++A<v;);b._next=S||null}}return s=new Fr(s,r),s._enter=o,s._exit=l,s}function pse(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vse(){return new Fr(this._exit||this._groups.map(P5),this._parents)}function mse(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function gse(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],h=r[l],c=u.length,f=o[l]=new Array(c),p,v=0;v<c;++v)(p=u[v]||h[v])&&(f[v]=p);for(;l<i;++l)o[l]=n[l];return new Fr(o,this._parents)}function yse(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function xse(t){t||(t=Ase);function e(c,f){return c&&f?t(c.__data__,f.__data__):!c-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new Fr(i,this._parents).order()}function Ase(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bse(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function wse(){return Array.from(this)}function Sse(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function _se(){let t=0;for(const e of this)++t;return t}function Tse(){return!this.node()}function Cse(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function Ise(t){return function(){this.removeAttribute(t)}}function Ese(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kse(t,e){return function(){this.setAttribute(t,e)}}function Pse(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jse(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Mse(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Dse(t,e){var n=Y0(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ese:Ise:typeof e=="function"?n.local?Mse:jse:n.local?Pse:kse)(n,e))}function j5(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Lse(t){return function(){this.style.removeProperty(t)}}function Nse(t,e,n){return function(){this.style.setProperty(t,e,n)}}function zse(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Rse(t,e,n){return arguments.length>1?this.each((e==null?Lse:typeof e=="function"?zse:Nse)(t,e,n??"")):nh(this.node(),t)}function nh(t,e){return t.style.getPropertyValue(e)||j5(t).getComputedStyle(t,null).getPropertyValue(e)}function Ose(t){return function(){delete this[t]}}function Fse(t,e){return function(){this[t]=e}}function Bse(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vse(t,e){return arguments.length>1?this.each((e==null?Ose:typeof e=="function"?Bse:Fse)(t,e)):this.node()[t]}function M5(t){return t.trim().split(/^|\s+/)}function AC(t){return t.classList||new D5(t)}function D5(t){this._node=t,this._names=M5(t.getAttribute("class")||"")}D5.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function L5(t,e){for(var n=AC(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function N5(t,e){for(var n=AC(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hse(t){return function(){L5(this,t)}}function Gse(t){return function(){N5(this,t)}}function Use(t,e){return function(){(e.apply(this,arguments)?L5:N5)(this,t)}}function Wse(t,e){var n=M5(t+"");if(arguments.length<2){for(var r=AC(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Use:e?Hse:Gse)(n,e))}function $se(){this.textContent=""}function Yse(t){return function(){this.textContent=t}}function qse(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Xse(t){return arguments.length?this.each(t==null?$se:(typeof t=="function"?qse:Yse)(t)):this.node().textContent}function Zse(){this.innerHTML=""}function Jse(t){return function(){this.innerHTML=t}}function Kse(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Qse(t){return arguments.length?this.each(t==null?Zse:(typeof t=="function"?Kse:Jse)(t)):this.node().innerHTML}function eoe(){this.nextSibling&&this.parentNode.appendChild(this)}function toe(){return this.each(eoe)}function noe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function roe(){return this.each(noe)}function ioe(t){var e=typeof t=="function"?t:yC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function aoe(){return null}function soe(t,e){var n=typeof t=="function"?t:yC(t),r=e==null?aoe:typeof e=="function"?e:xC(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ooe(){var t=this.parentNode;t&&t.removeChild(this)}function loe(){return this.each(ooe)}function uoe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function coe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hoe(t){return this.select(t?coe:uoe)}function foe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function doe(t){return function(e){t.call(this,e,this.__data__)}}function poe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function voe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function moe(t,e,n){return function(){var r=this.__on,i,a=doe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function goe(t,e,n){var r=poe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?moe:voe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function z5(t,e,n){var r=j5(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function yoe(t,e){return function(){return z5(this,t,e)}}function xoe(t,e){return function(){return z5(this,t,e.apply(this,arguments))}}function Aoe(t,e){return this.each((typeof e=="function"?xoe:yoe)(t,e))}function*boe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var R5=[null];function Fr(t,e){this._groups=t,this._parents=e}function Lp(){return new Fr([[document.documentElement]],R5)}function woe(){return this}Fr.prototype=Lp.prototype={constructor:Fr,select:qae,selectAll:Kae,selectChild:nse,selectChildren:sse,filter:ose,data:dse,enter:lse,exit:vse,join:mse,merge:gse,selection:woe,order:yse,sort:xse,call:bse,nodes:wse,node:Sse,size:_se,empty:Tse,each:Cse,attr:Dse,style:Rse,property:Vse,classed:Wse,text:Xse,html:Qse,raise:toe,lower:roe,append:ioe,insert:soe,remove:loe,clone:hoe,datum:foe,on:goe,dispatch:Aoe,[Symbol.iterator]:boe};function jd(t){return typeof t=="string"?new Fr([[document.querySelector(t)]],[document.documentElement]):new Fr([[t]],R5)}function Soe(t){return jd(yC(t).call(document.documentElement))}function _oe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function eM(t,e){if(t=_oe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Toe={passive:!1},Md={capture:!0,passive:!1};function CA(t){t.stopImmediatePropagation()}function Rc(t){t.preventDefault(),t.stopImmediatePropagation()}function Coe(t){var e=t.document.documentElement,n=jd(t).on("dragstart.drag",Rc,Md);"onselectstart"in e?n.on("selectstart.drag",Rc,Md):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ioe(t,e){var n=t.document.documentElement,r=jd(t).on("dragstart.drag",null);e&&(r.on("click.drag",Rc,Md),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Mv=t=>()=>t;function ZS(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:l,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}ZS.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Eoe(t){return!t.ctrlKey&&!t.button}function koe(){return this.parentNode}function Poe(t,e){return e??{x:t.x,y:t.y}}function joe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Moe(){var t=Eoe,e=koe,n=Poe,r=joe,i={},a=$0("start","drag","end"),s=0,o,l,u,h,c=0;function f(b){b.on("mousedown.drag",p).filter(r).on("touchstart.drag",g).on("touchmove.drag",y,Toe).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,S){if(!(h||!t.call(this,b,S))){var w=A(this,e.call(this,b,S),b,S,"mouse");w&&(jd(b.view).on("mousemove.drag",v,Md).on("mouseup.drag",m,Md),Coe(b.view),CA(b),u=!1,o=b.clientX,l=b.clientY,w("start",b))}}function v(b){if(Rc(b),!u){var S=b.clientX-o,w=b.clientY-l;u=S*S+w*w>c}i.mouse("drag",b)}function m(b){jd(b.view).on("mousemove.drag mouseup.drag",null),Ioe(b.view,u),Rc(b),i.mouse("end",b)}function g(b,S){if(t.call(this,b,S)){var w=b.changedTouches,_=e.call(this,b,S),T=w.length,C,E;for(C=0;C<T;++C)(E=A(this,_,b,S,w[C].identifier,w[C]))&&(CA(b),E("start",b,w[C]))}}function y(b){var S=b.changedTouches,w=S.length,_,T;for(_=0;_<w;++_)(T=i[S[_].identifier])&&(Rc(b),T("drag",b,S[_]))}function x(b){var S=b.changedTouches,w=S.length,_,T;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),_=0;_<w;++_)(T=i[S[_].identifier])&&(CA(b),T("end",b,S[_]))}function A(b,S,w,_,T,C){var E=a.copy(),k=eM(C||w,S),I,j,P;if((P=n.call(b,new ZS("beforestart",{sourceEvent:w,target:f,identifier:T,active:s,x:k[0],y:k[1],dx:0,dy:0,dispatch:E}),_))!=null)return I=P.x-k[0]||0,j=P.y-k[1]||0,function D(L,F,V){var U=k,z;switch(L){case"start":i[T]=D,z=s++;break;case"end":delete i[T],--s;case"drag":k=eM(V||F,S),z=s;break}E.call(L,b,new ZS(L,{sourceEvent:F,subject:P,target:f,identifier:T,active:z,x:k[0]+I,y:k[1]+j,dx:k[0]-U[0],dy:k[1]-U[1],dispatch:E}),_)}}return f.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Mv(!!b),f):t},f.container=function(b){return arguments.length?(e=typeof b=="function"?b:Mv(b),f):e},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Mv(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Mv(!!b),f):r},f.on=function(){var b=a.on.apply(a,arguments);return b===a?f:b},f.clickDistance=function(b){return arguments.length?(c=(b=+b)*b,f):Math.sqrt(c)},f}function bC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function O5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Np(){}var Dd=.7,iy=1/Dd,Oc="\\s*([+-]?\\d+)\\s*",Ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Doe=/^#([0-9a-f]{3,8})$/,Loe=new RegExp(`^rgb\\(${Oc},${Oc},${Oc}\\)$`),Noe=new RegExp(`^rgb\\(${Ta},${Ta},${Ta}\\)$`),zoe=new RegExp(`^rgba\\(${Oc},${Oc},${Oc},${Ld}\\)$`),Roe=new RegExp(`^rgba\\(${Ta},${Ta},${Ta},${Ld}\\)$`),Ooe=new RegExp(`^hsl\\(${Ld},${Ta},${Ta}\\)$`),Foe=new RegExp(`^hsla\\(${Ld},${Ta},${Ta},${Ld}\\)$`),tM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bC(Np,Nd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nM,formatHex:nM,formatHex8:Boe,formatHsl:Voe,formatRgb:rM,toString:rM});function nM(){return this.rgb().formatHex()}function Boe(){return this.rgb().formatHex8()}function Voe(){return F5(this).formatHsl()}function rM(){return this.rgb().formatRgb()}function Nd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Doe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iM(e):n===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Loe.exec(t))?new xr(e[1],e[2],e[3],1):(e=Noe.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zoe.exec(t))?Dv(e[1],e[2],e[3],e[4]):(e=Roe.exec(t))?Dv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ooe.exec(t))?oM(e[1],e[2]/100,e[3]/100,1):(e=Foe.exec(t))?oM(e[1],e[2]/100,e[3]/100,e[4]):tM.hasOwnProperty(t)?iM(tM[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function iM(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Dv(t,e,n,r){return r<=0&&(t=e=n=NaN),new xr(t,e,n,r)}function Hoe(t){return t instanceof Np||(t=Nd(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function JS(t,e,n,r){return arguments.length===1?Hoe(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bC(xr,JS,O5(Np,{brighter(t){return t=t==null?iy:Math.pow(iy,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dd:Math.pow(Dd,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(au(this.r),au(this.g),au(this.b),ay(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aM,formatHex:aM,formatHex8:Goe,formatRgb:sM,toString:sM}));function aM(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}`}function Goe(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}${Wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function sM(){const t=ay(this.opacity);return`${t===1?"rgb(":"rgba("}${au(this.r)}, ${au(this.g)}, ${au(this.b)}${t===1?")":`, ${t})`}`}function ay(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function au(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wl(t){return t=au(t),(t<16?"0":"")+t.toString(16)}function oM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zi(t,e,n,r)}function F5(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof Np||(t=Nd(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new zi(s,o,l,t.opacity)}function Uoe(t,e,n,r){return arguments.length===1?F5(t):new zi(t,e,n,r??1)}function zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bC(zi,Uoe,O5(Np,{brighter(t){return t=t==null?iy:Math.pow(iy,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dd:Math.pow(Dd,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xr(IA(t>=240?t-240:t+120,i,r),IA(t,i,r),IA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zi(lM(this.h),Lv(this.s),Lv(this.l),ay(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ay(this.opacity);return`${t===1?"hsl(":"hsla("}${lM(this.h)}, ${Lv(this.s)*100}%, ${Lv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lM(t){return t=(t||0)%360,t<0?t+360:t}function Lv(t){return Math.max(0,Math.min(1,t||0))}function IA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const B5=t=>()=>t;function Woe(t,e){return function(n){return t+n*e}}function $oe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yoe(t){return(t=+t)==1?V5:function(e,n){return n-e?$oe(e,n,t):B5(isNaN(e)?n:e)}}function V5(t,e){var n=e-t;return n?Woe(t,n):B5(isNaN(t)?e:t)}const uM=function t(e){var n=Yoe(e);function r(i,a){var s=n((i=JS(i)).r,(a=JS(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=V5(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function ao(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var KS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EA=new RegExp(KS.source,"g");function qoe(t){return function(){return t}}function Xoe(t){return function(e){return t(e)+""}}function Zoe(t,e){var n=KS.lastIndex=EA.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=KS.exec(t))&&(i=EA.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ao(r,i)})),n=EA.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Xoe(l[0].x):qoe(e):(e=l.length,function(u){for(var h=0,c;h<e;++h)o[(c=l[h]).i]=c.x(u);return o.join("")})}var cM=180/Math.PI,QS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H5(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*cM,skewX:Math.atan(l)*cM,scaleX:s,scaleY:o}}var Nv;function Joe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?QS:H5(e.a,e.b,e.c,e.d,e.e,e.f)}function Koe(t){return t==null||(Nv||(Nv=document.createElementNS("http://www.w3.org/2000/svg","g")),Nv.setAttribute("transform",t),!(t=Nv.transform.baseVal.consolidate()))?QS:(t=t.matrix,H5(t.a,t.b,t.c,t.d,t.e,t.f))}function G5(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,h,c,f,p,v){if(u!==c||h!==f){var m=p.push("translate(",null,e,null,n);v.push({i:m-4,x:ao(u,c)},{i:m-2,x:ao(h,f)})}else(c||f)&&p.push("translate("+c+e+f+n)}function s(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(i(c)+"rotate(",null,r)-2,x:ao(u,h)})):h&&c.push(i(c)+"rotate("+h+r)}function o(u,h,c,f){u!==h?f.push({i:c.push(i(c)+"skewX(",null,r)-2,x:ao(u,h)}):h&&c.push(i(c)+"skewX("+h+r)}function l(u,h,c,f,p,v){if(u!==c||h!==f){var m=p.push(i(p)+"scale(",null,",",null,")");v.push({i:m-4,x:ao(u,c)},{i:m-2,x:ao(h,f)})}else(c!==1||f!==1)&&p.push(i(p)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,c,f),s(u.rotate,h.rotate,c,f),o(u.skewX,h.skewX,c,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(p){for(var v=-1,m=f.length,g;++v<m;)c[(g=f[v]).i]=g.x(p);return c.join("")}}}var Qoe=G5(Joe,"px, ","px)","deg)"),ele=G5(Koe,", ",")",")"),rh=0,Df=0,Kh=0,U5=1e3,sy,Lf,oy=0,gu=0,q0=0,zd=typeof performance=="object"&&performance.now?performance:Date,W5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wC(){return gu||(W5(tle),gu=zd.now()+q0)}function tle(){gu=0}function ly(){this._call=this._time=this._next=null}ly.prototype=SC.prototype={constructor:ly,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?wC():+n)+(e==null?0:+e),!this._next&&Lf!==this&&(Lf?Lf._next=this:sy=this,Lf=this),this._call=t,this._time=n,e_()},stop:function(){this._call&&(this._call=null,this._time=1/0,e_())}};function SC(t,e,n){var r=new ly;return r.restart(t,e,n),r}function nle(){wC(),++rh;for(var t=sy,e;t;)(e=gu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rh}function hM(){gu=(oy=zd.now())+q0,rh=Df=0;try{nle()}finally{rh=0,ile(),gu=0}}function rle(){var t=zd.now(),e=t-oy;e>U5&&(q0-=e,oy=t)}function ile(){for(var t,e=sy,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:sy=n);Lf=t,e_(r)}function e_(t){if(!rh){Df&&(Df=clearTimeout(Df));var e=t-gu;e>24?(t<1/0&&(Df=setTimeout(hM,t-zd.now()-q0)),Kh&&(Kh=clearInterval(Kh))):(Kh||(oy=zd.now(),Kh=setInterval(rle,U5)),rh=1,W5(hM))}}function fM(t,e,n){var r=new ly;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ale=$0("start","end","cancel","interrupt"),sle=[],$5=0,dM=1,t_=2,Qm=3,pM=4,n_=5,eg=6;function X0(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;ole(t,n,{name:e,index:r,group:i,on:ale,tween:sle,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:$5})}function _C(t,e){var n=Wi(t,e);if(n.state>$5)throw new Error("too late; already scheduled");return n}function Ha(t,e){var n=Wi(t,e);if(n.state>Qm)throw new Error("too late; already running");return n}function Wi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ole(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=SC(a,0,n.time);function a(u){n.state=dM,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var h,c,f,p;if(n.state!==dM)return l();for(h in r)if(p=r[h],p.name===n.name){if(p.state===Qm)return fM(s);p.state===pM?(p.state=eg,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=eg,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(fM(function(){n.state===Qm&&(n.state=pM,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=t_,n.on.call("start",t,t.__data__,n.index,n.group),n.state===t_){for(n.state=Qm,i=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function o(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=n_,1),c=-1,f=i.length;++c<f;)i[c].call(t,h);n.state===n_&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=eg,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function lle(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>t_&&r.state<n_,r.state=eg,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function ule(t){return this.each(function(){lle(this,t)})}function cle(t,e){var n,r;return function(){var i=Ha(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function hle(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ha(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function fle(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Wi(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?cle:hle)(n,t,e))}function TC(t,e,n){var r=t._id;return t.each(function(){var i=Ha(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Wi(i,r).value[e]}}function Y5(t,e){var n;return(typeof e=="number"?ao:e instanceof Nd?uM:(n=Nd(e))?(e=n,uM):Zoe)(t,e)}function dle(t){return function(){this.removeAttribute(t)}}function ple(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vle(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function mle(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function gle(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function yle(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function xle(t,e){var n=Y0(t),r=n==="transform"?ele:Y5;return this.attrTween(t,typeof e=="function"?(n.local?yle:gle)(n,r,TC(this,"attr."+t,e)):e==null?(n.local?ple:dle)(n):(n.local?mle:vle)(n,r,e))}function Ale(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ble(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function wle(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&ble(t,a)),n}return i._value=e,i}function Sle(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Ale(t,a)),n}return i._value=e,i}function _le(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Y0(t);return this.tween(n,(r.local?wle:Sle)(r,e))}function Tle(t,e){return function(){_C(this,t).delay=+e.apply(this,arguments)}}function Cle(t,e){return e=+e,function(){_C(this,t).delay=e}}function Ile(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tle:Cle)(e,t)):Wi(this.node(),e).delay}function Ele(t,e){return function(){Ha(this,t).duration=+e.apply(this,arguments)}}function kle(t,e){return e=+e,function(){Ha(this,t).duration=e}}function Ple(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ele:kle)(e,t)):Wi(this.node(),e).duration}function jle(t,e){if(typeof e!="function")throw new Error;return function(){Ha(this,t).ease=e}}function Mle(t){var e=this._id;return arguments.length?this.each(jle(e,t)):Wi(this.node(),e).ease}function Dle(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ha(this,t).ease=n}}function Lle(t){if(typeof t!="function")throw new Error;return this.each(Dle(this._id,t))}function Nle(t){typeof t!="function"&&(t=E5(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new _s(r,this._parents,this._name,this._id)}function zle(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],u=n[o],h=l.length,c=s[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(c[p]=f);for(;o<r;++o)s[o]=e[o];return new _s(s,this._parents,this._name,this._id)}function Rle(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ole(t,e,n){var r,i,a=Rle(e)?_C:Ha;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function Fle(t,e){var n=this._id;return arguments.length<2?Wi(this.node(),n).on.on(t):this.each(Ole(n,t,e))}function Ble(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Vle(){return this.on("end.remove",Ble(this._id))}function Hle(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xC(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),h,c,f=0;f<l;++f)(h=o[f])&&(c=t.call(h,h.__data__,f,o))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,X0(u[f],e,n,f,u,Wi(h,n)));return new _s(a,this._parents,e,n)}function Gle(t){var e=this._name,n=this._id;typeof t!="function"&&(t=I5(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,h,c=0;c<u;++c)if(h=l[c]){for(var f=t.call(h,h.__data__,c,l),p,v=Wi(h,n),m=0,g=f.length;m<g;++m)(p=f[m])&&X0(p,e,n,m,f,v);a.push(f),s.push(h)}return new _s(a,s,e,n)}var Ule=Lp.prototype.constructor;function Wle(){return new Ule(this._groups,this._parents)}function $le(t,e){var n,r,i;return function(){var a=nh(this,t),s=(this.style.removeProperty(t),nh(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function q5(t){return function(){this.style.removeProperty(t)}}function Yle(t,e,n){var r,i=n+"",a;return function(){var s=nh(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function qle(t,e,n){var r,i,a;return function(){var s=nh(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),nh(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function Xle(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=Ha(this,t),u=l.on,h=l.value[a]==null?o||(o=q5(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(s,i=h),l.on=r}}function Zle(t,e,n){var r=(t+="")=="transform"?Qoe:Y5;return e==null?this.styleTween(t,$le(t,r)).on("end.style."+t,q5(t)):typeof e=="function"?this.styleTween(t,qle(t,r,TC(this,"style."+t,e))).each(Xle(this._id,t)):this.styleTween(t,Yle(t,r,e),n).on("end.style."+t,null)}function Jle(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Kle(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Jle(t,s,n)),r}return a._value=e,a}function Qle(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Kle(t,e,n??""))}function eue(t){return function(){this.textContent=t}}function tue(t){return function(){var e=t(this);this.textContent=e??""}}function nue(t){return this.tween("text",typeof t=="function"?tue(TC(this,"text",t)):eue(t==null?"":t+""))}function rue(t){return function(e){this.textContent=t.call(this,e)}}function iue(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&rue(i)),e}return r._value=t,r}function aue(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,iue(t))}function sue(){for(var t=this._name,e=this._id,n=X5(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=Wi(l,e);X0(l,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new _s(r,this._parents,t,n)}function oue(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=Ha(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var lue=0;function _s(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function X5(){return++lue}var qa=Lp.prototype;_s.prototype={constructor:_s,select:Hle,selectAll:Gle,selectChild:qa.selectChild,selectChildren:qa.selectChildren,filter:Nle,merge:zle,selection:Wle,transition:sue,call:qa.call,nodes:qa.nodes,node:qa.node,size:qa.size,empty:qa.empty,each:qa.each,on:Fle,attr:xle,attrTween:_le,style:Zle,styleTween:Qle,text:nue,textTween:aue,remove:Vle,tween:fle,delay:Ile,duration:Ple,ease:Mle,easeVarying:Lle,end:oue,[Symbol.iterator]:qa[Symbol.iterator]};function uue(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var cue={time:null,delay:0,duration:250,ease:uue};function hue(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function fue(t){var e,n;t instanceof _s?(e=t._id,t=t._name):(e=X5(),(n=cue).time=wC(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&X0(l,t,e,u,s,n||hue(l,e));return new _s(r,this._parents,t,e)}Lp.prototype.interrupt=ule;Lp.prototype.transition=fue;function due(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Z5(this.cover(e,n),e,n,t)}function Z5(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,s={data:r},o=t._x0,l=t._y0,u=t._x1,h=t._y1,c,f,p,v,m,g,y,x;if(!a)return t._root=s,t;for(;a.length;)if((m=e>=(c=(o+u)/2))?o=c:u=c,(g=n>=(f=(l+h)/2))?l=f:h=f,i=a,!(a=a[y=g<<1|m]))return i[y]=s,t;if(p=+t._x.call(null,a.data),v=+t._y.call(null,a.data),e===p&&n===v)return s.next=a,i?i[y]=s:t._root=s,t;do i=i?i[y]=new Array(4):t._root=new Array(4),(m=e>=(c=(o+u)/2))?o=c:u=c,(g=n>=(f=(l+h)/2))?l=f:h=f;while((y=g<<1|m)===(x=(v>=f)<<1|p>=c));return i[x]=a,i[y]=s,t}function pue(t){var e,n,r=t.length,i,a,s=new Array(r),o=new Array(r),l=1/0,u=1/0,h=-1/0,c=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(s[n]=i,o[n]=a,i<l&&(l=i),i>h&&(h=i),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),n=0;n<r;++n)Z5(this,s[n],o[n],t[n]);return this}function vue(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var s=i-n||1,o=this._root,l,u;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=o,o=l,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function mue(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function gue(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xn(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function yue(t,e,n){var r,i=this._x0,a=this._y0,s,o,l,u,h=this._x1,c=this._y1,f=[],p=this._root,v,m;for(p&&f.push(new Xn(p,i,a,h,c)),n==null?n=1/0:(i=t-n,a=e-n,h=t+n,c=e+n,n*=n);v=f.pop();)if(!(!(p=v.node)||(s=v.x0)>h||(o=v.y0)>c||(l=v.x1)<i||(u=v.y1)<a))if(p.length){var g=(s+l)/2,y=(o+u)/2;f.push(new Xn(p[3],g,y,l,u),new Xn(p[2],s,y,g,u),new Xn(p[1],g,o,l,y),new Xn(p[0],s,o,g,y)),(m=(e>=y)<<1|t>=g)&&(v=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=v)}else{var x=t-+this._x.call(null,p.data),A=e-+this._y.call(null,p.data),b=x*x+A*A;if(b<n){var S=Math.sqrt(n=b);i=t-S,a=e-S,h=t+S,c=e+S,r=p.data}}return r}function xue(t){if(isNaN(h=+this._x.call(null,t))||isNaN(c=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,s=this._x0,o=this._y0,l=this._x1,u=this._y1,h,c,f,p,v,m,g,y;if(!n)return this;if(n.length)for(;;){if((v=h>=(f=(s+l)/2))?s=f:l=f,(m=c>=(p=(o+u)/2))?o=p:u=p,e=n,!(n=n[g=m<<1|v]))return this;if(!n.length)break;(e[g+1&3]||e[g+2&3]||e[g+3&3])&&(r=e,y=g)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[g]=a:delete e[g],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function Aue(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function bue(){return this._root}function wue(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Sue(t){var e=[],n,r=this._root,i,a,s,o,l;for(r&&e.push(new Xn(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,s=n.y0,o=n.x1,l=n.y1)&&r.length){var u=(a+o)/2,h=(s+l)/2;(i=r[3])&&e.push(new Xn(i,u,h,o,l)),(i=r[2])&&e.push(new Xn(i,a,h,u,l)),(i=r[1])&&e.push(new Xn(i,u,s,o,h)),(i=r[0])&&e.push(new Xn(i,a,s,u,h))}return this}function _ue(t){var e=[],n=[],r;for(this._root&&e.push(new Xn(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,s=r.x0,o=r.y0,l=r.x1,u=r.y1,h=(s+l)/2,c=(o+u)/2;(a=i[0])&&e.push(new Xn(a,s,o,h,c)),(a=i[1])&&e.push(new Xn(a,h,o,l,c)),(a=i[2])&&e.push(new Xn(a,s,c,h,u)),(a=i[3])&&e.push(new Xn(a,h,c,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Tue(t){return t[0]}function Cue(t){return arguments.length?(this._x=t,this):this._x}function Iue(t){return t[1]}function Eue(t){return arguments.length?(this._y=t,this):this._y}function J5(t,e,n){var r=new CC(e??Tue,n??Iue,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function CC(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function vM(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var sr=J5.prototype=CC.prototype;sr.copy=function(){var t=new CC(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=vM(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=vM(r));return t};sr.add=due;sr.addAll=pue;sr.cover=vue;sr.data=mue;sr.extent=gue;sr.find=yue;sr.remove=xue;sr.removeAll=Aue;sr.root=bue;sr.size=wue;sr.visit=Sue;sr.visitAfter=_ue;sr.x=Cue;sr.y=Eue;function Mr(t){return function(){return t}}function Cc(t){return(t()-.5)*1e-6}function kue(t){return t.index}function mM(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function gM(t){var e=kue,n=c,r,i=Mr(30),a,s,o,l,u,h=1;t==null&&(t=[]);function c(g){return 1/Math.min(o[g.source.index],o[g.target.index])}function f(g){for(var y=0,x=t.length;y<h;++y)for(var A=0,b,S,w,_,T,C,E;A<x;++A)b=t[A],S=b.source,w=b.target,_=w.x+w.vx-S.x-S.vx||Cc(u),T=w.y+w.vy-S.y-S.vy||Cc(u),C=Math.sqrt(_*_+T*T),C=(C-a[A])/C*g*r[A],_*=C,T*=C,w.vx-=_*(E=l[A]),w.vy-=T*E,S.vx+=_*(E=1-E),S.vy+=T*E}function p(){if(s){var g,y=s.length,x=t.length,A=new Map(s.map((S,w)=>[e(S,w,s),S])),b;for(g=0,o=new Array(y);g<x;++g)b=t[g],b.index=g,typeof b.source!="object"&&(b.source=mM(A,b.source)),typeof b.target!="object"&&(b.target=mM(A,b.target)),o[b.source.index]=(o[b.source.index]||0)+1,o[b.target.index]=(o[b.target.index]||0)+1;for(g=0,l=new Array(x);g<x;++g)b=t[g],l[g]=o[b.source.index]/(o[b.source.index]+o[b.target.index]);r=new Array(x),v(),a=new Array(x),m()}}function v(){if(s)for(var g=0,y=t.length;g<y;++g)r[g]=+n(t[g],g,t)}function m(){if(s)for(var g=0,y=t.length;g<y;++g)a[g]=+i(t[g],g,t)}return f.initialize=function(g,y){s=g,u=y,p()},f.links=function(g){return arguments.length?(t=g,p(),f):t},f.id=function(g){return arguments.length?(e=g,f):e},f.iterations=function(g){return arguments.length?(h=+g,f):h},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Mr(+g),v(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Mr(+g),m(),f):i},f}const Pue=1664525,jue=1013904223,yM=4294967296;function Mue(){let t=1;return()=>(t=(Pue*t+jue)%yM)/yM}function Due(t){return t.x}function Lue(t){return t.y}var Nue=10,zue=Math.PI*(3-Math.sqrt(5));function Rue(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,l=SC(c),u=$0("tick","end"),h=Mue();t==null&&(t=[]);function c(){f(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function f(m){var g,y=t.length,x;m===void 0&&(m=1);for(var A=0;A<m;++A)for(n+=(a-n)*i,o.forEach(function(b){b(n)}),g=0;g<y;++g)x=t[g],x.fx==null?x.x+=x.vx*=s:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=s:(x.y=x.fy,x.vy=0);return e}function p(){for(var m=0,g=t.length,y;m<g;++m){if(y=t[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var x=Nue*Math.sqrt(.5+m),A=m*zue;y.x=x*Math.cos(A),y.y=x*Math.sin(A)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function v(m){return m.initialize&&m.initialize(t,h),m}return p(),e={tick:f,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(m){return arguments.length?(t=m,p(),o.forEach(v),e):t},alpha:function(m){return arguments.length?(n=+m,e):n},alphaMin:function(m){return arguments.length?(r=+m,e):r},alphaDecay:function(m){return arguments.length?(i=+m,e):+i},alphaTarget:function(m){return arguments.length?(a=+m,e):a},velocityDecay:function(m){return arguments.length?(s=1-m,e):1-s},randomSource:function(m){return arguments.length?(h=m,o.forEach(v),e):h},force:function(m,g){return arguments.length>1?(g==null?o.delete(m):o.set(m,v(g)),e):o.get(m)},find:function(m,g,y){var x=0,A=t.length,b,S,w,_,T;for(y==null?y=1/0:y*=y,x=0;x<A;++x)_=t[x],b=m-_.x,S=g-_.y,w=b*b+S*S,w<y&&(T=_,y=w);return T},on:function(m,g){return arguments.length>1?(u.on(m,g),e):u.on(m)}}}function Oue(){var t,e,n,r,i=Mr(-30),a,s=1,o=1/0,l=.81;function u(p){var v,m=t.length,g=J5(t,Due,Lue).visitAfter(c);for(r=p,v=0;v<m;++v)e=t[v],g.visit(f)}function h(){if(t){var p,v=t.length,m;for(a=new Array(v),p=0;p<v;++p)m=t[p],a[m.index]=+i(m,p,t)}}function c(p){var v=0,m,g,y=0,x,A,b;if(p.length){for(x=A=b=0;b<4;++b)(m=p[b])&&(g=Math.abs(m.value))&&(v+=m.value,y+=g,x+=g*m.x,A+=g*m.y);p.x=x/y,p.y=A/y}else{m=p,m.x=m.data.x,m.y=m.data.y;do v+=a[m.data.index];while(m=m.next)}p.value=v}function f(p,v,m,g){if(!p.value)return!0;var y=p.x-e.x,x=p.y-e.y,A=g-v,b=y*y+x*x;if(A*A/l<b)return b<o&&(y===0&&(y=Cc(n),b+=y*y),x===0&&(x=Cc(n),b+=x*x),b<s&&(b=Math.sqrt(s*b)),e.vx+=y*p.value*r/b,e.vy+=x*p.value*r/b),!0;if(p.length||b>=o)return;(p.data!==e||p.next)&&(y===0&&(y=Cc(n),b+=y*y),x===0&&(x=Cc(n),b+=x*x),b<s&&(b=Math.sqrt(s*b)));do p.data!==e&&(A=a[p.data.index]*r/b,e.vx+=y*A,e.vy+=x*A);while(p=p.next)}return u.initialize=function(p,v){t=p,n=v,h()},u.strength=function(p){return arguments.length?(i=typeof p=="function"?p:Mr(+p),h(),u):i},u.distanceMin=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.distanceMax=function(p){return arguments.length?(o=p*p,u):Math.sqrt(o)},u.theta=function(p){return arguments.length?(l=p*p,u):Math.sqrt(l)},u}function Fue(t){var e=Mr(.1),n,r,i;typeof t!="function"&&(t=Mr(t==null?0:+t));function a(o){for(var l=0,u=n.length,h;l<u;++l)h=n[l],h.vx+=(i[l]-h.x)*r[l]*o}function s(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(e=typeof o=="function"?o:Mr(+o),s(),a):e},a.x=function(o){return arguments.length?(t=typeof o=="function"?o:Mr(+o),s(),a):t},a}function Bue(t){var e=Mr(.1),n,r,i;typeof t!="function"&&(t=Mr(t==null?0:+t));function a(o){for(var l=0,u=n.length,h;l<u;++l)h=n[l],h.vy+=(i[l]-h.y)*r[l]*o}function s(){if(n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(e=typeof o=="function"?o:Mr(+o),s(),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:Mr(+o),s(),a):t},a}function Nf(t,e,n){this.k=t,this.x=e,this.y=n}Nf.prototype={constructor:Nf,scale:function(t){return t===1?this:new Nf(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Nf(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Nf.prototype;function K5(t){const{graph:e,lastNodeId:n,highlightNodes:r,extraEdges:i}=t,a=R.useRef(null),s=R.useRef(null);return R.useEffect(()=>{var y,x;if(e===null||s.current===null)return;const o=((y=a.current)==null?void 0:y.nodesDict)??{},l=Object.fromEntries(e.nodes.map(A=>[A.nodeId,o[A.nodeId]??{node:A}])),u=!(Object.keys(o).length===Object.keys(l).length&&Object.keys(o).every(A=>l[A]!==void 0)),h=Object.values(l),c=[...e.edges.filter(({nodeId1:A,nodeId2:b})=>l[A]!==void 0&&l[b]!==void 0).map(({nodeId1:A,nodeId2:b})=>({source:l[A],target:l[b]})),...(i??[]).map(({nodeId1:A,nodeId2:b})=>({source:l[A],target:l[b],isExtra:!0}))],f=c.length!==(((x=a.current)==null?void 0:x.linkSel.size())??0);for(const A of h)delete A.highlight,delete A.isLastNode;for(const A of r??[])l[A].highlight=!0;n!==void 0&&(l[n].isLastNode=!0);const p=Moe().on("start",A=>{A.active||v.alphaTarget(.3).restart(),A.subject.fx=A.subject.x,A.subject.fy=A.subject.y}).on("drag",A=>{A.subject.fx=A.x,A.subject.fy=A.y}).on("end",A=>{A.active||v.alphaTarget(0),A.subject.fx=null,A.subject.fy=null});if(a.current===null){const S=Rue(h).force("link",gM(c).id(({node:E})=>E.nodeId)).force("charge",Oue().strength(-500)).force("x",Fue()).force("y",Bue()),w=Soe("svg").attr("width",800).attr("height",600).attr("viewBox",[-800/2,-600/2,800,600]).attr("style","max-width: 100%; height: auto;"),_=w.append("g").selectAll("line"),T=w.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("g");S.on("tick",()=>{if(a.current===null)return;const{nodeSel:E,linkSel:k}=a.current;k.attr("x1",I=>{var j;return((j=I.source.x)==null?void 0:j.toString())??null}).attr("y1",I=>{var j;return((j=I.source.y)==null?void 0:j.toString())??null}).attr("x2",I=>{var j;return((j=I.target.x)==null?void 0:j.toString())??null}).attr("y2",I=>{var j;return((j=I.target.y)==null?void 0:j.toString())??null}),E.attr("transform",I=>`translate(${I.x}, ${I.y})`)});const C=w.node();C!==null&&s.current.append(C),a.current={simulation:S,nodeSel:T,linkSel:_,nodesDict:l}}a.current.nodeSel=a.current.nodeSel.data(h).join(A=>A.append("g").call(b=>b.append("circle").attr("r",5).attr("fill",S=>S.highlight??!1?"#ea2":S.isLastNode??!1?"#5bb":"#26b")).call(b=>b.append("text").text(S=>S.node.content).attr("stroke","none").attr("fill",S=>S.highlight??!1?"#fc6":S.isLastNode??!1?"#bfc":"#adf").attr("dominant-baseline","middle").attr("transform","translate(7, 0)").attr("style","user-select: none;")),A=>A.call(b=>b.selectAll("circle").attr("fill",S=>S.highlight??!1?"#ea2":S.isLastNode??!1?"#5bb":"#26b")).call(b=>b.selectAll("text").attr("fill",S=>S.highlight??!1?"#fc6":S.isLastNode??!1?"#bfc":"#adf"))).call(p),a.current.linkSel=a.current.linkSel.data(c).join("line"),a.current.nodesDict=l;const{simulation:v,nodeSel:m,linkSel:g}=a.current;m.attr("style",A=>A.isLastNode??!1?"filter: drop-shadow(0 0 5px #befb)":"none"),g.attr("stroke",A=>A.isExtra??!1?"#865":"#999").attr("stroke-width",A=>A.isExtra??!1?1:3).attr("stroke-opacity",A=>(A.isExtra??!1,.8)),v.nodes(h).force("link",gM(c).id(({node:A})=>A.nodeId)),(u||f)&&v.alpha(1).restart()},[e,r,i,n]),e===null?d.jsx(he,{inline:!0}):d.jsx("div",{ref:s})}function Vue(t){var T,C,E;const{graphId:e,stage:n}=t,r=He(),i=Te(ne.TEAM_FARMER,r===null?null:{teamId:r}),a=Te(ne.PUZZLE_CONTENT,{puzName:I8}),s=ot(),o=wn(),l=R.useRef(null),u=((T=i==null?void 0:i.stages[e])==null?void 0:T.graph)??null,h=((C=i==null?void 0:i.stages[e])==null?void 0:C.graph.evaluation)??null,c=ir(),f=o0(k=>k.isSpectating);if(R.useEffect(()=>{o.isHeld||l.current!==null&&l.current.focus()},[o.isHeld]),u===null||r===null||a===null)return d.jsx(he,{inline:!0});const{nodes:p}=u,{metadata:{instruction:v,targetImgName:m,targetNumNodes:g},isSolved:y=!1}=n,x=p.length,A=g!==void 0&&x>=g&&!Bt.workshopMode,b=ZO(a),S=h===null?null:h.success?h.highlightNodes===void 0?"You completed the farm! But there are more farms to build.":h.highlightNodes.length===0?"You completed the farm! None of the patches are productive, but thatâs okay.":"You completed the farm! Iâve highlighted the productive patches in yellow.":"Nice work! But the shape of the farm looks off, somehow.",w={type:ne.TEAM_FARMER,teamId:r},_=()=>{if(l.current===null||l.current.value.trim()==="")return;const k=l.current.value;o.acquireAndRun(async I=>{const j=await s.sendScopeStepAndWaitAsync(w,{isWorkshop:Bt.workshopMode?!0:void 0,addNode:{graphId:e,content:k}});if(I()||j===null||l.current===null)return;const{addNodeResp:P}=j;if(P===void 0)throw new Error(`expect addNodeResp in response ${JSON.stringify(j)}`);(()=>{switch(P.type){case Fs.SUCCESS:return!0;case Fs.SERVER_ERROR:return toastr.error("The server encountered an error processing your request."),!0;case Fs.INVALID_WORD:return toastr.error(`"${k}" was not found in our dictionary.`),!0;case Fs.INVALID_NODE:case Fs.NO_EDGE:case Fs.NOT_IN_CATEGORY:return toastr.error(`"${k}" could not be added to the farm.`),!0;case Fs.DUPLICATE:return toastr.error(`"${k}" already exists in the farm.`),!0;case Fs.TOO_MANY_NODES:return toastr.error("The farm is full!"),!0}})(),l.current.value=""})};return d.jsxs(d.Fragment,{children:[c&&!f?d.jsxs(d.Fragment,{children:[d.jsx("hr",{}),d.jsx("button",{onClick:()=>{s.sendScopeStep(w,{adminSetGraphSolved:e})},disabled:y,children:"Set solved (admin only)"}),d.jsx("hr",{})]}):null,m!==void 0?d.jsxs("div",{className:"farmer-target",children:[d.jsx("h5",{children:"Target"}),d.jsx(Dp,{center:!0,staticPuzDir:b,name:m})]}):null,v!==void 0?d.jsx("div",{children:v}):null,d.jsxs("div",{children:[d.jsx("input",{type:"text",ref:l,disabled:o.isHeld||A,onKeyDown:k=>{k.key==="Enter"&&_()},className:"farmer-input"}),d.jsxs("span",{className:"farmer-graph-buttons",children:[d.jsx("button",{onClick:()=>_(),disabled:f||o.isHeld||A,children:"Add"}),d.jsx("button",{onClick:()=>{o.acquireAndRun(async k=>{await s.sendScopeStepAndWaitAsync(w,{undoGraph:e})})},disabled:f||o.isHeld||!E8(n),children:"â¶"}),d.jsx("button",{onClick:()=>{o.acquireAndRun(async k=>{await s.sendScopeStepAndWaitAsync(w,{isWorkshop:Bt.workshopMode?!0:void 0,redoGraph:e})})},disabled:f||o.isHeld||!k8(n),children:"â·"}),d.jsx("button",{onClick:()=>{o.acquireAndRun(async k=>{await s.sendScopeStepAndWaitAsync(w,{resetGraph:e})})},disabled:f||o.isHeld||u.nodes.length<=0,children:"Reset"})]}),g!==void 0?d.jsxs("span",{children:[x," / ",g]}):null]}),S!==null?d.jsx("div",{className:"farmer-evaluation",children:d.jsx("b",{children:S})}):null,d.jsx(K5,{graph:u,highlightNodes:h==null?void 0:h.highlightNodes,lastNodeId:((h==null?void 0:h.success)??!1)||(E=u.nodes[u.nodes.length-1])==null?void 0:E.nodeId}),u.nodes.length>0?d.jsxs("div",{children:["Patches added: ",u.nodes.map(({content:k})=>k).join(", ")]}):null]})}function Hue(){const t=He(),e=Te(ne.TEAM_FARMER,t===null?null:{teamId:t});if(e===null)return d.jsx(he,{inline:!0});const{stages:n,mapEdges:r,mapExtraEdges:i}=e,s={nodes:Object.entries(n).map(([l,{metadata:{displayName:u}}])=>({nodeId:l,content:u.toUpperCase()})),edges:r,redoNodes:[]},o=Object.entries(n).filter(([l,{isSolved:u}])=>u).map(([l])=>l);return d.jsx(K5,{graph:s,highlightNodes:o,extraEdges:i})}function Gue(){const t=He(),e=Te(ne.TEAM_FARMER,t===null?null:{teamId:t}),[n,r]=R.useState(null),i=ir(),a=o0(h=>h.isSpectating),s=ot();if(t===null||e===null)return d.jsx(he,{inline:!0});const o={type:ne.TEAM_FARMER,teamId:t},l=n!==null?e.stages[n]??null:null,u=Object.entries(e.stages).sort(([h,c],[f,p])=>c.metadata.displayName.localeCompare(p.metadata.displayName));return d.jsxs(d.Fragment,{children:[i&&!a?d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("button",{onClick:()=>{s.sendScopeStep(o,{adminResetProgress:!0})},children:"Reset all progress (admin only)"}),d.jsx("hr",{})]}):null,d.jsx("div",{children:l===null||n===null?d.jsxs(d.Fragment,{children:[d.jsx("div",{children:u.map(([h,{metadata:{displayName:c},isSolved:f}])=>d.jsx("button",{onClick:()=>r(h),className:f?"farmer-stage-button-solved":void 0,children:c.toUpperCase()},h))}),d.jsx(Hue,{})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"farmer-stage-header",children:[d.jsxs("h4",{children:["Currently building farm:"," ",l.metadata.displayName.toUpperCase()," "]}),d.jsx("button",{onClick:()=>r(null),children:"Back to map"})]}),d.jsx(Vue,{graphId:n,stage:l}),d.jsx("p",{children:"For your convenience, you may drag patches around to reposition them on your screen."})]})})]})}function Uue(){const t=R.useRef(null),[e,n]=R.useState(null),r=wn(),i=ot(),a=He();if(a===null)return d.jsx(he,{inline:!0});const s=()=>{r.acquireAndRun(async o=>{if(t.current===null)return;const l=Ad(t.current.value),u=await i.sendScopeStepAndWaitAsync({type:ne.TEAM_BIG_BRANCH,teamId:a},{checkAnswer:l});if(o()||u===null)return;const{checkAnswerResp:h}=u;if(h===void 0)return;const{isRateLimited:c=!1,isCorrect:f}=h;if(c){toastr.warning(`Please limit your guesses to ${$E.rateLimit.num} per ${$E.rateLimit.intervalMs/1e3} seconds.`,"Rate limited");return}if(f===void 0)throw new Error("no response received for big branch checker");n({val:l,isCorrect:f}),t.current.value=""})};return d.jsxs("div",{className:"branch-checker",children:[d.jsx("input",{type:"text",ref:t,onKeyDown:o=>{o.key==="Enter"&&s()},disabled:r.isHeld})," ",d.jsx("button",{onClick:()=>{s()},disabled:r.isHeld,children:"Check"}),e===null?null:e.isCorrect?d.jsxs("div",{className:"branch-checker-result-correct",children:[e.val," is a correct answer!"]}):d.jsxs("div",{className:"branch-checker-result-incorrect",children:[e.val," is not a correct answer."]})]})}const Wue=t=>{const{puzName:e,staticPuzDir:n,firstKeyframeId:r,answer:i,isPreview:a}=t;return{pre:s=>d.jsx("pre",{"data-skip-inline-styles":"true",children:s.children}),code:s=>d.jsx("code",{"data-skip-inline-styles":"true",children:s.children}),Flavor:H0,Image:s=>d.jsx(Dp,{staticPuzDir:n,...s}),Gallery:s=>d.jsx(G0,{staticPuzDir:n,...s}),Audio:s=>d.jsx(v5,{staticPuzDir:n,isPreview:a,...s}),PuzzleGrid:x5,Table:g5,Blanks:m5,Answer:s=>{const{index:o}=s;if(i===void 0)throw new Error(`no answer found for ${e}`);return o!==void 0?d.jsx(qS,{children:i.split(" / ")[o]}):d.jsx(qS,{children:i})},AuthorsNotes:fae,TeamDisplayNameDisplay:ln,Cutscene:()=>{if(r===void 0)throw new Error(`no firstKeyframeId found for ${e}`);return d.jsx(xae,{puzName:e,firstKeyframeId:r})},PuzzleContentPreviewWithLink:U0,Puzzle105Content:mC,Puzzle105:Tae,Puzzle105CheckTitleRateLimitMinutes:()=>d.jsx(d.Fragment,{children:Rn.checkTitleRateLimitIntervalMinutes}),Puzzle139:Cae,Puzzle144:Iae,Puzzle144Rubric:Eae,Berry:kae,Puzzle205:jae,Puzzle207:Mae,HopePool:Dae,Puzzle329Card:s=>d.jsx(Lae,{staticPuzDir:n,...s}),FaviconChanger:Nae,Hopeless:zae,BlocksPuzzle:Fae,BlocksPuzzleBoard:T5,ExchangePuzzle:Bae,OlivePuzzle:Vae,FarmerPuzzle:Gue,BranchChecker:Uue,Twemoji:ve}},IC=(t,e,n)=>{const r=(()=>{switch(e){case gs.PUZZLE:return ne.PUZZLE_CONTENT;case gs.SOLUTION:return ne.SOLUTION_CONTENT}})(),i=Te(r,{puzName:t}),[a,s]=R.useState(null);return R.useEffect(()=>{if(i===null){s(null);return}const{content:o,firstKeyframeId:l,answer:u}=i,h=ZO(i),c={puzName:t,staticPuzDir:h,firstKeyframeId:l,answer:u??void 0,PUZZLE_144_CONFIG:Qw,HOPE_POOL_CONFIG:Cl,isPreview:n??!1},f=Wue(c);let p=!1;return lC(o,X1).then(v=>{p||s({elem:v.default,puzName:t,components:f,props:c})}).catch(v=>{console.error(v),!p&&s(null)}),()=>{p=!0}},[i,t,n]),{puzzleContent:i,renderCtx:a!==null&&a.puzName===t?a:null}},Q5="scramble-for-the-stars",$ue="jfk",eH="jfk";function Yue(t){const{puzzlesInSequence:e,selectedPuzName:n}=t,r=Ui();return r===null?d.jsx(he,{inline:!0}):d.jsx(d.Fragment,{children:e.map(i=>d.jsx("span",{className:Tt({selected:i.puzName===n}),children:i.puzName===n?d.jsx(ka,{puzData:i}):i.puzName===Q5?d.jsx("a",{href:"https://2017.galacticpuzzlehunt.com/puzzle/3/5.html",target:"_blank",className:"sequence-icon",rel:"noreferrer",children:d.jsx(Ce,{text:"Scramble for the Stars",placement:"bottom",children:d.jsx(ve,{tag:"span",children:"ð"})})}):i.puzName===eH?d.jsx("a",{href:"https://puzzles.mit.edu/2012/puzzles/ogre_of_la_mancha/jfk_shags_a_sad_slim_lass/",target:"_blank",className:"sequence-icon",rel:"noreferrer",children:d.jsx(Ce,{text:"JFK SHAGS A SAD SLIM LASS",placement:"bottom",children:d.jsx(ve,{tag:"span",children:"ð­"})})}):d.jsx(tt,{puzName:i.puzName,children:d.jsx(Ce,{text:r[i.puzName],placement:"bottom",children:d.jsx(ka,{puzData:i})})})},i.puzName))})}function que(t){var z,H;const{puzData:e}=t,{puzName:n,isScrambleSequel:r=!1,isCelestial:i=!1,isBigMeta:a=!1,sequenceId:s}=e,o=aH(e),l=mh(),u=Oa(),h=Ea(n)??!1,c=He(),f=ir(),p=Te(ne.TEAM_CANNED_HINTS,c===null?null:{teamId:c}),v=Te(ne.TEAM_HINTS,c===null?null:{teamId:c}),m=Ho(),g=m!==null?Q1(e)&&(m||JO(n,!0,h)||f):null,y=((z=p==null?void 0:p.cannedHints[n])==null?void 0:z.numTotal)??0,x=(v==null?void 0:v.numTotalTokens)??0,A=Object.keys((v==null?void 0:v.hints[n])??{}).length,b=KO(e)&&(y>0||x>0||A>0),[{inPuzzle:S,inSolution:w,inHints:_,inStats:T}]=R.useState(ko());if(u===null||p===null||g===null)return d.jsx(he,{inline:!0});const{isSinglePane:C,isBeforeFirstWish:E}=u,k=C&&!E,{cutsceneState:I,isPuzzleSolved:j,puzzlesInSequence:P,celestialsAsSequence:D}=o??{},L=[];if(A>0&&L.push(d.jsx(ve,{tag:"span",children:"ð¡"},"custom")),n in p.cannedHints){const{numTotal:G,numOpened:N}=p.cannedHints[n];for(let W=0;W<G;++W)L.push(d.jsx(ca,{icon:W<N?ha.OPEN_CANNED_HINT:ha.CANNED_HINT},`canned-${W}`))}const F=(!g||f)&&L.length,V=o===null?null:i||a?D??null:r?[{puzName:Q5,slug:"",displayName:"",unlockTime:0},e]:s!==void 0&&s===$ue?[{puzName:eH,slug:"",displayName:"",unlockTime:0},...P??[e]]:P??[e],U=!e.isStory&&(m||f||((H=e.customPuzzleData)==null?void 0:H.srcTeamId)===c);return d.jsxs("div",{className:"puzzle-page-aux-toolbar",children:[k?d.jsx(nn,{path:"/puzzles",button:!0,children:"â"}):null,V===null?d.jsx(he,{inline:!0,style:{height:"2em",width:"2em",flexGrow:void 0}}):d.jsx("div",{className:"sequence-nav",children:d.jsx(Yue,{puzzlesInSequence:V,selectedPuzName:n})}),d.jsxs("div",{className:"button-squish-zone secondary",children:[g||b?d.jsxs(tt,{puzName:n,button:!0,disabled:S,children:[d.jsx("span",{className:"squishable-link-text",children:"Puzzle"}),d.jsx(ve,{className:"squishable-link-icon",children:"ð§©ï¸"})]}):null,g?d.jsxs(tt,{puzName:n,subpage:"solution",button:!0,disabled:w,children:[d.jsx("span",{className:"squishable-link-text",children:"Solution"}),d.jsx(ve,{className:"squishable-link-icon",children:"ðï¸"})]}):null,b?d.jsxs(tt,{puzName:n,subpage:"hints",button:!0,disabled:_,children:[F?L:null,d.jsx("span",{className:"squishable-link-text",children:" Hints"}),d.jsx(ve,{className:"squishable-link-icon",children:"âï¸"})]}):null,U?d.jsxs(tt,{puzName:n,subpage:"stats",button:!0,disabled:T,children:[d.jsx("span",{className:"squishable-link-text",children:"Stats"}),d.jsx(ve,{className:"squishable-link-icon",children:"ð§®ï¸"})]}):null,((I==null?void 0:I.historyPosition)??null)!=null?P8(e)?d.jsx("a",{onClick:()=>{l({completedStoryBeats:{[n]:!0},cutscenesState:{[n]:_g()}})},children:d.jsx("button",{children:j?"Exit":"Skip"})}):d.jsx("a",{onClick:()=>{l({cutscenesState:{[n]:_g()}})},children:d.jsx("button",{children:"Reset"})}):null]})]})}function tH(t){const{teamId:e,info:n}=t,{message:r,solveHintPrizePuzName:i}=n,a=Ds(i??null,e);return i!==void 0?a===null?d.jsx(he,{inline:!0}):d.jsxs("div",{children:["You solved the puzzle! Enjoy a free hint for"," ",d.jsx(tt,{puzName:i,subpage:"hints",children:a}),"."]}):r!==void 0?d.jsx("div",{children:r.trim().split(`
`).map((s,o)=>d.jsx(ve,{children:s},o))}):null}const nH=t=>{const{teamId:e,teamAnswerableScopeState:{submissions:n}}=t;return Object.keys(n).length===0?null:d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Previous guesses"}),d.jsx("table",{className:"list-table previous-guess-table",children:d.jsx("tbody",{children:Object.values(n).sort((r,i)=>i.timestamp-r.timestamp).map(r=>d.jsxs("tr",{children:[d.jsx("td",{children:r.answer}),d.jsx("td",{children:d.jsxs("div",{className:"previous-guess-answer-cell",children:[d.jsx(ve,{tag:"span",children:r.isCorrect??!1?"â":r.isWrong??!1?"â":null}),d.jsx(tH,{info:r,teamId:e})]})}),d.jsx("td",{children:d.jsx(In,{timestamp:r.timestamp})})]},r.timestamp))})})]})};function Xue(t){const{teamId:e,puzName:n}=t,r=l0(e,n);return r===null?d.jsx(he,{inline:!0}):d.jsx(nH,{teamId:e,teamAnswerableScopeState:r})}function Zue(){var y;const t=Tu(x=>x.getSockClient)(),e=He(),n=eT(),r=wn(),{cancel:i,isHeld:a}=r,[s,o]=R.useState(null),l=l0(e,n),u=((y=Oa())==null?void 0:y.isSinglePane)??null,h=Ho(),c=R.useRef(null);R.useEffect(()=>{o(null),i(),c.current!==null&&(c.current.value="",(u??!1)||c.current.focus())},[n,o,i,c,u]),R.useEffect(()=>{c.current!==null&&(a||c.current!==null&&(c.current.value="",(u??!1)||c.current.focus()))},[c,u,a]),R.useEffect(()=>{const x=A=>{A.target.closest(".submit-answer-form")||o(null)};return window.addEventListener("click",x),()=>{window.removeEventListener("click",x)}},[]);const f=(x,A)=>{switch(A||o(x),x.type){case Jo.ALREADY_SOLVED:{Aa.error("Youâve already solved this puzzle!");break}case Jo.NO_GUESSES:{Aa.error("You have no more guesses for this puzzle!");break}case Jo.SUCCESS:{const{info:b}=x;b.isWrong&&Aa.error(`${b.answer} is incorrect.`);break}}};if(n===null||e===null||l===null||u===null||h===null)return d.jsx("div",{className:"submit-answer-form",children:d.jsx(he,{inline:!0})});const{numGuessesRemaining:p}=l,v=(()=>{if(s===null)return[];switch(s.type){case Jo.SUCCESS:{const{info:x}=s;return x.isCorrect??!1?[]:x.message===void 0?[]:[d.jsx(tH,{teamId:e,info:x},"solve-message")]}case Jo.NO_ANSWER:return["The answer should have at least one letter A through Z (case does not matter)."];case Jo.NOT_NUMERICAL:return["The answer should be a number."];case Jo.TRIED_BEFORE:return[`Youâve already tried submitting the answer â${s.submittedAnswer}â for this puzzle.`];default:return[]}})(),m=x=>{if(x.preventDefault(),a||c.current===null||t===null||e===null)return;const A=c.current.value;A.trim().length<=0||r.acquireAndRun(async b=>{const S=await t.sendScopeStepAndWaitAsync({type:ne.TEAM_ANSWERABLE,teamId:e,puzName:n},{submitAnswer:A});S!==null&&f(S,b())})},g=Bt.isPosthunt?"Submit answer":p<=0?"You have no more guesses remaining for this puzzle!":p>=2?`You have ${p} guesses remaining for this puzzle.`:"You have 1 guess remaining for this puzzle.";return d.jsxs(pi.form,{className:"submit-answer-form",onSubmit:m,initial:{opacity:0},animate:{opacity:1},exit:{transform:"translateY(100%)"},transition:{duration:.15},children:[v.map((x,A)=>d.jsx("ul",{className:"errorlist nonfield submit-answer-form-message",children:d.jsx("li",{children:x})},A)),d.jsxs("div",{className:"input-group",children:[d.jsx("input",{type:"text",name:"answer",autoFocus:!u,autoComplete:"off",maxLength:j8,required:!0,disabled:a||!h&&p<=0,ref:c,placeholder:g}),d.jsx("a",{className:"delete-row",href:"#",onClick:m,children:"â"})]})]},"submit-answer-form")}function Jue(){const t=He(),e=ot(),n=o0(p=>p.isSpectating),r=ri(p=>p.setPendingPull),i=Je(p=>p.setRedirectCommand),a=hp(),{ignoreHopeLimit:s}=Bt,o=s||a!==null&&a>=eS,l=QO(),u=u0(),{inCamp:h}=ko(),c=R.useCallback(()=>{n||t!==null&&(l.isHeld||l.acquireAndRun(async p=>{const v=await e.sendScopeStepAndWaitAsync({type:ne.TEAM_GACHA,teamId:t},{ignoreHopeLimit:s?!0:void 0});if(v!==null)switch(v.type){case Fx.NOT_ENOUGH_HOPE:{toastr.error("You don't have enough hope! ð");break}case Fx.SUCCESS:{const{pullId:m,pull:g}=v;r({pullId:m,pull:g}),h||i({path:"/camp"});break}case Fx.TOO_SOON:break}}))},[l,r,n,t,e,i,s,h]),f=n||u||!o;return d.jsx(d.Fragment,{children:d.jsx("button",{className:"gacha-button",disabled:f,onClick:c,children:"Wish"})})}function xM(t,e,n,r){const i=d.jsxs("div",{className:"minifiable-link",children:[d.jsx("span",{className:"minifiable-link-text",children:e}),d.jsx(ve,{tag:"span",className:"minifiable-link-icon",children:n})]});return r?d.jsx(nn,{path:t,className:"hope-meter-link",children:i}):i}function Kue(){const{inPuzzlePage:t,inCamp:e}=ko(),n=Oa(),r=hp()??0,i=no.upper,a=r/eS,s=Math.max(Math.min(100*r/i,100),0),o=a>=1,l=Math.floor(a);if(n===null)return d.jsx(he,{inline:!0});const{isBeforeFirstWish:u}=n;return d.jsxs(d.Fragment,{children:[u?null:d.jsxs(d.Fragment,{children:[xM("/lastpuzzle","Puzzles","ðï¸",!t),xM("/camp","Camp","ðï¸",!e)]}),d.jsx(Ce,{className:Tt({"hope-meter":!0,"can-pull":o}),text:`You have ${Yc(r)} hope${o?`, enough for ${M8(l)} ${l===1?"wish":"wishes"}.`:". You need 100 to wish."}`,style:{backgroundSize:`${s}%`,maskSize:`${100*eS/no.upper}%`},children:o?"Ready!":Yc(r)}),d.jsx(Jue,{})]})}function Que({preview:t,answer:e,isSolved:n,puzData:r,displayName:i,hasUnopenedCannedHints:a,isActive:s,isNew:o,isRejected:l}){const{puzName:u,slug:h,isStory:c}=r,f=(()=>{if(!i.includes(Mc))return i;const[g,y]=i.split(Mc);return d.jsxs(d.Fragment,{children:[g,d.jsx("span",{className:"puzzle-card-untitled",children:Mc}),y]})})(),p=$c(g=>g.lastSeenNonNullPuzSlug),m=tT().includes(u);return d.jsxs(tt,{puzName:u,className:Tt({"puzzle-card":!0,solved:n,unsolved:!n,active:s,last:h===p}),children:[d.jsx("div",{className:"puzzle-card-decoration"}),d.jsxs("div",{className:`puzzle-card-title ${i===""?"centered":""} ${n&&!c?"answered":""}`,children:[d.jsxs("span",{className:"puzzle-card-icons",children:[d.jsx(ka,{puzData:r}),o?d.jsx(ve,{children:"ð"}):null,m?d.jsx(ve,{children:"ðï¸"}):null,a?d.jsx(Ce,{text:"Canned hint available",children:d.jsx(ca,{icon:ha.CANNED_HINT})}):null,l?d.jsx(Ce,{text:"Your submission was rejected.",children:d.jsx(ve,{children:"â"})}):null]}),d.jsx("h3",{title:i,children:f}),n&&!c?d.jsx("div",{className:"puzzle-card-answer",title:e,children:d.jsx(ve,{children:e??"â"})}):null]}),d.jsx("div",{className:"puzzle-card-preview",children:t&&d.jsx(b5,{puzName:u,style:{border:"none",height:"3.5em"}})})]})}function ece({children:t}){const e=Oa(),n=R.useRef(null),r=R.useRef(!1),i=R.useRef(D8()),a=vh(),s=qc(()=>{((e==null?void 0:e.showSidebar)??!1)&&(r.current=!0,n.current&&(n.current.style.transition="none"))});if(R.useEffect(()=>{const u=c=>{if(r.current&&n.current){const f=As(250,document.body.clientWidth-250,c.clientX-n.current.getBoundingClientRect().left);n.current.style.width=`${f}px`,i.current=f,a({sidebarWidth:f})}},h=()=>{r.current=!1,n.current&&(n.current.style.transition="")};return window.addEventListener("pointermove",u),window.addEventListener("pointerup",h),()=>{window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",h)}},[a]),e===null)return d.jsx(he,{inline:!0});const{isSinglePane:o,showSidebar:l}=e;return d.jsx(Jc,{children:l?d.jsxs(pi.div,{className:"sidebar-wrapper-wrapper",initial:{transform:"translateX(-100%)"},animate:{transform:"translateX(0)"},exit:{transform:"translateX(-100%)"},transition:{duration:.15},children:[d.jsx("div",{className:"sidebar-wrapper",style:{width:o?"100dvw":`${i.current}px`},ref:n,children:t}),d.jsx("div",{className:"resize-handle",onPointerDown:u=>{u.preventDefault(),s()},style:{display:o?"none":""},children:"âª"})]},"sidebar-wrapper-wrapper"):null})}const tce=60*1e3;function nce(t){const{puzData:{puzName:e},unlockTime:n}=t,r=eT(),i=R.useRef(null),a=r!==null&&r===e,o=eF()[e]!==void 0,l=XO(n+tce),u=!o&&!(l??!1);return R.useEffect(()=>{if(r===null||r!==e||i.current===null)return;const h=i.current.getBoundingClientRect();(h.top<0||h.bottom>window.innerHeight)&&i.current.scrollIntoView({block:"center"})},[r,e]),d.jsx(pi.div,{layout:!0,ref:i,children:d.jsx(Que,{...t,isActive:a,isNew:u})},e)}function rce(){const t=Dt();if(t===null)return d.jsx(he,{inline:!0});const e=Object.values(t.puzzles).filter(({isCelestial:i})=>i??!1),n=e.length,r=e.filter(({solveTime:i})=>i!==void 0).length;return n<YE||r>=YE?null:d.jsx(Ce,{text:"Restore all Celestials to proceed!",children:d.jsx("div",{className:"puzzle-card unsolved puzzle-card-dummy",children:d.jsxs("div",{className:"puzzle-card-title",children:[d.jsx("span",{className:"puzzle-card-icons",children:d.jsx(ve,{tag:"span",children:"ð"})}),d.jsxs("h3",{children:[r," / ",n," Celestials restored"]})]})})})}function ice({puzzles:t}){const e=He(),n=c0(),r=Te(ne.TEAM_CANNED_HINTS,e===null?null:{teamId:e}),i=Te(ne.TEAM_HINTS,e===null?null:{teamId:e}),a=Ui(),s=Dt(),o=(s==null?void 0:s.puzzles[Rn.puzName])!==void 0,l=(s==null?void 0:s.puzzles[Tg.puzName])!==void 0,u=Te(ne.TEAM_PUZZLE_105,o&&e!==null?{teamId:e}:null),h=Te(ne.TEAM_PUZZLE_139,l&&e!==null?{teamId:e}:null);if(e===null||r===null||i===null||a===null||o&&u===null||l&&h===null)return d.jsx(he,{});const{cannedHints:c}=r,f=(u==null?void 0:u.status)??null,p=(h==null?void 0:h.status)??null,v={[Rn.puzName]:f!==null&&f.type===dr.REJECTED,[Tg.puzName]:p!==null&&p.type===Tr.REJECTED};return d.jsx(d.Fragment,{children:t.map((m,g)=>{const{puzName:y,answer:x}=m,{numTotal:A,numOpened:b}=c[y]??{numTotal:0,numOpened:0},S=A>0,w=b>0,_=A-b>0,T=Object.keys((i==null?void 0:i.hints[y])??{}).length>0;return d.jsx(nce,{answer:x,isSolved:eu(m,n),puzData:m,displayName:a[y]??"Locked puzzle",unlockTime:m.unlockTime,hasCannedHints:S,hasOpenedCannedHints:w,hasUnopenedCannedHints:_,hasHints:T,isRejected:v[y]??!1},y)})})}const ace=R.memo(ice);function sce({puzzles:t}){const e=u0(),[n,r]=R.useState(t);return R.useEffect(()=>{e||r(t)},[t,e]),d.jsx(ace,{puzzles:n})}const oce={cutscene:{icon:"ð¬",name:"Cutscenes"},celestial:{icon:"ð«",name:"Celestials"},star:{icon:"â­",name:"Canonical Stars"},custom:{icon:"ð ",name:"Custom Stars"}},lce={default:"Default",alphabetical:"Alphabetical",oldest:"Oldest first",newest:"Newest first"};function uy(t){return t.toLowerCase().replaceAll("Ã","x").replaceAll("â","'").replaceAll("È·","j").replaceAll("Ã³","o").replaceAll("Ã¶","o").replaceAll("Ã¦","ae").replaceAll("ã",".")}let AM=0;function uce(){const t=tF(),e=tT(),[n,r]=R.useState(""),[i,a]=R.useState({cutscene:!0,celestial:!0,star:!0,custom:!0}),[s,o]=R.useState("default"),[l,u]=R.useState(!1),h=!!(t!=null&&t.find(({isCelestial:v})=>v??!1)),c=!!(t!=null&&t.find(({customPuzzleData:v})=>!!v)),f=Ui(),p=R.useMemo(()=>t===null||f===null?null:t.map(v=>{const{puzName:m}=v,g=f[m]??"Unknown puzzle";return{...v,name:g}}).filter(({name:v})=>uy(v).includes(uy(n))).filter(v=>{const{isStory:m=!1,isCelestial:g=!1,isBigMeta:y=!1}=v;return m&&i.cutscene||(g||y)&&i.celestial||ys(v)&&(v.customPuzzleData!==void 0?i.custom:i.star)}).sort((v,m)=>{const g=e.includes(v.puzName),y=e.includes(m.puzName);if(g!=y)return+y-+g;switch(s){case"default":return g?e.indexOf(m.puzName)-e.indexOf(v.puzName):0;case"alphabetical":return Xc(v.name,m.name);case"oldest":return v.unlockTime-m.unlockTime;case"newest":return m.unlockTime-v.unlockTime}}),[i,n,s,t,e,f]);return R.useEffect(()=>{const v=m=>{m.target.closest(".sidebar-header")||u(!1)};return window.addEventListener("click",v),()=>{window.removeEventListener("click",v)}},[]),p===null?d.jsx(he,{}):d.jsxs(ece,{children:[d.jsxs("div",{className:"sidebar-header",children:[d.jsx("input",{className:"sidebar-search",onChange:v=>r(v.target.value),placeholder:"Search",value:n}),d.jsx("button",{className:Tt({"sidebar-drawer-button":!0,active:l}),onClick:()=>u(!l),children:"â¥¥"}),l&&d.jsxs("div",{className:"sidebar-drawer",children:[d.jsxs("div",{className:"sidebar-drawer-section",children:["Show:",Object.entries(oce).map(([v,{icon:m,name:g}])=>v==="celestial"&&!h||v==="custom"&&!c?null:d.jsxs("button",{className:Tt({active:i[v]}),onClick:()=>a(y=>({...y,[v]:!y[v]})),children:[d.jsx(ve,{tag:"span",children:m})," ",v==="star"&&!c?"Stars":g]},v))]}),d.jsxs("div",{className:"sidebar-drawer-section",children:["Sort:",Object.entries(lce).map(([v,m])=>d.jsx("button",{className:Tt({active:s===v}),onClick:()=>o(v),children:m},v))]})]})]}),d.jsx(BT,{options:K1,events:{initialized:v=>{const{scrollOffsetElement:m}=v.elements();m.scrollTop===0&&(m.scrollTop=AM)},scroll:v=>{const{scrollOffsetElement:m}=v.elements();AM=m.scrollTop}},defer:!0,children:d.jsxs("div",{className:"sidebar-cards",children:[n?null:d.jsx(rce,{}),d.jsx(sce,{puzzles:p})]})})]})}function EC({x:t,y:e}){return{rightAscension:t/100*(2*Math.PI),declination:(60-e)/100*(80/180*Math.PI)}}function bM(t){const{rightAscension:e,declination:n}=EC(t);return{x:Math.cos(n)*Math.sin(e),y:Math.sin(n),z:Math.cos(n)*Math.cos(e)}}function cce({puzData:t}){const{puzName:e,mapPos:n}=t,r=Ds(e),i=R.useRef(nT());if(n===void 0||r===null)return null;const{rightAscension:a,declination:s}=EC(n),o=1-Math.abs(Math.abs((a/Math.PI-i.current/180)%2)-1)+s/Math.PI,l={blocks:"kid",olive:"olive",branch:"big_branch",farmer:"farmer",rock_lobster:"rock_lobster",pom_pom:"pompom_mopmop",ten_lions:"lions"}[e];return d.jsx(Ce,{className:Tt({"star-map-star":!0,"star-map-big-star":e==="branch","star-map-dog-star":e==="pom_pom"}),text:r,style:{transform:`rotateY(${-a}rad) rotateX(${-s}rad) translateZ(calc(var(--star-map-baseline) * -2))`,animationDelay:`calc(${2*o} * var(--star-map-fadein))`},children:d.jsx(tt,{puzName:e,children:l===void 0?d.jsx(ka,{puzData:t}):d.jsx("img",{src:`/static/images/cutscenes/${l}.png`})})})}function hce(){const t={x:10,y:37},{rightAscension:e,declination:n}=EC(t),r=Je(s=>s.fishCount),i={className:"star-map-star star-map-big-star",style:{transform:`rotateY(${-e}rad) rotateX(${-n}rad) translateZ(calc(var(--star-map-baseline) * -2))`,animation:"none"}},a=d.jsx("img",{src:"/static/images/cutscenes/kero.png",style:{opacity:(r-10)/30}});return r<10?null:r<20?d.jsx("div",{...i,children:a}):r<30?d.jsx(Ce,{text:"OwO, whatâs this?",...i,children:a}):d.jsx(Ce,{text:`You found Kero! UwU
(This is an Easter egg.
It is not a puzzle.)`,...i,children:a})}function fce({pos1:t,pos2:e}){if(t===void 0||e===void 0)return null;const n=bM(t),r=bM(e),i=Math.sqrt((n.x-r.x)**2+(n.y-r.y)**2+(n.z-r.z)**2),a={x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2},s=Math.atan2(a.x,a.z),o=Math.atan2(a.y,Math.sqrt(a.x**2+a.z**2)),l=(n.x-r.x)*Math.cos(s)-(n.z-r.z)*Math.sin(s),u=Math.acos(l/i)*Math.sign(n.y-r.y),h=Math.sqrt(a.x**2+a.y**2+a.z**2);return d.jsx("div",{className:"star-map-line",style:{width:`calc(${i} * var(--star-map-baseline) * 2 - 4em)`,transform:`rotateY(${-s}rad) rotateX(${-o}rad) rotateZ(${-u}rad) translateZ(calc(var(--star-map-baseline) * -2 * ${h}))`}})}function ta({image:t,angle:e}){return d.jsx("div",{className:"star-map-grass",style:{transform:`rotateY(${e}deg) rotateX(10deg) translateZ(-600px)`,filter:"brightness(0.1)"},children:d.jsx("img",{src:`/static/images/bg/${t}.png`})})}function dce(){const t=He(),e=Te(ne.TEAM_CANNED_HINTS,t===null?null:{teamId:t});if(t===null||e===null)return null;let n=0;for(const i of Object.values(e.cannedHints))n+=i.numOpened;if(n<=0)return d.jsx(ta,{image:"flowers",angle:210});const r=[[32],[28,21],[24,6,12],[18,5,3,10],[15,4,1,2,8]].map((i,a)=>d.jsx("div",{className:"star-map-cans",children:i.map((s,o)=>d.jsx(ca,{icon:ha.OPEN_CANNED_HINT,style:{opacity:n>=s?1:0}},o))},a));return d.jsx("div",{className:"star-map-grass",style:{transform:"rotateY(210deg) rotateX(-2.5deg) translateZ(-600px) scale(1.5)",filter:"brightness(0)"},children:r})}const wM="rotateY(306deg) rotateX(-5deg) translateZ(-600px) scale(-0.5, 0.5)",pce=R.memo(function(){const e=Dt(),n=ri(x=>x.activePullAnimation),r=vh(),i=n!==null,a=c0(),s=R.useRef(null),o=R.useRef(null),l=R.useRef(null),u=Je(x=>x.setFishCount),h=R.useRef(nT()),c=R.useRef({speed:0,hover:0,last:0,drag:0,scroll:0,click:!1});if(R.useEffect(()=>{u(0)},[u]),R.useEffect(()=>{let x=!0;const A=()=>{const{current:w}=c;w.scroll?(w.speed=Math.min(.5,Math.max(-.5,w.scroll*2)),h.current+=w.scroll*10):w.click?(w.speed=Math.min(.5,Math.max(-.5,w.drag*4)),h.current+=w.drag*80):(w.speed=i?0:Math.min(w.speed+.005,Math.max(w.speed-.005,w.hover)),h.current+=w.speed*8),r({spinAngle:h.current}),w.scroll=0,w.drag=0;const _=`translateZ(var(--star-map-baseline)) rotateX(22.5deg) rotateY(${h.current}deg)`;o.current!==null&&(o.current.style.transform=_),l.current!==null&&(l.current.style.transform=`${_} ${wM}`),x&&requestAnimationFrame(A)};A();const b=w=>{w.key==="ArrowLeft"&&(c.current.hover=-.1),w.key==="ArrowRight"&&(c.current.hover=.1),w.key==="a"&&(c.current.hover=-.1),w.key==="d"&&(c.current.hover=.1),v()};document.addEventListener("keydown",b);const S=w=>{w.key==="ArrowLeft"&&(c.current.hover=0),w.key==="ArrowRight"&&(c.current.hover=0),w.key==="a"&&(c.current.hover=0),w.key==="d"&&(c.current.hover=0),v()};return document.addEventListener("keyup",S),document.documentElement.style.overscrollBehavior="none",()=>{x=!1,document.removeEventListener("keydown",b),document.removeEventListener("keyup",S),document.documentElement.style.overscrollBehavior=""}},[i,r]),e===null)return null;const f=Object.values(e.puzzles).filter(x=>(ys(x)||x.isCelestial)&&eu(x,a)),p=f.flatMap(x=>{var A;return((A=x.constellationEdges)==null?void 0:A.map(b=>({node1:x,node2:e.puzzles[b]})))??[]}).filter(({node2:x})=>x!==void 0&&ys(x)&&eu(x,a)),v=()=>{s.current!==null&&(s.current.style.cursor=c.current.click?"grabbing":c.current.hover<0?"w-resize":c.current.hover>0?"e-resize":"")},m=({clientX:x})=>{c.current.click&&o.current!==null&&(o.current.style.pointerEvents="none"),c.current.drag-=(x-c.current.last)/window.innerHeight,c.current.last=x,v()},g=({clientX:x})=>{c.current.click=!0,c.current.drag=0,c.current.last=x,v()},y=()=>{o.current!==null&&(o.current.style.pointerEvents=""),c.current.click=!1,v()};return d.jsxs("div",{className:Tt({"star-map":!0,"star-map-wishing":i}),ref:s,onMouseMove:x=>{const A=x.clientX/window.innerWidth;A<.1?c.current.hover=A-.1:A>.9?c.current.hover=A-.9:c.current.hover=0,m(x)},onMouseDown:x=>{x.button||(x.preventDefault(),g(x))},onMouseUp:x=>{x.button||(x.preventDefault(),y())},onMouseLeave:()=>{c.current.hover=0,y()},onWheel:x=>{c.current.scroll-=x.deltaX/window.innerHeight},onTouchMove:x=>m(x.touches[0]),onTouchStart:x=>g(x.touches[0]),onTouchEnd:()=>y(),children:[d.jsxs("div",{className:"star-map-sky",ref:o,children:[f.map(x=>d.jsx(cce,{puzData:x},x.puzName)),p.map(({node1:x,node2:A})=>d.jsx(fce,{pos1:x.mapPos,pos2:A.mapPos},`${x.puzName}-${A.puzName}`)),d.jsx(hce,{}),d.jsx(ta,{image:"grass2",angle:0}),d.jsx(ta,{image:"flowers",angle:30}),d.jsx(ta,{image:"grass3",angle:60}),d.jsx(ta,{image:"grass2",angle:90}),d.jsx(ta,{image:"grass2",angle:120}),d.jsx(ta,{image:"grass1",angle:150}),d.jsx(ta,{image:"grass3",angle:180}),d.jsx(dce,{}),d.jsx(ta,{image:"grass1",angle:240}),d.jsx(ta,{image:"grass3",angle:270})]}),d.jsxs("div",{className:"star-map-grass star-map-fire",ref:l,style:{transform:wM},children:[d.jsx("img",{src:"/static/images/bg/fire.webp"}),d.jsx("div",{className:"star-map-camp",onClick:x=>{u(Je.getState().fishCount+1);const{offsetX:A,offsetY:b}=x.nativeEvent,S=new Image;S.src="/static/images/pie.svg",S.style.left=`${A}px`,S.style.top=`${b}px`,x.target.append(S),setTimeout(()=>S.remove(),1e3)}})]})]})});function vce(t){const{teamId:e,prize:n}=t,r=Dt(e),i=Te(ne.TEAM_COLLECTIBLES,e===null?null:{teamId:e}),a=Ui();if(r===null||i===null||a===null)return d.jsx(he,{inline:!0});const{puzzles:s}=r;switch(n.type){case mt.UNLOCK:{const{puzName:o}=n,l=s[o];if(l===void 0)return null;const{rarity:u=xt.COMMON,isCelestial:h=!1,isFindCelestial:c=!1}=l,f={[xt.COMMON]:"a",[xt.UNCOMMON]:"an",[xt.RARE]:"a",[xt.EPIC]:"an",[xt.LEGENDARY]:"a"}[u];return d.jsxs(d.Fragment,{children:[h||c?d.jsx("h4",{children:"You found a celestial!"}):ys(l)?d.jsxs("h4",{children:["You found ",f," ",d.jsx("span",{style:{color:"#ffac33",filter:`hue-rotate(${rF[u]}deg)`},children:u})," ","star!"]}):d.jsx("h4",{children:"You found a star!"}),d.jsx(tt,{puzName:o,button:!0,children:h||c?"Are they okay?":"Investigate"})]})}case mt.CANNED_HINT:{const{puzName:o}=n;return d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"You found a canned hint!"}),d.jsxs("div",{children:["Itâs labeled"," ",d.jsx(tt,{puzName:o,subpage:"hints",children:a[o]}),"â¦"]})]})}case mt.HINT_TOKEN:return d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"You found a hint token!"}),d.jsx("div",{children:"Use this in the âHintsâ tab on any puzzle to request a custom hint."}),d.jsx(nn,{path:"/lastpuzzle",button:!0,children:"Aw yeah"})]});case mt.JACKPOT:{const{amount:o,msgIndex:l}=n;return d.jsxs(d.Fragment,{children:[d.jsxs("h4",{children:["You gained ",o," hope!"]}),d.jsx("div",{children:L8[l]})]})}case mt.COLLECTIBLE:{const o=i.collectibles[n.collectibleId];return d.jsxs(d.Fragment,{children:[d.jsxs("h4",{children:["You found"," ",n.num===1?o.nounPrefix!==""?`${o.nounPrefix} `:"":`${n.num} `," ",nF(o.name),"!"]}),d.jsx(nn,{path:h0(r.displayName),button:!0,children:o.isHiddenFromTeamName?"Letâs go":"Woah"})]})}case mt.OLIVE:return d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Youâre not sure what this is..."}),d.jsx(tt,{puzName:rs.puzName,button:!0,children:"Ask Olive"})]});case mt.BLOCKS:return d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"You found some blocks!"}),d.jsx(tt,{puzName:s0.puzName,button:!0,children:"Exciting"})]})}}function mce({teamId:t,pull:e,isLatest:n}){return d.jsxs(d.Fragment,{children:[d.jsx(pi.div,{className:"wish-result-icon",style:{transform:"translateY(0) scale(1)"},exit:n?{transform:"translateY(50vh) scale(0.25)"}:{},transition:{duration:.3},children:d.jsx(fp,{teamId:t,prize:e})}),d.jsx(pi.div,{className:"wish-result",style:{transform:"scale(1)"},exit:n?{transform:"scale(1.02)"}:{},transition:{duration:.3},children:d.jsx(vce,{teamId:t,prize:e})})]})}const SM="/static/game/assets/falling-star-4.webm",gce="/static/game/assets/falling-star-5.webm",yce="/static/game/assets/falling-star-6.webm",xce="/static/game/assets/falling-star-7.webm",Ace="/static/game/assets/falling-star-8.webm",bce="/static/game/assets/falling-stick.webm",wce="/static/game/assets/falling-blocks.webm",Sce="/static/game/assets/falling-can.webm",_ce="/static/game/assets/falling-jackpot.webm",Tce="/static/game/assets/falling-celestial.webm",_M="/static/game/assets/falling-collectible.webm",Cce="/static/game/assets/falling-hint.webm";function Ice(t){const{teamId:e,pull:n,onJustBeforeEnd:r}=t,i=Dt(e),a=R.useRef(null);if(i===null)return d.jsx(he,{inline:!0});const{puzzles:s}=i,o=(()=>{switch(n.type){case mt.UNLOCK:{const l=s[n.puzName];if(l===void 0)return null;const{rarity:u=xt.COMMON,isCelestial:h=!1,isFindCelestial:c=!1}=l;if(h||c)return Tce;switch(u){case xt.COMMON:return SM;case xt.UNCOMMON:return gce;case xt.RARE:return yce;case xt.EPIC:return xce;case xt.LEGENDARY:return Ace;default:return SM}}case mt.BLOCKS:return wce;case mt.OLIVE:return bce;case mt.COLLECTIBLE:return _M;case mt.JACKPOT:return _ce;case mt.CANNED_HINT:return Sce;case mt.HINT_TOKEN:return Cce;default:return _M}})();return o===null?d.jsx(he,{inline:!0}):d.jsx("video",{ref:a,autoPlay:!0,muted:!0,playsInline:!0,src:o,onTimeUpdate:()=>{a.current!==null&&a.current.duration-a.current.currentTime<.3&&(r==null||r())},onEnded:r})}function rH(t){const{onPullStart:e,onPullEnd:n}=t,r=QO(),i=ri(f=>f.activePullAnimation),a=ri(f=>f.setActivePullAnimation),s=ri(f=>f.pendingPull),o=ri(f=>f.setPendingPull),l=ri(f=>f.pullsQueue),u=ri(f=>f.shiftPullsQueue),h=He(),c=qc(f=>{i!==null&&(f!==void 0&&i.pullId!==f||(u(i.pullId),n==null||n(i),o(null),a(null)))});return R.useEffect(()=>{if(r.isHeld||i!==null||l.length<=0)return;const f=l.findIndex(({pullId:g,pull:{timestamp:y}})=>s!==null&&g===s.pullId||Date.now()-y<z8);if(f===-1){u();return}const{pullId:p,pull:v}=l[f];e==null||e(),a({pullId:p,pull:v});let m=!1;return R8(O8+1e3).then(()=>{m||c(p)}).catch(()=>console.error),()=>{m=!0}},[r,i,a,l,u,s,c,e]),R.useEffect(()=>()=>{a(null)},[a]),h===null||i===null?null:d.jsx("div",{className:"camp-page-animation",children:d.jsx(Ice,{teamId:h,pull:i.pull,onJustBeforeEnd:c})})}function Ece(){const t=He(),[e,n]=R.useState(null),r=qc(()=>{n(null)}),i=qc(v=>{n({...v,isLatest:!0})}),a=iF(t),s=ri(v=>v.serverPullLocksHeld),o=ri(v=>v.pullsQueue),l=a===null?null:a.pulls,u=ri(v=>v.activePullAnimation),h=Oa(),c=R.useMemo(()=>l!==null?Object.entries(l).sort(([v,m],[g,y])=>y.timestamp-m.timestamp):null,[l]);R.useEffect(()=>{setTimeout(()=>{var v;(v=document.querySelector(".wish-carousel-entry"))==null||v.scrollIntoView({behavior:"smooth",inline:"center"})},10)},[l]);const f=R.useMemo(()=>{const v={...s};for(const{pullId:m}of o)v[m]=!0;return u!==null&&(v[u.pullId]=!0),v},[s,o,u]);if(t===null||c===null||h===null)return d.jsx(Ut,{});const{isBeforeFirstWish:p}=h;return d.jsxs("div",{className:`camp-page-root ${e!==null?"camp-page-wish-modal-shown":""}`,children:[d.jsx(pce,{}),d.jsxs(Jc,{children:[d.jsx(rH,{onPullStart:r,onPullEnd:i},"camp-page-wish-animations"),p?d.jsx("div",{className:"camp-page-gather-team-notice-wrapper",children:d.jsxs("div",{className:"camp-page-gather-team-notice",children:[d.jsx("h1",{children:"Gather your team!"}),d.jsx("div",{children:"When everyoneâs done talking to Stelle, gather on this page, and wish."})]})}):null,e!==null?d.jsx(pi.div,{className:"camp-page-wish-modal-wrapper",initial:{backgroundColor:"#00000000",opacity:e.isLatest?1:0},animate:{backgroundColor:"#00000080",opacity:1},exit:{backgroundColor:"#00000000",opacity:0},transition:{duration:e.isLatest?.3:.15},onClick:v=>{n(null),v.stopPropagation()},children:d.jsx(pi.div,{className:"camp-page-wish-modal",initial:{filter:"blur(2px) brightness(2)",transform:"scale(1.02)",opacity:.2},animate:{filter:"blur(0) brightness(1)",transform:"scale(1)",opacity:1},transition:{duration:e.isLatest?1:0},onClick:v=>v.stopPropagation(),children:d.jsx(mce,{teamId:t,pull:e.pull,isLatest:e.isLatest})},"camp-page-wish-modal")},"camp-page-wish-modal-wrapper"):null]}),d.jsx("div",{className:"wish-carousel",children:d.jsx(C5,{options:N8,defer:!0,children:d.jsx("div",{className:"wish-carousel-inner",onClick:v=>{n(null),v.stopPropagation()},children:d.jsx(Jc,{children:c.map(([v,m])=>f[v]??!1?null:d.jsx(pi.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring"},children:d.jsx(Ce,{className:Tt({"wish-carousel-entry":!0,active:v===(e==null?void 0:e.pullId)}),text:d.jsx(In,{timestamp:m.timestamp}),onClick:g=>{n({pullId:v,pull:m,isLatest:!1}),g.stopPropagation(),g.target.scrollIntoView({behavior:"smooth",inline:"center"})},children:d.jsx(fp,{teamId:t,prize:m})})},m.timestamp))})})})})]})}function kce(){const t=Oa(),{inCamp:e}=ko();if(t===null)return d.jsx(he,{inline:!0});const{isBeforeFirstWish:n,huntStartPuzNameOverride:r}=t;return d.jsx("div",{className:"camp-base-hope-toolbar",children:!(n&&!e)&&r===null?d.jsx(Kue,{}):null})}const iH=()=>{const{inCamp:t,inPuzzlePage:e,inPuzzleNav:n}=ko(),r=Oa(),i=V8(),a=Dt(),s=c0();if(!(t||e))return{path:null};if(r===null)return null;const{isBeforeFirstWish:o,huntStartPuzNameOverride:l}=r;if(l!==null&&l!==i)return{path:`/puzzle/${l}`};if(o){if(n)return{path:"/camp"};if(a===null)return null;const u=Object.values(a.puzzles)[0];if(u===void 0)return null;const h=eu(u,s);if(e&&h)return{path:"/camp"}}return{path:null}};function Pce(){const t=Je(s=>s.setRedirectCommand),{inCamp:e}=ko(),n=F8(),r=B8(),i=iH(),a=(i==null?void 0:i.path)??null;return R.useEffect(()=>{a!==null&&t({path:a,replace:!0})},[a,t]),i===null?d.jsx(Ut,{}):d.jsxs("div",{className:"camp-base-root",children:[d.jsx(kce,{}),d.jsxs("div",{className:"camp-base-main",children:[d.jsx(uce,{}),e?null:d.jsx("div",{className:"camp-base-wish-animation-wrapper",style:{width:"100%"},children:d.jsx(rH,{})}),d.jsx(Jc,{mode:"wait",initial:!1,children:d.jsx(pi.div,{className:"camp-base-right",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},children:r!==null?R.cloneElement(r,{key:n.pathname}):null},n.pathname)})]})]})}const aH=t=>{const{puzName:e,hasAnswer:n=!1,sequenceId:r}=t,i=He(),a=Dt(),s=l0(i,n?e:null),o=aF(e,!0),{renderCtx:l}=IC(e,gs.PUZZLE),u=H8(r??null),h=G8(),c=a!==null?a.puzzles[e]!==void 0:null,f=Ea(e),p=$O(e);return i===null||o===null||l===null||n&&s===null||r!==void 0&&u===null||h===null||c===null||f===null?null:{teamId:i,errataContent:o,renderCtx:l,teamAnswerableScopeState:s,puzzlesInSequence:u,celestialsAsSequence:h,isPuzzleUnlocked:c,isPuzzleSolved:f,cutsceneState:p}};function jce(){const{renderCtx:t}=IC("puz212.1",gs.PUZZLE);return t===null?d.jsx(he,{inline:!0}):d.jsx(Mce,{pageHeading:"You found a secret!",children:d.jsx(vC,{renderCtx:t})})}function TM({puz212:t=!1}){const e=ot(),n=U8(),{slug:r=null,puzName:i=null,puzData:a=null}=n??{},s=vh(),o=mh(),l=eF(),{inPuzzlePage:u}=ko(),[h]=R.useState(ko().inPuzzle),c=Je(A=>A.setRedirectCommand),f=i!==null?l[i]??null:null,p=Ea(i),v=iH();R.useEffect(()=>{i!==null&&f===null&&o({viewTimes:{[i]:Date.now()}})},[e,i,f,o]),R.useEffect(()=>{r!==null&&i!==null&&s({lastSeenPuzSlug:r,lastSeenNonNullPuzSlug:r})},[r,i,s]);const m=!u||v===null||n===null||v.path!==null?null:n.puzName===null&&!t;R.useEffect(()=>{if(m??!1)return rT(e,()=>{Aa.error("Invalid puzzle name."),c({path:"/puzzles",replace:!0})})},[m,c,e]);const g=a!==null?{hasAnswer:void 0,unlockTime:0,...a}:null,y=(g==null?void 0:g.hasAnswer)??(g!==null&&"answer"in g&&g.answer!==null)??!1,x=h&&y&&!(p??!1);return R.useEffect(()=>(x?document.body.classList.add("has-submit-answer-form"):document.body.classList.remove("has-submit-answer-form"),()=>{document.body.classList.remove("has-submit-answer-form")}),[x]),m===null||!t&&(i===null||r===null||g===null)?d.jsx(Ut,{inline:!0}):d.jsx(_h,{showSubmitAnswerForm:x,children:g?d.jsxs(d.Fragment,{children:[d.jsx(que,{puzData:g}),d.jsx(sF,{context:g})]}):d.jsx(jce,{})})}function _h({children:t,showSubmitAnswerForm:e=!1}){return d.jsxs("div",{className:"puzzle-page-root",children:[d.jsx(BT,{options:K1,defer:!0,style:{flex:1},children:d.jsx("div",{className:"puzzle-page-content",children:t})}),d.jsx(Jc,{children:e?d.jsx(Zue,{}):null})]})}function Mce({children:t,pageHeading:e=null}){const n=Oa();if(n===null)return d.jsx(Ut,{inline:!0});const{isSinglePane:r,isBeforeFirstWish:i}=n,a=r&&!i;return d.jsxs(d.Fragment,{children:[a?d.jsx("div",{className:"puzzle-page-aux-toolbar",children:d.jsx(nn,{path:"/puzzles",button:!0,children:"â"})}):null,d.jsxs("div",{className:"puzzle-page-body",children:[e?d.jsx("div",{className:"puzzle-header",children:d.jsx("h1",{children:e})}):null,t]})]})}function Dce(){const t=Oa();if(t===null)return d.jsx(Ut,{});const{isSinglePane:e,isBeforeFirstWish:n}=t;return n?d.jsx(Ut,{}):e?null:d.jsxs("div",{className:"no-puzzle-page",children:[d.jsx("img",{src:"/static/images/cutscenes/stelle.png"}),"Select a puzzle!"]})}function Lce(){var i;const t=Je(a=>a.setRedirectCommand),e=tF(),n=((i=e==null?void 0:e[0])==null?void 0:i.slug)??null,r=$c(a=>a.lastSeenPuzSlug);if(e!==null&&e.length===0)throw new Error("expect at least one puzzle unlocked");return R.useEffect(()=>{n!==null&&t({path:r===null?"/puzzles":`/puzzle/${r??n}`,replace:!0})},[r,n,t]),null}function CM(t){const{completionTime:e=1/0,lastSolveTime:n=1/0,numSolves:r,teamId:i}=t;return[e,-r,n,isNaN(+i)?0:+i]}function sH(t,e,n){const r=xs(ne.TEAM_LIST,!0,{hasPosthunt:n??!1});return R.useMemo(()=>{if(r===null)return null;if(!r.success)return r;const i=r.state;return{success:!0,state:Object.values(i).filter(s=>!(s.isHidden&&!(t??!1))).sort((s,o)=>{const l=CM(s),u=CM(o);for(let h=0;h<l.length;h++)if(l[h]!==u[h])return l[h]-u[h];return s.displayName.localeCompare(o.displayName)})}},[r,t])}function oH(t,e){const n=sH(t,e,!1);if(n===null)return null;if(!n.success)throw new Error("should not fail if not posthuntable");return n.state}const Nce=()=>{const t=He(),e=Dt(),n=Te(ne.TEAM_PUZZLE_105,t===null?null:{teamId:t}),r=sH(!1,!0,!0);if(e===null||n===null||r===null)return d.jsx(he,{size:48});if(!r.success)return d.jsx(mi,{...r});const i=r.state,{finishedData:a}=e,s=a==null?void 0:a.numSolveCountPuzzles,o=a==null?void 0:a.numCustomPuzzles,l=n==null?void 0:n.status,u=i.map((h,c)=>{const{numSolves:f,completionTime:p}=h;return d.jsxs("tr",{className:`${t!==null&&h.teamId===t?"current-team":""}`,children:[d.jsxs("td",{children:[p===void 0?null:d.jsx(oF,{numSolves:f,numSolveCountPuzzles:s}),c+1]}),d.jsx("td",{children:d.jsx(f0,{teamData:h})}),d.jsxs("td",{style:{whiteSpace:"nowrap",fontVariant:"tabular-nums"},children:[f,p===void 0||s===void 0?null:d.jsxs("small",{children:[" ","(",Math.floor(f/s*100),"%)"]})]}),d.jsx("td",{children:p?d.jsx(In,{timestamp:p}):null})]},h.teamId)});return d.jsxs("div",{className:"centered-page",children:[d.jsx("h1",{children:"Team Starboard"}),o&&s?d.jsx(d.Fragment,{children:d.jsxs("p",{className:"team-list-top-note",children:["Solve counts include the ",s," canonical puzzles and ",o," custom puzzles. Teams that have a private custom puzzle may have up to 1 extra solve. Teams that have a public custom puzzle have 1 bonus solve."," ",l!==void 0&&l.type===dr.ACCEPTED?d.jsxs(d.Fragment,{children:["Your custom puzzle is"," ",l.isAvailableInGacha??!1?d.jsx("b",{children:"public"}):d.jsx("b",{children:"private"}),". View stats for your custom puzzle"," ",d.jsx(tt,{puzName:`${Rn.customPuzzlePuzNamePrefix}${t}`,subpage:"stats",children:"here"}),"."]}):null]})}):null,d.jsxs("table",{className:"list-table",children:[d.jsxs("colgroup",{children:[d.jsx("col",{style:{width:"10%"}}),d.jsx("col",{style:{width:"60%"}}),d.jsx("col",{style:{width:"10%"}}),d.jsx("col",{style:{width:"20%"}})]}),d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Rank"}),d.jsx("th",{children:"Team"}),d.jsx("th",{children:"Solves"}),d.jsx("th",{children:"Finish time"})]})}),d.jsx("tbody",{children:u})]})]})};function zce(){return d.jsx(_h,{children:d.jsx(Nce,{})})}function kC(t){const{numPerPage:e,setNumPerPage:n,pageNum:r,setPageNum:i,numEntries:a}=t,[s,o]=R.useState(e.toString()),[l,u]=R.useState((r+1).toString()),h=Math.ceil(a/e)-1,c=v=>{const m=Math.min(Math.max(0,v),h);i(m),u((m+1).toString())},f=n===void 0?null:v=>{const m=parseInt(v);if(Number.isInteger(m)&&m>=0){n(m);const g=Math.ceil(a/m)-1;r>g&&c(g)}},p=v=>{const m=parseInt(v)-1;Number.isInteger(m)&&m>=0&&m<=h&&i(m)};return h===0&&n===void 0?null:d.jsxs(d.Fragment,{children:[f!==null?d.jsxs("label",{className:"page-changer-num-per-page",children:[d.jsx("input",{className:"page-changer-input",type:"number",inputMode:"numeric",value:s,min:1,onInput:v=>{const m=v.target;o(m.value),f(m.value)}})," ","/ page"]}):null,d.jsxs("div",{className:"page-changer-buttons",children:[d.jsx("a",{className:`page-changer-button ${r===0?"disabled":""}`,onClick:()=>c(0),children:"Â«"}),d.jsx("a",{className:`page-changer-button ${r===0?"disabled":""}`,onClick:()=>c(r-1),children:"â¹"}),d.jsx("input",{className:"page-changer-input",type:"number",inputMode:"numeric",value:l,min:1,max:h+1,onInput:v=>{const m=v.target;u(m.value),p(m.value)}}),d.jsx("a",{className:`page-changer-button ${r===h?"disabled":""}`,onClick:()=>c(r+1),children:"âº"}),d.jsx("a",{className:`page-changer-button ${r===h?"disabled":""}`,onClick:()=>c(h),children:"Â»"})]})]})}function qo(t){const[e,n]=R.useState(0),[r,i]=R.useState(null),[a,s]=R.useState(!1),{columns:o,renderRow:l,pageSize:u}=t.spec,h=[...t.records];r!==null&&h.sort((m,g)=>o[r].sortFunc(m,g)*(a?-1:1));const c=u===void 0?0:Math.floor((h.length-1)/u),f=Math.max(0,Math.min(e,c)),p=u===void 0?h:h.slice(f*u,(f+1)*u);if(p.length===0)return null;const v=d.jsxs("table",{className:t.className,children:[d.jsx("colgroup",{children:o.map(({width:m},g)=>d.jsx("col",{style:{width:m}},g))}),d.jsx("thead",{children:d.jsx("tr",{children:o.map(({label:m,isTitle:g},y)=>{const x=()=>{y!==r?(i(y),s(!1)):a?(i(null),s(!1)):s(!0)},A=y!==r?m:d.jsxs(d.Fragment,{children:[m,"Â ",a?"â²":"â¼"]});return d.jsx("th",{onClick:x,children:g?d.jsx("h3",{children:A}):A},y)})})}),d.jsx("tbody",{children:p.map(l)})]});return u===void 0?v:d.jsxs("div",{children:[v,d.jsx(kC,{numPerPage:u,pageNum:f,setPageNum:n,numEntries:h.length})]})}function Rce(t){const{teamId:e}=t,n=He(),r=`${Rn.customPuzzlePuzNamePrefix}${e}`,i=lF();return i===null||n===null?d.jsx(he,{inline:!0}):i[r]===void 0?null:d.jsxs("div",{className:"team-page-free-puzzle",children:[d.jsx("img",{src:"/static/images/cutscenes/moonick.png"}),d.jsxs("div",{children:[d.jsxs("p",{children:[e===n?"Your":d.jsx(d.Fragment,{children:"This teamâs"})," Free Puzzle is public!"]}),d.jsx(tt,{button:!0,puzName:r,children:"Go to puzzle"})]})]})}function Oce(t){const{teamId:e}=t,n=wn(),r=ot();return d.jsxs("div",{className:"download-state",children:[d.jsx("img",{src:"/static/images/cutscenes/stelle.png"}),d.jsxs("div",{children:[d.jsx("p",{children:"Download your teamâs state to continue working on the hunt after the hunt has closed!"}),d.jsx("button",{onClick:()=>{n.acquireAndRun(async i=>{await uF(r,e,i)})},disabled:n.isHeld,children:"Download state"})]})]})}function Fce(t){var u;const{teamId:e}=t,n=He(),r=((u=Dt())==null?void 0:u.huntEndTime)??null,i=dp(ne.TEAM_COLLECTIBLES,n===null?null:{teamId:e},{hasPosthunt:e!==n}),a=u0(),[s,o]=R.useState(null),l=i===null?null:i.success?i.state:null;return R.useEffect(()=>{a||l!==null&&n!==null&&r!==null&&o(Object.values(l.collectibles).filter(h=>n===e||h.timestamp<r).sort((h,c)=>{const f=h.num,v=c.num-f;if(v!==0)return v;const m=h.name,g=c.name;return m.localeCompare(g)}))},[n,e,l,a,r]),i===null?d.jsx(he,{inline:!0}):i.success?s===null?d.jsx(he,{inline:!0}):s.length===0?null:d.jsxs("div",{children:[d.jsx("h3",{children:"Artifacts"}),d.jsx("div",{className:"team-collectibles",children:s.map(({name:h,icon:c,num:f})=>d.jsxs("div",{className:"team-collectible",children:[d.jsx(ve,{className:"team-collectible-icon",options:{folder:"svg",ext:".svg"},children:c}),d.jsxs("div",{className:"team-collectible-desc",children:[f===1?"":`${f} `,nF(h)]})]},h))})]}):d.jsx(mi,{...i})}function Bce(t){const{teamId:e}=t,n=Dt(e),r=Te(ne.TEAM_COLLECTIBLES,e===null?null:{teamId:e}),i=Ui();function a(u){switch(u.type){case mt.UNLOCK:{if(n===null)return"star";const h=n.puzzles[u.puzName];if(h===void 0)return"star";const{rarity:c=xt.COMMON,isFindCelestial:f=!1}=h;return f?"star 0":ys(h)?`star ${Object.values(xt).indexOf(c)+2}`:"star"}case mt.JACKPOT:return`hope ${u.amount}`;case mt.COLLECTIBLE:{if(r===null)return"artifact";const h=r.collectibles[u.collectibleId];return`artifact ${u.num} ${(h==null?void 0:h.name)??""}`}case mt.OLIVE:case mt.BLOCKS:return"something useful";default:return u.type}}function s(u){switch(u.type){case mt.UNLOCK:{if(n===null)return null;const h=n.puzzles[u.puzName];if(h===void 0)return null;const{rarity:c=xt.COMMON,isFindCelestial:f=!1}=h;return f?" celestial":ys(h)?d.jsxs(d.Fragment,{children:[" ",d.jsx("span",{style:{color:"#ffac33",filter:`hue-rotate(${rF[c]}deg)`},children:c})," ","star"]}):" star"}case mt.CANNED_HINT:return" canned hint";case mt.HINT_TOKEN:return" hint token";case mt.JACKPOT:return` ${u.amount} hope`;case mt.COLLECTIBLE:{if(r===null)return null;const h=r.collectibles[u.collectibleId];return h===void 0?null:` ${u.num===1?h.nounPrefix!==""?`${h.nounPrefix} `:"":`${u.num} `} ${h.name}`}case mt.OLIVE:case mt.BLOCKS:return" something useful"}}function o(u){let h,c;switch(u.type){case mt.UNLOCK:h=u.puzName,c="puzzle";break;case mt.CANNED_HINT:h=u.puzName,c="hints";break;case mt.HINT_TOKEN:case mt.JACKPOT:case mt.COLLECTIBLE:return{text:"",html:"â"};case mt.OLIVE:h=rs.puzName,c="puzzle";break;case mt.BLOCKS:h=s0.puzName,c="puzzle";break}if(i===null)return{text:"",html:null};const f=i[h]??"???";return{text:f,html:d.jsx(tt,{puzName:h,subpage:c,title:f,children:f})}}const l=t.sortedPulls.map(u=>({...u,teamId:e,key:a(u),summary:s(u),...o(u)}));return d.jsx(qo,{spec:{columns:[{label:"Wishes",sortFunc:(u,h)=>Xc(u.key,h.key),width:"20%",isTitle:!0},{label:"Puzzle",sortFunc:(u,h)=>Xc(u.text,h.text),width:"60%"},{label:"Time",sortFunc:(u,h)=>u.timestamp-h.timestamp,width:"20%"}],renderRow:(u,h)=>d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx(fp,{teamId:u.teamId,prize:u}),u.summary]}),d.jsx("td",{children:u.html}),d.jsx("td",{children:d.jsx(In,{timestamp:u.timestamp})})]},h),pageSize:20},records:l,className:"list-table team-wishes-table"})}function Vce(t){const{teamId:e}=t,n=ot(),r=ir(),i=iF(e),a=u0(),[s,o]=R.useState(null);if(R.useEffect(()=>{a||i!==null&&o(Object.values(i.pulls).sort((u,h)=>h.timestamp-u.timestamp))},[i,a]),e===null||s===null)return d.jsx(he,{inline:!0});const l=s.map(u=>d.jsx(fp,{teamId:e,prize:u},u.timestamp));return d.jsxs(d.Fragment,{children:[s.length>0?d.jsx(Bce,{teamId:e,sortedPulls:s}):null,r?d.jsxs("div",{children:[d.jsx("h4",{children:"Wish history (admin only)"}),d.jsx("div",{children:l}),d.jsx("button",{onClick:()=>{n.sendScopeStep({type:ne.TEAM_GACHA,teamId:e},{ignoreHopeLimit:!0,numPulls:100})},children:"Wish Ã100 (admin only)"})]}):null]})}function Hce(t){const{teamId:e}=t,n=Dt(e),r=Te(ne.TEAM_HINTS,{teamId:e}),i=r!=null&&r.hints?Object.values(r.hints).map(u=>Object.keys(u)).flat().map(u=>({hintId:u})):null,a=$8(ne.HINT,i),s=Ui();if(n===null||i===null||a===null||s===null)return d.jsx(he,{inline:!0});const{puzzles:o}=n,l=a.filter(({puzName:u})=>o[u]!==void 0).map(({puzName:u,request:h,response:c},f)=>({...o[u],...i[f],name:s[u]??"???",reqTime:h.timestamp,resTime:(c==null?void 0:c.timestamp)??1/0,status:(c==null?void 0:c.type)??"pending"})).sort((u,h)=>h.reqTime-u.reqTime);return d.jsx(qo,{spec:{columns:[{label:"Hints",sortFunc:(u,h)=>Xc(u.name,h.name),width:"50%",isTitle:!0},{label:"Request time",sortFunc:(u,h)=>u.reqTime-h.reqTime,width:"20%"},{label:"Status",sortFunc:(u,h)=>u.status.localeCompare(h.status),width:"10%"},{label:"Response time",sortFunc:(u,h)=>u.resTime-h.resTime,width:"20%"}],renderRow:(u,h)=>{const{puzName:c,name:f,reqTime:p,resTime:v,status:m}=u;return d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx(ka,{puzData:u})," ",d.jsx(tt,{puzName:c,subpage:"hints",title:f,children:f})]}),d.jsx("td",{children:d.jsx(In,{timestamp:p})}),d.jsx("td",{children:m}),d.jsx("td",{children:isFinite(v)?d.jsx(In,{timestamp:v}):"â"})]},h)},pageSize:20},records:l,className:"list-table team-solves-table"})}function Gce(t){const{teamId:e}=t,n=Rt(ne.HUNT_ADMIN),r=Dt(e);if(n===null||r===null)return d.jsx(he,{inline:!0});const i=r.puzzles,{puzzles:a}=n,s={};for(const{puzName:o,sequenceId:l}of Object.values(a)){if(l===void 0)continue;s[l]??(s[l]={len:0,numSolved:0,numUnlocked:0,lastSolveTime:0});const u=s[l];u.len++;const h=i[o];if(h!==void 0){const{solveTime:c}=h;u.numUnlocked++,c!==void 0&&(u.lastSolveTime=Math.max(c,u.lastSolveTime),u.numSolved++)}}return d.jsxs("div",{children:[d.jsx("h4",{children:"Sequences progress (admin only)"}),Object.entries(s).map(([o,l])=>d.jsxs("div",{children:[o,": ",l.numSolved,"s/",l.numUnlocked,"u/",l.len,l.numSolved===l.len?d.jsxs(d.Fragment,{children:[", completed ",d.jsx(In,{timestamp:l.lastSolveTime})]}):null]},o))]})}function Uce(t){var u;const{teamId:e}=t,n=He(),r=((u=Dt())==null?void 0:u.huntEndTime)??null,i=cF(n===null?null:e,{hasPosthunt:e!==n}),a=Ui(),s=ir();if(i===null||a===null||n===null||r===null)return d.jsx(he,{inline:!0});if(!i.success)return d.jsx(mi,{...i});const{puzzles:o}=i.state,l=Object.entries(o).filter(([h,{isStory:c=!1,solveTime:f}])=>!c&&f!==void 0&&(n===e||f<r)).map(([h,c])=>({...c,puzName:h,solveTime:c.solveTime??0,name:a[h]??"???"})).sort((h,c)=>c.solveTime-h.solveTime);return d.jsxs(d.Fragment,{children:[s?d.jsxs("div",{children:[d.jsx("h4",{children:"Open puzzles (admin only)"}),Object.values(o).sort((h,c)=>c.unlockTime-h.unlockTime).map(h=>{const{puzName:c,unlockTime:f,solveTime:p}=h;if(p!==void 0)return null;const v=a[c]??"???";return d.jsxs("div",{children:[d.jsx(ka,{puzData:h})," ",d.jsx(tt,{puzName:c,children:v})," ",d.jsx(In,{timestamp:f})]},c)})]}):null,d.jsx(qo,{spec:{columns:[{label:"Solves",sortFunc:(h,c)=>Xc(h.name,c.name),width:"50%",isTitle:!0},{label:"Unlock time",sortFunc:(h,c)=>h.unlockTime-c.unlockTime,width:"20%"},{label:"â",sortFunc:(h,c)=>h.solveTime-h.unlockTime-(c.solveTime-c.unlockTime),width:"10%"},{label:"Solve time",sortFunc:(h,c)=>h.solveTime-c.solveTime,width:"20%"}],renderRow:(h,c)=>{const{puzName:f,name:p,unlockTime:v,solveTime:m}=h,g=Q1(h)?"solution":"puzzle";return d.jsxs("tr",{children:[d.jsxs("td",{children:[d.jsx(ka,{puzData:h})," ",d.jsx(tt,{puzName:f,subpage:g,title:p,children:p})]}),d.jsx("td",{children:d.jsx(In,{timestamp:v})}),d.jsx("td",{children:d.jsx(p0,{from:v,to:m})}),d.jsx("td",{children:d.jsx(In,{timestamp:m})})]},c)},pageSize:20},records:l,className:"list-table team-solves-table"}),s?d.jsx(Gce,{teamId:e}):null]})}function Wce(t){var b;const{teamId:e}=t,n=He(),r=((b=Dt())==null?void 0:b.huntEndTime)??null,i=cF(n===null?null:e,{hasPosthunt:e!==n}),a=dp(ne.TEAM_HISTORY,n===null?null:{teamId:e},{hasPosthunt:e!==n}),s=Ui();if(r===null||i===null||a===null||s===null)return d.jsx(he,{inline:!0});if(!a.success)return d.jsx(mi,{...a});if(!i.success)return d.jsx(mi,{...i});const o=n===e,u=a.state.filter(({timestamp:S})=>o||S<r),h=i.state;if(u.length<=1)return null;const c=u[0].timestamp,f=u[u.length-1].timestamp,p=Math.max(no.upper,...u.map(({hope:S})=>S)),v=(S,w)=>({x:99*(w-c)/(f-c)+.5,y:93*(1-S/p)+1}),m=(S,w,_)=>{const{x:T,y:C}=v(w,_);return`${S} ${T.toFixed(2)} ${C.toFixed(1)}`},g=u.flatMap(({hope:S,timestamp:w},_)=>{if(_===0)return m("M",S,w);const T=m("L",S,w),C=u[_-1];if(C.hope>=no.upper)return[m("L",C.hope,w),T];const E=C.hope+qE*(w-C.timestamp)/1e3;if(E<=no.upper)return[m("L",E,w),T];const k=(no.upper-C.hope)*1e3/qE+C.timestamp;return[m("L",no.upper,k),m("L",no.upper,w),T]}).filter((S,w,_)=>S!==_[w+1]).join(" "),y=Object.values(h.puzzles).map(({puzName:S,solveTime:w})=>{if(w===void 0||!o&&w>=r)return null;const _=s[S]??"???";let T=null;for(const I of u)I.timestamp<=w&&(T=I);const C=Y8(T,w),{x:E,y:k}=v(C,w);return d.jsx(Ce,{className:"node",text:`${Math.floor(C)}: solved ${_}`,style:{left:`${E}%`,top:`${k}%`}},S)}),x=[],A=new Date(new Date(c).toDateString());for(let S=0;S<100&&(A.setDate(A.getDate()+1),!(+A>f));++S){const{x:w}=v(0,+A);x.push(d.jsx("path",{className:"tick",d:`M ${w} 95 L ${w} 100`},w))}return d.jsxs("div",{className:"history-graph",children:[d.jsx("h3",{children:"Hope"}),d.jsxs("div",{className:"grid",children:[d.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[x,d.jsx("path",{d:g})]}),y]}),d.jsxs("div",{className:"axis",children:[d.jsx(In,{timestamp:c}),d.jsx(In,{timestamp:f})]})]})}function $ce(){var m;const t=Rt(ne.TEAM_LIST),e=xs(ne.TEAM_LIST,!0,{hasPosthunt:!0}),n=e===null||!e.success?null:e.state,{teamName:r}=gh(),i=n===null||t===null||r===void 0?null:Object.values(n).find(g=>g.displayName==decodeURIComponent(r))??Object.values(t).find(g=>g.displayName==decodeURIComponent(r))??null,a=(i==null?void 0:i.teamId)??null,s=a===null?null:(t==null?void 0:t[a])??(n==null?void 0:n[a])??null,o=He(),l=W8(o===null?null:a,{hasPosthunt:a!==o}),u=n!==null&&t!==null,h=ir(),c=Je(g=>g.setRedirectCommand),f=h||a!==null&&o!==null&&o===a,p=Ho(),v=ot();if(r===void 0)throw new Error("expect team name in url");return R.useEffect(()=>{if(u){if(s!==null){const g=h0(s.displayName);location.pathname!==g&&c({path:g,replace:!0});return}return rT(v,()=>{d0.toastr.error(`Team â${decodeURIComponent(r)}â not found.`),c({path:"/teams"})})}},[u,s,r,c,v]),e!==null&&!e.success?d.jsx(mi,{...e}):!u||s===null||a===null?d.jsx(Ut,{}):d.jsxs("div",{className:"centered-page team-page",children:[d.jsxs("h1",{children:[d.jsx(f0,{teamData:s,noLink:!0}),!Bt.isPosthunt&&f?d.jsxs("div",{className:"button-squish-zone",children:[d.jsx(ms,{href:"edit-team",button:!0,children:"Edit team members"}),d.jsx(ms,{href:"password-change",button:!0,children:"Change password"})]}):null]}),l===null?d.jsx(he,{inline:!0}):l.success?(m=l.state.members)==null?void 0:m.join(", "):d.jsx(mi,{...l}),h||p&&f?d.jsx(Oce,{teamId:a}):null,Bt.isPosthunt||f?d.jsx(Rce,{teamId:a}):null,d.jsx(Fce,{teamId:a}),f?d.jsx(Vce,{teamId:a}):null,f?d.jsx(Hce,{teamId:a}):null,f||p?d.jsx(Uce,{teamId:a}):null,f||p?d.jsx(Wce,{teamId:a}):null]})}function Yce(){return d.jsx(_h,{children:d.jsx($ce,{})})}function Z0(t){const{children:e,footerChildren:n,isOpen:r=!0,title:i,className:a,wrapperClassName:s,...o}=t,{refs:l,context:u}=q8({open:r}),h=X8(u,{bubbles:!0}),c=Z8(u),{getFloatingProps:f}=J8([h,c]);return r?d.jsx(K8,{root:document.getElementById("game-root"),children:d.jsx(Q8,{className:`modal-wrapper ${s??""}`,children:d.jsx(e$,{context:u,children:d.jsxs("div",{className:`modal ${a}`,ref:l.setFloating,...f(o),children:[i!==void 0?d.jsx("div",{className:"modal-header",children:d.jsx("h2",{children:i})}):null,d.jsx("div",{className:"modal-body",children:e}),n===void 0?null:d.jsx("div",{className:"modal-footer",children:n})]})})})}):null}function qce({puzName:t}){const e=Ds(t);return t===null||e===null?null:d.jsx(tt,{puzName:t,children:e})}function lH(t){const{content:{puzName:e,updatesText:n,puzzleText:r,timestamp:i},page:a}=t,s=ir(),[o,l]=R.useState(null),u=wn(),h=ot(),c=(()=>{switch(a){case"updates":return n;case"puzzle":return r}})();return c?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["On ",d.jsx(tu,{timestamp:i}),","," ",c.split(/(\$PUZZLE)/g).map((f,p)=>f==="$PUZZLE"?d.jsx(qce,{puzName:e},p):d.jsx("span",{dangerouslySetInnerHTML:{__html:f}},p))]}),s&&e!==null?d.jsx("div",{children:d.jsx("button",{onClick:()=>{u.acquireAndRun(async f=>{try{const p=(await h.sendDirectBackendReqAsync({type:WO.GET_ERRATUM_EMAILS,payload:{puzName:e}})).payload;if(f())return;l(p)}catch(p){console.error(p),toastr.error("Failed to get emails.")}})},disabled:u.isHeld,children:"Get emails"})}):null,o!==null?o.length===0?d.jsx("div",{children:"None found."}):d.jsx("textarea",{children:o.join(", ")}):null]}):null}function Xce(t){const{contents:e}=t;return d.jsx("div",{className:"section-box errata-section-box",children:e.map(({erratumId:n,content:r})=>d.jsx(lH,{content:r,page:"puzzle"},n))})}function Zce(){const t=ir(),e=aF(null,!0);return e===null?d.jsx(he,{inline:!0}):d.jsx(_h,{children:d.jsxs("div",{className:"centered-page",children:[d.jsxs("h1",{children:["Errata / Updates",!Bt.isPosthunt&&t?d.jsxs("div",{className:"button-squish-zone",children:[d.jsx(ms,{href:"admin/puzzles/erratum",button:!0,children:"Edit errata"}),d.jsx(ms,{href:"admin/puzzles/erratum/add",button:!0,children:"Add new erratum"})]}):null]}),e.map(({erratumId:n,content:r})=>d.jsx("div",{className:"section-box errata-section-box",children:d.jsx(lH,{content:r,page:"updates"})},n))]})})}function uH(t){const{teamId:e}=t,n=He(),r=e??n,i=hp(r),[a,s]=R.useState("");R.useEffect(()=>s(""),[r]);const o=ot();return i===null||r===null?d.jsx(he,{inline:!0}):d.jsxs("div",{className:"admin-header",children:[d.jsxs("label",{children:[Yc(i)," current hope â"," ",d.jsx("input",{type:"number",style:{width:"6em"},onInput:l=>s(l.target.value)},r)]}),d.jsx("button",{onClick:()=>{const l=parseInt(a);isNaN(l)||o.sendAdminScopeStep({teams:{[r]:{overrideHope:l}}})},disabled:!/^\d+$/.test(a),children:"Override"})]})}function cH(t){const{teamId:e}=t,n=He(),r=e??n,i=ot(),a=Rt(ne.HUNT_ADMIN),s=(a==null?void 0:a.teamAdminData)??null,o=r===null?null:(s==null?void 0:s[r])??null,l=hF(r),u=fF(r),h=ir(),c=(o==null?void 0:o.displayName)??"",[f,p]=R.useState("");if(R.useEffect(()=>{c!==null&&p(c)},[c,p]),r===null||l===null||u===null||o===null||c===null)return d.jsx(Ut,{});const{userId:v}=o,m=()=>{f!==c&&i.sendAdminScopeStep({teams:{[r]:{displayName:f}}})};return d.jsxs("div",{className:"admin-top",children:[d.jsxs("div",{className:"admin-header",children:[d.jsxs("label",{children:["Team name:"," ",d.jsx("input",{type:"text",style:{width:"12em"},value:f,onChange:g=>{p(g.target.value)},onBlur:()=>{m()},onKeyPress:g=>{g.key==="Enter"&&m()}})]}),h?d.jsxs(d.Fragment,{children:[d.jsx(ms,{href:`impersonate/${v}`,children:d.jsx(Ce,{text:"Impersonate",children:d.jsx(ve,{tag:"span",children:"ðµï¸"})})}),d.jsx(ms,{href:`admin/puzzles/team/${v}`,children:d.jsx(Ce,{text:"Django admin [you should not need to use this]",children:d.jsx(ve,{tag:"span",children:"ðï¸"})})}),d.jsx(nn,{path:`/cert/${r}`,children:d.jsx(Ce,{text:"Certificate",children:d.jsx(ve,{tag:"span",children:"ð¼ï¸"})})})]}):null]}),d.jsx(uH,{teamId:r}),d.jsx("div",{className:"admin-header",children:d.jsx("label",{children:d.jsxs(Ce,{text:"Hint tokens",children:[d.jsx(ve,{tag:"span",children:"ð¡ "}),d.jsx(Pd,{min:0,syncedVal:l,onUpdate:g=>{i.sendAdminScopeStep({teams:{[r]:{overrideNumTotalHintTokens:g}}})}})," ","total, ",u," used"]})})})]})}function Jce(t){var s;const{teamId:e}=t,n=He(),r=e??n,i=ot(),a=((s=Te(ne.TEAM_OLIVE,r!==null?{teamId:r}:null))==null?void 0:s.numWishes)??null;return r===null||a===null?d.jsx(he,{inline:!0}):d.jsx("label",{children:d.jsxs(Ce,{text:"Olive wishes",children:[d.jsx(ve,{tag:"span",children:"ð¦ï¸ "}),d.jsx(Pd,{min:0,syncedVal:a,onUpdate:o=>{i.sendAdminScopeStep({teams:{[r]:{overrideNumOliveWishes:o}}})}})]})})}function Kce(t){var s;const{teamId:e}=t,n=He(),r=e??n,i=ot(),a=((s=Te(ne.TEAM_BLOCKS,r!==null?{teamId:r}:null))==null?void 0:s.numWishes)??null;return r===null||a===null?d.jsx(he,{inline:!0}):d.jsx("label",{children:d.jsxs(Ce,{text:"Blocks wishes",children:[d.jsx(ve,{tag:"span",children:"ð§ï¸ "}),d.jsx(Pd,{min:0,syncedVal:a,onUpdate:o=>{i.sendAdminScopeStep({teams:{[r]:{overrideNumBlocksWishes:o}}})}})]})})}function PC(t){var y;const{teamId:e,puzName:n}=t,r=He(),i=e??r,a=Rt(ne.HUNT_ADMIN),s=Dt(i),o=Te(ne.TEAM_CANNED_HINTS,i===null?null:{teamId:i}),l=Ds(n,i),u=ot();if(i===null||a===null||s===null||o===null||l===null)return d.jsx(he,{inline:!0});const h=a.puzzles[n],c=s.puzzles[n],f=c!==void 0,p=(c==null?void 0:c.solveTime)!==void 0,{numTotal:v}=o.cannedHints[n]??{numTotal:0},m=a.numCannedHints[n]??0,g=((y=s.extraGuesses)==null?void 0:y[n])??0;return d.jsxs("div",{className:"admin-puz",children:[d.jsxs("div",{className:"button-squish-zone secondary",children:[d.jsx(Ce,{text:f?"Set locked":"Set unlocked",children:d.jsx("button",{onClick:()=>{u.sendAdminScopeStep({teams:{[i]:{overrideUnlocked:{[n]:!f}}}})},children:d.jsx(ve,{tag:"span",children:f?"ð":"ð"})})}),d.jsx(Ce,{text:p?"Set unsolved":"Set solved",children:d.jsx("button",{disabled:!f,onClick:()=>{u.sendAdminScopeStep({teams:{[i]:{overrideSolved:{[n]:!p}}}})},children:d.jsx(ve,{tag:"span",children:p?"âï¸":"ð²ï¸"})})})]}),d.jsx("label",{children:d.jsxs(Ce,{text:"Canned hints",children:[d.jsx(ve,{tag:"span",children:"ð¥« "}),d.jsx(Pd,{syncedVal:v,onUpdate:x=>{u.sendAdminScopeStep({teams:{[i]:{overridePuzzleNumTotalCannedHints:{[n]:x}}}})},min:0,max:m,disabled:m<=0})]})}),Bt.isPosthunt?null:d.jsx("label",{children:d.jsxs(Ce,{text:"Extra guesses",children:[d.jsx(ve,{tag:"span",children:"âï¸ "}),d.jsx(Pd,{syncedVal:g,onUpdate:x=>{u.sendAdminScopeStep({teams:{[i]:{overridePuzzleNumExtraGuesses:{[n]:x}}}})},min:0,disabled:!(c??h).hasAnswer})]})}),n===rs.puzName?d.jsx(Jce,{}):null,n===s0.puzName?d.jsx(Kce,{}):null,d.jsxs("div",{children:[d.jsx(ka,{puzData:c??h})," ",d.jsx(tt,{puzName:n,children:l})]})]})}const hH=t=>Object.values(t).sort(t$);function Qce(t){const{displayedTeamId:e}=t,n=He(),r=Rt(ne.HUNT_ADMIN),i=(r==null?void 0:r.teamAdminData)??null,{puzzles:a=null,numCannedHints:s={}}=r??{},o=ot(),l=e===null?null:(i==null?void 0:i[e])??null,u=(l==null?void 0:l.displayName)??"";if(e===null||a===null||l===null||u===null)return d.jsx(Ut,{});const{isHidden:h,isInactive:c,isTempBlocked:f}=l,p=hH(a).map(({puzName:y})=>d.jsx(PC,{teamId:e,puzName:y},y)),v=()=>{if(!confirm("Are you sure?"))return!1;if(n===e)return!0;const y="ok",x=`You are updating a different team. This is dangerous. Confirm the team name is ${u} and type â${y}â to proceed.`;return prompt(x)===y},m=(y,x)=>{v()&&o.sendAdminScopeStep({teams:{[e]:{[y]:Object.fromEntries(Object.keys(a).map(A=>[A,x]))}}})},g=y=>{v()&&o.sendAdminScopeStep({teams:{[e]:{overridePuzzleNumTotalCannedHints:y?s:Object.fromEntries(Object.keys(s).map(x=>[x,0]))}}})};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"admin-header",children:["Team ID:"," ",d.jsx(nn,{path:h0(u),children:e}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:h,onChange:y=>{o.sendAdminScopeStep({teams:{[e]:{isHidden:!h}}})}})," ",d.jsx("span",{title:"Hides the team from the leaderboard. Used for suspected cheaters. They can still progress through the hunt.",style:{textDecoration:"underline",cursor:"help"},children:"Hidden"})]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:c,onChange:y=>{o.sendAdminScopeStep({teams:{[e]:{isInactive:!c}}})}})," ",d.jsx("span",{title:"Bans the team. They will be unable to access the hunt.",style:{textDecoration:"underline",cursor:"help"},children:"Inactive"})]}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:f,onChange:y=>{o.sendAdminScopeStep({teams:{[e]:{isTempBlocked:!f}}})}})," ",d.jsx("span",{title:"Temporarily blocks the team, in case we need to log in and change their state. Uncheck this afterwards.",style:{textDecoration:"underline",cursor:"help"},children:"Blocked"})]})]}),d.jsx(cH,{teamId:e}),d.jsx("div",{className:"admin-puzzles",children:p}),d.jsxs("div",{className:"admin-header",children:[d.jsxs("div",{className:"button-squish-zone",children:[d.jsx(Ce,{text:"Lock all",children:d.jsx("button",{onClick:()=>m("overrideUnlocked",!1),children:d.jsx(ve,{tag:"span",children:"ð"})})}),d.jsx(Ce,{text:"Unlock all",children:d.jsx("button",{onClick:()=>m("overrideUnlocked",!0),children:d.jsx(ve,{tag:"span",children:"ð"})})})]}),d.jsxs("div",{className:"button-squish-zone",children:[d.jsx(Ce,{text:"Unsolve all",children:d.jsx("button",{onClick:()=>m("overrideSolved",!1),children:d.jsx(ve,{tag:"span",children:"ð²ï¸"})})}),d.jsx(Ce,{text:"Solve all",children:d.jsx("button",{onClick:()=>m("overrideSolved",!0),children:d.jsx(ve,{tag:"span",children:"âï¸"})})})]}),d.jsxs("div",{className:"button-squish-zone",children:[d.jsx(Ce,{text:"Hide all canned hints",children:d.jsx("button",{onClick:()=>g(!1),children:d.jsx(ve,{tag:"span",children:"ðï¸"})})}),d.jsx(Ce,{text:"Get all canned hints",children:d.jsx("button",{onClick:()=>g(!0),children:d.jsx(ve,{tag:"span",children:"ð¥«ï¸"})})})]}),d.jsx("button",{onClick:()=>{o.sendAdminScopeStepAndWaitAsync({reloadPuzzles:!0}).then(y=>{y!==null&&toastr.success("PuzzlesDB reloaded!")}).catch(y=>{console.error(y),toastr.error("Failed to reload PuzzlesDB.")})},children:d.jsx(ve,{tag:"span",children:"â»ï¸ Global PuzzlesDB Refresh"})})]})]})}function IM(){const{teamId:t=null}=gh(),e=He(),n=Rt(ne.HUNT_ADMIN),r=void 0,i=(n==null?void 0:n.teamAdminData)??null,a=vh(),[s,o]=R.useState(""),l=Je(c=>c.setRedirectCommand),u=t===null?null:(i==null?void 0:i[t])??null;if(Go(),R.useEffect(()=>{t!==null&&i!==null&&u===null&&e!==null&&l({path:`/sock-admin/${e}`,replace:!0})},[t,i,u,e,l]),R.useEffect(()=>{t===null&&l({path:`/sock-admin/${e}`,replace:!0})},[t,r,e,l]),R.useEffect(()=>{t!==null&&u!==null&&a({adminPageLastSeenTeamId:t})},[t,u,a]),i===null||u===null||t===null)return d.jsx(Ut,{});const h=Object.keys(i).filter(c=>i[c].displayName.toLowerCase().includes(s.trim())).sort().map(c=>{const f=i[c],p=t===c;return d.jsx("button",{className:`admin-team-btn${p?" highlight":""}`,title:f.displayName,onClick:()=>{l({path:`/sock-admin/${c}`,replace:!0})},children:f.displayName},c)});return d.jsxs("div",{className:"admin-root",children:[d.jsxs("div",{className:"admin-sidebar",children:[d.jsxs("h1",{children:[d.jsx(ve,{tag:"span",children:"ð§¦ï¸"}),"Admin"]}),d.jsx("input",{type:"text",onChange:c=>{o(c.target.value.toLowerCase().trim())}}),d.jsx("div",{className:"admin-teams",children:h})]}),d.jsx("div",{className:"admin-main",children:d.jsx(Qce,{displayedTeamId:t})})]})}function ehe(){const t=Je(e=>e.setRedirectCommand);return R.useEffect(()=>{t({path:"/sock-admin",replace:!0})},[t]),d.jsx(Ut,{})}const fH=async(t,e,n)=>{const r=await t.sendScopeStepAndWaitAsync({type:ne.ADMIN_QUEUE_TASK,taskId:e},{claim:{staffId:n}});return r===null?!1:(r||toastr.error("Someone claimed before you!"),r)};function dH(t){const{taskId:e,taskSummary:n,useClaimLink:r}=t,i=Te(ne.ADMIN_QUEUE_TASK,{taskId:e}),a=Po(p=>p.staffId),s=ot(),o=Je(p=>p.setRedirectCommand),[l,u]=R.useState(!1);if(R.useEffect(()=>{a===null&&o({path:"/admin-queue",replace:!0})},[a,o]),i===null||a===null)return d.jsx(he,{inline:!0});const{claim:h}=i,c=h!==void 0&&h.staffId===a,f=async()=>{await s.sendScopeStepAndWaitAsync({type:ne.ADMIN_QUEUE_TASK,taskId:e},{unclaim:!0}),c&&o({path:"/admin-queue"})};return d.jsxs("div",{className:"admin-queue-claimed-by",children:[h===void 0?d.jsx("div",{className:"admin-queue-claim-button",children:r??!1?d.jsx(nn,{path:`/admin-queue/task/${e}/claim`,button:!0,children:"Claim"}):d.jsx("button",{onClick:()=>{(async()=>{await fH(s,e,a)})().catch(console.error)},children:"Claim"})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"admin-queue-claim-button",children:d.jsx("button",{onClick:()=>{c?f().catch(console.error):u(!0)},children:c?"Unclaim":"Kick"})}),d.jsxs("div",{className:"admin-queue-task-metadata",children:[d.jsxs("div",{children:["Claimed by: ",h.staffId]}),d.jsxs("div",{children:["at ",d.jsx(tu,{timestamp:h.claimTime})]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"admin-queue-task-metadata",children:["Opened: ",d.jsx(tu,{timestamp:n.requestTime})]}),n.respondTime!==void 0?d.jsxs("div",{className:"admin-queue-task-metadata",children:["Closed: ",d.jsx(tu,{timestamp:n.respondTime})]}):null]}),d.jsx(Z0,{isOpen:l,title:`Are you sure you want to kick ${h==null?void 0:h.staffId} from this task?`,footerChildren:d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>u(!1),children:"Cancel"}),d.jsx("button",{onClick:()=>{f().then(()=>u(!1)).catch(console.error)},children:"Kick"})]})})]})}function jC(t){const{tabs:e,selected:n,setSelected:r,disabled:i}=t;return d.jsx("div",{className:"button-squish-zone",children:e.map(({content:a,value:s,disabled:o},l)=>d.jsx("div",{children:d.jsx("button",{className:`button-tab ${s===n?"button-tab-selected":""}`,disabled:(o??!1)||(i??!1),onClick:()=>r(s),children:a})},l))})}function the(t){const{teamId:e}=t,n=Te(ne.TEAM_PUZZLE_105,{teamId:e});if(n===null)return d.jsx(he,{inline:!0});const{status:r}=n;return d.jsxs("div",{children:[d.jsx("h4",{children:"Free Puzzle Submission"}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:e})]}),d.jsx(gC,{teamId:e}),r!==void 0&&r.type===dr.ACCEPTED&&r.isAvailableInGacha?null:d.jsxs("div",{children:["This puzzle is ",d.jsx("b",{children:"not"})," available for wishing."]})]})}function nhe(t){const{teamId:e,isClaimedBySelf:n}=t,r=Te(ne.TEAM_PUZZLE_105,{teamId:e}),[i,a]=R.useState(null),s=R.useRef(null),o=R.useRef(null),l=R.useRef(null),u=R.useRef(null),h=R.useRef(null),c=R.useRef(null),f=R.useRef(null),[p,v]=R.useState(""),[m,g]=R.useState(""),[y,x]=R.useState(""),[A,b]=R.useState(""),[S,w]=R.useState(""),[_,T]=R.useState(!1),C=ot(),E=Je(D=>D.setRedirectCommand),k=r==null?void 0:r.status;if(R.useEffect(()=>{if(k!==void 0)switch(k.type){case dr.ACCEPTED:a(!0),T(k.isAvailableInGacha??!1),g(k.moonickDialogue),x(k.cannedHint??""),b(JSON.stringify(k.unlockInEdges)??""),w(JSON.stringify(k.unlockOutEdges)??"");break;case dr.REJECTED:a(!1),v(k.reason);break}},[k,g,v]),r===null)return d.jsx(he,{inline:!0});const{formFields:{sharePermission:I}}=r;if(k===void 0)return d.jsx("div",{children:"No submission found."});const{submitTime:j}=k,P=I!==null&&I===Hm.FULL;return d.jsxs("div",{className:"admin-queue-task-puzzle-105",children:[d.jsx("h2",{children:"Free Puzzle Submission"}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:e})]}),d.jsx(S5,{teamId:e,hideAnswer:!0}),d.jsx("h1",{children:"Puzzle Preview"}),d.jsx(gC,{teamId:e}),d.jsx("hr",{}),n?null:d.jsx("div",{className:"admin-queue-claim-this-task-notice",children:"Claim this task to respond to it."}),d.jsxs("div",{children:["Set status:"," ",d.jsx("div",{className:"admin-queue-task-status-tabs",children:d.jsx(jC,{tabs:[{value:null,content:"Pending",disabled:!0},{value:!0,content:"Accepted"},{value:!1,content:"Rejected",disabled:k.type===dr.ACCEPTED}],selected:i,setSelected:a,disabled:!n})})]}),i===null?null:i?d.jsxs(d.Fragment,{children:[d.jsx("div",{children:"Enter some personalized Moonick dialogue, or use one of these templates:"}),d.jsx("div",{children:d.jsxs("ul",{children:[d.jsx("li",{children:"I guess this does technically count as a puzzle..."}),d.jsx("li",{children:"Iâm not sure I understand whatâs going on here, but I guess it works..."}),d.jsx("li",{children:"...Eh, whatever. Good enough."}),d.jsx("li",{children:"Oh, this is a rather interesting puzzle."}),d.jsx("li",{children:"Wow. Mindblown. What a great puzzle."})]})}),d.jsxs("div",{children:["Dialogue before: ",d.jsx("i",{children:"An Application? Let me take a look."})]}),d.jsx("div",{children:d.jsx("textarea",{disabled:!n,ref:o,value:m,onChange:D=>g(D.target.value)})}),d.jsxs("div",{children:["Dialogue after: ",d.jsx("i",{children:"Please wait while I prepare the paperwork."})]}),d.jsxs("div",{children:["Make available in gacha:"," ",d.jsx("input",{type:"checkbox",ref:l,checked:_,disabled:!P||!n,onChange:D=>T(D.target.checked)})," ",P?null:d.jsx("div",{className:"admin-queue-puzzle-105-share-permission-error",children:"(The team did not give us permission to share this puzzle.)"})]}),_&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["Set rarity:",d.jsxs("select",{ref:u,defaultValue:k.type===dr.ACCEPTED?k.rarity:xt.COMMON,disabled:!n,children:[d.jsx("option",{value:xt.COMMON,children:"Common"}),d.jsx("option",{value:xt.UNCOMMON,children:"Uncommon"}),d.jsx("option",{value:xt.RARE,children:"Rare"}),d.jsx("option",{value:xt.EPIC,children:"Epic"}),d.jsx("option",{value:xt.LEGENDARY,children:"Legendary"})]})]}),d.jsxs("div",{children:["Add up to one canned hint:",d.jsx("textarea",{disabled:!n,ref:h,value:y,onChange:D=>x(D.target.value)})]}),d.jsxs("div",{children:["Set unlock in edges (e.g."," ",'[{ "unlockGroupId": "fifty", "val": 1, "isUnlockOnly": true }]',"):",d.jsx("textarea",{disabled:!n,ref:c,value:A,onChange:D=>b(D.target.value)})]}),d.jsxs("div",{children:["Set unlock out edges (e.g."," ",'[{ "unlockGroupId": "fifty", "val": 1 }]',"):",d.jsx("textarea",{disabled:!n,ref:f,value:S,onChange:D=>w(D.target.value)})]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{children:"Enter reason below (will be displayed inline):"}),d.jsxs("div",{children:["Your application has been rejected for the following reason:"," ",d.jsx("textarea",{disabled:!n,ref:s,value:p,onChange:D=>v(D.target.value)})," ","Please resubmit your Application after making the necessary modifications."]})]}),i!==null?d.jsx("div",{children:d.jsx("button",{onClick:()=>{(async()=>{var L,F,V,U;if(i===null)return;const D={type:ne.TEAM_PUZZLE_105,teamId:e};if(i){if(o.current===null||l.current===null)return;if(o.current.value===""){toastr.warning("Moonick dialogue required.");return}const z=((L=h.current)==null?void 0:L.value.trim())??"",H=((F=c.current)==null?void 0:F.value.trim())??"",G=((V=f.current)==null?void 0:V.value.trim())??"";await C.sendScopeStepAndWaitAsync(D,{setStatus:{type:dr.ACCEPTED,moonickDialogue:o.current.value,isAvailableInGacha:l.current.checked?!0:void 0,submitTime:j,rarity:(U=u.current)==null?void 0:U.value,cannedHint:z===""?void 0:z,unlockInEdges:H===""?void 0:JSON.parse(H),unlockOutEdges:G===""?void 0:JSON.parse(G)}})}else{if(s.current===null)return;if(s.current.value===""){toastr.warning("Reason required.");return}await C.sendScopeStepAndWaitAsync(D,{setStatus:{type:dr.REJECTED,reason:s.current.value,submitTime:j}})}toastr.success("Response submitted."),E({path:"/admin-queue"})})().catch(console.error)},children:"Submit"})}):null]})}function MC(t){const{hint:e,isAdmin:n=!1}=t,{request:{content:r,isFollowup:i,timestamp:a},response:s}=e;return d.jsxs("div",{className:"hint-content",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"hint-content-row",children:[d.jsx("div",{className:"hint-text-label",children:"Q:"}),d.jsx("pre",{className:"hint-text",children:r})]}),s!==null&&s.type===co.OBSOLETE?null:d.jsxs("div",{className:"hint-content-row",children:[d.jsx("div",{className:"hint-text-label",children:"A:"}),d.jsx("pre",{className:"hint-text",children:s===null?"(No response yet.)":s.content})]})]}),d.jsxs("div",{className:"hint-metadata",children:[d.jsxs("div",{children:["Asked ",d.jsx(tu,{timestamp:a}),s===null?null:d.jsxs(d.Fragment,{children:["; answered ",d.jsx(tu,{timestamp:s.timestamp})]})]}),i??!1?d.jsx("div",{children:"This was a follow-up hint."}):null,s!==null&&s.type===co.OBSOLETE?d.jsx("div",{children:n?"This hint was marked as obsolete.":"Looks like you solved this puzzle before we could send you a response! Your use of the hint was refunded."}):null,s!==null&&s.type===co.REFUNDED?d.jsx("div",{children:n?"This hint was refunded.":"Your use of the hint was refunded."}):null]})]})}function rhe(t){const{teamId:e}=t,n=Te(ne.TEAM_PUZZLE_144,{teamId:e});if(n===null)return d.jsx(he,{inline:!0});const{req:r}=n;return r===void 0?d.jsx("div",{children:"No submission found."}):d.jsxs("div",{children:[d.jsx("h4",{children:"Musical Intuition Submission"}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:e})]}),d.jsx("div",{children:d.jsx("p",{children:r.text})})]})}function ihe(t){const{teamId:e,isClaimedBySelf:n}=t,r=Te(ne.TEAM_PUZZLE_144,{teamId:e}),i=R.useRef(null),a=R.useRef(null),s=ot(),o=Je(h=>h.setRedirectCommand);if(r===null)return d.jsx(he,{inline:!0});const{req:l,resp:u}=r;return l===void 0?d.jsx("div",{children:"No submission found."}):d.jsxs("div",{className:"admin-queue-task-puzzle-144",children:[d.jsx("h2",{children:"Musical Intuition Submission"}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:e})]}),d.jsx(Ic,{headerContent:"Solution (contains rubric)",children:d.jsx("div",{children:d.jsx(Do,{puzName:"puz144",contentType:gs.SOLUTION})})}),d.jsx("hr",{}),d.jsx("div",{children:d.jsx("pre",{children:l.text})}),d.jsx("hr",{}),n?null:d.jsx("div",{className:"admin-queue-claim-this-task-notice",children:"Claim this task to respond to it."}),d.jsx("div",{children:d.jsx("textarea",{disabled:!n,defaultValue:(u==null?void 0:u.text)??"",ref:a})}),d.jsxs("div",{children:["Points out of 10 (round to nearest .5):"," ",d.jsx("input",{type:"number",defaultValue:(u==null?void 0:u.numPoints)??5,min:0,max:11,step:.5,ref:i})]}),d.jsxs("div",{children:["Feel free to add adjustments and deviate from the rubric. It is only there for convenience.",d.jsx("br",{}),d.jsx(ve,{tag:"span",children:"â ï¸ Warning â ï¸"}),": Check that the score here is correct. ",d.jsx("b",{children:"The score from the rubric is not synced to this one."})]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>{(async()=>{if(a.current===null||i.current===null)return;if(a.current.value===""){toastr.warning("Response required.");return}const h=parseFloat(i.current.value);if(isNaN(h)||h<0||h>11){toastr.warning("Invalid points count.");return}const c={type:ne.TEAM_PUZZLE_144,teamId:e};await s.sendScopeStepAndWaitAsync(c,{setResp:{text:a.current.value,numPoints:h}}),toastr.success("Response submitted."),o({path:"/admin-queue"})})().catch(console.error)},children:"Submit"})})]})}function ahe(t){const{taskId:e,taskSummary:n}=t,r=Te(ne.ADMIN_QUEUE_TASK,{taskId:e}),i=Po(l=>l.staffId);if(r===null)return d.jsx(he,{inline:!0});const{task:a,claim:s}=r,o=s!==void 0&&s.staffId===i;return d.jsxs("div",{children:[d.jsxs("div",{className:"admin-queue-task-claim-control",children:[d.jsx(dH,{taskId:e,taskSummary:n,useClaimLink:!0}),d.jsx("div",{children:d.jsx(nn,{path:`/admin-queue/task/${e}`,children:o?"View":"View without claiming"})})]}),d.jsx("div",{className:"admin-queue-task-summary-content",children:(()=>{switch(a.type){case Zn.HINT:return d.jsx(uhe,{hintId:a.hintId});case Zn.PUZZLE_SUBMISSION:switch(a.submissionType){case ba.PUZZLE_105:return d.jsx(the,{teamId:a.teamId});case ba.PUZZLE_139:return d.jsx(mH,{teamId:a.teamId});case ba.PUZZLE_144:return d.jsx(rhe,{teamId:a.teamId})}}})()})]})}function r_(t){const{taskFilter:e,numTasksPerPage:n,pageNumStore:r}=t,i=Rt(ne.ADMIN_QUEUE),a=R.useState(0),[s,o]=r??a,l=Je(c=>c.isAdminQueuePosthuntView);if(i===null)return d.jsx(Ut,{});const u=Object.entries(i.tasks).filter(e).sort(([c,f],[p,v])=>{const m=f.respondTime===void 0,g=v.respondTime===void 0,y=(m?0:1)-(g?0:1);return y!==0?y:f.respondTime!==void 0&&v.respondTime!==void 0?v.respondTime-f.respondTime:v.requestTime-f.requestTime}),h=u.length<=0?0:Math.min(s,Math.floor((u.length-1)/n));return u.length<=0?d.jsx("div",{children:"No tasks found matching query."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"admin-queue-list",children:u.slice(h*n,(h+1)*n).map(([c,f])=>d.jsx("div",{className:`admin-queue-task-summary ${f.respondTime===void 0||l?"admin-queue-task-summary-open":"admin-queue-task-summary-closed"}`,children:d.jsx(ahe,{taskId:c,taskSummary:f})},c))}),d.jsx("div",{className:"admin-queue-footer",children:d.jsx(kC,{numPerPage:n,pageNum:h,setPageNum:o,numEntries:u.length})})]})}var tg=(t=>(t.OPENED="opened",t.NEXT_TO_OPEN="next_to_open",t.UNOPENED="unopened",t.ADMIN_UNOPENED="admin_unopened",t.ADMIN_LOCKED="admin_locked",t))(tg||{});function pH(t){const{puzName:e,index:n,teamId:r,displayType:i,spoiler:a}=t,s=["opened","admin_unopened","admin_locked"].includes(i),o=Te(ne.CANNED_HINT,s?{puzName:e,index:n}:null),l=wn(),u=ot();if(s&&o===null)return d.jsx(he,{inline:!0});const h=(()=>{switch(i){case"opened":return d.jsx(ca,{icon:ha.OPEN_CANNED_HINT});case"next_to_open":return d.jsx(ca,{icon:ha.CANNED_HINT});case"unopened":return d.jsx(ca,{icon:ha.CANNED_HINT,className:"hints-icon-disabled"});case"admin_unopened":return d.jsx(Ce,{text:"Unopened by team",children:d.jsx(ca,{icon:ha.CANNED_HINT,className:"hints-icon-disabled"})});case"admin_locked":return d.jsx(Ce,{text:"Not yet found by team",children:d.jsx(ve,{tag:"span",children:"ð"})})}})(),c=["opened"].includes(i);return d.jsxs("div",{className:"canned-hint",children:[d.jsx("div",{className:"canned-hint-icon",children:h}),o!==null?d.jsx("div",{className:`canned-hint-content ${c?"":"canned-hint-content-unopened"}`,children:a?d.jsx(qS,{children:o.content}):d.jsx(d.Fragment,{children:o.content})}):i==="next_to_open"?d.jsx("button",{disabled:l.isHeld,onClick:()=>{l.acquireAndRun(async f=>{await u.sendScopeStepAndWaitAsync({type:ne.TEAM_CANNED_HINTS,teamId:r},{openCannedHint:{puzName:e,index:n}})})},children:"Open"}):null]})}function she(t){const{puzData:e}=t,{puzName:n}=e,r=He(),i=Te(ne.TEAM_CANNED_HINTS,r===null?null:{teamId:r});if(r===null||i===null)return d.jsx(he,{inline:!0});const a=i.cannedHints[n]??{numTotal:0,numOpened:0},s=a.numTotal===1?"hint":"hints";return a.numTotal>0?d.jsxs(d.Fragment,{children:[d.jsx("h1",{children:"Canned Hints"}),d.jsxs("div",{children:["Youâve found"," ",d.jsxs("b",{children:[a.numTotal," canned ",s]}),"! Youâve opened ",d.jsxs("b",{children:[a.numOpened," of them"]}),". There is no penalty for opening these canned hints, but they can only be used on this puzzle."]}),Array.from(Array(a.numTotal).keys()).map(o=>d.jsx(pH,{puzName:n,index:o,teamId:r,displayType:o<a.numOpened?"opened":o===a.numOpened?"next_to_open":"unopened",spoiler:!0},o)),a.numTotal===a.numMax?d.jsx("div",{children:"Youâve found all the canned hints for this puzzle!"}):null]}):null}function ohe(t){var V,U;const{puzData:e}=t,{puzName:n,areHintsDisabledUntilAllCannedHintsFound:r=!1,noCannedHints:i=!1}=e,[a,s]=R.useState(!1),o=R.useRef(null),l=R.useRef(null),u=He(),h=Dt(),c=Te(ne.TEAM_HINTS,u===null?null:{teamId:u}),f=Te(ne.TEAM_CANNED_HINTS,u===null?null:{teamId:u}),p=hF(u),v=fF(u),m=dF(u,n,!0),g=Ea(n),y=ot(),x=wn(),A=p===null||v===null?null:p-v,b=c===null?null:Object.keys(c.openHints)[0]??null,S=(c==null?void 0:c.openHints[n])??!1,w=Ui(),_=Ho(),[T,C]=R.useState(0),E=A!==null&&!S&&((U=(V=m==null?void 0:m[0])==null?void 0:V[1].response)==null?void 0:U.type)===co.ANSWERED&&XE(_??!1,Bt.isPosthunt,A,b,!0).type===Uh.SUCCESS;if(R.useEffect(()=>{E||s(!1)},[E]),u===null||m===null||h===null||c===null||f===null||g===null||A===null||w===null||_===null)return d.jsx(he,{inline:!0});const k=(()=>{if(A===null||a)return null;if(S)return"You already have a custom hint pending on this puzzle!";const z=XE(_,Bt.isPosthunt,A,b,!1);switch(z.type){case Uh.HUNT_IS_CLOSED:return"Sorry, custom hints are closed.";case Uh.NO_HINT_TOKENS:return"You have no custom hints available!";case Uh.OTHER_HINT_OPEN:{const{openHintPuzName:H}=z;return d.jsxs(d.Fragment,{children:["You already have a custom hint pending on"," ",d.jsx(tt,{puzName:H,subpage:"hints",children:w[H]}),"! You can have at most one custom hint pending at a time."]})}case Uh.SUCCESS:return null}})(),I=A===1?"hint":"hints",j=d.jsx(ve,{tag:"span",children:"ð¡"}),P=a?0:1,D=f.cannedHints[n]??{numTotal:0,numOpened:0},L=i?0:D.numMax,F=L!==void 0&&D.numTotal>=L;return d.jsxs(d.Fragment,{children:[d.jsx("h1",{children:"Custom Hints"}),r&&!F?d.jsx("div",{children:"You may not request for custom hints on this puzzle until you have found all its canned hints."}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["You have"," ",d.jsxs("b",{children:[A," custom ",I]}),j," that you may use to ask for a hint on any puzzle. You may have ",d.jsx("b",{children:"one custom hint"})," pending at a time; you must wait until that hint is answered to ask another."]}),d.jsxs("h4",{ref:o,children:["Request a ",a?"follow-up hint":"hint"]}),d.jsxs("div",{className:"section-box puzzle-section-box",children:[F?null:d.jsxs("div",{children:["There are ",D.numTotal>0?"more":""," ",d.jsx("b",{children:"canned hints"})," ",d.jsx(ca,{icon:ha.CANNED_HINT,className:"hints-icon-disabled"})," ","to be found for this puzzle, but you may still request a custom hint. If your hint is answered, you will also receive all"," ",D.numTotal>0?"remaining":""," canned hints for this puzzle."]}),g?d.jsx("div",{children:"Youâve already solved this puzzle, but you can ask for a hint anyway if youâd like (for example, if youâre not sure about a step or you backsolved it). The restrictions above still apply."}):null,a?d.jsx("div",{children:"Youâre asking us for a follow-up to your last hint. This wonât consume one of your hints; weâll see if we can be more helpful based on your submission, but we may ask you to use a new regular hint instead."}):null]}),d.jsxs("form",{onSubmit:z=>{z.preventDefault();const H=Object.fromEntries(new FormData(z.currentTarget).entries()),G=(()=>{if(Bt.isPosthunt&&H.shouldNotifyEmails===void 0)return!0;switch(H.shouldNotifyEmails){case"all":return!0;case"none":return!1}throw new Error(`unrecognized value ${H.shouldNotifyEmails} for shouldNotifyEmails`)})(),N=(()=>{if(Bt.isPosthunt)return"I need a hint!";if(typeof H.hintRequestContent!="string")throw new Error("expected hintRequestContent to be a string");return H.hintRequestContent.trim()})();if(N===""){toastr.error("Please fill out the hint request.");return}x.acquireAndRun(async W=>{await y.sendScopeStepAndWaitAsync({type:ne.TEAM_HINTS,teamId:u},{puzName:n,req:{content:N,isFollowup:a?!0:void 0,shouldNotifyEmails:G?!0:void 0}})})},children:[Bt.isPosthunt?d.jsx("div",{className:"section-box puzzle-section-box hints-posthunt-note",children:"The hunt is over, but you may still use hint tokens to reveal all canned hints for a puzzle or simulate hint requests."}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"hint-request-text-field",children:[d.jsx("label",{htmlFor:"id_hint_question",children:"Describe everything youâve tried on this puzzle. We will provide a hint to help you move forward. The more detail you provide, the less likely it is that weâll tell you something you already know. If youâre working in a shared spreadsheet, it might help us if you linked it."}),d.jsx("textarea",{name:"hintRequestContent",id:"id_hint_question",ref:l,disabled:x.isHeld,onChange:()=>{l.current!==null&&C(l.current.value.length)}}),T>Bx?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"section-box errata-section-box",children:["Hint request too long (",T," /"," ",Bx," chars). If you have a lot of data to share, please link a spreadsheet or document instead. If necessary, donât forget to set permissions on the document so that anyone with the link can view it."]})}):null]}),d.jsx("label",{htmlFor:"id_notify_emails",children:"When the hint is answered, send an email to:"}),d.jsxs("select",{name:"shouldNotifyEmails",id:"id_notify_emails",disabled:x.isHeld,children:[d.jsx("option",{value:"all",children:"Everyone"}),d.jsx("option",{value:"none",children:"No one"})]})]}),k!==null?S?null:d.jsx("div",{className:"section-box errata-section-box",children:d.jsx("div",{children:k})}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hints-posthunt-submission-infobox",children:d.jsx(W0,{infoText:"The hunt is over, but you may still submit a hint request to get a simulated interaction."})}),d.jsx("div",{children:d.jsxs("button",{type:"submit",disabled:x.isHeld||T>Bx,children:["Submit (â",P," ",j,")"]})})]})]}),m.length>0?d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Previously requested hints"}),!a&&E?d.jsx("button",{onClick:()=>{var z,H;s(!0),(z=l.current)==null||z.focus(),(H=o.current)==null||H.scrollIntoView()},children:"This wasnât helpful"}):null,m.map(([z,H])=>d.jsx(MC,{hintId:z,hint:H},z)),d.jsx("div",{className:"section-box puzzle-section-box",children:d.jsxs("div",{children:["You can see your custom hints from all puzzles on your"," ",d.jsx(nn,{path:h0(h.displayName),children:"team page"}),"."]})})]}):null]})]})}function lhe(){var c;const t=pp(),{puzName:e,slug:n}=t,r=He(),i=Te(ne.TEAM_CANNED_HINTS,r===null?null:{teamId:r}),a=Te(ne.TEAM_HINTS,r===null?null:{teamId:r}),s=((c=i==null?void 0:i.cannedHints[e])==null?void 0:c.numTotal)??0,o=(a==null?void 0:a.numTotalTokens)??0,l=Object.keys((a==null?void 0:a.hints[e])??{}).length,u=i===null||a===null||KO(t)&&(s>0||o>0||l>0),h=Je(f=>f.setRedirectCommand);return R.useEffect(()=>{u||h({path:n?`/puzzle/${n}`:"/puzzles"})},[u,n,h]),u?d.jsxs("div",{className:"puzzle-page-body hints-page",children:[d.jsx(she,{puzData:t}),d.jsx(ohe,{puzData:t})]}):d.jsx(he,{inline:!0})}function vH(t){const{puzName:e,teamId:n}=t,r=Rt(ne.HUNT_ADMIN),i=Te(ne.TEAM_CANNED_HINTS,{teamId:n});if(r===null||i===null)return d.jsx(he,{inline:!0});const{numCannedHints:a}=r,s=i.cannedHints[e]??{numTotal:0,numOpened:0};return(a[e]??0)<=0?d.jsx(d.Fragment,{children:"There are no canned hints for this puzzle."}):d.jsx(d.Fragment,{children:Array.from(Array(a[e]).keys()).map(o=>d.jsx(pH,{puzName:e,index:o,teamId:n,displayType:o<s.numOpened?tg.OPENED:o<s.numTotal?tg.ADMIN_UNOPENED:tg.ADMIN_LOCKED,spoiler:!1},o))})}function uhe(t){const{hintId:e}=t,n=Te(ne.HINT,{hintId:e}),{puzName:r=null,teamId:i=null}=n??{},a=Ds(r,i);return i===null||r===null||n===null||a===null?d.jsx(he,{inline:!0}):d.jsxs("div",{className:"admin-queue-task-summary-hint",children:[d.jsxs("h4",{children:["Hint Request: ",a]}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:i})]}),d.jsx("div",{className:"admin-queue-task-puzzle-preview-wrapper",children:d.jsx("div",{className:"admin-queue-task-puzzle-preview",children:d.jsx(U0,{puzName:r})})}),d.jsx(MC,{hintId:e,hint:n,isAdmin:!0})]})}function Ic(t){const{headerContent:e,children:n}=t;return d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h4",{style:{display:"inline"},children:e})}),n]})}function che(t){var w,_;const{taskId:e,hintId:n,isClaimedBySelf:r}=t,i=Te(ne.HINT,{hintId:n}),{puzName:a=null,teamId:s=null}=i??{},o=Ds(a,s),l=dF(s,a),u=Rt(ne.HUNT_ADMIN),h=(a!==null&&((u==null?void 0:u.puzzles[a].answer)??null)!==null)??!1,c=l0(s,h?a:null),f=ot(),p=Je(T=>T.setRedirectCommand),v=R.useRef(null),[m,g]=R.useState(null),y=R.useCallback(([T,C])=>e!==T&&a!==null&&C.type===Zn.HINT&&C.puzName===a,[e,a]),x=R.useCallback(([T,C])=>e!==T&&s!==null&&C.type===Zn.HINT&&C.teamId===s,[e,s]),A=5;if(R.useEffect(()=>{var T;i!==null&&g(((T=i.response)==null?void 0:T.type)??null)},[i]),s===null||a===null||u===null||i===null||o===null||h&&c===null||l===null)return d.jsx(he,{inline:!0});const b=l.findIndex(([T,C])=>T===n);if(b<0)return d.jsx(he,{inline:!0});const S=Object.keys((c==null?void 0:c.submissions)??{}).length>0;return d.jsxs("div",{className:"admin-queue-task-hint",children:[d.jsxs("h2",{children:["Hint Request: ",o]}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:s})]}),d.jsx(Ic,{headerContent:"Puzzle Content",children:d.jsx("div",{children:d.jsx(Do,{puzName:a})})}),d.jsx(Ic,{headerContent:"Solution",children:d.jsx("div",{children:d.jsx(Do,{puzName:a,contentType:gs.SOLUTION})})}),d.jsxs("div",{children:[d.jsx("h4",{children:"Canned hints"}),d.jsx(vH,{puzName:a,teamId:s})]}),c!==null?d.jsx("div",{children:S?d.jsx(Xue,{teamId:s,puzName:a}):d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Previous guesses"}),d.jsx("div",{children:"The team has not made any guesses yet for this puzzle."})]})}):null,d.jsx(Ic,{headerContent:"Other hints for this puzzle",children:d.jsx("div",{className:"other-hints",children:d.jsx(r_,{taskFilter:y,numTasksPerPage:A})})}),d.jsx(Ic,{headerContent:"Other hints for this team",children:d.jsx("div",{className:"other-hints",children:d.jsx(r_,{taskFilter:x,numTasksPerPage:A})})}),d.jsx("hr",{}),l.slice(0,b+1).map(([T,C])=>d.jsx(MC,{hintId:T,hint:C,isAdmin:!0},T)),d.jsx("hr",{}),r?null:d.jsx("div",{className:"admin-queue-claim-this-task-notice",children:"Claim this task to respond to it."}),d.jsxs("div",{className:"admin-queue-hint-status",children:["Status:"," ",d.jsx("div",{className:"admin-queue-task-status-tabs",children:d.jsx(jC,{tabs:[{content:"No response",value:null,disabled:!0},{content:"Answered",value:co.ANSWERED},{content:(w=i==null?void 0:i.request)!=null&&w.isFollowup?"Thread closed":"Refunded",value:co.REFUNDED},{content:"Obsolete",value:co.OBSOLETE,disabled:!0}],selected:m,setSelected:g,disabled:!r})})]}),m!==null?d.jsxs(d.Fragment,{children:[d.jsx("textarea",{disabled:!r,defaultValue:((_=i.response)==null?void 0:_.content)??"",ref:v}),d.jsx("button",{disabled:!r,onClick:()=>{(async()=>{if(m!==null&&v.current!==null){if(v.current.value===""){toastr.warning("Response required.");return}await f.sendScopeStepAndWaitAsync({type:ne.HINT,hintId:n},{setResponse:{type:m,content:v.current.value}}),toastr.success("Response submitted."),p({path:"/admin-queue"})}})().catch(console.error)},children:m===co.ANSWERED?"Submit (and unlock all canned hints)":"Submit"})]}):null]})}function mH(t){const{teamId:e,omitTitle:n=!1}=t,r=dp(ne.TEAM_PUZZLE_139,{teamId:e},{forcePosthuntIfNotAdmin:!0});if(r===null)return d.jsx(he,{inline:!0});if(!r.success)return d.jsx(mi,{...r});const{diagramUrl:i,submissionText:a,sharePermission:s}=r.state;return d.jsxs("div",{className:"puzzle-139-task",children:[n?null:d.jsx("h3",{children:"Hug a Tree Submission"}),d.jsxs("p",{children:[d.jsx("b",{children:"Team:"})," ",d.jsx(ln,{teamId:e})]}),d.jsxs("div",{className:"puzzle-139-preview",children:[s===uo.BOTH?d.jsx("p",{children:i===void 0?null:d.jsx("img",{src:i})}):d.jsxs("p",{children:[d.jsx(ve,{tag:"span",children:"â"})," This team ",d.jsx("b",{children:"does not"})," want to share their image."]}),d.jsx("div",{className:"puzzle-139-text",children:a})]})]})}function hhe(t){const{teamId:e,isClaimedBySelf:n}=t,r=Te(ne.TEAM_PUZZLE_139,{teamId:e}),[i,a]=R.useState(null),[s,o]=R.useState(""),l=R.useRef(null),u=ot(),h=Je(g=>g.setRedirectCommand),c=r==null?void 0:r.status;if(R.useEffect(()=>{if(c!==void 0)switch(c.type){case Tr.ACCEPTED:a(!0);break;case Tr.REJECTED:a(!1);break}},[c]),r===null)return d.jsx(he,{inline:!0});if(c===void 0)return d.jsx("div",{children:"No submission found."});const{submitTime:f}=c,{diagramUrl:p,submissionText:v,sharePermission:m}=r;return d.jsxs("div",{className:"admin-queue-task-puzzle-139",children:[d.jsx("h2",{children:"Hug a Tree Submission"}),d.jsxs("div",{children:["Team: ",d.jsx(ln,{teamId:e})]}),d.jsx(Ic,{headerContent:"Puzzle Content",children:d.jsx("div",{children:d.jsx(Do,{puzName:Tg.puzName})})}),d.jsxs("div",{className:"puzzle-139-preview",children:[d.jsx("h4",{children:"Fun fact"}),d.jsx("p",{children:v}),d.jsx("h4",{children:"Picture"}),d.jsx("p",{children:p===void 0?null:d.jsx("img",{src:p})}),d.jsx("p",{children:(()=>{switch(m){case uo.BOTH:return d.jsxs(d.Fragment,{children:["The team granted permission to share"," ",d.jsx("b",{children:"both the image and fun fact"})," during wrap-up."]});case uo.FACT:return d.jsxs(d.Fragment,{children:["The team granted permission to share"," ",d.jsx("b",{children:"only the fun fact"})," during wrap-up."]});case uo.NONE:return d.jsxs(d.Fragment,{children:["The team ",d.jsx("b",{children:"did not"})," granted permission to share their submission during wrap-up."]})}})()})]}),d.jsx("hr",{}),n?null:d.jsx("div",{className:"admin-queue-claim-this-task-notice",children:"Claim this task to respond to it."}),d.jsxs("div",{children:["Set status:"," ",d.jsx("div",{className:"admin-queue-task-status-tabs",children:d.jsx(jC,{tabs:[{value:null,content:"Pending",disabled:!0},{value:!0,content:"Accepted"},{value:!1,content:"Rejected"}],selected:i,setSelected:a,disabled:!n})})]}),i===null?null:i?d.jsxs(d.Fragment,{children:[d.jsx("div",{children:"Enter a personalized response for the team."}),d.jsx("div",{children:d.jsx("textarea",{disabled:!n,defaultValue:c.type===Tr.ACCEPTED?c.comment:"",ref:l,onChange:g=>o(g.target.value)})})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{children:"Enter reason below (will be displayed inline):"}),d.jsx("div",{children:d.jsx("textarea",{disabled:!n,defaultValue:c.type===Tr.REJECTED?c.reason:"",ref:l,onChange:g=>o(g.target.value)})})]}),i!==null?d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:"Preview"}),d.jsx(_5,{status:{...i?{type:Tr.ACCEPTED,comment:s}:{type:Tr.REJECTED,reason:s},submitTime:0,reviewTime:0}})]}):null,i!==null?d.jsx("div",{children:d.jsx("button",{onClick:()=>{(async()=>{if(i===null)return;const g={type:ne.TEAM_PUZZLE_139,teamId:e};if(i){if(l.current===null)return;if(l.current.value===""){toastr.warning("Comment required.");return}await u.sendScopeStepAndWaitAsync(g,{setStatus:{type:Tr.ACCEPTED,comment:l.current.value,submitTime:f}})}else{if(l.current===null)return;if(l.current.value===""){toastr.warning("Reason required.");return}await u.sendScopeStepAndWaitAsync(g,{setStatus:{type:Tr.REJECTED,reason:l.current.value,submitTime:f}})}toastr.success("Response submitted."),h({path:"/admin-queue"})})().catch(console.error)},children:"Submit"})}):null]})}function fhe(t){const{taskId:e}=t,n=Rt(ne.ADMIN_QUEUE),r=Te(ne.ADMIN_QUEUE_TASK,{taskId:e}),i=Po(h=>h.staffId),a=(n==null?void 0:n.tasks[e])??null,s=Je(h=>h.setRedirectCommand);if(R.useEffect(()=>{n!==null&&a===null&&(toastr.error("Unknown task."),s({path:"/admin-queue",replace:!0}))},[n,a,s]),a===null||r===null)return d.jsx(he,{inline:!0});const{task:o,claim:l}=r,u=l!==void 0&&l.staffId===i;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"admin-queue-header",children:d.jsxs("div",{className:"admin-queue-task-claim-control",children:[d.jsx(dH,{taskId:e,taskSummary:a}),d.jsx("div",{children:d.jsx(nn,{path:"/admin-queue",button:!0,children:"Back"})})]})}),d.jsx("div",{className:"admin-queue-task-body",children:(()=>{switch(o.type){case Zn.HINT:return d.jsx(che,{taskId:e,hintId:o.hintId,isClaimedBySelf:u});case Zn.PUZZLE_SUBMISSION:switch(o.submissionType){case ba.PUZZLE_105:return d.jsx(nhe,{teamId:o.teamId,isClaimedBySelf:u});case ba.PUZZLE_139:return d.jsx(hhe,{teamId:o.teamId,isClaimedBySelf:u});case ba.PUZZLE_144:return d.jsx(ihe,{teamId:o.teamId,isClaimedBySelf:u})}}})()})]})}const gH=[{type:cv.HINT,text:"Hints",func:t=>t.type===Zn.HINT},{type:cv.PUZZLE_105,text:"Free Puzzles",func:t=>t.type===Zn.PUZZLE_SUBMISSION&&t.submissionType===ba.PUZZLE_105},{type:cv.PUZZLE_139,text:"Hug a Tree",func:t=>t.type===Zn.PUZZLE_SUBMISSION&&t.submissionType===ba.PUZZLE_139},{type:cv.PUZZLE_144,text:"Musical Intuition",func:t=>t.type===Zn.PUZZLE_SUBMISSION&&t.submissionType===ba.PUZZLE_144}],dhe=Object.fromEntries(gH.map(({type:t,func:e})=>[t,e]));function phe(){var k;const t=Je(I=>I.adminQueuePageNum),e=Je(I=>I.setAdminQueuePageNum),n=Po(I=>I.staffId),r=Po(I=>I.setStaffId),[i,a]=R.useState(""),[s,o]=R.useState(""),[l,u]=R.useState(""),h=Je(I=>I.adminQueueTypeFilter),c=Je(I=>I.setAdminQueueTypeFilter),f=Je(I=>I.adminQueueTeamNameFilter),p=Je(I=>I.setAdminQueueTeamNameFilter),v=Je(I=>I.isAdminQueuePosthuntView),m=Je(I=>I.setIsAdminQueuePosthuntView),g=Je(I=>I.adminQueueShowPublicPuzzles),y=Je(I=>I.setAdminQueueShowPublicPuzzles),x=10;Go();const A=Rt(ne.ADMIN_QUEUE),b=Rt(ne.HUNT_ADMIN),S=Ui(),w={};if(A!==null&&b!==null)for(const{teamId:I}of Object.values(A.tasks)){const{displayName:j}=b.teamAdminData[I]??{};(w[I]??(w[I]={teamId:I,displayName:j,numTasks:0})).numTasks++}const _=Object.values(w).sort((I,j)=>{const P=j.numTasks-I.numTasks;return P!==0?P:(I.displayName??"").localeCompare(j.displayName??"")}),T={};if(A!==null&&b!==null&&S!==null)for(const I of Object.values(A.tasks)){if(I.type!==Zn.HINT)continue;const{puzName:j}=I,P=S[j]??"Unknown puzzle",D=((k=b.puzzles[j])==null?void 0:k.order)??0;T[j]??(T[j]={puzName:j,displayName:P,order:D,numTasks:0}),T[j].numTasks++}const C=Object.values(T).sort((I,j)=>{const P=j.numTasks-I.numTasks;return P!==0?P:I.order-j.order}),E=R.useCallback(([I,j])=>{var D;const{teamId:P}=j;return(s===""||s===P)&&(l===""||j.type===Zn.HINT&&l===j.puzName)&&(((D=b==null?void 0:b.teamAdminData[P])==null?void 0:D.displayName.toLowerCase().trim())??"").includes(f.toLowerCase().trim())&&Object.entries(h).some(([L,F])=>F&&dhe[L](j))&&(!v||j.type===Zn.PUZZLE_SUBMISSION&&!(j.isPrivate??!1))&&(g||j.type===Zn.PUZZLE_SUBMISSION&&!(j.isPublicCustomPuzzle??!1))},[s,l,f,b,h,v,g]);return d.jsxs("div",{className:"below-nav centered-page",children:[d.jsxs(Z0,{isOpen:n===null,wrapperClassName:"admin-queue-staff-id-modal-wrapper",children:[d.jsx("div",{children:"Enter your Discord username."}),d.jsx("input",{type:"text",value:i,onChange:I=>a(I.target.value),onKeyDown:I=>{I.key==="Enter"&&r(i.trim())}}),d.jsx("button",{onClick:()=>{r(i.trim())},disabled:i.trim()==="",children:"Letâs go!"})]}),d.jsxs("div",{className:"admin-queue-header",children:[d.jsx("div",{children:d.jsx("h1",{children:"Admin Task Queue"})}),d.jsxs("div",{className:"admin-queue-header-actions",children:[d.jsxs("div",{className:"admin-queue-team-name-filter",children:[d.jsx(ve,{tag:"span",children:"ð"})," ",d.jsx("input",{type:"text",value:f,onChange:I=>{p(I.target.value)}})]}),_.length===0?null:d.jsxs("select",{className:"admin-queue-filter-select",onChange:I=>o(I.target.value),children:[d.jsx("option",{value:"",children:"ð¥ Filter by team..."}),_.map(({teamId:I,displayName:j,numTasks:P})=>d.jsxs("option",{value:I,children:[j??`<unknown team ${I}>`," (",P,")"]},I))]}),C.length===0?null:d.jsxs("select",{className:"admin-queue-filter-select",onChange:I=>u(I.target.value),children:[d.jsx("option",{value:"",children:"ð§© Filter hints by puzzle..."}),C.map(({puzName:I,displayName:j,numTasks:P})=>d.jsxs("option",{value:I,children:[j," (",P,")"]},I))]}),d.jsxs("div",{className:"admin-queue-header-staff-id",children:[d.jsxs("div",{children:["You are: ",n]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>r(null),children:"Change"})})]})]})]}),d.jsx("div",{className:"admin-queue-header admin-queue-type-filter",children:gH.map(({type:I,text:j})=>d.jsx("button",{className:Tt({active:h[I]}),onClick:()=>{c({...h,[I]:!h[I]})},children:j},I))}),d.jsxs("div",{className:"admin-queue-header admin-queue-type-filter",children:[d.jsx("button",{className:Tt({active:v}),onClick:()=>{m(!v)},children:"Posthunt view"}),d.jsx("button",{className:Tt({active:g}),onClick:()=>{y(!g)},children:"Public Puzzles"})]}),d.jsx(r_,{taskFilter:E,numTasksPerPage:x,pageNumStore:[t,e]})]})}function vhe(){const{taskId:t}=gh();if(Go(),t===void 0)throw new Error("expect taskId to be defined");return d.jsx("div",{className:"below-nav centered-page",children:d.jsx(fhe,{taskId:t})})}function mhe(){const{taskId:t}=gh(),e=Po(s=>s.staffId),n=Je(s=>s.setRedirectCommand),r=ot(),i=Rt(ne.ADMIN_QUEUE);if(Go(),t===void 0)throw new Error("expect taskId to be defined");const a=(i==null?void 0:i.tasks[t])!==void 0;return R.useEffect(()=>{if(a){if(e===null){toastr.error("Unknown claimer."),n({path:"/admin-queue",replace:!0});return}(async()=>{const s=await fH(r,t,e);n({path:s?`/admin-queue/task/${t}`:"/admin-queue",replace:!0})})().catch(console.error)}},[e,n,r,t,a]),d.jsx(Ut,{})}const ghe=t=>{const e=[];let n=!1;for(const r of t){if(r==="'")continue;const i=r.match(/^[\p{L}â]$/u)!==null;(i?!n:r!==" ")&&e.push(r),n=i}return e.length>=6?`${e.slice(0,4).join("")}â¦`:e.join("")},yhe=(t,e)=>{const{puzName:n,slug:r,displayName:i}=t;return{colKey:`puz-${n}`,puzName:n,slug:r,displayName:i}},xhe=(t,e)=>t.map(n=>yhe(n)),Ahe=t=>t.map((e,n)=>d.jsx("col",{className:n===t.length-1?"big-board-group-end":""},e.colKey));function yH({teamId:t}){var n;const e=Rt(ne.TEAM_LIST)??{};return d.jsx("span",{title:(n=e[t])==null?void 0:n.displayName,children:d.jsx(f0,{teamData:e[t],hideAdminLinks:!0})})}function bhe({desc:t,state:e,onChange:n}){return d.jsxs("label",{className:"big-board-checkbox-option",children:[d.jsx("input",{type:"checkbox",defaultChecked:e,onChange:r=>{n(r.target.checked)}})," ",t]})}function xH(){const t=Je(e=>e.setBigBoardTeamFilter);return d.jsxs("label",{className:"big-board-team-search",children:[d.jsx(ve,{children:"ð"})," ",d.jsx("input",{placeholder:"Filter teams...",onChange:e=>t(e.target.value.toLowerCase().trim())})]})}function whe(){const t=Je(e=>e.setBigBoardPuzzleFilter);return d.jsxs("label",{className:"big-board-team-search",children:[d.jsx(ve,{children:"ð"})," ",d.jsx("input",{placeholder:"Filter puzzles...",onChange:e=>t(e.target.value.toLowerCase().trim())})]})}function AH(){const t=hi(s=>s.numTeamsPerPage),e=hi(s=>s.setNumTeamsPerPage),n=hi(s=>s.pageNum),r=hi(s=>s.setPageNum);R.useState(t.toString()),R.useState((n+1).toString());const i=Rt(ne.TEAM_LIST)??{},a=Object.keys(i).length;return d.jsx(kC,{numPerPage:t,setNumPerPage:e,pageNum:n,setPageNum:r,numEntries:a})}function bH({colData:t}){const{colKey:e,puzName:n,displayName:r,shortName:i}=t,a=i!==void 0?i:r!==""?ghe(r):n===void 0?"???":n.includes("custom")?`c_${n.split("_").at(-1)}`:n;return d.jsx("th",{children:d.jsx("div",{className:"puzzle-title-header-link",children:n===void 0?a:d.jsx(Ce,{text:`[${n}] ${r}`,placement:"bottom",children:d.jsx(tt,{puzName:n,children:a})})})},e)}const wH=t=>{const e=Je(a=>a.bigBoardTeamFilter),n=oH(t),r=hi(a=>a.numTeamsPerPage),i=hi(a=>a.pageNum);return n===null?null:a=>{const s=n.filter(({displayName:o})=>o.toLowerCase().includes(e)).map(({teamId:o})=>o);return a!==void 0&&s.sort(a),s.slice(i*r,(i+1)*r)}};function She({teamPuzState:t,huntEndTime:e,rank:n}){const{solveTime:r,numHintsUsed:i=0,numWrongGuesses:a=0,numMembers:s=0}=t??{},o=r!==void 0,l=t!==void 0,u=r!==void 0&&r>e,c=[...o?["big-board-solved"]:a>0?["big-board-wrong"]:l?["big-board-unlocked"]:[],...i>0?["big-board-hinted"]:[],...u?["big-board-postsolved"]:[],...s>0?["big-board-active"]:[]].join(" ");return d.jsxs("td",{className:c===""?void 0:c,title:r===void 0?void 0:`Solved at ${new Date(r).toLocaleString()}`,children:[n===void 0?null:n+1,a===0?null:d.jsxs("small",{children:["â",a]}),i===0?null:d.jsxs("small",{children:["+",i]})]})}const _he=R.memo(She);function The({hopeSnapshot:t}){const e=n$(t);return d.jsx("td",{style:{textAlign:"right"},children:e===null?d.jsx(he,{inline:!0}):Yc(e)})}const Che=R.memo(The),Ihe=(t,e,n)=>{const r={},i={},a={},s={},o=Object.fromEntries(Object.keys(t.teams).map(l=>[l,{numSolves:0,numWrongGuesses:0,numHintsUsed:0}]));for(const[l,u]of Object.entries(t.teams)){const{isHidden:h=!1}=e[l],c=o[l];for(const[f,p]of Object.entries(u.unlocks)){const{solveTime:v,numWrongGuesses:m=0,numHintsUsed:g=0}=p;s[f]??(s[f]={numUnlocks:0,numSolves:0,numWrongGuesses:0,numHintsUsed:0});const y=s[f];v!==void 0&&(h||(y.numSolves??(y.numSolves=0),y.numSolves++,i[f]??(i[f]=[]),i[f].push({teamId:l,solveTime:v})),a$(n[f])&&(c.lastSolveTime=Math.max(c.lastSolveTime??0,v),c.numSolves++)),c.numWrongGuesses+=m,c.numHintsUsed+=g,h||(y.numUnlocks++,y.numWrongGuesses+=m,y.numHintsUsed+=g)}}for(const{teamId:l}of Object.values(e))r[l]=Object.keys(r).length;for(const[l,u]of Object.entries(i)){u.sort((h,c)=>h.solveTime-c.solveTime);for(const[h,{teamId:c}]of u.entries())a[c]??(a[c]={}),a[c][l]=h}return{globalRanks:r,solveTimes:i,solveTimeRanks:a,puzStats:s,teamStats:o}};function Ehe(){const t=hi(P=>P.showHidden),e=hi(P=>P.setShowHidden),n=hi(P=>P.puzzleSortOrder),r=hi(P=>P.setPuzzleSortOrder),i=Dt(),a=Rt(ne.TEAM_LIST)??{},s=Rt(ne.HUNT_ADMIN),o=r$()??!1,l=Rt(ne.BIG_BOARD),u=wH(t),h=Je(P=>P.bigBoardPuzzleFilter);Go();const[c,f]=R.useState(Date.now());if(R.useEffect(()=>{const P=setInterval(()=>f(Date.now()),2e4);return()=>clearInterval(P)},[c,f]),l===null||i===null||s===null||u===null)return d.jsx(Ut,{});const{puzzles:p,teamAdminData:v}=s,m=u(),{huntEndTime:g}=i,{globalRanks:y,solveTimeRanks:x,puzStats:A,teamStats:b}=Ihe(l,a,p),S=[{key:"big-meta",header:"",filterFunc:P=>P.isBigMeta??!1},{key:"celestials",header:"Celestials",filterFunc:P=>P.isCelestial??!1},{key:"micropuzzles",header:"Micropuzzles",filterFunc:P=>ys(P)&&P.customPuzzleData===void 0&&uy(P.displayName!==""?P.displayName:P.puzName).includes(uy(h))},{key:"custom",header:"Custom",filterFunc:P=>P.customPuzzleData!==void 0},{key:"story",header:"Story beats",filterFunc:P=>P.isStory??!1}],w=S.map(({key:P,filterFunc:D})=>Object.values(p).filter(D).sort((L,F)=>{switch(["story"].includes(P)?hv.CANONICAL:n){case hv.CANONICAL:return L.order-F.order;case hv.SOLVES:{const{numUnlocks:V=0,numSolves:U=0}=A[L.puzName]??{},{numUnlocks:z=0,numSolves:H=0}=A[F.puzName]??{},G=H-U;if(G!==0)return G;const N=z-V;return N!==0?N:L.order-F.order}}})),_=w.flat(),T=w.map(P=>xhe(P)),C=T.flat(),E=m.map(P=>{const{numHintsTotal:D=0,unlocks:L={},hope:F}=l.teams[P]??{},{lastSolveTime:V=0,numSolves:U=0,numWrongGuesses:z=0,numHintsUsed:H=0}=b[P]??{},G=y[P],N=!o||Bt.isImpersonate?null:v[P]??null;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx(yH,{teamId:P})}),d.jsx("td",{children:N===null?null:d.jsxs("span",{style:{display:"flex"},children:[d.jsx(ms,{href:`impersonate/${N.userId}`,children:d.jsx(Ce,{text:"Impersonate",children:d.jsx(ve,{children:"ðµï¸"})})}),d.jsx(nn,{path:`/sock-admin/${P}`,children:d.jsx(Ce,{text:"Sock Admin",children:d.jsx(ve,{children:"ð§¦ï¸"})})})]})}),d.jsx("td",{children:G!==void 0?G+1:null}),d.jsxs("td",{children:[U<=0?null:U,z<=0?null:d.jsxs("small",{children:["â",z]})]}),d.jsx("td",{children:H<=0&&D<=0?null:`${H} / ${D}`}),d.jsx(Che,{hopeSnapshot:F}),d.jsx("td",{children:V?d.jsx(In,{timestamp:V}):null}),_.map(({puzName:W})=>{var q;return d.jsx(_he,{teamPuzState:L[W],huntEndTime:g,rank:(q=x[P])==null?void 0:q[W]},W)})]},P)}),k=[d.jsx("th",{children:"Team"},"team"),d.jsx("th",{},"impersonate"),d.jsx("th",{children:"#"},"rank"),d.jsx("th",{children:d.jsx(Ce,{text:"Solves",children:d.jsx(ve,{children:"â"})})},"num-solves"),d.jsx("th",{children:d.jsx(Ce,{text:"Hints",children:d.jsx(ve,{children:"ð¡"})})},"num-hints"),d.jsx("th",{children:d.jsx(Ce,{text:"Hope",children:d.jsx(ve,{children:"â¨"})})},"hope"),d.jsx("th",{children:"Last solve"},"last-solve")],I=(P,D)=>d.jsxs("tr",{style:{fontSize:"80%"},children:[d.jsx("td",{children:P}),d.jsx("td",{colSpan:k.length-1}),_.map(({puzName:L})=>D(L))]}),j=(P,D)=>P===0||D===0?"":`${Math.round(100*P/D)}`;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"big-board",children:[d.jsxs("table",{children:[d.jsxs("colgroup",{children:[k.map((P,D)=>d.jsx("col",{},D)),T.map(P=>Ahe(P))]}),d.jsxs("thead",{children:[d.jsxs("tr",{className:"big-board-header-groups",children:[d.jsx("th",{colSpan:k.length}),i$(S,w,({key:P,header:D},L)=>L.length>0?d.jsx("th",{colSpan:L.length,children:d.jsx("div",{className:"big-board-header-group",children:D})},P):null)]}),d.jsxs("tr",{children:[k,C.map(P=>d.jsx(bH,{colData:P},P.colKey))]})]}),d.jsxs("tbody",{children:[I("Solves",P=>{var D;return d.jsx("td",{className:"big-board-solved",children:((D=A[P])==null?void 0:D.numSolves)??0},P)}),I("Guesses",P=>{var D,L;return p[P].answer===null?d.jsx("td",{},P):d.jsx("td",{className:"big-board-wrong",children:(((D=A[P])==null?void 0:D.numWrongGuesses)??0)+(((L=A[P])==null?void 0:L.numSolves)??0)},P)}),I("Unlocks",P=>{var D;return d.jsx("td",{className:"big-board-unlocked",children:((D=A[P])==null?void 0:D.numUnlocks)??0},P)}),I("Hints",P=>{var D;return d.jsx("td",{className:"big-board-hinted",children:((D=A[P])==null?void 0:D.numHintsUsed)??0},P)}),I("%Solve/Guess",P=>{var D,L,F;return p[P].answer===null?d.jsx("td",{},P):d.jsx("td",{children:j(((D=A[P])==null?void 0:D.numSolves)??0,(((L=A[P])==null?void 0:L.numWrongGuesses)??0)+(((F=A[P])==null?void 0:F.numSolves)??0))},P)}),I("%Solve/Unlock",P=>{var D,L;return d.jsx("td",{children:j(((D=A[P])==null?void 0:D.numSolves)??0,((L=A[P])==null?void 0:L.numUnlocks)??0)},P)}),E]})]}),d.jsx("div",{className:"big-board-right-padding"})]}),d.jsxs("div",{className:"big-board-footer",children:[d.jsx(xH,{}),d.jsx(AH,{}),d.jsx(bhe,{desc:d.jsx("span",{className:"big-board-show-hidden-teams-label",children:"Show hidden teams"}),state:t,onChange:e}),d.jsxs("div",{className:"big-board-sort-selection",children:[d.jsx("label",{htmlFor:"big-board-sort-order",children:"Sort puzzles:"}),d.jsx("select",{id:"big-board-sort-order",value:n,onChange:P=>{r(P.target.value)},children:Object.values(hv).map(P=>d.jsx("option",{value:P,children:P},P))})]}),d.jsx(whe,{})]})]})}const khe=10*1e3,Phe=5*60*1e3,ng=t=>{switch(t){case Ft.NEW:return" ";case Ft.DIRTY:return"â ï¸";case Ft.SYNCING:return"â³";case Ft.FAILED:return"ð¥";case Ft.SYNCED:return"â"}},SH=t=>![Ft.NEW,Ft.SYNCED].includes(t);function jhe({dirtyState:t={type:Ft.NEW,lastSyncTime:0},isSummary:e=!1,isFast:n=!1}){const r=ng(t.type),i=Date.now()-t.lastSyncTime,a=SH(t.type),s=a&&i>(n?khe:Phe);return d.jsx("td",{className:`big-board-dirty-state-cell${e?" summary":""}${s?" danger":""}`,title:a?`Last sync: ${UO(i)} ago`:void 0,children:r})}const kA=R.memo(jhe);function zv({numPerSecond:t,isSummary:e=!1}){return d.jsx("td",{className:`big-board-interval-metrics-cell${e?" summary":""}`,children:Math.round(t*10)<=0?null:t.toFixed(1)})}const Mhe=(t,e)=>Object.fromEntries(t.map(({teamId:n})=>{const r=e.teams[n],{fastSync:i,misc:a}=r??{};return[n,{fastSync:i,misc:a}]})),EM=(t,e)=>{const n=[Ft.NEW,Ft.SYNCED,Ft.DIRTY,Ft.FAILED,Ft.SYNCING];return n.indexOf(e.type)>n.indexOf(t.type)&&(t.type=e.type),SH(e.type)&&(t.lastSyncTime===0||e.lastSyncTime<t.lastSyncTime)&&(t.lastSyncTime=e.lastSyncTime),t},Dhe=t=>{const e={},n={},r={};for(const[i,a]of Object.entries(t))for(const[s,o]of Object.entries(a))o!==void 0&&(e[o.type]=(e[o.type]??0)+1,n[i]=EM(n[i]??{type:Ft.NEW,lastSyncTime:0},o),r[s]=EM(r[s]??{type:Ft.NEW,lastSyncTime:0},o));return{dirtyStateCounts:e,teamDirtyStateSummaries:n,colDirtyStateSummaries:r}};function Qh(t){const{label:e,metrics:n}=t;return d.jsxs("div",{className:"health-metrics-summary",children:[e,":"," ",d.jsx("span",{className:"health-metrics-summary-string",children:s$(n)})]})}function Lhe(){const t=Rt(ne.SERVER_HEALTH);if(t===null)return d.jsx(he,{inline:!0});const{report:{miscLocks:e}}=t;return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"health-step-locks",children:[d.jsx("h4",{children:"Most contended misc locks"}),e.length===0?"No locks contended!":d.jsx("div",{className:"health-step-locks-list",children:e.map(({id:n,numActive:r})=>d.jsxs("div",{children:["(",d.jsx("b",{children:r}),") ",n]},n))})]})})}function Nhe(){const t=hi(L=>L.sortOrder),e=hi(L=>L.setSortOrder),n=Rt(ne.SERVER_HEALTH),r=oH(!0),i=wH(!0);if(Go(),r===null||n===null||i===null)return d.jsx(Ut,{});const{report:{fastSyncMetrics:a,slowSyncMetrics:s,checkAnswerMetrics:o,fastSyncQueueLength:l,numAuthsMetrics:u,numRequestsMetrics:h,teamNumAuthsMetrics:c,teamNumRequestsMetrics:f,numActivePeriodicTasksHandlers:p,numActiveConns:v,downloadLockContention:m,syncLockContention:g,farmerLocksContention:y,userTimeUsage:x,systemTimeUsage:A}}=n,b=Mhe(r,n.dirtyState),S=Dhe(b),{dirtyStateCounts:w,teamDirtyStateSummaries:_,colDirtyStateSummaries:T}=S,C=(()=>{switch(t){case fv.LEADERBOARD:return;case fv.HEALTH:return(L,F)=>{const V=_[L],U=_[F],z=(V==null?void 0:V.lastSyncTime)??0,H=(U==null?void 0:U.lastSyncTime)??0,G=(z>0?0:1)-(H>0?0:1);if(G!==0)return G;if(z===0&&H===0){const N=((V==null?void 0:V.type)??Ft.NEW)!==Ft.NEW,W=((U==null?void 0:U.type)??Ft.NEW)!==Ft.NEW;return(N?0:1)-(W?0:1)}return z-H};case fv.ACTIVITY:return(L,F)=>{var z,H;const V=((z=f[L])==null?void 0:z.numPerInterval)??0;return(((H=f[F])==null?void 0:H.numPerInterval)??0)-V}}})(),E=i(C),k=L=>{const F=c[L];if(F===void 0)return 0;const{intervalLength:V,numPerInterval:U}=F;return U/(V/1e3)},I=L=>{const F=f[L];if(F===void 0)return 0;const{intervalLength:V,numPerInterval:U}=F;return U/(V/1e3)},j={numAuthsPerSecond:0,numRequestsPerSecond:0};for(const L of Object.keys(c))j.numAuthsPerSecond+=k(L);for(const L of Object.keys(f))j.numRequestsPerSecond+=I(L);const P=[{colKey:"fastSync",displayName:"Fast Sync",shortName:"Fast"},{colKey:"misc",displayName:"Misc. state",shortName:"Misc"}],D=E.map(L=>{const F=k(L),V=I(L);return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx(yH,{teamId:L})}),d.jsx("td",{children:L}),d.jsx(zv,{numPerSecond:F}),d.jsx(zv,{numPerSecond:V}),d.jsx(kA,{isSummary:!0,dirtyState:_[L]}),P.map(U=>d.jsx(kA,{dirtyState:b[L][U.colKey],isFast:U.colKey==="fastSync"},U.colKey))]},L)});return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"big-board",children:[d.jsx("div",{className:"health-left",children:d.jsxs("table",{children:[d.jsxs("colgroup",{children:[d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{}),d.jsx("col",{className:"big-board-group-end"})]}),d.jsxs("thead",{children:[d.jsx("tr",{className:"big-board-header-groups",children:d.jsx("th",{colSpan:8})}),d.jsxs("tr",{children:[d.jsx("th",{children:"Team"}),d.jsx("th",{children:"ID"}),d.jsx("th",{children:"Auths / s"}),d.jsx("th",{children:"Reqs / s"}),d.jsx("th",{children:"[Summ.]"}),P.map(L=>d.jsx(bH,{colData:L},L.colKey))]})]}),d.jsxs("tbody",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:"[Summary]"}),d.jsx("td",{}),d.jsx(zv,{numPerSecond:j.numAuthsPerSecond,isSummary:!0}),d.jsx(zv,{numPerSecond:j.numRequestsPerSecond,isSummary:!0}),d.jsx("td",{}),P.map(L=>d.jsx(kA,{isSummary:!0,dirtyState:T[L.colKey],isFast:L.colKey==="fastSync"},L.colKey))]}),D]})]})}),d.jsx("div",{className:"health-right",children:d.jsx(Lhe,{})})]}),d.jsxs("div",{className:"health-footer",children:[d.jsxs("div",{className:"health-footer-metrics",children:[d.jsx(Qh,{label:"Fast",metrics:a}),d.jsx(Qh,{label:"Slow",metrics:s}),d.jsx(Qh,{label:"Ans",metrics:o}),d.jsx(Qh,{label:"Auths",metrics:u}),d.jsx(Qh,{label:"Reqs",metrics:h})]}),d.jsxs("div",{className:"health-footer-bottom",children:[d.jsx(xH,{}),d.jsx(AH,{}),d.jsxs("div",{className:"big-board-sort-selection",children:[d.jsx("label",{htmlFor:"big-board-sort-order",children:"Sort by:"}),d.jsx("select",{id:"big-board-sort-order",value:t,onChange:L=>{e(L.target.value)},children:Object.values(fv).map(L=>d.jsx("option",{value:L,children:L},L))})]}),d.jsxs("div",{className:"health-footer-counts",children:[d.jsxs(Ce,{text:"Dirty objects",children:[ng(Ft.DIRTY)," ",w[Ft.DIRTY]??0]}),d.jsxs(Ce,{text:"Objects in sync",children:[ng(Ft.SYNCING)," ",w[Ft.SYNCING]??0]}),d.jsxs(Ce,{text:"Failed syncs",children:[ng(Ft.FAILED)," ",w[Ft.FAILED]??0]}),d.jsxs(Ce,{text:"Fast sync queue length",children:["ð ",l]}),d.jsxs(Ce,{text:"Excess active periodic task handlers",children:["â±ï¸"," ",Math.max(p-1,0)]}),d.jsxs(Ce,{text:"Active connections",children:["ð ",v]}),d.jsxs(Ce,{text:"Download lock contention",children:["ð¥ ",m]}),d.jsxs(Ce,{text:"Sync lock contention",children:["ð ",g]}),d.jsxs(Ce,{text:"Farmer locks contention",children:["ð¨âð¾ ",y]}),d.jsxs(Ce,{text:"User time",children:["U: ",(x*100).toFixed(1),"%"]}),d.jsxs(Ce,{text:"System time",children:["S: ",(A*100).toFixed(1),"%"]}),d.jsx("div",{className:"health-footer-bottom-spacer"})]})]})]})]})}const zhe={"notif-cheer":[0,10057.142857142857],"notif-chimes":[12e3,2500.022675736961],"notif-chimes-sad":[16e3,2500.022675736961],"notif-claps":[2e4,4002.426303854875],"notif-space-1":[26e3,3999.8639455782304],"notif-space-2":[31e3,3999.863945578234],"notif-space-3":[36e3,3999.863945578234],"notif-space-4":[41e3,3999.863945578234],"notif-space-5":[46e3,3999.863945578234]},_H={sprite:zhe},Rhe="/static/game/assets/sfx.mp3";var cy={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||n;if(c=parseFloat(c),f.ctx||h(),typeof c<"u"&&c>=0&&c<=1){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var p=0;p<f._howls.length;p++)if(!f._howls[p]._webAudio)for(var v=f._howls[p]._getSoundIds(),m=0;m<v.length;m++){var g=f._howls[p]._soundById(v[m]);g&&g._node&&(g._node.volume=g._volume*c)}return f}return f._volume},mute:function(c){var f=this||n;f.ctx||h(),f._muted=c,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,n.ctx.currentTime);for(var p=0;p<f._howls.length;p++)if(!f._howls[p]._webAudio)for(var v=f._howls[p]._getSoundIds(),m=0;m<v.length;m++){var g=f._howls[p]._soundById(v[m]);g&&g._node&&(g._node.muted=c?!0:g._muted)}return f},stop:function(){for(var c=this||n,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||n,f=c._howls.length-1;f>=0;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,h()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var f=new Audio;f.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return c}if(!f||typeof f.canPlayType!="function")return c;var p=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=c._navigator?c._navigator.userAgent:"",m=v.match(/OPR\/(\d+)/g),g=m&&parseInt(m[0].split("/")[1],10)<33,y=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,x=v.match(/Version\/(.*?) /),A=y&&x&&parseInt(x[1],10)<15;return c._codecs={mp3:!!(!g&&(p||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!A&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!A&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(p){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,c._releaseHtml5Audio(v)}catch{c.noAudio=!0;break}for(var m=0;m<c._howls.length;m++)if(!c._howls[m]._webAudio)for(var g=c._howls[m]._getSoundIds(),y=0;y<g.length;y++){var x=c._howls[m]._soundById(g[y]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}c._autoResume();var A=c.ctx.createBufferSource();A.buffer=c._scratchBuffer,A.connect(c.ctx.destination),typeof A.start>"u"?A.noteOn(0):A.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),A.onended=function(){A.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var b=0;b<c._howls.length;b++)c._howls[b]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||n;return c._unlocked&&f._html5AudioPool.push(c),f},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio){for(var p=0;p<c._howls[f]._sounds.length;p++)if(!c._howls[f]._sounds[p]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend){c._suspendTimer=null,c.state="suspending";var v=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(v,v)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var f=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(c)};r.prototype={init:function(c){var f=this;return n.ctx||h(),f._autoplay=c.autoplay||!1,f._format=typeof c.format!="string"?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,f._rate=c.rate||1,f._sprite=c.sprite||{},f._src=typeof c.src!="string"?c.src:[c.src],f._volume=c.volume!==void 0?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var c=this,f=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var p=0;p<c._src.length;p++){var v,m;if(c._format&&c._format[p])v=c._format[p];else{if(m=c._src[p],typeof m!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(m),v||(v=/\.([^.]+)$/.exec(m.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&n.codecs(v)){f=c._src[p];break}}if(!f){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=f,c._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&s(c),c},play:function(c,f){var p=this,v=null;if(typeof c=="number")v=c,c=null;else{if(typeof c=="string"&&p._state==="loaded"&&!p._sprite[c])return null;if(typeof c>"u"&&(c="__default",!p._playLock)){for(var m=0,g=0;g<p._sounds.length;g++)p._sounds[g]._paused&&!p._sounds[g]._ended&&(m++,v=p._sounds[g]._id);m===1?c=null:v=null}}var y=v?p._soundById(v):p._inactiveSound();if(!y)return null;if(v&&!c&&(c=y._sprite||"__default"),p._state!=="loaded"){y._sprite=c,y._ended=!1;var x=y._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(v&&!y._paused)return f||p._loadQueue("play"),y._id;p._webAudio&&n._autoResume();var A=Math.max(0,y._seek>0?y._seek:p._sprite[c][0]/1e3),b=Math.max(0,(p._sprite[c][0]+p._sprite[c][1])/1e3-A),S=b*1e3/Math.abs(y._rate),w=p._sprite[c][0]/1e3,_=(p._sprite[c][0]+p._sprite[c][1])/1e3;y._sprite=c,y._ended=!1;var T=function(){y._paused=!1,y._seek=A,y._start=w,y._stop=_,y._loop=!!(y._loop||p._sprite[c][2])};if(A>=_){p._ended(y);return}var C=y._node;if(p._webAudio){var E=function(){p._playLock=!1,T(),p._refreshBuffer(y);var P=y._muted||p._muted?0:y._volume;C.gain.setValueAtTime(P,n.ctx.currentTime),y._playStart=n.ctx.currentTime,typeof C.bufferSource.start>"u"?y._loop?C.bufferSource.noteGrainOn(0,A,86400):C.bufferSource.noteGrainOn(0,A,b):y._loop?C.bufferSource.start(0,A,86400):C.bufferSource.start(0,A,b),S!==1/0&&(p._endTimers[y._id]=setTimeout(p._ended.bind(p,y),S)),f||setTimeout(function(){p._emit("play",y._id),p._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?E():(p._playLock=!0,p.once("resume",E),p._clearTimer(y._id))}else{var k=function(){C.currentTime=A,C.muted=y._muted||p._muted||n._muted||C.muted,C.volume=y._volume*n.volume(),C.playbackRate=y._rate;try{var P=C.play();if(P&&typeof Promise<"u"&&(P instanceof Promise||typeof P.then=="function")?(p._playLock=!0,T(),P.then(function(){p._playLock=!1,C._unlocked=!0,f?p._loadQueue():p._emit("play",y._id)}).catch(function(){p._playLock=!1,p._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):f||(p._playLock=!1,T(),p._emit("play",y._id)),C.playbackRate=y._rate,C.paused){p._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||y._loop?p._endTimers[y._id]=setTimeout(p._ended.bind(p,y),S):(p._endTimers[y._id]=function(){p._ended(y),C.removeEventListener("ended",p._endTimers[y._id],!1)},C.addEventListener("ended",p._endTimers[y._id],!1))}catch(D){p._emit("playerror",y._id,D)}};C.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(C.src=p._src,C.load());var I=window&&window.ejecta||!C.readyState&&n._navigator.isCocoonJS;if(C.readyState>=3||I)k();else{p._playLock=!0,p._state="loading";var j=function(){p._state="loaded",k(),C.removeEventListener(n._canPlayEvent,j,!1)};C.addEventListener(n._canPlayEvent,j,!1),p._clearTimer(y._id)}}return y._id},pause:function(c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(c)}}),f;for(var p=f._getSoundIds(c),v=0;v<p.length;v++){f._clearTimer(p[v]);var m=f._soundById(p[v]);if(m&&!m._paused&&(m._seek=f.seek(p[v]),m._rateSeek=0,m._paused=!0,f._stopFade(p[v]),m._node))if(f._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),f._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||f._emit("pause",m?m._id:null)}return f},stop:function(c,f){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(c)}}),p;for(var v=p._getSoundIds(c),m=0;m<v.length;m++){p._clearTimer(v[m]);var g=p._soundById(v[m]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,p._stopFade(v[m]),g._node&&(p._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),p._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&p._clearSound(g._node))),f||p._emit("stop",g._id))}return p},mute:function(c,f){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(c,f)}}),p;if(typeof f>"u")if(typeof c=="boolean")p._muted=c;else return p._muted;for(var v=p._getSoundIds(f),m=0;m<v.length;m++){var g=p._soundById(v[m]);g&&(g._muted=c,g._interval&&p._stopFade(g._id),p._webAudio&&g._node?g._node.gain.setValueAtTime(c?0:g._volume,n.ctx.currentTime):g._node&&(g._node.muted=n._muted?!0:c),p._emit("mute",g._id))}return p},volume:function(){var c=this,f=arguments,p,v;if(f.length===0)return c._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var m=c._getSoundIds(),g=m.indexOf(f[0]);g>=0?v=parseInt(f[0],10):p=parseFloat(f[0])}else f.length>=2&&(p=parseFloat(f[0]),v=parseInt(f[1],10));var y;if(typeof p<"u"&&p>=0&&p<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,f)}}),c;typeof v>"u"&&(c._volume=p),v=c._getSoundIds(v);for(var x=0;x<v.length;x++)y=c._soundById(v[x]),y&&(y._volume=p,f[2]||c._stopFade(v[x]),c._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(p,n.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=p*n.volume()),c._emit("volume",y._id))}else return y=v?c._soundById(v):c._sounds[0],y?y._volume:0;return c},fade:function(c,f,p,v){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(c,f,p,v)}}),m;c=Math.min(Math.max(0,parseFloat(c)),1),f=Math.min(Math.max(0,parseFloat(f)),1),p=parseFloat(p),m.volume(c,v);for(var g=m._getSoundIds(v),y=0;y<g.length;y++){var x=m._soundById(g[y]);if(x){if(v||m._stopFade(g[y]),m._webAudio&&!x._muted){var A=n.ctx.currentTime,b=A+p/1e3;x._volume=c,x._node.gain.setValueAtTime(c,A),x._node.gain.linearRampToValueAtTime(f,b)}m._startFadeInterval(x,c,f,p,g[y],typeof v>"u")}}return m},_startFadeInterval:function(c,f,p,v,m,g){var y=this,x=f,A=p-f,b=Math.abs(A/.01),S=Math.max(4,b>0?v/b:v),w=Date.now();c._fadeTo=p,c._interval=setInterval(function(){var _=(Date.now()-w)/v;w=Date.now(),x+=A*_,x=Math.round(x*100)/100,A<0?x=Math.max(p,x):x=Math.min(p,x),y._webAudio?c._volume=x:y.volume(x,c._id,!0),g&&(y._volume=x),(p<f&&x<=p||p>f&&x>=p)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,y.volume(p,c._id),y._emit("fade",c._id))},S)},_stopFade:function(c){var f=this,p=f._soundById(c);return p&&p._interval&&(f._webAudio&&p._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(p._interval),p._interval=null,f.volume(p._fadeTo,c),p._fadeTo=null,f._emit("fade",c)),f},loop:function(){var c=this,f=arguments,p,v,m;if(f.length===0)return c._loop;if(f.length===1)if(typeof f[0]=="boolean")p=f[0],c._loop=p;else return m=c._soundById(parseInt(f[0],10)),m?m._loop:!1;else f.length===2&&(p=f[0],v=parseInt(f[1],10));for(var g=c._getSoundIds(v),y=0;y<g.length;y++)m=c._soundById(g[y]),m&&(m._loop=p,c._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=p,p&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,c.playing(g[y])&&(c.pause(g[y],!0),c.play(g[y],!0)))));return c},rate:function(){var c=this,f=arguments,p,v;if(f.length===0)v=c._sounds[0]._id;else if(f.length===1){var m=c._getSoundIds(),g=m.indexOf(f[0]);g>=0?v=parseInt(f[0],10):p=parseFloat(f[0])}else f.length===2&&(p=parseFloat(f[0]),v=parseInt(f[1],10));var y;if(typeof p=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,f)}}),c;typeof v>"u"&&(c._rate=p),v=c._getSoundIds(v);for(var x=0;x<v.length;x++)if(y=c._soundById(v[x]),y){c.playing(v[x])&&(y._rateSeek=c.seek(v[x]),y._playStart=c._webAudio?n.ctx.currentTime:y._playStart),y._rate=p,c._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(p,n.ctx.currentTime):y._node&&(y._node.playbackRate=p);var A=c.seek(v[x]),b=(c._sprite[y._sprite][0]+c._sprite[y._sprite][1])/1e3-A,S=b*1e3/Math.abs(y._rate);(c._endTimers[v[x]]||!y._paused)&&(c._clearTimer(v[x]),c._endTimers[v[x]]=setTimeout(c._ended.bind(c,y),S)),c._emit("rate",y._id)}}else return y=c._soundById(v),y?y._rate:c._rate;return c},seek:function(){var c=this,f=arguments,p,v;if(f.length===0)c._sounds.length&&(v=c._sounds[0]._id);else if(f.length===1){var m=c._getSoundIds(),g=m.indexOf(f[0]);g>=0?v=parseInt(f[0],10):c._sounds.length&&(v=c._sounds[0]._id,p=parseFloat(f[0]))}else f.length===2&&(p=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof p=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,f)}}),c;var y=c._soundById(v);if(y)if(typeof p=="number"&&p>=0){var x=c.playing(v);x&&c.pause(v,!0),y._seek=p,y._ended=!1,c._clearTimer(v),!c._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=p);var A=function(){x&&c.play(v,!0),c._emit("seek",v)};if(x&&!c._webAudio){var b=function(){c._playLock?setTimeout(b,0):A()};setTimeout(b,0)}else A()}else if(c._webAudio){var S=c.playing(v)?n.ctx.currentTime-y._playStart:0,w=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(w+S*Math.abs(y._rate))}else return y._node.currentTime;return c},playing:function(c){var f=this;if(typeof c=="number"){var p=f._soundById(c);return p?!p._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(c){var f=this,p=f._duration,v=f._soundById(c);return v&&(p=f._sprite[v._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var c=this,f=c._sounds,p=0;p<f.length;p++)f[p]._paused||c.stop(f[p]._id),c._webAudio||(c._clearSound(f[p]._node),f[p]._node.removeEventListener("error",f[p]._errorFn,!1),f[p]._node.removeEventListener(n._canPlayEvent,f[p]._loadFn,!1),f[p]._node.removeEventListener("ended",f[p]._endFn,!1),n._releaseHtml5Audio(f[p]._node)),delete f[p]._node,c._clearTimer(f[p]._id);var v=n._howls.indexOf(c);v>=0&&n._howls.splice(v,1);var m=!0;for(p=0;p<n._howls.length;p++)if(n._howls[p]._src===c._src||c._src.indexOf(n._howls[p]._src)>=0){m=!1;break}return a&&m&&delete a[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,f,p,v){var m=this,g=m["_on"+c];return typeof f=="function"&&g.push(v?{id:p,fn:f,once:v}:{id:p,fn:f}),m},off:function(c,f,p){var v=this,m=v["_on"+c],g=0;if(typeof f=="number"&&(p=f,f=null),f||p)for(g=0;g<m.length;g++){var y=p===m[g].id;if(f===m[g].fn&&y||!f&&y){m.splice(g,1);break}}else if(c)v["_on"+c]=[];else{var x=Object.keys(v);for(g=0;g<x.length;g++)x[g].indexOf("_on")===0&&Array.isArray(v[x[g]])&&(v[x[g]]=[])}return v},once:function(c,f,p){var v=this;return v.on(c,f,p,1),v},_emit:function(c,f,p){for(var v=this,m=v["_on"+c],g=m.length-1;g>=0;g--)(!m[g].id||m[g].id===f||c==="load")&&(setTimeout((function(y){y.call(this,f,p)}).bind(v,m[g].fn),0),m[g].once&&v.off(c,m[g].fn,m[g].id));return v._loadQueue(c),v},_loadQueue:function(c){var f=this;if(f._queue.length>0){var p=f._queue[0];p.event===c&&(f._queue.shift(),f._loadQueue()),c||p.action()}return f},_ended:function(c){var f=this,p=c._sprite;if(!f._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(f._ended.bind(f,c),100),f;var v=!!(c._loop||f._sprite[p][2]);if(f._emit("end",c._id),!f._webAudio&&v&&f.stop(c._id,!0).play(c._id),f._webAudio&&v){f._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var m=(c._stop-c._start)*1e3/Math.abs(c._rate);f._endTimers[c._id]=setTimeout(f._ended.bind(f,c),m)}return f._webAudio&&!v&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,f._clearTimer(c._id),f._cleanBuffer(c._node),n._autoSuspend()),!f._webAudio&&!v&&f.stop(c._id,!0),f},_clearTimer:function(c){var f=this;if(f._endTimers[c]){if(typeof f._endTimers[c]!="function")clearTimeout(f._endTimers[c]);else{var p=f._soundById(c);p&&p._node&&p._node.removeEventListener("ended",f._endTimers[c],!1)}delete f._endTimers[c]}return f},_soundById:function(c){for(var f=this,p=0;p<f._sounds.length;p++)if(c===f._sounds[p]._id)return f._sounds[p];return null},_inactiveSound:function(){var c=this;c._drain();for(var f=0;f<c._sounds.length;f++)if(c._sounds[f]._ended)return c._sounds[f].reset();return new i(c)},_drain:function(){var c=this,f=c._pool,p=0,v=0;if(!(c._sounds.length<f)){for(v=0;v<c._sounds.length;v++)c._sounds[v]._ended&&p++;for(v=c._sounds.length-1;v>=0;v--){if(p<=f)return;c._sounds[v]._ended&&(c._webAudio&&c._sounds[v]._node&&c._sounds[v]._node.disconnect(0),c._sounds.splice(v,1),p--)}}},_getSoundIds:function(c){var f=this;if(typeof c>"u"){for(var p=[],v=0;v<f._sounds.length;v++)p.push(f._sounds[v]._id);return p}else return[c]},_refreshBuffer:function(c){var f=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=a[f._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),f},_cleanBuffer:function(c){var f=this,p=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!c.bufferSource)return f;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),p))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,f},_clearSound:function(c){var f=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);f||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,f._sounds.push(c),c.create(),c},create:function(){var c=this,f=c._parent,p=n._muted||c._muted||c._parent._muted?0:c._volume;return f._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(p,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=f._src,c._node.preload=f._preload===!0?"auto":f._preload,c._node.volume=p*n.volume(),c._node.load()),c},reset:function(){var c=this,f=c._parent;return c._muted=f._muted,c._loop=f._loop,c._volume=f._volume,c._rate=f._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,f=c._parent;f._duration=Math.ceil(c._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,f=c._parent;f._duration===1/0&&(f._duration=Math.ceil(c._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var a={},s=function(c){var f=c._src;if(a[f]){c._duration=a[f].duration,u(c);return}if(/^data:[^;]+;base64,/.test(f)){for(var p=atob(f.split(",")[1]),v=new Uint8Array(p.length),m=0;m<p.length;++m)v[m]=p.charCodeAt(m);l(v.buffer,c)}else{var g=new XMLHttpRequest;g.open(c._xhr.method,f,!0),g.withCredentials=c._xhr.withCredentials,g.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(y){g.setRequestHeader(y,c._xhr.headers[y])}),g.onload=function(){var y=(g.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}l(g.response,c)},g.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete a[f],c.load())},o(g)}},o=function(c){try{c.send()}catch{c.onerror()}},l=function(c,f){var p=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(m){m&&f._sounds.length>0?(a[f._src]=m,u(f,m)):p()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(v).catch(p):n.ctx.decodeAudioData(c,v,p)},u=function(c,f){f&&!c._duration&&(c._duration=f.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},h=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=f?parseInt(f[1],10):null;if(c&&p&&p<9){var v=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!v&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof zl<"u"?(zl.HowlerGlobal=e,zl.Howler=n,zl.Howl=r,zl.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;if(r=typeof r!="number"?a._pos[1]:r,i=typeof i!="number"?a._pos[2]:i,typeof n=="number")a._pos=[n,r,i],typeof a.ctx.listener.positionX<"u"?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]);else return a._pos;return a},HowlerGlobal.prototype.orientation=function(n,r,i,a,s,o){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(r=typeof r!="number"?u[1]:r,i=typeof i!="number"?u[2]:i,a=typeof a!="number"?u[3]:a,s=typeof s!="number"?u[4]:s,o=typeof o!="number"?u[5]:o,typeof n=="number")l._orientation=[n,r,i,a,s,o],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(a,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,i,a,s,o);else return u;return l},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var a=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var s=i._getSoundIds(r),o=0;o<s.length;o++){var l=i._soundById(s[o]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,a),a==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(n,r,i,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(n,r,i,a)}}),s;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof a>"u")if(typeof n=="number")s._pos=[n,r,i];else return s._pos;for(var o=s._getSoundIds(a),l=0;l<o.length;l++){var u=s._soundById(o[l]);if(u)if(typeof n=="number")u._pos=[n,r,i],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setPosition(n,r,i)),s._emit("pos",u._id);else return u._pos}return s},Howl.prototype.orientation=function(n,r,i,a){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(n,r,i,a)}}),s;if(r=typeof r!="number"?s._orientation[1]:r,i=typeof i!="number"?s._orientation[2]:i,typeof a>"u")if(typeof n=="number")s._orientation=[n,r,i];else return s._orientation;for(var o=s._getSoundIds(a),l=0;l<o.length;l++){var u=s._soundById(o[l]);if(u)if(typeof n=="number")u._orientation=[n,r,i],u._node&&(u._panner||(u._pos||(u._pos=s._pos||[0,0,-.5]),e(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setOrientation(n,r,i)),s._emit("orientation",u._id);else return u._orientation}return s},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,a,s;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof a>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return s=n._soundById(parseInt(r[0],10)),s?s._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],a=parseInt(r[1],10));for(var o=n._getSoundIds(a),l=0;l<o.length;l++)if(s=n._soundById(o[l]),s){var u=s._pannerAttr;u={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:u.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:u.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:u.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:u.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:u.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:u.panningModel};var h=s._panner;h||(s._pos||(s._pos=n._pos||[0,0,-.5]),e(s,"spatial"),h=s._panner),h.coneInnerAngle=u.coneInnerAngle,h.coneOuterAngle=u.coneOuterAngle,h.coneOuterGain=u.coneOuterGain,h.distanceModel=u.distanceModel,h.maxDistance=u.maxDistance,h.refDistance=u.refDistance,h.rolloffFactor=u.rolloffFactor,h.panningModel=u.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(cy);const na=Object.fromEntries(Object.keys(_H.sprite).map(t=>[t.toUpperCase(),t]));class i_{constructor(){lv(this,"howl");lv(this,"prevPlayIds");this.howl=new cy.Howl({src:[Rhe],sprite:_H.sprite}),this.prevPlayIds={}}stopAndPlay(e){this.howl.stop(),this.howl.play(e)}teardown(){this.howl.unload()}handleNotif(e){const n=r=>{const i=this.prevPlayIds[e.type];i!==void 0&&this.howl.stop(i),this.prevPlayIds[e.type]=this.howl.play(r)};switch(e.type){case Ko.SUBMISSION_REJECTED:n(na["NOTIF-CHIMES-SAD"]);break;case Ko.HINT_ANSWERED:case Ko.ADMIN_QUEUE_TASK:case Ko.ERRATUM:{n(na["NOTIF-CHIMES"]);break}case Ko.UNLOCK:{const{puzData:{rarity:r=xt.COMMON,isFindCelestial:i=!1,isCelestial:a=!1}}=e;n({[xt.LEGENDARY]:na["NOTIF-SPACE-5"],[xt.EPIC]:na["NOTIF-SPACE-4"],[xt.RARE]:na["NOTIF-SPACE-3"],[xt.UNCOMMON]:na["NOTIF-SPACE-2"],[xt.COMMON]:na["NOTIF-SPACE-1"]}[i?xt.LEGENDARY:a?xt.COMMON:r]);break}case Ko.SOLVE:{n(na["NOTIF-CLAPS"]);break}case Ko.VICTORY:{n(na["NOTIF-CHEER"]);break}}}}const Ohe=()=>{const t=$c(r=>r.volume),e=$c(r=>r.isMuted),n=o$(r=>r.setPlayAudioNotif);R.useEffect(()=>{cy.Howler.volume(t/100)},[t,e]),R.useEffect(()=>{cy.Howler.mute(e)},[e]),R.useEffect(()=>{const r=new i_;return n(i=>{r.handleNotif(i)}),()=>{n(null),r.teardown()}},[n])};function Fhe(t){const{puzName:e}=t,n=Te(ne.SOLUTION_CONTENT,{puzName:e});if(n===null)return d.jsx(he,{inline:!0});const{answer:r,authors:i,otherCredits:a}=n,s=(()=>{if(!(i===void 0||i.length===0))switch(i.length){case 1:return i[0];case 2:return`${i[0]} and ${i[1]}`;default:return i.map((o,l)=>l===i.length-1?`and ${o}`:o).join(", ")}})();return d.jsxs(d.Fragment,{children:[s!==void 0?d.jsxs("div",{className:"solution-authors",children:["Written by ",s,a!==void 0?a.split(`
`).map((o,l)=>d.jsxs(Wc.Fragment,{children:[d.jsx("br",{}),o]},l)):null]}):null,r!==null?d.jsxs("div",{className:"solution-answer",children:[d.jsx("b",{children:"Answer:"})," ",d.jsx("div",{className:"solved-title-answer spoiler",children:r})]}):null,d.jsx(Do,{puzName:e,contentType:gs.SOLUTION})]})}function TH(){const t=Dt(),e=pp(),{puzName:n,slug:r}=e,i=Ho(),a=ir(),s=Ea(n),o=s!==null?JO(n,!0,s)||a:null,l=s!==null&&o!==null?Q1(e)&&(i||o):null,u=Je(p=>p.setRedirectCommand),[h,c]=R.useState(!1);if(R.useEffect(()=>{(l??!0)||u({path:r?`/puzzle/${r}`:"/puzzles"})},[l,r,u]),t===null||i===null||!(l??!1))return d.jsx(he,{inline:!0});const f=!a&&(t.lockedSolutions[n]??!1);return i&&!h&&(!o||f)?d.jsxs("div",{className:"puzzle-page-body solution-page",children:[d.jsx("div",{children:f?"The solution is hidden because you have not solved all the feeders for this puzzle.":"The solution is hidden because you have not solved the puzzle."}),d.jsx("div",{children:d.jsx("button",{onClick:()=>{c(!0)},children:"Reveal solution"})})]}):!h&&f?d.jsx("div",{className:"puzzle-page-body solution-page",children:"Solve all earlier puzzles to unlock this solution."}):d.jsx("div",{className:"puzzle-page-body solution-page",children:d.jsx(Fhe,{puzName:n})})}function Bhe({puzName:t}){const e=tT(),n=e.includes(t),r=mh();return d.jsx("a",{className:Tt({"pin-button":!0,selected:n}),href:"#",onClick:i=>{i.preventDefault(),r({pinnedPuzzles:n?e.filter(a=>a!==t):[...e,t]})},children:d.jsx(Ce,{text:`${n?"Unpin":"Pin"} this puzzle. This is just for your convenience and doesnât affect your teammates.`,placement:"bottom",children:d.jsx(ve,{children:"ðï¸"})})})}function Vhe(t){var A;const{puzData:e}=t,{puzName:n}=e,r=He(),i=ot(),a=Dt(),s=Ds(n),o=((A=Te(ne.TEAM_TITLES,r!==null?{teamId:r}:null))==null?void 0:A.titles)??null,l=(a==null?void 0:a.puzzles[Rn.puzName])!==void 0,u=Te(ne.TEAM_PUZZLE_105,l&&r!==null?{teamId:r}:null),h=Te(ne.PUZZLE_CONTENT,{puzName:n}),[c,f]=R.useState(!1),p=wn(),v=R.useRef(null),m=Oa();if(r===null||a===null||s===null||o===null||h===null||l&&u===null||m===null)return d.jsx(he,{inline:!0});const{isBeforeFirstWish:g}=m,y=()=>{p.acquireAndRun(async b=>{if(v.current===null)return;const S=v.current.value.trim();await i.sendScopeStepAndWaitAsync({type:ne.TEAM_TITLES,teamId:r},{setTitle:{puzName:n,title:S}}),!b()&&f(!1)})},x=o[n];return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"puzzle-header",children:[c?d.jsx("input",{type:"text",ref:v,autoFocus:!0,maxLength:l$,defaultValue:x,disabled:p.isHeld,onBlur:()=>y(),onKeyDown:b=>{b.key==="Enter"&&y()}}):d.jsxs("h1",{children:[g?null:d.jsx(Bhe,{puzName:n})," ",s," ",e.displayName===""&&(u==null?void 0:u.confirmedTitles[n])===void 0?d.jsx("a",{className:"puzzle-rename-button",href:"#",onClick:b=>{b.preventDefault(),f(!0)},children:d.jsx(Ce,{text:`${x?"Rename":"Name"} this star. This is just for your convenience and is shared with your team.`,placement:"bottom",children:d.jsx(ve,{children:"âï¸"})})}):null]}),e.isStory||h.content.trim()===""?null:d.jsx(Ce,{text:"Copy to clipboard!",placement:"bottom",children:d.jsx("button",{className:"clipboard-button",onClick:d0.handleClipboardButton,children:d.jsx(ve,{children:"ðï¸"})})})]}),c?d.jsx("div",{className:"section-box puzzle-section-box",children:d.jsx("div",{children:"This star doesnât seem to have a name! You can give it one to make it easier for your team to find it. Come back to change it anytime. This is not part of the puzzle."})}):null]})}function Hhe(t){const{puzName:e}=t,n=Rt(ne.ADMIN_QUEUE);if(!e.startsWith(Rn.customPuzzlePuzNamePrefix))return null;if(n===null)return d.jsx(he,{inline:!0});const r=Object.entries(n.tasks).find(([i,a])=>a.type===Zn.PUZZLE_SUBMISSION&&a.submissionType===ba.PUZZLE_105&&a.teamId===e.slice(Rn.customPuzzlePuzNamePrefix.length));return r===void 0?d.jsx(he,{inline:!0}):d.jsx("div",{children:d.jsx(nn,{path:`/admin-queue/task/${r[0]}`,button:!0,children:"Admin queue task"})})}function Ghe(){const t=pp(),e=aH(t),n=ir(),r=o0(y=>y.isSpectating),[i,a]=R.useState(!1),{puzName:s,isStory:o=!1,answerNormalization:l,hasMultipleAnswers:u}=t,{teamId:h,errataContent:c,renderCtx:f,teamAnswerableScopeState:p,isPuzzleUnlocked:v=null}=e??{},m=(()=>{if(l===void 0)return null;switch(l){case Vx.UPPERCASE_LETTERS_ONLY:return null;case Vx.UPPERCASE_LETTERS_OR_SYMBOLS_ONLY:case Vx.NFKD:return"This puzzleâs answer may contain digits, punctuation marks or other symbols."}})(),g=n&&!r||Bt.isPosthunt&&!o;return d.jsxs("div",{className:Tt({"puzzle-page-body":!0,"puzzle-page-body-full-width":o}),children:[c&&d.jsx(Xce,{contents:c}),d.jsx(Vhe,{puzData:t}),n?d.jsx(Hhe,{puzName:s}):null,!f||v===null?d.jsx(he,{inline:!0}):v||Bt.factcheckMode||i?d.jsx(vC,{renderCtx:f}):d.jsxs("div",{className:"locked-puzzle-content",children:[d.jsxs("div",{children:["You have not unlocked this puzzle. As"," ",Bt.isPosthunt?"a postsolver":"an admin",", you may click the button below to view it. Note that answer submission and other interactive features may not work if the puzzle is locked."]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>{a(!0)},children:"Show puzzle"})})]}),d.jsxs("div",{className:"section-box puzzle-section-box",children:[m!==null?d.jsx("div",{children:m}):null,u??!1?d.jsx("div",{children:"This puzzle has multiple answers."}):null]}),h!==void 0&&p!==void 0&&p!=null?d.jsx(nH,{teamId:h,teamAnswerableScopeState:p}):null,Bt.factcheckMode&&h!==void 0?d.jsxs(d.Fragment,{children:[d.jsx("h1",{children:"Solution"}),d.jsx(TH,{}),d.jsx("h1",{children:"Canned Hints"}),d.jsx(vH,{puzName:s,teamId:h})]}):null,g?d.jsxs("div",{className:"posthunt-controls",children:[d.jsxs("h3",{children:[n?"Admin":"Postsolver"," controls"]}),n?null:d.jsxs("p",{children:["These controls are for your convenience as a postsolver and were not part of the original hunt experience. You may access the full hunt controls in the"," ",d.jsx(nn,{path:"/unlock",children:"Unlocking page"}),"."]}),d.jsx("div",{className:"posthunt-control",children:d.jsx(PC,{puzName:s})}),d.jsx("div",{className:"posthunt-control",children:d.jsx(uH,{})})]}):null]})}function Uhe(){const{puzName:t}=pp(),e=Te(ne.ADMIN_STATS,{puzName:t});if(e===null)return null;const n=Object.entries(e).map(([r,i])=>{const[a,s,o]=JSON.parse(r);return{key:r,answer:a,sigil:s?"âï¸":o?"âï¸":"ð¬ï¸",count:i}}).sort((r,i)=>r.answer.localeCompare(i.answer)).sort((r,i)=>i.count-r.count);return d.jsx(qo,{spec:{columns:[{label:"Answer",sortFunc:(r,i)=>r.answer.localeCompare(i.answer),width:"80%"},{label:"Status",sortFunc:(r,i)=>r.sigil.localeCompare(i.sigil),width:"10%"},{label:"Count",sortFunc:(r,i)=>r.count-i.count,width:"10%"}],renderRow:({key:r,answer:i,sigil:a,count:s})=>d.jsxs("tr",{children:[d.jsx("td",{children:i}),d.jsx("td",{children:d.jsx(ve,{children:a})}),d.jsx(DC,{value:s})]},r)},records:n,className:"list-table"})}function Whe(){const t=He(),e=ir(),{puzName:n}=pp(),r=xs(ne.TEAM_LIST,!0,{hasPosthunt:!0}),i=dp(ne.STATS,{puzName:n},{hasPosthunt:!0});if(!(r!=null&&r.success)||!(i!=null&&i.success))return d.jsx(Ut,{});const a=i.state;let s=0;for(const l of Object.values(a.guesses))s+=l;const o=Object.entries(a.solves).map(([l,u])=>({team:r.state[l],myTeamId:t,unlockTime:a.unlocks[l]??0,solveTime:u,guesses:a.guesses[l]??1})).filter(({team:l})=>l!==void 0&&!l.isHidden).sort((l,u)=>l.solveTime-u.solveTime);return d.jsxs("div",{className:"puzzle-page-body",children:[d.jsx(nn,{path:"/stats",button:!0,style:{alignSelf:"center"},children:"Back to Hunt Stats"}),d.jsxs("div",{className:"info-row",children:[d.jsxs("div",{children:[d.jsx(xn,{label:"Teams unlocked",value:Object.keys(a.unlocks).length}),d.jsx(xn,{label:"Total guesses",value:s}),d.jsx(xn,{label:"Total solves",value:Object.keys(a.solves).length})]}),d.jsxs("div",{children:[d.jsx(xn,{label:"Canned hints found",value:a.getCannedHints}),d.jsx(xn,{label:"Canned hints opened",value:a.openCannedHints}),d.jsx(xn,{label:"Custom hints asked",value:a.hints})]})]}),d.jsx(qo,{spec:{columns:[{label:"Team",sortFunc:(l,u)=>l.team.displayName.localeCompare(u.team.displayName),width:"50%"},{label:"Guesses",sortFunc:(l,u)=>l.guesses-u.guesses,width:"10%"},{label:"Unlock time",sortFunc:(l,u)=>l.unlockTime-u.unlockTime,width:"15%"},{label:"â",sortFunc:(l,u)=>l.solveTime-l.unlockTime-(u.solveTime-u.unlockTime),width:"10%"},{label:"Solve time",sortFunc:(l,u)=>l.solveTime-u.solveTime,width:"15%"}],renderRow:({team:l,myTeamId:u,unlockTime:h,solveTime:c,guesses:f})=>d.jsxs("tr",{className:Tt({"current-team":u===l.teamId}),children:[d.jsx("td",{children:d.jsx(f0,{teamData:l})}),d.jsx(DC,{value:f}),d.jsx("td",{children:d.jsx(In,{timestamp:h})}),d.jsx("td",{children:d.jsx(p0,{from:h,to:c})}),d.jsx("td",{children:d.jsx(In,{timestamp:c})})]},l.teamId)},records:o,className:"list-table"}),e&&d.jsx(Uhe,{})]})}function $he(){const t=He(),e=Dt(),n=Ui(),r=xs(ne.HUNT_STATS,!0,{hasPosthunt:!0});if(e===null||n===null||!(r!=null&&r.success))return d.jsx(Ut,{});const i=r.state,a={...i,solves:0,guesses:0,hints:0,getCannedHints:0,openCannedHints:0};for(const o of Object.values(i.puzzles))a.solves+=o.solves,a.guesses+=o.guesses,a.hints+=o.hints,a.getCannedHints+=o.getCannedHints,a.openCannedHints+=o.openCannedHints;const s=Object.entries(i.puzzles).map(([o,l])=>{const u=e.puzzles[o],{srcTeamId:h}=(u==null?void 0:u.customPuzzleData)??{},c=n[o]??"???",{order:f}=l,p=[l.unlocks,l.guesses,l.solves,l.hints,l.unhinted,l.hinted,l.unsolved];return{puzName:o,puzData:u,myTeamId:t,srcTeamId:h,name:c,order:f,numbers:p}}).filter(({puzData:o})=>o!==void 0&&!o.isStory).sort((o,l)=>o.order-l.order);return d.jsx(_h,{children:d.jsxs("div",{className:"centered-page",children:[d.jsx("h1",{children:"Hunt Stats"}),d.jsxs("div",{className:"info-row",children:[d.jsxs("div",{children:[d.jsx(xn,{label:"Total teams",value:a.teams}),d.jsx(xn,{label:"Total participants",value:a.members}),d.jsx(xn,{label:"Total guesses",value:a.guesses}),d.jsx(xn,{label:"Total solves",value:a.solves}),d.jsx(xn,{label:"Wishes made",value:a.wishes}),d.jsx(xn,{label:"Dust obtained",value:a.dust})]}),d.jsxs("div",{children:[d.jsx(xn,{label:"Canned hints found",value:a.getCannedHints}),d.jsx(xn,{label:"Canned hints opened",value:a.openCannedHints}),d.jsx(xn,{label:"Hint tokens found",value:a.hintTokens}),d.jsx(xn,{label:"Custom hints asked",value:a.hints}),d.jsx(xn,{label:"FAIR PLAY guesses",value:a.fairplayGuesses}),d.jsx(xn,{label:"FAIR PLAY solves",value:a.fairplaySolves})]})]}),d.jsx(qo,{spec:{columns:[{label:"Puzzle",sortFunc:(o,l)=>Xc(o.name,l.name)},..."Unlocks Guesses Solves Hints Unhinted Hinted Unsolved".split(" ").map((o,l)=>({label:o,sortFunc:(u,h)=>u.numbers[l]-h.numbers[l]}))],renderRow:({puzName:o,myTeamId:l,srcTeamId:u,name:h,numbers:c})=>d.jsxs("tr",{className:Tt({"current-team":l===u}),children:[d.jsx("td",{className:Tt({"meta-stats":u!==void 0}),children:d.jsx(tt,{puzName:o,subpage:"stats",children:h})}),c.map((f,p)=>d.jsx(DC,{value:f},p))]},o)},records:s,className:"list-table"})]})})}function xn({label:t,value:e}){return d.jsxs("div",{children:[d.jsxs("b",{children:[t,":"]})," ",e.toLocaleString()]})}function DC({value:t}){return d.jsx("td",{style:{fontVariant:"tabular-nums"},children:t})}function Yhe(){var r;const t=((r=Rt(ne.HUNT_ADMIN))==null?void 0:r.puzzles)??{},e=He();if(e===null||Object.keys(t).length===0)return d.jsx(Ut,{});const n=hH(t).map(({puzName:i})=>d.jsx(PC,{teamId:e,puzName:i},i));return d.jsx("div",{className:"unlock-puzzles",children:n})}function qhe(){const t=ot(),[e,n]=R.useState(null);return Bt.localMode?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{e!==null&&(t.resetServer(e),n(null))},disabled:e===null,children:"Load progress"})," ",d.jsx("input",{type:"file",onChange:r=>{if(r.target.files===null)return;const[i]=r.target.files;if(i===void 0)return;if(i.type!=="application/json"){toastr.error("Saved state should be a JSON file.","Unable to load state");return}const a=new FileReader;a.onload=s=>{var u;const o=(u=s.target)==null?void 0:u.result;if(typeof o!="string")throw new Error("expect file data to be a string");const l=(()=>{try{return JSON.parse(o)}catch(h){return console.error(h),toastr.error("Failed to parse file."),null}})();l!==null&&n(l)},a.onerror=s=>{console.error(s),toastr.error("Failed to read file.")},a.readAsText(i)}})]}):d.jsx("div",{className:"section-box errata-section-box",children:d.jsx("div",{children:"State loader is only supported in local mode."})})}function kM(){const t=ot(),e=He(),n=wn();return e===null?d.jsx(he,{inline:!0}):d.jsx("button",{onClick:()=>{n.acquireAndRun(async r=>{await uF(t,e,r)})},disabled:n.isHeld,children:"Save progress"})}function Xhe(){const t=Dt(),e=ot(),n=Rt(ne.HUNT_ADMIN),r=He();if(r===null||t===null||n===null)return d.jsx(Ut,{});const{puzzles:i}=t,{puzzles:a,numCannedHints:s}=n,o=()=>{e.resetServer()},l=g=>Object.fromEntries(Object.keys(a).map(y=>[y,g])),u=g=>e.sendAdminScopeStep({teams:{[r]:g}}),h=()=>u({overrideUnlocked:l(!0)}),c=()=>u({overrideUnlocked:l(!1)}),f=()=>u({overrideSolved:l(!0)}),p=()=>u({overridePuzzleNumTotalCannedHints:s}),v=Object.values(i).filter(g=>g==null?void 0:g.unlockTime).length,m=Object.values(i).filter(g=>g==null?void 0:g.solveTime).length;return d.jsxs("div",{className:"unlock-toolbar",children:[d.jsxs("div",{className:"button-squish-zone",children:[d.jsx("div",{children:d.jsx("button",{onClick:o,children:d.jsx(ve,{tag:"span",children:"ðï¸ Reset all progress"})})}),d.jsx(Ce,{text:"Lock all",children:d.jsx("button",{onClick:c,children:d.jsx(ve,{tag:"span",children:"ð"})})}),d.jsx(Ce,{text:"Unlock all",children:d.jsx("button",{onClick:h,children:d.jsx(ve,{tag:"span",children:"ð"})})}),d.jsx(Ce,{text:"Solve all",children:d.jsx("button",{onClick:f,children:d.jsx(ve,{tag:"span",children:"âï¸"})})}),d.jsx(Ce,{text:"Get all canned hints",children:d.jsx("button",{onClick:p,children:d.jsx(ve,{tag:"span",children:"ð¥«ï¸"})})})]}),d.jsxs(ve,{tag:"span",children:[v," / ",Object.keys(a).length," ð"]}),d.jsxs(ve,{tag:"span",children:[m," / ",Object.keys(a).length," âï¸"]})]})}function Zhe(){const t=He(),e=ir();return t===null?d.jsx(Ut,{}):d.jsx(_h,{children:d.jsxs("div",{className:"centered-page unlock-page",children:[d.jsx("h1",{children:"Unlocking"}),d.jsxs("div",{className:"section-box errata-section-box",children:[d.jsxs("div",{children:[d.jsx(ve,{tag:"span",children:"â ï¸"})," ",d.jsx("b",{children:"Be careful!"})," There are no confirmations for anything you click on this page."]}),d.jsxs("div",{children:[d.jsx(ve,{tag:"span",children:"â ï¸"})," ",d.jsx("b",{children:"Note:"})," Setting a puzzle to locked may appear to fail silently if your existing solves would cause the puzzle to be immediately unlocked."]})]}),d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("b",{children:"To experience the hunt like a team during the hunt would"}),", click ",d.jsx(ve,{tag:"span",children:"âðï¸ Reset all progressâ"})," and start at the"," ",d.jsx(nn,{path:"/camp",href:`${Bt.djangoBaseUrl}puzzles`,children:"camp"}),". You wonât need to use this page again, unless you want to skip puzzles youâre stuck on. Some details about the postsolving experience:"]}),d.jsxs("ul",{children:[d.jsx("li",{children:"All hunt features are simulated, including interactions with hunt staff and other teams. You will not need to manually set puzzles solved or unlocked to fully progress through the hunt."}),d.jsx("li",{children:"Progress is saved locally in your browser. On most desktop browsers, your progress will be synced across all your browser tabs."}),d.jsx("li",{children:"There is no support for interaction between multiple solvers."}),d.jsx("li",{children:"The leaderboard is frozen."})]}),d.jsxs("p",{children:["The default initial posthunt state has all puzzles unlocked to support postsolving individual puzzles independently."," ",d.jsx("b",{children:"To restore this state"}),", click"," ",d.jsx(ve,{tag:"span",children:"âðï¸ Reset all progressâ"}),", then"," ",d.jsx(ve,{tag:"span",children:"âð Unlock allâ"}),"."]}),d.jsxs("p",{children:["You may ",d.jsx("b",{children:"save or load your teamâs progress"})," using the buttons below. This lets you make backups of your progress or transfer your progress between browsers. You may also use this to transfer your teamâs progress from the live hunt website before the hunt closes."]})]}),e||Bt.isPosthunt?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"hunt-state-control",children:[d.jsx(kM,{}),d.jsx(qhe,{})]}),d.jsx(cH,{teamId:t}),d.jsx(Xhe,{}),d.jsx(Yhe,{})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsx(kM,{})}),d.jsxs("div",{children:[d.jsx("p",{children:"You are still logged in. You will lose access to your teamâs progress after the hunt closes. To continue progressing through the hunt locally:"}),d.jsxs("ol",{children:[d.jsx("li",{children:"Download your teamâs progress with the button above."}),d.jsx("li",{children:"Log out."}),d.jsx("li",{children:"Navigate back to this page and upload the file containing your teamâs progress."})]})]})]})]})})}const ef=(t,e,n)=>e<t?t:e>n?n:e;function Jhe(){const t=Dt(),e=u$();if(t===null||e===null)return d.jsx(he,{inline:!0});const{finishedData:n}=t,r=n==null?void 0:n.numSolveCountPuzzles;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"sunrise-text",children:d.jsxs("div",{className:"sunrise-text-inner",children:[d.jsx("h1",{children:"Congratulations on finishing Galactic Puzzle Hunt 2024!"}),d.jsxs("div",{children:["You will receive more information shortly via email.",d.jsx("br",{}),"In the meantime,"," ",d.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdaia1TWjVDAb9Bq91XvT_kbJCmJW86sYpdE_IvBf3QMjZp7A/viewform?usp=sf_link",children:"let us know your feedback"}),"!"]}),d.jsx("div",{className:"sunrise-text-completion",children:r!==void 0?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"sunrise-text-completion-percent",children:[Math.floor(e/r*100),"%"]})," ","stars restored"," ",d.jsx("span",{className:"sunrise-text-completion-percent",children:d.jsx(oF,{numSolves:e,numSolveCountPuzzles:r})})]}):null}),d.jsx("div",{className:"sunrise-text-back-button",children:d.jsx(nn,{path:"/camp",button:!0,children:"Back"})})]})}),r!==void 0&&e!==null&&e>=r?d.jsx(ve,{className:"sunrise-thing",options:{folder:"svg",ext:".svg"},children:"ð¶ï¸"}):null]})}const Khe=R.memo(function(e){const{onDone:n}=e,[r,i]=R.useState(!1),a=qc(n),s=R.useRef(!1),o=R.useRef(!1),l=R.useRef(null),u=R.useRef(null),h=R.useRef(null),c=R.useRef(null),f=R.useRef(null),p=R.useRef(null),v=R.useRef(null),m=R.useRef(null),g=R.useRef(null),y=qc(x=>{const A=d0.Color,b=new A("#0f89ff").range("#6e40a6"),S=new A("#6e40a6").range("#34378b"),w=new A("#40c8ff").range("#5256ff"),_=new A("#5256ff").range("#34378b"),T=new A("#0f89ff00").range("#5a66d200"),C=new A("#0f89ff").range("#9d74d9"),E=new A("#33a8ff").range("#f586b1"),k=new A("#40c8ff").range("#ff9898");if(l.current===null||u.current===null||h.current===null||c.current===null||f.current===null||p.current===null||v.current===null||m.current===null)return;l.current.style.background=x<1?`linear-gradient(${b(x)}, ${w(x)})`:x<2?`linear-gradient(${S(x-1)}, ${_(x-1)})`:"#34378b",p.current.style.background=x<.66?`linear-gradient(${[`${T(x*1.5)} 0%`,`${C(x*1.5)} 19%`,`${E(x*1.5)} 37%`,`${k(x*1.5)} 56%`,"#e0e3ad 75%"].join(", ")})`:"linear-gradient(#5a66d200 0%, #9d74d9 19%, #f586b1 37%, #ff9898 56%, #e0e3ad 75%)",p.current.style.transform=`translate(0, ${45*x-33}vh)`,f.current.style.transform=`translate(0, ${60*x}%)`,v.current.style.opacity=ef(0,1-Math.abs(x-.6),1).toString(),c.current.style.opacity=ef(0,x*2-1,1).toString(),u.current.style.opacity=h.current.style.opacity=ef(0,x*3-2,.3).toString(),m.current.style.filter=`brightness(${ef(0,1-x/2,1)})`,r&&g.current!==null&&(g.current.style.opacity=ef(0,2*x-5,1).toString(),g.current.style.transition="none");const I=document.getElementById("slide-nav");I!==null&&(I.style.display=x>1?"none":"",I.style.opacity=`${(1-x)*100}%`)});return R.useEffect(()=>{const x=()=>{if(s.current??!1)return;const w=window.scrollY/window.innerHeight;if(w<.1){s.current=!0,y(0);const _=document.getElementById("sunrise");_!==null&&(_.style.height="100vh"),a();return}else w<.6&&!o.current&&(window.scrollTo({top:0,behavior:"smooth"}),o.current=!0);y(w)},A=()=>{if(l.current===null||u.current===null||h.current===null||c.current===null||f.current===null||p.current===null||v.current===null||m.current===null)return;const w=window.innerWidth;m.current.style.transform=`scale(${w/790})`},b=()=>{window.requestAnimationFrame(x)},S=()=>{window.requestAnimationFrame(A)};return l.current!==null&&(window.scrollTo(0,l.current.scrollHeight),setTimeout(()=>{window.scrollY/window.innerHeight>2.9&&i(!0)},4e3)),window.requestAnimationFrame(A),window.requestAnimationFrame(x),window.addEventListener("scroll",b),window.addEventListener("resize",S),()=>{window.removeEventListener("scroll",b),window.removeEventListener("resize",S);const w=document.getElementById("slide-nav");w!==null&&(w.style.display="",w.style.opacity="")}},[a,y]),d.jsxs("div",{className:"sunrise",id:"sunrise",ref:l,children:[d.jsx(Jhe,{}),d.jsx("img",{className:"circles",id:"circles1",ref:u,src:"/static/images/bg/circles.png"}),d.jsx("img",{className:"circles",id:"circles2",ref:h,src:"/static/images/bg/circles.png"}),d.jsx("div",{id:"stars",ref:c}),d.jsx("div",{id:"sunset",ref:p}),d.jsx("img",{id:"sun",ref:f,src:"/static/images/bg/sun.svg"}),d.jsx("div",{id:"grass-wrapper",children:d.jsxs("div",{id:"grass-container",ref:m,children:[d.jsx("div",{className:"grass",id:"flowers1",children:d.jsx("img",{className:"grass-anim-3 blur1",src:"/static/images/bg/flower.png"})}),d.jsx("div",{className:"grass",id:"flowers2",children:d.jsx("img",{className:"grass-anim-2 blur2",src:"/static/images/bg/flowers.png"})}),d.jsx("div",{className:"grass",id:"grass4",children:d.jsx("img",{className:"grass-anim-2",src:"/static/images/bg/grass2.png"})}),d.jsx("div",{className:"grass",id:"grass7",children:d.jsx("img",{className:"grass-anim-1",src:"/static/images/bg/grass3.png"})}),d.jsx("div",{className:"grass",id:"grass2",children:d.jsx("img",{className:"grass-anim-1",src:"/static/images/bg/grass2.png"})}),d.jsx("div",{className:"grass",id:"grass8",children:d.jsx("img",{className:"grass-anim-2",src:"/static/images/bg/grass2.png"})}),d.jsx("div",{className:"grass",id:"grass3",children:d.jsx("img",{className:"grass-anim-1 blur1",src:"/static/images/bg/grass1.png"})}),d.jsx("div",{className:"grass",id:"grass5",children:d.jsx("img",{className:"grass-anim-1 blur2",src:"/static/images/bg/grass3.png"})}),d.jsx("div",{className:"grass",id:"grass6",children:d.jsx("img",{className:"grass-anim-2",src:"/static/images/bg/grass1.png"})}),d.jsx("div",{className:"grass",id:"grass1",children:d.jsx("img",{className:"grass-anim-1 blur2",src:"/static/images/bg/grass3.png"})}),d.jsx("div",{className:"grass",id:"base",children:d.jsx("img",{src:"/static/images/bg/base.png"})}),d.jsx("div",{id:"overlay",ref:v,children:d.jsx("img",{src:"/static/images/bg/overlay.png"})})]})}),d.jsx("div",{id:"scroll-hint",ref:g,style:{opacity:r?1:0},children:"â¡"})]})});function Qhe(){var o;const t=He(),e=ot(),n=Dt(),r=((o=Object.values((n==null?void 0:n.puzzles)??{}).find(({isFinalCutscene:l=!1})=>l))==null?void 0:o.puzName)??null,i=Je(l=>l.setRedirectCommand),a=YO(r),s=mh();return R.useEffect(()=>{n!==null&&r===null&&i({path:"/puzzles"})},[n,r,i]),t===null||r===null||a===null?d.jsx(Ut,{}):d.jsx(Khe,{onDone:()=>{(async()=>{const l=r;s({cutscenesState:{[l]:_g()},completedStoryBeats:{[l]:!0}}),a.solveTime===void 0&&await e.sendScopeStepAndWaitAsync({type:ne.TEAM_CUTSCENES,teamId:t},{setCutsceneComplete:l})})().catch(console.error)}})}const efe={Twemoji:ve,LongDate:tu,ShortDate:In,Duration:p0,Icon:ca,PuzzleIcon:ka,PrizeIcon:fp,DjangoLink:ms,RoutedLink:nn,PuzzleLink:tt,TeamDisplayNameDisplay:ln,Tooltip:Ce,Blanks:m5,Flavor:H0,PuzzleImage:Dp,PuzzleGallery:G0,PuzzleAudio:v5,Table:g5,PuzzleGrid:x5,PuzzleContentPreviewWithLink:U0,Puzzle105Content:mC};class tfe extends R.Component{constructor(){super(...arguments);lv(this,"state",{output:null,error:null})}static getDerivedStateFromError(n){return{error:n}}componentDidMount(){this.componentDidUpdate({})}componentDidUpdate(n){const{content:r,doneRender:i}=this.props;r!==n.content&&lC(r,X1).then(a=>this.setState({output:a,error:null},i)).catch(a=>this.setState({error:a}))}render(){const{output:n,error:r}=this.state;return r?d.jsx("div",{className:"errorlist",children:r.toString()}):n?R.createElement(n.default,{components:efe}):null}}function nfe(){const t=Po(h=>h.staffId),e=Po(h=>h.setStaffId),[n,r]=R.useState(""),i=ot(),a=Rt(ne.WRAPUP),s=wn(),[o,l]=R.useState([]),u=()=>l([...document.querySelectorAll("h1,h2,h3,h4,h5")]);return R.useEffect(()=>{const h=document.querySelectorAll(".wrapup-page aside div"),c=()=>{const f=o.map(p=>p.getBoundingClientRect());o.forEach((p,v)=>h[v].classList.toggle("highlight",(!f[v+1]||f[v+1].top>0)&&f[v].top<innerHeight))};return document.addEventListener("scroll",c,{passive:!0}),c(),()=>document.removeEventListener("scroll",c)},[o]),Go(),a===null?d.jsx(Ut,{}):d.jsxs("div",{className:"below-nav centered-page wrapup-page",children:[d.jsx("aside",{children:o.map(h=>d.jsx("div",{style:{paddingLeft:`${h.tagName.substr(1)}ch`},onClick:()=>h.scrollIntoView(),children:h.textContent},h.textContent))}),d.jsxs(Z0,{isOpen:t===null,wrapperClassName:"admin-queue-staff-id-modal-wrapper",children:[d.jsx("div",{children:"Enter your Discord username."}),d.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),onKeyDown:h=>{h.key==="Enter"&&e(n.trim())}}),d.jsx("button",{onClick:()=>{e(n.trim())},disabled:n.trim()==="",children:"Letâs go!"})]}),d.jsxs("div",{className:"wrapup-wrapper",children:[d.jsx("h1",{children:"Wrapup âCollaborativeâ Editor"}),d.jsx("div",{className:"admin-queue-header-actions",children:d.jsxs("div",{className:"admin-queue-header-staff-id",children:[d.jsxs("div",{children:["You are: ",t]}),d.jsx("div",{children:d.jsx("button",{onClick:()=>e(null),children:"Change"})})]})}),Object.keys(a).sort().map((h,c,f)=>{const{content:p,claimer:v}=a[h];let m;return d.jsxs("div",{children:[d.jsxs("div",{className:"wrapup-section",children:[d.jsx("div",{children:d.jsx(tfe,{content:p,doneRender:u})}),v===null?d.jsx("button",{disabled:s.isHeld,onClick:()=>{s.acquireAndRun(async g=>{await i.sendScopeStepAndWaitAsync({type:ne.WRAPUP},{id:f[c],claimer:t})})},children:"Edit"}):v!==t?d.jsx("button",{disabled:!0,children:v}):d.jsxs("div",{className:"wrapup-editing",children:[d.jsx("textarea",{defaultValue:p,onInput:g=>{window.clearTimeout(m);const{value:y}=g.target;y!==p&&(m=window.setTimeout(async()=>{await i.sendScopeStepAndWaitAsync({type:ne.WRAPUP},{id:f[c],content:y})},1e3))}}),d.jsx("button",{disabled:s.isHeld,onClick:()=>{s.acquireAndRun(async g=>{await i.sendScopeStepAndWaitAsync({type:ne.WRAPUP},{id:f[c],claimer:null})})},children:"Done"})]})]}),d.jsx("div",{className:"wrapup-between",children:d.jsx("button",{disabled:s.isHeld,onClick:()=>{s.acquireAndRun(async g=>{await i.sendScopeStepAndWaitAsync({type:ne.WRAPUP},{id:c$(f[c],f[c+1]),claimer:t})})},children:"Add a new section"})})]},h)})]})]})}const rfe=h$(t=>({userLog:"",addToUserLog:e=>t(n=>({userLog:n.userLog+`
`+e})),clearLog:()=>t({userLog:""})}));function CH({x:t,y:e}){return{rightAscension:t/100*(2*Math.PI),declination:(90-e)/100*(80/180*Math.PI)}}function PM(t){const{rightAscension:e,declination:n}=CH(t);return{x:Math.cos(n)*Math.sin(e),y:Math.sin(n),z:Math.cos(n)*Math.cos(e)}}function ife({puzData:t}){const{puzName:e,mapPos:n}=t,r=Ds(e),i=R.useRef(nT());if(n===void 0||r===null)return null;const{rightAscension:a,declination:s}=CH(n),o=1-Math.abs(Math.abs((a/Math.PI-i.current/180)%2)-1)+s/Math.PI,l=-1-2*Math.sin(s),u={blocks:"kid",olive:"olive",branch:"big_branch",farmer:"farmer",rock_lobster:"rock_lobster",pom_pom:"pompom_mopmop",ten_lions:"lions"}[e];return d.jsx(Ce,{className:Tt({"star-map-star":!0,"star-map-big-star":e==="branch","star-map-dog-star":e==="pom_pom",celestial:u!==void 0}),text:r,style:{transform:`rotateY(${-a}rad) rotateX(${-s}rad) translateZ(calc(var(--star-map-baseline) * ${l}))`,animationDelay:`calc(${2*o} * var(--star-map-fadein))`},children:u===void 0?d.jsx(ka,{puzData:t}):d.jsx("img",{src:`/static/images/cutscenes/${u}.png`})})}function jM({thick:t=!1,thickIndex:e=0,pos1:n,pos2:r}){if(n===void 0||r===void 0)return null;const i=PM(n),a=PM(r),s=Math.sqrt((i.x-a.x)**2+(i.y-a.y)**2+(i.z-a.z)**2),o={x:(i.x+a.x)/2,y:(i.y+a.y)/2,z:(i.z+a.z)/2},l=Math.atan2(o.x,o.z),u=Math.atan2(o.y,Math.sqrt(o.x**2+o.z**2)),h=-1-2*Math.sin(u),c=(i.x-a.x)*Math.cos(l)-(i.z-a.z)*Math.sin(l),f=Math.acos(c/s)*Math.sign(i.y-a.y),p=Math.sqrt(o.x**2+o.y**2+o.z**2),v=t?`calc(${s} * var(--star-map-baseline) * 2 + 10em)`:`calc(${s} * var(--star-map-baseline) * 2 - 4em)`,g=t?`5em solid ${(y=>{const x=["#e45eb7","#e4b35e","#d7e45e","#7de45e","#79bbe0","#957fdb"];return x[y%x.length]})(e)}10`:null;return d.jsx("div",{className:Tt({"star-map-line":!0,thick:t}),style:{width:v,transform:`rotateY(${-l}rad) rotateX(${-u}rad) rotateZ(${-f}rad) translateZ(calc(var(--star-map-baseline) * ${h} * ${p}))`,...g&&{border:g}}})}function ra({image:t,angle:e}){return d.jsx("div",{className:"star-map-grass",style:{transform:`rotateY(${e}deg) rotateX(10deg) translateZ(-95vh) scale(1.3, 1)`,filter:"brightness(0.1)"},children:d.jsx("img",{src:`/static/images/bg/${t}.png`})})}function afe(t){const{teamId:e}=t,n=Te(ne.TEAM_CANNED_HINTS,e===null?null:{teamId:e});if(e===null||n===null)return null;let r=0;for(const a of Object.values(n.cannedHints))r+=a.numOpened;if(r<=0)return d.jsx(ra,{image:"flowers",angle:210});const i=[[32],[28,21],[24,6,12],[18,5,3,10],[15,4,1,2,8]].map((a,s)=>d.jsx("div",{className:"star-map-cans",children:a.map((o,l)=>d.jsx(ca,{icon:ha.OPEN_CANNED_HINT,style:{opacity:r>=o?1:0}},l))},s));return d.jsx("div",{className:"star-map-grass",style:{transform:"rotateY(210deg) rotateX(-2.5deg) translateZ(-99vh) scale(2)",filter:"brightness(0)"},children:i})}const MM="rotateY(307deg) rotateX(-5deg) translateZ(-99vh) rotateZ(4deg) scale(-0.9, 0.55)",sfe=R.memo(function(e){var k;const{teamId:n}=e,r=Dt(n),i=ri(I=>I.activePullAnimation),a=vh(),s=i!==null,o=c0(),l=R.useRef(null),u=R.useRef(null),h=R.useRef(null),c=R.useRef(null),f=(I,j)=>{const P="0123456789abcdef";let D="",L=5381;for(let F=0;F<I.length;F++)L=L*33^I.charCodeAt(F);for(let F=0;F<j;F++){L=(L*33+F)%4294967295;const V=P[L>>F%16&15];D+=V}return D},p=I=>parseInt(f(I,4),16)/Math.pow(16,4),v=()=>{const I=n+((r==null?void 0:r.displayName.slice(0,10))??"");return p(I)*360},m=R.useRef(v()),g=R.useRef({speed:0,hover:0,last:0,drag:0,scroll:0,click:!1});if(R.useEffect(()=>{let I=!0;const j=()=>{const{current:L}=g;L.scroll?(L.speed=Math.min(.5,Math.max(-.5,L.scroll*2)),m.current+=L.scroll*10):L.click?(L.speed=Math.min(.5,Math.max(-.5,L.drag*4)),m.current+=L.drag*80):(L.speed=s?0:Math.min(L.speed+.005,Math.max(L.speed-.005,L.hover)),m.current+=L.speed*8),a({spinAngle:m.current}),L.scroll=0,L.drag=0;const F=`translateZ(var(--star-map-baseline)) rotateX(90deg) rotateY(${m.current}deg) translateY(-200vh)`;u.current!==null&&(u.current.style.transform=F);const V=`rotateY(${-m.current}deg) rotateX(-1rad) scale(1.5) translate(41px, 20px) `;h.current!==null&&(h.current.style.transform=V),c.current!==null&&(c.current.style.transform=`${F} ${MM}`),I&&requestAnimationFrame(j)};j();const P=L=>{L.key==="ArrowLeft"&&(g.current.hover=-.1),L.key==="ArrowRight"&&(g.current.hover=.1),L.key==="a"&&(g.current.hover=-.1),L.key==="d"&&(g.current.hover=.1),_()};document.addEventListener("keydown",P);const D=L=>{L.key==="ArrowLeft"&&(g.current.hover=0),L.key==="ArrowRight"&&(g.current.hover=0),L.key==="a"&&(g.current.hover=0),L.key==="d"&&(g.current.hover=0),_()};return document.addEventListener("keyup",D),document.documentElement.style.overscrollBehavior="none",()=>{I=!1,document.removeEventListener("keydown",P),document.removeEventListener("keyup",D),document.documentElement.style.overscrollBehavior=""}},[s,a]),r===null)return null;const y=r.cutsceneChoices[Rn.cutsceneChoice.keyframeId]===Rn.cutsceneChoice.freeMoonickIndex,x=(k=Object.values(r.puzzles).find(({isFinalCutscene:I=!1})=>I))==null?void 0:k.solveTime,A=Object.values(r.puzzles).filter(I=>(ys(I)||I.isCelestial)&&eu(I,o)&&(I.solveTime??1/0)<(x??1/0)),b=A.flatMap(I=>{var j;return((j=I.constellationEdges)==null?void 0:j.map(P=>({node1:I,node2:r.puzzles[P]})))??[]}).filter(({node2:I})=>I!==void 0&&ys(I)&&eu(I,o)),S=Object.values(r.puzzles).filter(I=>I.isCelestial&&eu(I,o)).sort((I,j)=>(I.solveTime??0)-(j.solveTime??0)),w=S.slice(0,-1).map((I,j)=>({node1:I,node2:S[j+1]})),_=()=>{l.current!==null&&(l.current.style.cursor=g.current.click?"grabbing":g.current.hover<0?"w-resize":g.current.hover>0?"e-resize":"")},T=({clientX:I})=>{g.current.click&&u.current!==null&&(u.current.style.pointerEvents="none"),g.current.drag-=(I-g.current.last)/window.innerHeight,g.current.last=I,_()},C=({clientX:I})=>{g.current.click=!0,g.current.drag=0,g.current.last=I,_()},E=()=>{u.current!==null&&(u.current.style.pointerEvents=""),g.current.click=!1,_()};return d.jsxs("div",{className:Tt({"star-map":!0,"star-map-wishing":s}),ref:l,onMouseMove:I=>{T(I)},onMouseDown:I=>{I.button||(I.preventDefault(),C(I))},onMouseUp:I=>{I.button||(I.preventDefault(),E())},onMouseLeave:()=>{g.current.hover=0,E()},onWheel:I=>{g.current.scroll-=I.deltaX/window.innerHeight},onTouchMove:I=>T(I.touches[0]),onTouchStart:I=>C(I.touches[0]),onTouchEnd:()=>E(),children:[d.jsx("div",{className:"circles",children:d.jsx("img",{id:"circles-1",src:"/static/images/bg/circles-full.png"})}),d.jsx("div",{className:"circles",children:d.jsx("img",{id:"circles-2",src:"/static/images/bg/circles-full.png"})}),d.jsx("div",{className:"circles",children:d.jsx("img",{id:"circles-3",src:"/static/images/bg/circles-full.png"})}),d.jsxs("div",{className:"star-map-sky",ref:u,children:[d.jsx("div",{className:"star-map-star stelle",ref:h,children:d.jsx("img",{src:"/static/images/cutscenes/stelle.png"})}),A.map(I=>d.jsx(ife,{puzData:I},I.puzName)),b.map(({node1:I,node2:j})=>d.jsx(jM,{pos1:I.mapPos,pos2:j.mapPos},`${I.puzName}-${j.puzName}`)),w.map(({node1:I,node2:j},P)=>d.jsx(jM,{thick:!0,thickIndex:P,pos1:I.mapPos,pos2:j.mapPos},`${I.puzName}-${j.puzName}`)),d.jsx(ra,{image:"grass2",angle:0}),d.jsx(ra,{image:"flowers",angle:30}),d.jsx(ra,{image:"grass3",angle:60}),d.jsx(ra,{image:"grass2",angle:90}),d.jsx(ra,{image:"grass2",angle:120}),d.jsx(ra,{image:"grass1",angle:150}),d.jsx(ra,{image:"grass3",angle:180}),d.jsx(afe,{teamId:n}),d.jsx(ra,{image:"grass1",angle:240}),d.jsx(ra,{image:"grass3",angle:270}),y?d.jsx("div",{className:"star-map-grass",style:{filter:"brightness(0)",transform:"rotateY(275deg) translateZ(-100vh) rotateX(-40deg) scale(0.7, 0.7)"},children:d.jsx("img",{src:"/static/images/cutscenes/moonick-free.png"})}):null]}),d.jsx("div",{className:"star-map-grass star-map-fire",ref:c,style:{transform:MM},children:d.jsx("img",{src:"/static/images/bg/fire-warp.webp"})})]})});function ofe(){Go();const t=Rt(ne.TEAM_LIST)??{},{teamId:e}=gh();if(e===void 0)throw new Error("expect teamId to be defined");const n=t[e]??null,r=f$(e),i=Object.keys(t).length>0,a=Je($=>$.setRedirectCommand),s=ot();R.useEffect(()=>{if(i&&n===null)return rT(s,()=>{d0.toastr.error(`Team â${e}â not found.`),a({path:"/teams"})})},[i,n,e,a,s]);const o=Dt(e),l=Te(ne.TEAM_COLLECTIBLES,e===null?null:{teamId:e});R.useEffect(()=>{if(o!==null)return document.title=o.displayName,()=>{document.title=Bt.documentTitle}},[o]);const u=400,h=R.useRef(.66),c=R.useRef(.4),f=R.useRef(25),p=R.useRef(6),v=R.useRef(35),m=R.useRef(45),g=R.useRef(.5),y=R.useRef(!1),x=$=>$.match(/.(?:\u200d.|[\ufe00-\ufe0f])*/gu)??[],A=$=>x($).map((Z,X)=>d.jsx("tspan",{children:Z},X)),b=$=>x($).map((Z,X)=>d.jsx(ve,{children:Z},X)),S=R.useRef(null),w=R.useRef(null),_=R.useRef(null),T=R.useRef(null),C=R.useRef(null),E=R.useRef(null),k=R.useRef(null),I=($,Z,X)=>{if($===null||Z===null)return;const Q=[...$.children],re=[...Z.children];for(let K=0;K<Q.length&&K<re.length;++K){const le=re[K].querySelector("img"),we=le!==null&&y.current;if(re[K].style.display=we?"":"none",Q[K].style.opacity=we?"0":"1",!le)continue;const{x:oe,y:Pe,width:Le,height:Ge}=Q[K].getExtentOfChar(0),st=Q[K].getRotationOfChar(0);if(oe===0&&Pe===0){re[K].style.display="none";continue}re[K].style.fontSize=`${920*X/u}vh`,re[K].style.position="absolute",re[K].style.left="50%",re[K].style.top="50%",re[K].style.translate=`
        calc(-50% + ${92*((oe+Le/2)/u-.5)}vh)
        calc(-50% + ${92*((Pe+Ge/2)/u-.5)}vh)
      `,re[K].style.rotate=`${st}deg`}},j=()=>I(w.current,_.current,h.current),P=()=>I(T.current,C.current,c.current),D=()=>I(E.current,k.current,g.current),L=()=>{j(),P(),D()};if(R.useEffect(()=>{S.current!==null&&(S.current.checked=!0,y.current=!0,L())}),!i||e===null||r===null||o===null||l===null)return d.jsx(Ut,{});const F=Object.values(l.collectibles).filter($=>$.isHiddenFromTeamName===void 0).map($=>$.icon).join(""),V=()=>window.print(),U=$=>{h.current*=$;const Z=document.getElementById("certificate-subtitle");Z&&(Z.style.fontSize=`${h.current}rem`),j()},z=$=>{c.current*=$;const Z=document.getElementById("certificate-subsubtitle");Z&&(Z.style.fontSize=`${c.current}rem`),P()},H=$=>{var X;f.current+=$;const Z=(X=document.getElementById("certificate-subtitle"))==null?void 0:X.firstElementChild;Z&&Z.setAttribute("startOffset",`${f.current}%`),j()},G=$=>{var X;p.current+=$;const Z=(X=document.getElementById("certificate-subsubtitle"))==null?void 0:X.firstElementChild;Z&&Z.setAttribute("startOffset",`${p.current}%`),P()},N=$=>{v.current+=$;const Z=document.getElementById("subtitlePath");Z&&Z.setAttribute("d",q(v.current)),j()},W=$=>{m.current+=$;const Z=document.getElementById("subsubtitlePath");Z&&Z.setAttribute("d",q(m.current)),P()},q=($,Z=!1)=>Z?`M ${u/2},${u/2} m ${$},0 a ${$},${$} 0 1,0 -${$*2},0 a ${$},${$} 0 1,0 ${$*2},0`:`M ${u/2},${u/2} m -${$},0 a ${$},${$} 0 1,1 ${$*2},0 a ${$},${$} 0 1,1 -${$*2},0`;return d.jsxs("div",{className:"certificate-page-root",children:[d.jsxs("svg",{className:"certificate-svg",viewBox:`0 0 ${u} ${u}`,children:[d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"skyGradient",children:[d.jsx("stop",{offset:"10%",stopColor:"#2a4470",stopOpacity:"0.6"}),d.jsx("stop",{offset:"75%",stopColor:"#2a4470",stopOpacity:"0.7"}),d.jsx("stop",{offset:"85%",stopColor:"#34378b",stopOpacity:"0.5"}),d.jsx("stop",{offset:"100%",stopColor:"#62348b",stopOpacity:"0.2"})]}),d.jsxs("filter",{id:"wavyFilter",children:[d.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.01",numOctaves:"3",result:"noise"}),d.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"noise",scale:"100"})]}),d.jsxs("radialGradient",{id:"backgroundGradient1",cx:"100%",cy:"0%",r:"100%",fx:"100%",fy:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#09438d80",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#09438d00",stopOpacity:0}})]}),d.jsxs("linearGradient",{id:"backgroundGradient2",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#30160080",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#30160000",stopOpacity:0}})]}),d.jsxs("mask",{id:"circleMask",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"black"}),d.jsx("circle",{cx:u/2,cy:u/2,r:"192",fill:"white"})]})]}),d.jsxs("g",{id:"certificate-background",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"#111318",mask:"url(#circleMask)"}),d.jsx("rect",{width:"100%",height:"100%",fill:"url(#backgroundGradient1)",mask:"url(#circleMask)"}),d.jsx("rect",{width:"100%",height:"100%",fill:"url(#backgroundGradient2)",mask:"url(#circleMask)"})]}),d.jsx("circle",{cx:u/2,cy:u/2,r:"192",fill:"url(#skyGradient)",stroke:"#030d0e",strokeWidth:"15px"})]}),d.jsx(sfe,{teamId:e}),d.jsxs("svg",{className:"certificate-svg",viewBox:`0 0 ${u} ${u}`,children:[d.jsxs("defs",{children:[d.jsx("path",{id:"titlePath",d:q(45,!0)}),d.jsx("path",{id:"subtitlePath",d:q(v.current)}),d.jsx("path",{id:"subsubtitlePath",d:q(m.current)}),d.jsx("path",{id:"collectiblesPath",d:q(u/2-5,!0)})]}),d.jsx("text",{id:"certificate-title",fill:"#e1e2e9",children:d.jsx("textPath",{href:"#titlePath",textAnchor:"middle",startOffset:"75%",children:"galactic puzzle hunt 2024"})}),d.jsx("text",{id:"certificate-subtitle",fill:"#e1e2e9",style:{fontSize:`${h.current}rem`},children:d.jsx("textPath",{href:"#subtitlePath",textAnchor:"middle",startOffset:f.current+"%",ref:w,children:A(o.displayName)})}),d.jsx("text",{id:"certificate-subsubtitle",fill:"#ffb77b",style:{fontSize:`${c.current}rem`},children:d.jsx("textPath",{href:"#subsubtitlePath",startOffset:p.current+"%",ref:T,children:A(r.members.join(", "))})}),d.jsx("text",{id:"certificate-collectibles",fill:"#163b2a",wordSpacing:"4rem",children:d.jsx("textPath",{href:"#collectiblesPath",textAnchor:"middle",startOffset:"75%",ref:E,children:A(F).flatMap(($,Z)=>Z?[" ",$]:[$])})})]}),d.jsx("div",{ref:_,children:b(o.displayName)}),d.jsx("div",{ref:C,children:b(r.members.join(", "))}),d.jsx("div",{id:"certificate-collectibles-emoji",ref:k,children:b(F)}),d.jsxs("div",{className:"certificate-tools",children:[d.jsxs("div",{children:["IMPORTANT IMPORTANT: Use Chromium zoom 125% to preview, print Save as PDF, landscape letter, scale 83. ",d.jsx("br",{}),"Map rotation is set randomly per team, adjust by dragging/arrow keys."," ",d.jsx("br",{}),"Refresh page to reset adjustments."]}),d.jsx("div",{children:d.jsx("button",{className:"certificate-btn",onClick:V,children:"Print to PDF"})}),d.jsx("div",{children:d.jsxs("label",{children:["experimental twemoji"," ",d.jsx("input",{ref:S,type:"checkbox",onChange:$=>{y.current=$.target.checked,L()}})]})}),d.jsxs("div",{children:["adjust teamname:",d.jsxs("div",{style:{marginLeft:"1rem"},children:["size",d.jsx("button",{className:"certificate-btn",onClick:()=>U(.95),children:"ð"}),d.jsx("button",{className:"certificate-btn",onClick:()=>U(1/.95),children:"ð"})]}),d.jsxs("div",{style:{marginLeft:"1rem"},children:["rotation",d.jsx("button",{className:"certificate-btn",onClick:()=>H(1),children:"ð"}),d.jsx("button",{className:"certificate-btn",onClick:()=>H(-1),children:"ð"})]}),d.jsxs("div",{style:{marginLeft:"1rem"},children:["radius",d.jsx("button",{className:"certificate-btn",onClick:()=>N(1),children:"ð¤"}),d.jsx("button",{className:"certificate-btn",onClick:()=>N(-1),children:"ð¥"})]})]}),d.jsxs("div",{children:["adjust members:",d.jsxs("div",{style:{marginLeft:"1rem"},children:["size",d.jsx("button",{className:"certificate-btn",onClick:()=>z(.95),children:"ð"}),d.jsx("button",{className:"certificate-btn",onClick:()=>z(1/.95),children:"ð"})]}),d.jsxs("div",{style:{marginLeft:"1rem"},children:["rotation",d.jsx("button",{className:"certificate-btn",onClick:()=>G(1),children:"ð"}),d.jsx("button",{className:"certificate-btn",onClick:()=>G(-1),children:"ð"})]}),d.jsxs("div",{style:{marginLeft:"1rem"},children:["radius",d.jsx("button",{className:"certificate-btn",onClick:()=>W(1),children:"ð¤"}),d.jsx("button",{className:"certificate-btn",onClick:()=>W(-1),children:"ð¥"})]})]}),d.jsx("p",{id:"pdf-container",style:{width:"100%",height:"720px",display:"none"},children:d.jsx("iframe",{id:"pdf-iframe",style:{width:"100%",height:"100%",border:"none"}})})]})]})}function DM(t){const e={a:"a",b:"b",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components},{Credits:n,Fragment:r,Gallery:i,Puzzle:a,RoutedLink:s,Team:o,Twemoji:l}=e;return n||tl("Credits"),r||tl("Fragment"),i||tl("Gallery"),a||tl("Puzzle"),s||tl("RoutedLink"),o||tl("Team"),l||tl("Twemoji"),d.jsxs(d.Fragment,{children:[d.jsx(e.h1,{children:"Wrap-Up"}),`
`,d.jsxs(e.p,{children:[d.jsx(l,{tag:"span",children:"ð  ð  "}),`What a hunt! Congratulations to all of the
solvers of the Galactic Puzzle Hunt for putting the stars back in the sky and
solving an extremely large number of puzzles! This year, by the numbers we had:`]}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"411"})," puzzles (with 132 written by participants)"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"1,097"})," teams solving at least one puzzle"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"168,394"})," total puzzle solves"]}),`
`]}),`
`,d.jsxs(e.p,{children:["Special congratulations to the ",d.jsx(e.strong,{children:"294"})," teams that finished the hunt, and to the fastest three teams to finish, who were:"]}),`
`,d.jsxs(e.ol,{children:[`
`,d.jsxs(e.li,{children:[`
`,d.jsx(o,{teamId:"749"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(o,{teamId:"203"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(o,{teamId:"771"}),`
`]}),`
`]}),`
`,d.jsxs(e.p,{children:["The 2024 Galactic Puzzle Hunt had ",d.jsx(e.em,{children:"far"})," more puzzles than usual. We tried to focus on small, bite-sized ideas, ordering them randomly and feeding them to solvers in an addicting and never-ending stream. Weâll discuss the design process and construction of the hunt, our reflections about what worked and what didnât, and the fun we had with you all during the week of the event."]}),`
`,d.jsx(e.p,{children:"Spoilers below!"}),`
`,d.jsx(e.h2,{children:"By the numbers"}),`
`,d.jsx(e.p,{children:'Here are some astounding statistics about our "number go up" hunt:'}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"357,834,729"})," dust obtained. Weâre sorry? Maybe."]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"399,138"}),' times you all pressed "Wish".']}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"386,552"})," total guesses."]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"110,099"})," canned hints found."]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"9,402"})," custom hint requests."]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.strong,{children:"6,491"})," times teams guessed FAIR PLAY, the answer to ",d.jsx(a,{puzName:"puz325"}),', whose answer was notably found on the "rules" page.']}),`
`]}),`
`,d.jsxs(e.p,{children:["Weâre incredibly proud of having delivered hundreds of thousands of aha moments to thousands of people. More statistics can be found at ",d.jsx(s,{path:"/wrapup/stats",children:"Appendix: Statistics"}),"."]}),`
`,d.jsx(e.h2,{children:"Plot summary"}),`
`,d.jsx(e.p,{children:"You arrive at the hunt hoping for a relaxing evening of stargazing. But to your dismay, there donât seem to be any stars! You wish they would come backâ¦ suddenly, a star named Stelle lands right next to you. Stelle tells you that by collecting Hope and making a wish, youâll get a random gift: a new star, perhaps, or a cool artifact, or some also-cool space dust. By making lots of wishes and solving lots of puzzles, you return the stars to the night sky. There seem to be a lot of âstar puzzlesâ that need restorationâhundreds, in fact."}),`
`,d.jsx(e.p,{children:"As you make more wishes, you encounter seven Celestials residing in the cosmos, who for some reason have ceased their job of lighting up the stars. You help solve their problems, giving them new Hope and making the sky steadily brighter. In the end, by solving a final metapuzzle, you are able to reunite the Celestials so that they will once again make the stars twinkle and shine. Thanks to your heroic efforts, the night sky is restored!"}),`
`,d.jsx(e.p,{children:d.jsx(e.img,{src:"/static/images/wrapup/certificate.png",alt:"Certificate"})}),`
`,d.jsx(e.h2,{children:"Writing the hunt"}),`
`,d.jsx(e.h3,{children:"Goals"}),`
`,d.jsx(e.p,{children:"Our goals for the hunt were:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Make a hunt thatâs fun and creative."}),`
`,d.jsx(e.li,{children:"Give writers opportunities to write a variety of puzzles and contribute to all aspects of hunt-writing, such as web development or art."}),`
`,d.jsxs(e.li,{children:["Innovate hunt structure, be a bit transgressive (although we were pretty sure it wouldnât be quite as dramatic as ",d.jsx(e.a,{href:"https://2023.galacticpuzzlehunt.com/",children:"last yearâs card game"}),")."]}),`
`,d.jsxs(e.li,{children:["Spend time as a community, donât overscope or overwork, and ",d.jsx(e.strong,{children:"donât burn anyone out."})]}),`
`]}),`
`,d.jsx(e.h3,{children:"Timeline"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"March: Kickoff meeting. Two weeks to brainstorm themes, two weeks to flesh out an initial demo. Theme voting."}),`
`,d.jsx(e.li,{children:"April: Demo Day, where everyone shared demos of puzzles, art, story, little web things, etc. Editing started. We hit 100 micropuzzles."}),`
`,d.jsx(e.li,{children:"May: Final meta written. Celestial answers released. We hit 200 micropuzzles. Website MVP."}),`
`,d.jsx(e.li,{children:"June: Retreat. Gacha (hope, wishing, and hint release) mechanics drafted. Celestial answers assigned. Hunt postponed (from July to September). Hunt announced."}),`
`,d.jsx(e.li,{children:"July: Website structure fully implemented. Half of the cutscenes written. Medium Big TestSolve (BTS). Micropuzzle submissions ended. All Celestials written. Half of the micropuzzles postprodded."}),`
`,d.jsx(e.li,{children:"August: All Celestials tested. All puzzles postprodded. Big BTS. UI revamp and star map. Initial art assets."}),`
`,d.jsx(e.li,{children:"September: Final meta revised and retested. Website issues closed. All puzzles factchecked. Hunt started."}),`
`]}),`
`,d.jsx(e.h3,{children:"Theme"}),`
`,d.jsx(e.p,{children:"The original theme proposal was titled â1000 Puzzlesâ. It was inspired by a mini-hunt written by Patrick, who had challenged himself to write one puzzle each day in the month of November. The theme proposed a huge number of small puzzles which we internally referred to as âmicropuzzlesâ."}),`
`,d.jsx(e.p,{children:'After we selected the theme, several mechanisms were proposed to unify the puzzles together, and a "gacha" mechanism was most popular. The plot to ârestore the starsâ by making wishes was suggested in a second round of voting after Demo Day. We also decided around that time to include the Celestials, who would be characters associated with a smaller number of larger and more difficult puzzles, the âmacropuzzlesâ.'}),`
`,d.jsx(e.p,{children:"The similarities to Genshin Impact were unintended at first. Later in development, we leaned into it, and it helped inspire some of the art and dialogue. Any references to Honkai Star Rail are completely unintentional."}),`
`,d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5em"},children:[d.jsx("img",{src:"/static/images/wrapup/stelle-angy.png",style:{width:"8em",maxWidth:"100%",aspectRatio:1}}),d.jsx("i",{children:'"Who are you calling Paimon?!"'})]}),`
`,d.jsx(e.h3,{children:"Characters"}),`
`,d.jsx(i,{imgProps:{nameWithExt:!0,unscoped:!0,maxWidth:"20em"},items:[{images:["wrapup/stelle.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Stelle"}),", your guiding star, was inspired by Lumas from Super Mario Galaxy, but also somehow hybridized with a firefly and a cute girl."]})},{images:["wrapup/celestial.svg"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"The Celestials"}),", which had no particular ordering or constraints, were themed around their puzzles."]})},{images:["cutscenes/big_branch.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Big Branch"})," is based on the view of the Milky Way Galaxy from Earth, and is made up of branching streams of stars."]})},{images:["cutscenes/farmer.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Funny Farmer"})," is an astronaut who got stuck in space for so long that he became a Celestial. He lives off of a comfy garden on an asteroid."]})},{images:["cutscenes/kid.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Kid"})," is based on my cute baby. He came to be in space due to a fundamental misunderstanding about how gravity works and some *very* irresponsible parenting."]})},{images:["cutscenes/olive.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Olive"}),", whose name is a reference to Hololive, is a weeb who (during our design process) evolved to become a spider weeb due to the need to hold so many glow sticks."]})},{images:["cutscenes/pompom_mopmop.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Pom Pom"})," is a pomeranian and ",d.jsx(e.b,{children:"Mop Mop"})," is a puli puli, and together they form DOG GOD."]})},{images:["cutscenes/rock_lobster.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Rock Lobster"})," was once a rock star, but due to"," ",d.jsx(e.a,{href:"https://puzzles.mit.edu/puzzle/www/2021/static/puzzle_files/7e4dd47de7306a88/game_screenshot.png",children:"an incident during the 2021 MIT Mystery Hunt"}),", he was lobbed into space and needed to change his career to star rocks."]})},{images:["cutscenes/lions.png"],caption:d.jsxs(r,{children:[d.jsx(e.b,{children:"Ten Lions"})," is a hive mind of ten lions. Having never encountered any actual lions before due to being a book nerd, and also from generally being in outer space, it poorly decided to base its appearance on the"," ",d.jsx(e.a,{href:"https://en.wikipedia.org/wiki/Lion_of_Gripsholm_Castle",children:"Lion of Gripsholm Castle"}),"."]})}]}),`
`,d.jsx(e.h3,{children:"Writing"}),`
`,d.jsxs(e.p,{children:["To reduce friction in submission and testsolving, we used a Discord forum with one thread per micropuzzle, allowing decentralized submission, solving, and discussion and editing via tags and emoji reactions. Team members would testsolve puzzles by guessing in spoiler tags, and the author would react to guesses with ",d.jsx(l,{tag:"span",children:"â"})," or ",d.jsx(l,{tag:"span",children:"â"}),". Editing discussions occurred in the same thread."]}),`
`,d.jsx(e.p,{children:"To encourage volume of puzzles, there were almost no constraints on puzzle format, topic, or answer. Puzzles quickly became unhinged, ranging from stupid jokes to identification tasks to things which barely resemble puzzles at all."}),`
`,d.jsxs(e.p,{children:["While puzzles were originally intended to be independent, sequences of puzzles arose organically as puzzle authors were inspired by other existing puzzles (",d.jsx(a,{puzName:"puz49"}),", ",d.jsx(a,{puzName:"puz40"}),", ",d.jsx(a,{puzName:"puz126"}),"). Other authors then chose to write small sequences with metas (",d.jsx(a,{puzName:"puz67"}),", ",d.jsx(a,{puzName:"puz212"}),", ",d.jsx(a,{puzName:"puz72"}),", ",d.jsx(a,{puzName:"puz285"}),", ",d.jsx(a,{puzName:"puz105"}),")."]}),`
`,d.jsx(e.p,{children:"After receiving two clean testsolves, each puzzle needed approval from two editors, a postprodded version on the website, and a factcheck. Puzzle progress was tracked on the forum, with the help of a Discord bot that output statuses onto a Google Sheet."}),`
`,d.jsx(e.h3,{children:"Operations"}),`
`,d.jsxs(e.p,{children:["We redid the hint queue from past years into a general âadmin queueâ that held tasks for every kind of team interaction. In addition to hint requests, we had tasks for tree-hugging photos, Musical Intuition submissions, and Free Puzzle submissions. Teams could submit custom puzzles as a part of ",d.jsx(a,{puzName:"puz105"}),", which we organized and edited in a Discord forum, similar to what we did for micropuzzles. We attempted to get a clean testsolve (ideally two) for each submission, which sometimes took a while especially if your puzzle was difficult!"]}),`
`,d.jsx(e.h2,{children:"Reflections"}),`
`,d.jsx(e.h3,{children:"Hunt experience"}),`
`,d.jsx(e.p,{children:'The central defining structure of this hunt was the "gacha", which enabled solvers to "wish" for any number of things, from dust, to artifacts, to hints, to puzzles, big and more importantly, small. The result was a high-velocity hunt that several solvers compared to scrolling TikTok. Others described it as addicting; in fact, when testing our own website, we ourselves even found the experience of pressing "wish", listening to the notification sound, and watching the animation exhilarating, despite knowing all of the answers to our own puzzles.'}),`
`,d.jsxs(e.p,{children:["While this structure had many desirable properties for solver experience, one of the biggest advantages was organizational. As a team of volunteers, itâs difficult to ensure a commitment to writing a certain number of puzzles year after year. The format allowed us flexibility to write puzzles with fewer constraints and timelines; see ",d.jsx(s,{path:"/wrapup/fluidity",children:"Appendix: On Fluidity"})," for more thoughts."]}),`
`,d.jsx(e.h3,{children:"Micropuzzles"}),`
`,d.jsx(e.p,{children:"The focus of the hunt was on the micropuzzle experience. We hoped that micropuzzles were a fun change of pace from the relatively difficult puzzles typically seen in Galactic Puzzle Hunt, while the Celestial puzzles would provide more traditional material for those who wanted to invest more effort into their solves. Setting difficult but approachable puzzles is a constant challenge for puzzle writing, and we hope to take some of the lessons from this yearâs hunt into the future."}),`
`,d.jsx(e.p,{children:"In the initial stages of planning, we had some reasonable doubts about micropuzzles including:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Would it be feasible for us to write â1000â puzzles?"}),`
`,d.jsx(e.li,{children:"Would each puzzle receive enough editorial attention to be high-quality?"}),`
`,d.jsx(e.li,{children:"Would these tiny puzzles be fun?"}),`
`,d.jsx(e.li,{children:"Is it possible to solve so many puzzles together in a weekend or a week?"}),`
`]}),`
`,d.jsx(e.p,{children:"These challenges ended up being mostly surmountable. We well surpassed our initial goal of writing 200 puzzles, and had enough capacity to get them all testsolved, edited, and factchecked. While there did end up being a trade-off with puzzle quality, we were happy with the general quality of the 279 puzzles we ended with. (Amusingly enough, we also had a different theme proposal called â40 Good Puzzlesâ.)"}),`
`,d.jsx(e.p,{children:"We cut dozens of puzzles we felt werenât strong enough. The small, modular nature of micropuzzles meant editors and authors were more comfortable aggressively cutting rather than putting more time into salvaging a so-so idea. On the other hand, it was more difficult than usual to justify dropping puzzles, since there was a lower cost to just putting them in. Few of us had the heart to drop our teammatesâ puzzles about overrepresented topics or with overused mechanics. Managing the distribution of these puzzles was an unexpected challenge and one we didnât quite figure out while creating this hunt."}),`
`,d.jsxs(e.p,{children:['We had a lot of fun exploring what a micropuzzle could be. The flexibility allowed for a big variety of puzzle types and less friction writing puzzles â since writers could just pick any answer they liked. Initially, there was a ârace to the bottomâ to make the smallest possible "Planck unit" of a puzzle (',d.jsx(a,{puzName:"puz43"}),", ",d.jsx(a,{puzName:"puz33"}),", ",d.jsx(a,{puzName:"puz29"}),", ",d.jsx(a,{puzName:"puz117"}),", ",d.jsx(a,{puzName:"puz317"}),"). A separate line of ideas just taught you some fun facts (",d.jsx(a,{puzName:"puz110"}),", ",d.jsx(a,{puzName:"puz190"}),", ",d.jsx(a,{puzName:"puz227"}),", ",d.jsx(a,{puzName:"puz280"}),", ",d.jsx(a,{puzName:"puz220"}),"). We also had a collection of variety tasks and non-answerables (",d.jsx(a,{puzName:"puz144"}),", ",d.jsx(a,{puzName:"puz136"}),", ",d.jsx(a,{puzName:"puz139"}),", ",d.jsx(a,{puzName:"puz212"}),", ",d.jsx(a,{puzName:"puz207"}),"). Thanks in large part to the bold tenacity of the web team, a lot of the more unusual ideas made it into the hunt."]}),`
`,d.jsx(e.p,{children:"Feedback from participants in our big testsolves validated our guesses about the hunt experience. While we didnât get high-confidence estimates of the total length of the hunt, we were relieved to see that several teams finished the hunt well within the weekend."}),`
`,d.jsx(e.p,{children:"The result of the micropuzzle writing process was an incredibly varied and chaotic collection of puzzles, which had bottom-up emergent distributions of difficulty, topic, and pace. Weâre very happy with the results and think our approach was a success overall."}),`
`,d.jsx(e.h3,{children:"Structure"}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Wishing."})," Puzzles were unlocked through wishes in a mostly random order; see the ",d.jsx(s,{path:"/wrapup/gacha",children:"Appendix: Gacha Mechanics"})," for details. We thought this feature worked well. 116 distinct teams attained first solves; check if you were one of them in ",d.jsx(s,{path:"/wrapup/stats",children:"Appendix: Statistics"}),"! We also hope you enjoyed collecting the 33 different artifacts."]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Canned hints."})," Canned hints were an interesting new feature for this yearâs Galactic Puzzle Hunt. They were intended to be a regular part of the hunting experience. During development, we felt that a canned hint system would be necessary to support our micropuzzles, particularly due to their tendencies to be minimalistic and single-aha, and hard to progress on without the aha. We hope that this system made teams find it rewarding to not need a canned hint to solve a puzzle (due to effectively not having to use as many wishes to solve that puzzle), as well as still satisfying to solve when using the canned hints."]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Metapuzzles."}),' We were initially planning to write metapuzzles involving all of the answers to all of the stars, but because of the democratized nature of puzzle-writing, few were willing to take on the looming task of combining the ridiculous set of words and phrases team members selected as answers into a giant spaghetti-meta. In the end, we decided to focus on the celestial puzzles as the "important" puzzles and include metapuzzles for some sequences without forcing metapuzzles on to the remaining stars.']}),`
`,d.jsx(e.h3,{children:"Custom puzzles"}),`
`,d.jsxs(e.p,{children:["As part of solving ",d.jsx(a,{puzName:"puz105"}),", teams could submit a puzzle for potential inclusion in the hunt. Free Puzzle itself originated from a small unrelated social meetup, where a few of us were joking about a âFree Yannickâ puzzle. At that time, we were thinking of ways to incorporate structure in the hunt that allowed for flexibility in feeder construction. The thought came to require solvers to submit an ordering instead of an answer, allowing for an arbitrarily large number of feeders while still giving the âcapstoneâ feeling that a meta traditionally provides. We hoped that this would spark some discussion about the role of metas in a hunt and encourage experimentation with different kinds of structure more generally. Later on, we figured that having teams make their own puzzle was thematic to the hunt experience of chaos and a constant stream of new content, and we added the ability for other teams to unlock submitted puzzles mostly as a gimmick."]}),`
`,d.jsx(e.p,{children:"As it happened, Free Puzzle did end up having a great impact on hunt experience, but not for the reasons listed above. We had imagined that we would reject most puzzles for being some combination of low-effort and unfun, in part because we thought teams would want to solve Free Puzzle as quickly as possible for progression. Instead, teams put much more effort and creativity into their puzzle submission than any of us predicted, and we accepted 132 custom puzzles, more than 5Ã anyone in our team predicted. This is perhaps in part due to the fact that Free Puzzle is gated on all of its feeders having been unlocked, so most teams only unlocked Free Puzzle close to or after finishing the hunt. We also realized that teams enjoyed seeing their own puzzles in the hunt and sharing them with others, and it felt much better to work with teams to revise their puzzles until we felt happy to accept them, even if it meant a lot more work for us."}),`
`,d.jsx(e.p,{children:"Including all of these puzzles during the hunt was incredibly challenging but rewarding. In addition to managing the constant stream of tree, music, and hint content, we had to testsolve and edit dozens of puzzle submissions, and even ended up implementing on-the-fly features for teamsâ puzzles while the hunt was live. Our apologies if you had to wait a long time for a response! â but ultimately including all these team-submitted puzzles fit exactly into what we wanted our hunt to be: a chaotic, democratic, never-ending stream of surprises."}),`
`,d.jsx(e.h3,{children:"Web"}),`
`,d.jsxs(e.p,{children:["This huntâs web infrastructure is based on GPH2023âs fork, which adds a Node/React interactivity layer on top of the Django-based gph-site. The new infrastructure significantly improves interactivity and performance by supporting SPA navigation and holding frequently accessed database state in memory. For more details about the interactivity layer, check out ",d.jsx(e.a,{href:"https://2023.galacticpuzzlehunt.com/wrapup",children:"our wrap up from 2023"}),"."]}),`
`,d.jsx(e.p,{children:"Despite the more traditional nature of the puzzles this year, we still made many improvements to our web infrastructure to accommodate the uniquely large number of puzzles and unusual unlocking structure. We felt that interactivity was important this year, even with a more traditional structure; the bite-sized nature of most puzzles meant that teams would interact with the website a lot more often."}),`
`,d.jsxs(e.p,{children:["Due to the much more manageable size of the database state this year, the Node server generally had a negligible database sync backlog, and redeployment introduced a much shorter downtime. As a result, we were more liberal with full redeployments. The delays faced on Monday night, however, were unplanned. In response, we issued 100 ",d.jsx(e.a,{href:"https://www.reddit.com/r/Genshin_Impact/comments/126hgp2/apologems_is_here_and_im_all_for_it/",children:"Apologems"})," to all potentially affected teams, which we hope makes up for any inconvenience caused."]}),`
`,d.jsx(e.p,{children:"Weâd like to eventually release the hunt site code publicly, with the caveat that it may not be suitable for many running teams. Operating it requires more technical expertise than classic gph-site, and weâre not confident how well the single-threaded design would fare under Mystery Hunt-level loads. Nevertheless, it might be a good starting point for hunts with medium expected load profiles or high interactivity requirements. Weâll likely continue to use this new infrastructure for future projects, so we donât expect to maintain or improve classic gph-site as much going forward."}),`
`,d.jsx(e.h3,{children:"Future"}),`
`,d.jsxs(e.p,{children:["Will there be a Galactic Puzzle Hunt 2025? Join our ",d.jsx(e.a,{href:"https://groups.google.com/g/galacticpuzzlehunt",children:"mailing list"})," to be the first to know."]}),`
`,d.jsx(e.p,{children:"Until then, check out some of these other puzzlehunts coming up:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["November 8: ",d.jsx(e.a,{href:"https://www.vehemhunt.com/",children:"The VeheMusical"})]}),`
`,d.jsxs(e.li,{children:["November 30: ",d.jsx(e.a,{href:"https://www.pandamagazine.com/island11/",children:"Puzzle Boat 11"}),", paid"]}),`
`,d.jsxs(e.li,{children:["December 1: ",d.jsx(e.a,{href:"https://www.adventhunt.com/",children:"Advent Hunt"})]}),`
`,d.jsxs(e.li,{children:["January 17: ",d.jsx(e.a,{href:"https://mitmh2025.com/",children:"MIT Mystery Hunt"})]}),`
`]}),`
`,d.jsxs(e.p,{children:["Check the ",d.jsx(e.a,{href:"https://puzzlehuntcalendar.com",children:"Puzzle Hunt Calendar"})," for more. Weâre excited to see what new ideas the community comes up with!"]}),`
`,d.jsx(e.h2,{children:"Appendices"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["A themed ",d.jsx(e.a,{href:"https://open.spotify.com/playlist/2Xw4Kjljk1f4O9Qgrj1xVc?si=BplM7KnwRdqCraq7aAqpPg&pi=Wthw3LXxQsete",children:"Spotify playlist"})]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(s,{path:"/wrapup/stats",children:"Appendix: Statistics"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(s,{path:"/wrapup/submissions",children:"Appendix: Submissions"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(s,{path:"/wrapup/ama",children:"Appendix: Ask Us Anything"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(s,{path:"/wrapup/gacha",children:"Appendix: Gacha Mechanics"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(s,{path:"/wrapup/fluidity",children:"Appendix: On Fluidity"}),`
`]}),`
`]}),`
`,d.jsx(e.h2,{children:"Credits"}),`
`,d.jsx(n,{credits:`
Executive
Chairs: CJ Quines, Kevin Li
Scribe: Max Murin
Onboarding Leader: Chris Jones

Creative
Art Lead: Chris Jones
Art: DD Liu, Mark, Amon Ge

Story Lead: Violet Xiao
Story: Mark, DD Liu, Wayne Zhao, Anderson Wang, CJ Quines, Sam Kim

Operations
Web Lead: Mark
Web: Alan Huang, CJ Quines, Max Murin, Brian Chen, Arthur de Belen, Kevin Li, Amon Ge, Violet Xiao, Chris Jones, Charles Tam, Josh Alman, DD Liu, Colin Lu, Lumia Neyo

Email Lead: Charles Tam
Hint Staff: Wayne Zhao, Yannick Yao, Max Murin, Charles Tam, Lewis Chen, Mark, Brian Chen, Kevin Li, CJ Quines, Chris Jones, Anderson Wang, Amon Ge, Violet Xiao, Leon Zhou, Lumia Neyo, Colin Lu

Puzzles
Head Editor: Patrick Xia
Editors: Kevin Li, CJ Quines, Mark, Anderson Wang, Brian Chen, Amon Ge, Chris Jones, Lewis Chen, Nathan P., Violet Xiao

Puzzle Authors: Lewis Chen, Violet Xiao, Kevin Li, Mark, Brian Chen, Amon Ge, Chris Jones, CJ Quines, Charles Tam, Anderson Wang, DD Liu, Max Murin, Leon Zhou, Yannick Yao, Maddie Dawson, Patrick Xia, Wayne Zhao, Josh Alman, Sam Kim, Dai Yang, Arthur de Belen, Andy Hauge, Colin Lu, Nathan P., Robert Tunney, Ben Yang

Factchecking Lead: Brian Chen
Factcheckers: Anderson Wang, Wayne Zhao, Kevin Li, CJ Quines, Mark, Max Murin, Yannick Yao, Lumia Neyo

Additional Testsolvers: Melanie Baker, Vincent Bian, Cami Ramirez-Arau, Esa Sclafani, Joshua Starost, Azalea Weisblat, Lumia Neyo, Bex Lin, Kat Fang, Jon Schneider, Mitchell Lee
`})]})}function lfe(t={}){const{wrapper:e}=t.components||{};return e?d.jsx(e,{...t,children:d.jsx(DM,{...t})}):DM(t)}function tl(t,e){throw new Error("Expected component `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}function LM(t){const e={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...t.components},{Puzzle:n}=e;return n||cfe("Puzzle"),d.jsxs(d.Fragment,{children:[d.jsx(e.h1,{children:"Appendix: Gacha Mechanics"}),`
`,d.jsx(e.p,{children:"In the following, âpuzzleâ always refers to a non-Celestial puzzle. This is possibly a custom puzzle; we use ânon-custom puzzleâ for canonical puzzles."}),`
`,d.jsx(e.h2,{children:"Hope"}),`
`,d.jsx(e.p,{children:"Hope can be gained or lost via:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Wishing, which costs 100 hope."}),`
`,d.jsxs(e.li,{children:["Gaining hope as a prize from wishing; see the ",d.jsx(e.strong,{children:"Wishing"})," section for details."]}),`
`,d.jsxs(e.li,{children:["Solving a puzzle, which grants an amount of hope uniformly at random between 110 and 150, with the following exceptions:",`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["Solving ",d.jsx(n,{puzName:"puz146"})," grants 0 hope."]}),`
`,d.jsxs(e.li,{children:["Solving ",d.jsx(n,{puzName:"puz189"})," grants 0 hope."]}),`
`,d.jsxs(e.li,{children:["Solving ",d.jsx(n,{puzName:"puz144"})," grants ",d.jsx(e.code,{children:"15n"})," hope, where ",d.jsx(e.code,{children:"n"})," is the number of points awarded."]}),`
`]}),`
`]}),`
`,d.jsxs(e.li,{children:["Donating to ",d.jsx(n,{puzName:"puz313"}),", which costs 5 hope."]}),`
`,d.jsxs(e.li,{children:["Claiming from ",d.jsx(n,{puzName:"puz313"}),", which grants 1.5 times the amount of hope in the pool."]}),`
`]}),`
`,d.jsx(e.h2,{children:"Wishing"}),`
`,d.jsx(e.p,{children:"Note that the wishing mechanics changed over the course of the hunt; these are the mechanics as they were at the end."}),`
`,d.jsxs(e.p,{children:["When a wish is made, the prize is determined as follows. First, check if any of the conditions under the ",d.jsx(e.strong,{children:"Rigged prize"})," section are true; if so, return that. Otherwise, choose a prize via the weights under the ",d.jsx(e.strong,{children:"Unrigged prize"})," section."]}),`
`,d.jsx(e.h3,{children:d.jsx(e.strong,{children:"Rigged prize"})}),`
`,d.jsxs(e.p,{children:["These ârigged prizesâ are special cases. Choose the first condition that applies. Most of the time we expect to fall back to the ",d.jsx(e.strong,{children:"Unrigged prize"})," section."]}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["If the team has unlocked less than 5 puzzles, the prize is a puzzle. See the ",d.jsx(e.strong,{children:"Puzzle prize"})," section below."]}),`
`,d.jsxs(e.li,{children:["If the team has solved the puzzle ",d.jsx(n,{puzName:"puz317"}),", but has not unlocked the puzzle ",d.jsx(n,{puzName:"puz318"}),", the prize is that puzzle."]}),`
`,d.jsxs(e.li,{children:["If all of the following are true, then the prize is a hint token:",`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["one of the following is true, where ",d.jsx(e.code,{children:"H"})," is the teamâs total number of hint tokens:",`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["the team has less than 10 hint tokens, and it has been at least ",d.jsx(e.code,{children:"6H + 3"})," hours since the team solved its first puzzle; or"]}),`
`,d.jsxs(e.li,{children:["the team has less than 24 hint tokens, and it has been at least ",d.jsx(e.code,{children:"12(H - 10) + 72"})," hours since the team solved its first puzzle;"]}),`
`]}),`
`]}),`
`,d.jsxs(e.li,{children:["the team has at least ",d.jsx(e.code,{children:"h + 3"})," unsolved puzzles, where ",d.jsx(e.code,{children:"h"})," is the teamâs total number of ",d.jsx(e.em,{children:"unused"})," hint tokens;"]}),`
`,d.jsxs(e.li,{children:["the team has made at least 3 wishes since it last got a hint token, ",d.jsx(e.em,{children:"or"})," it has been at least 1 hour since it last got a hint token."]}),`
`]}),`
`]}),`
`,d.jsxs(e.li,{children:["If the team has unlocked but not solved ",d.jsx(n,{puzName:"olive"}),", and has not gotten all of Oliveâs penlights, then with 20% probability, the prize is a penlight."]}),`
`,d.jsxs(e.li,{children:["If the team has unlocked but not solved ",d.jsx(n,{puzName:"blocks"}),", and has not gotten all of Kidâs blocks, then with 20% probability, the prize is a block."]}),`
`,d.jsxs(e.li,{children:["Let ",d.jsx(e.code,{children:"c"})," be the teamâs number of unlocked Celestials, and ",d.jsx(e.code,{children:"r"})," be the ratio of the teamâs number of solved puzzles to the total number of non-custom puzzles. If one of the following is true, then with 75% probability, the prize is a Celestial (chosen from unlockable Celestials uniformly at random):",`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 0 and ",d.jsx(e.code,{children:"r"})," is at least 10%;"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 1 and ",d.jsx(e.code,{children:"r"})," is at least 20%;"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 2 and ",d.jsx(e.code,{children:"r"})," is at least 32%;"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 3 and ",d.jsx(e.code,{children:"r"})," is at least 45%;"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 4 and ",d.jsx(e.code,{children:"r"})," is at least 59%;"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 5 and ",d.jsx(e.code,{children:"r"})," is at least 74%;"]}),`
`,d.jsxs(e.li,{children:[d.jsx(e.code,{children:"c"})," is 6 and ",d.jsx(e.code,{children:"r"})," is at least 90%."]}),`
`]}),`
`]}),`
`,d.jsxs(e.li,{children:["If the team has less than 5 unsolved puzzles, the prize is a puzzle. See the ",d.jsx(e.strong,{children:"Puzzle prize"})," section below."]}),`
`]}),`
`,d.jsxs(e.p,{children:["If none of these checks are true, continue to the ",d.jsx(e.strong,{children:"Unrigged prize"})," section."]}),`
`,d.jsx(e.h3,{children:d.jsx(e.strong,{children:"Unrigged prize"})}),`
`,d.jsxs(e.p,{children:["Compute the ",d.jsx(e.code,{children:"hintBias"})," as follows:"]}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["Let ",d.jsx(e.code,{children:"minWidth"})," be ",d.jsx(e.code,{children:"5 + 5s/180"}),", where ",d.jsx(e.code,{children:"s"})," is the teamâs number of solved puzzles."]}),`
`,d.jsxs(e.li,{children:["Let ",d.jsx(e.code,{children:"maxWidth"})," be ",d.jsx(e.code,{children:"8 + 10s/180 + d/100000"}),", where ",d.jsx(e.code,{children:"s"})," is the teamâs number of solved puzzles and ",d.jsx(e.code,{children:"d"})," is the teamâs amount of dust."]}),`
`,d.jsxs(e.li,{children:["Let ",d.jsx(e.code,{children:"hintBias"})," be ",d.jsx(e.code,{children:"90(u + 0.7c - minWidth)/(maxWidth - minWidth)"})," clamped to the range ",d.jsx(e.code,{children:"[0, 90]"}),", where ",d.jsx(e.code,{children:"u"})," is the teamâs number of unsolved non-custom puzzles, and ",d.jsx(e.code,{children:"c"})," is the teamâs number of unsolved custom puzzles."]}),`
`]}),`
`,d.jsx(e.p,{children:"Then a prize is chosen via a weighted selection from the following list:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["With weight ",d.jsx(e.code,{children:"90 - hintBias"}),", the prize is a puzzle. See the ",d.jsx(e.strong,{children:"Puzzle prize"})," section below."]}),`
`,d.jsxs(e.li,{children:["With weight ",d.jsx(e.code,{children:"2 + hintBias"}),", the prize is a canned hint. See the ",d.jsx(e.strong,{children:"Canned hint prize"})," section below."]}),`
`,d.jsx(e.li,{children:"With weight 2, the prize is a hint token."}),`
`,d.jsx(e.li,{children:"With weight 3, the prize is hope. An amount is chosen uniformly at random between 200 and 400."}),`
`,d.jsxs(e.li,{children:["With weight 3, the prize is an artifact. See the ",d.jsx(e.strong,{children:"Artifact prize"})," section below."]}),`
`]}),`
`,d.jsx(e.h3,{children:d.jsx(e.strong,{children:"Puzzle prize"})}),`
`,d.jsx(e.p,{children:"First, determine the list of unlockable puzzles."}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"The majority of puzzles (around 200) require at least 5 puzzles solved before they are unlockable."}),`
`,d.jsx(e.li,{children:"Thereâs around 40 puzzles that have no such solve requirement, which we picked to be âintroductoryâ puzzles."}),`
`,d.jsx(e.li,{children:"Thereâs around 20 puzzles that have a solve requirement of 20, which were picked to be âweirderâ puzzles."}),`
`,d.jsx(e.li,{children:"Custom puzzles require at least 100 puzzles unlocked before they are unlockable."}),`
`,d.jsx(e.li,{children:"Some puzzles have additional requirements beyond this: for example, puzzles in a sequence might require certain puzzles earlier in that sequence to be unlocked or solved before they are unlockable."}),`
`]}),`
`,d.jsxs(e.p,{children:["Let ",d.jsx(e.code,{children:"r"})," be the ratio of non-custom puzzles in a sequence to the total number of non-custom puzzles. With probability ",d.jsx(e.code,{children:"2r"}),", return a rarity-weighted puzzle selected from all unlockable in-a-sequence non-custom puzzles. Otherwise, return a rarity-weighted puzzle selected from the unlockable non-sequence puzzles."]}),`
`,d.jsx(e.p,{children:"A puzzleâs rarity weight is determined as follows:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(n,{puzName:"puz313"})," has weight ",d.jsx(e.code,{children:"2s"}),", where ",d.jsx(e.code,{children:"s"}),` is the teamâs number of
solved puzzles.`]}),`
`,d.jsx(e.li,{children:"Metapuzzles have a weight of 10, no matter their wish-rarity."}),`
`,d.jsx(e.li,{children:"Puzzles with a common wish-rarity have weight 10."}),`
`,d.jsx(e.li,{children:"Puzzles with an uncommon wish-rarity have weight 7."}),`
`,d.jsx(e.li,{children:"Puzzles with a rare wish-rarity have weight 5."}),`
`,d.jsx(e.li,{children:"Puzzles with an epic wish-rarity have weight 4."}),`
`,d.jsx(e.li,{children:"Puzzles with a legendary wish-rarity have weight 3."}),`
`]}),`
`,d.jsx(e.p,{children:"Note that a puzzleâs wish-rarity is distinct from its displayed-rarity. In most cases these are the same, but there are around 20 exceptions."}),`
`,d.jsx(e.p,{children:"If no puzzles are unlockable, return dust. An amount is chosen uniformly at random between 1000 and 10000."}),`
`,d.jsx(e.h3,{children:d.jsx(e.strong,{children:"Canned hint prize"})}),`
`,d.jsx(e.p,{children:"Return a canned hint via a weighted selection over unlocked unsolved puzzles with a locked canned hint. To compute the weight for a puzzle:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:["Let ",d.jsx(e.code,{children:"actualT"})," be the amount of hours since the puzzle was unlocked."]}),`
`,d.jsxs(e.li,{children:["Choose ",d.jsx(e.code,{children:"minT"})," according to the puzzleâs wish-rarity. For common, 0.4; for uncommon, 0.6; for rare, 0.8; for epic, 1.1; for legendary, 1.5."]}),`
`,d.jsxs(e.li,{children:["Let ",d.jsx(e.code,{children:"r"})," be the ratio of the teamâs number of unlocked canned hints for this puzzle, to the total number of canned hints for this puzzle."]}),`
`,d.jsxs(e.li,{children:["Then the weight for the puzzle is ",d.jsx(e.code,{children:"actualT - minT(1 + r)"})," if that value is positive, else the weight is 0."]}),`
`]}),`
`,d.jsx(e.p,{children:"If no puzzles have positive weight, return an amount of dust chosen uniformly at random between 1000 and 10000."}),`
`,d.jsx(e.h3,{children:d.jsx(e.strong,{children:"Artifact prize"})}),`
`,d.jsx(e.p,{children:"There are 34 unique artifacts, including dust. Choose one uniformly at random."}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"If the team already has that artifact, return an amount of dust chosen uniformly at random between 1000 and 10000."}),`
`,d.jsx(e.li,{children:"If the chosen artifact is dust, return an amount of dust chosen uniformly at random between 1000 and 10000."}),`
`,d.jsx(e.li,{children:"If the chosen artifact is gold, return an amount of gold chosen uniformly at random between 10 and 100."}),`
`,d.jsx(e.li,{children:"Else, return one of that artifact."}),`
`]})]})}function ufe(t={}){const{wrapper:e}=t.components||{};return e?d.jsx(e,{...t,children:d.jsx(LM,{...t})}):LM(t)}function cfe(t,e){throw new Error("Expected component `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}function NM(t){const e={a:"a",blockquote:"blockquote",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...t.components},{Carousel:n,CustomPuzzle:r,Fragment:i,Gallery:a,PrivateCustomPuzzle:s,Puzzle:o,Team:l,Twemoji:u}=e;return n||Hs("Carousel"),r||Hs("CustomPuzzle"),i||Hs("Fragment"),a||Hs("Gallery"),s||Hs("PrivateCustomPuzzle"),o||Hs("Puzzle"),l||Hs("Team"),u||Hs("Twemoji"),d.jsxs(d.Fragment,{children:[d.jsx(e.h1,{children:"Appendix: Submissions"}),`
`,d.jsx(e.h2,{children:"From Our Mailbox"}),`
`,d.jsx(a,{imgProps:{nameWithExt:!0,unscoped:!0},items:[{images:["wrapup/submissions1.png"],caption:d.jsxs(i,{children:["Sent to us by"," ",d.jsx(e.a,{href:"https://x.com/galofuf/status/1839622783392759900",children:"@galofuf"})," ","on X."]})},{images:["wrapup/submissions2.png"],caption:d.jsxs(i,{children:["Sent to us by"," ",d.jsx(e.a,{href:"https://x.com/PokeLily0/status/1840909965122220397",children:"@PokeLily0"})," ","on X."]})},{images:["wrapup/submissions3.png"],caption:d.jsxs(i,{children:["From our mailbox, about ",d.jsx(o,{puzName:"puz111"}),". Please forgive us for spoiling it."]})},{images:["wrapup/submissions4.png"],caption:d.jsxs(i,{children:["From our mailbox, about ",d.jsx(o,{puzName:"ten_lions"}),"."]})},{images:["wrapup/submissions5.png"],caption:d.jsxs(i,{children:["From ",d.jsx(l,{teamId:"632"}),"."]})},{images:["wrapup/submissions6.png","wrapup/submissions7.jpg"],caption:d.jsxs(i,{children:["We were informed that the tree hugged by team ",d.jsx(l,{teamId:"420"})," ","was brutally murdered before the hunt ended. According to their fun fact, Yuki (the dog) had diligently watered the tree with her pee for the past three years. We hereby express our deepest condolences for this unforgivable tragedy."]}),halfwidth:!0}]}),`
`,d.jsx(e.p,{children:"And some stories:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:"I sniped the FAIRPLAY puzzle from the guy who was guessing FAIRPLAY on every single puzzle."}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:"I was the person on Dan City who sent 3 separate hints for Kid. Figuring out a number of discrete solutions is not my strong suit, but everyone else was busy trying to deal with Rock Lobster and 10 Lions. The math was not mathing, the solutions were inscrutable, and my patience was waning. I eventually went to bed deeply confused about why I was getting wrong numbers for the number of solutions on each grid, after spending the better part of my day working on it."}),`
`,d.jsx(e.p,{children:"At 2am--about 3 hours after I went to sleep and 4 hours before I had to get up for work in the morning--I was awoken by the dulcet towns of drunken screaming in the city streets. Their unhinged frustration matched my own. When I tried to fall asleep again, all I could think about was the second grid on Kid. After 10 minutes of groggily counting grid spaces and letters on my fingers while yearning for the sweet reprieve of unconsciousness, I realized that I was a complete idiot and hadn't been swapping around enough pieces on the second grid. I unlocked my phone after a couple tries, punched in the correct answer, then promptly conked out."}),`
`,d.jsx(e.p,{children:`I'm petitioning that we add "Get some sleep" to our Puzzlehunt Idiot Checklist.`}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsxs(e.p,{children:['Both "Rock Lobster" and "Dopamine" are stuck in my head like an ',d.jsx(e.em,{children:"Ohrwurm"}),"."]}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:"I think the only thing Iâll have to focus on now is resetting my algorithm back to normal since I Googled so many random topics"}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:"I was fed up with Rock Lobster and inputted âcan we get a league puzzleâ. My teammates saw and laughed. Coincidentally we soon decided to wish. And out came the puzzle ââfreeâ gamesâ. Upon seeing the words âsummonerâs riftâ I screamed âITS A LEAGUE PUZZLE!â Unfortunately I was also in a public area. But I am thankful for the league of legends puzzle."}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:'We saw "FAIR PLAY" early and were submitting it to every single puzzle "just in case". Four of us were all mashing wish at the same time as it ticked up over 100 Hope when we finally unlocked Find the Answer IV; the resulting scramble to type the answer as fast as possible was possibly our greatest moment of the hunt.'}),`
`,d.jsx(e.p,{children:`I extracted "FOUR" from funny farmer and immediately put the fourth letter of every farm into an anagram solver. The first thing it returned was "REAL BIG TITS MR" and I had to take a moment to convince myself that that couldn't possibly be the answer.`}),`
`,d.jsx(e.p,{children:"One of my team members joined a discord server for polyhedra fans(???) while trying to solve Name The Polyhedron and got roasted because people thought they were describing a hexagonal prism."}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:'"everytime i see hololive my brain reads it as whole olive"'}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsx(e.p,{children:`We unlocked the very intimidating Minecraft puzzle very early in the hunt, I think on day one. It hung over us like an albatross through almost the entire hunt, staring at us from the bottom of the puzzle list, judging us. Towards the very end of the hunt, when we finally and desperately started in on "Free Puzzle" in the early hours of Sunday morning, just a few hours before the puzzle-submission deadline, there was the Minecraft puzzle, waiting for us in the list of supporting documents like a specter---the ONE puzzle listed that we didn't have an answer for. There was no way we were going to be able to solve it *and* "Free Puzzle" in time to make the deadline. But maybe we could work around it. As we arranged and connected the puzzles with the uncertainty of the missing answer looming over us, desperately attempting to connect "Body" to something, it suddenly dawned on us---how else would you end "Free Body ____" but with DIAGRAM, and where else would we get DIAGRAM but with the Minecraft puzzle?! We could back-solve our problem away! We were free! Imagine our chagrin when, impossibly, that was not the answer. We wracked our brains for what else could possibly come after "Free Body ____," and the only thing we could come up with was...free body problem? Like the three body problem...? Resigned and hopeless, we typed in PROBLEM, and, elated and astonished at our clever work-around, watched the puzzle miraculously disappear from our list, FINALLY solved! ...It was only after realizing how "Form" and "Diagram" were meant to be used in the puzzle, as we re-rearranged the puzzles and answers to conform to the correct order, that the true wonder of what we had done washed over us---only then did we realize that we had not just back-solved the Minecraft puzzle, we had inconceivably, unbelievably *lucked into* BLINDLY back-solving it. I still can't really wrap my mind around that.`}),`
`]}),`
`,d.jsxs(e.li,{children:[`
`,d.jsxs(e.p,{children:['I figured it was a good day to wear a GPH shirt, then on my way out I got the "we need a tree hugging picture". I turned it around in about 5 minutes and had a teammate submit it. It was only later when I mentioned "I did not get expect wearing that shirt to pay off so quickly ',d.jsx(u,{tag:"span",children:"ð"}),'" that said teammate realized it was a GPH shirt.']}),`
`]}),`
`]}),`
`,d.jsx(e.h2,{children:"Funny Guesses"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz12"}),": COMPUTATIONALGEOYOUREASAWFULASTHEDAYILOSTYOU"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz12"}),`:
THISPUZZLECONFIRMSWHYNUMBERTHEORYISSIMPLYSUPERIORTOGEO`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz29"}),": ITHINKTHEPUZZLEISNTLOADING"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz38"}),`:
IWASREALLYWORRIEDWHENITHOUGHTMYANSWERWASGOINGTOBEAFOURLETTEREXCLAMATIONWHOSEFIRSTTWOLETTERSWEREFU`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz46"}),`:
IFTHEANSWERTOTHISPUZZLEISNTPREVIOUSNUDEIMGOINGTOBESOSAD`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz48"}),": NOTFAIRPLAY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz78"}),`:
SOCIETYWHENTHEREARETWOPUZZLESWITHTHENAMEBLANKSQUARESIHAVEANSWEREDCRINGE`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz78"}),`:
WEJUSTGOTATHIRDONESOTHEPREVIOUSANSWERISNOLONGERACCURATE`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz79"}),": WHOOPSTHOUGHTPICWASABREADHERRING"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz79"}),": YALLMADEMEHUNGRYFORBREADNOWANGRYFACE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz80"}),": WHYARETHERESOMANYHOLIDAYS"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz81"}),`:
YALLSEEALLOFTHESEDONTYOUSOISHOULDJUSTGOBACKTOTHESHEETSANDSTOPMAKINGGUESSES`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz93"}),": IDEMANDGENDEREQUALITY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz94"}),": WHODOICONTACTTOSHOWMYBATSHITINSANECRYPTOGRAMTHEORY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz98"}),": STOPWITHTHEMSPAINTPUZZLESWEALLUSEMACS"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz99"}),": ONCEAGAINWEALLONLYRUNMACS"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz99"}),": IHAVELINUXANDIMSOTIREDOFTHESE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz104"}),`:
THEREHASTOBESOMANYANSWERSBEINGGUESSEDRIGHTNOWSOTHEHUNTRUNNERSWONTSEETHATIMGAY`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz106"}),`:
THEREARENOWUGSTHEREARENOTINYWUGSTHEWUGHOUSEISEMPTYTHEREISNOHATANDYOUMUSTWAKEUP`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz116"}),": SALTLAKECITYMENTIONED"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz116"}),`:
FINALLYMYKNOWLEDGEOFTHESLCGRIDSYSTEMWILLMAKEAPUZZLEEASYFORME`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz121"}),": WELOVETHISSOMUCH"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz126"}),`:
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz126"}),": ITEITHERISORITISNT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz126"}),": IMTRYINGTHISAGAIN"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz126"}),": OKAYONEMORETIME"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz126"}),": ROLLUPYOURSLEEVES"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz126"}),": ICANTBELIEVEBOTHMYFIFTYFIFTYSHOTSFAILED"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz143"}),": HITTHATANSWERUSSY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz145"}),": THANKYOUFORTHEHOPEWEAPPRECIATEIT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz149"}),": CURIOSITYKILLEDTHISPUZZLE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz150"}),": IHATEYOU"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz150"}),": IDONTREALLYHATEYOUTHATWASJUSTAGUESSOKIMSORRY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz152"}),`:
IFYOUTREATVOWELASONEANDCONSONANTASZEROTHENITSPELLSOUTDILUTEBACKWARDSISNTTHATWEIRD`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz168"}),`:
FORSOMETHINGENORMOUSTHISISREALLYHARDTOSPOTONSTREETVIEW`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz168"}),": WAITOMGIWENTTOUWGOHUSKIES"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz168"}),": THEPERPETUALLYCLOUDYSKIESOFSEATTLE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz200"}),": WHATDOYOUMEANITSNOTPINKLOOKATIT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz200"}),": FAIRPLAYEVENTHOUGHIKNOWITSFACADE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz203"}),": IWOULDTELLYOUBUTITISAGAINSTTHEREGULATIONS"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz204"}),": HTTPSWWWQUORACOMWHATSONGSHAVETHELYRICSNANANANANA"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz205"}),": ILOSTCOUNTOFHOWMANYTIMESIFLIPPED"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz205"}),": AREYOUWINNINGSON"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz207"}),": WHYISYOSHIWEARINGGODOTSVISOR"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz210"}),": ISTHISAPUZZLE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz210"}),": OHNOYOUDIDNT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz211"}),": YOUWERECOUNTINGONMENOTTOREADTHATANDYOUWERERIGHT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz211"}),": ITDEPENDSONTHEGOATANDWHETHERTHEOTHERGOATISBETTER"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz211"}),": MONTYGIVEMEDOORTHREE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz211"}),": IMSERIOUSMONTYIWILLSUE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz212"}),": AREYOUSUREITSNOTFAIRPLAY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puzz28"}),": YOUKNOWWESPEAKCATALANINVALENCIATOO"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz231"}),`:
IDKBUTITSPROBABLYFULLOFTHOSEARTIFICIALSWEETENERSTHATDESTROYYOURMICROBIOME`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz231"}),": WHYWOULDYOUFLAVORWATERTHISGOESAGAINSTGOD"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz231"}),": TRICKQUESTIONHINTWATERHASNOFLAVOR"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz237"}),`:
PICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENCEDPICTUREGAMEREFERENC`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz237"}),`:
OKAYTHISISN'TASOLUTIONTOTHEPUZZLEBUTIWATCHEDKIMOONDO'SPERFORMANCEONFOOLUSANDDAMNTHAT'SSOMESMOOTHCARDMAGIC`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz238"}),": AREYOUHAPPYWITHYOURSELF"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz238"}),": IJUSTWORKEDOUTTHATGIANTLONGONEGOESTONANDFORWHAT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz238"}),": JUSTTOGETDUNKEDON"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz239"}),": :Ì¶.Ì¶|Ì¶:Ì¶;Ì¶"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz250"}),`:
AWITDIDNTCOPYPASTETHESPECIALCHARACTERTHATLOOKSLIKETHELITTLEGUYOHWELL`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz250"}),`:
THETEAMMEMBERWHOGUESSEDTHEFIRSTANSWERHASBEENFIREDANDREPLACED`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz266"}),": THERESNOSUCHTHINGASAFREEHINT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz266"}),": ILLVENMOYOUFIVEDOLLARSFORAHINT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz266"}),": WHATIFIASKREALLYNICELYTHO"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz266"}),": WHATIFWEASKREALLYREALLYNICELY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz266"}),`:
ILOSEALLMYGENSHINSWHYDOIHAVETOWAITFORACANNEDHINTTODROPTOSOLVETHIS`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz266"}),`:
IDJUSTLIKETOINTERJECTFORAMOMENTWHATYOUREREFERINGTOASHINTISINFACTGNUHINT`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz290"}),": THISHUNTHASBEENREALLYHARDONOURSHEETTABNAMING"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz293"}),": WAITERWAITERMOREFIVEBYFIVEPUZZLESPLEASE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz309"}),": THATSRIGHTITGOESINTHESQUAREHOLE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz315"}),": NOTHINGMUCHWHATSUPWITHYOU"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz319"}),": LOWERCASE"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz319"}),": FULFILLMENTINOURDAYTODAYLIVES"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz319"}),": PUZZLECONTENT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz326"}),`:
ICANTYPEANYTHINGINHEREANDYOUWILLGIVEMETHEANSWERRIGHT`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"ten_lions"}),": WOULDABILLIONLIONSWINAGAINSTONEOFEVERYPOET"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"olive"}),": STICKINGOUTYOURGYATTFORNERIZZLER"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"olive"}),`:
ENOUGHISENOUGHIHAVEHADITWITHTHESEMOTHERFUCKINGWEEBSINTHESEMOTHERFUCKINGHUNTS`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"olive"}),": RASCALDOESNOTDREAMOFANSWERGIRLSENPAI"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"olive"}),": HOLPLUSOLIVEHAHAGETIT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"olive"}),": BOWLOFSALADROLLINGDOWNAHILL"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"branch"}),`:
GPHPERSONTHEYTRADEDKARLANTHONYTOWNSTOTHEKNICKSIAMINMYFEELSTHANKYOUFORTHEPUZZLES`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"farmer"}),": IKEEPUSINGTHEWRONGBOX"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"blocks"}),": DONTSLASHSMECHILDAREYOUSLASHSRSORSLASHJ"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"rock_lobster"}),`:
JUSTSHOTGUNNEDAREDBULLANDHAVEROCKLOBSTERONLOOPFORPERFORMANCEGLHFME`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"pom_pom"}),": YOUANDIHAVEVERYDIFFERENTDEFINITIONSOFRHYME"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"night_of_the_celestials"}),": KERODIDIT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_114"}),": DUDETHESEHOLOLIVEFANSARECRAZY"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_17"}),": WHYWOULDYOUDOTHIS"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_294"}),": IMSORRYITSSPELTCOLOUR"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_370"}),`:
THANKSFORPUTTINGTHATCLUEINQUOTESFORMYGOOGLESEARCH`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_456"}),": NOFUCKINWAYITSHALLEYSCOMETAGAIN"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_633"}),`:
DIDYOUKNOWTHATTHECRITICALLYACCLAIMEDMMORPGFINALFANTASYXIVHASAFREETRIALANDINCLUDESTHEENTIRETYOFAREALMREBORNANDTHEAWARDWINNINGHEAVENSWARDEXPANSIONUPTOLEVELWITHNORESTRICTIONSONPLAYTIME`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_647"}),": YESIAMGAMINGTHESYSTEMATTHISPOINT"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_647"}),": NOIAMNOTSORRYINTHESLIGHTEST"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_654"}),": HOLYSHITBRATLETSGO"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_654"}),": THANKSPROVIDENCD"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_771"}),`:
PLEASEHELPIDONTHAVEHEALTHINSURANCEJUSTLETMEPASSANDPUTTHESTARBACKINTHESKY`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_771"}),": NORECISSIONWEWANTTOFIGHT"]}),`
`]}),`
`,d.jsx(e.h2,{children:"Funny Titles"}),`
`,d.jsx(e.p,{children:"Some of the star puzzles did not have titles, and instead teams were allowed to rename them whatever they wanted."}),`
`,d.jsx(e.p,{children:"People came up with a couple funny names; hereâs a few that made us chuckle."}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz2"}),": Resistors are Futile"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz2"}),": disco at the cardio ward"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz19"}),": Hey Now You're a Wall Star"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz22"}),": If You Can See This Please Put Us In The Wrapup"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz24"}),`: oh boy another puzzle that looks like aliens
trying to communicate with me as if i were hans niemman playing vs scooby do`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz33"}),": Pokemon GO TO THE POLLS"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz33"}),": OREOGN MENTIONED RAHH"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz34"}),": she polycyclic on my aromatic till i hydrocarbon"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz37"}),`: I wonder how long these names can be. Do you think
there's a limit? I'll just keep typing, because I'm sure that eventually it w`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz48"}),": You Guys Probably Could've Named More of These"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz48"}),": Some cryptic looking stuff (complimentary)"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz55"}),": moP moP but there are no subtitles"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz56"}),": i would go to school if this was the flag"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz69"}),`: Minecraft Nether Speedrun in 24:51.998 GPH2024%
[WR]`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz69"}),": çå¸åç¥ï¼"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz86"}),": chr(sum(range(ord(min(str(not()))))))"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz87"}),`: last thing my milked up beanie baby sees before it
gets flushed into the sewers`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz87"}),": [24] WHO NEEDS PHOTOSHOP I HAVE EYES"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz93"}),`: me when im doing my job (the rest of the team told
me my job is to name stars) (i am not being paid) (help) (puz`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz93"}),`: despair 2: electric boogaloo: now itâs personal
Ultimate Edition DX (taylorâs version)`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz103"}),`: This definitely is one way to describe a human
body`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz159"}),": Clues Which Likely Have Answers"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz159"}),`: Hello GT members who are checking the logs for
funny Unnamed star renaming`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz197"}),": [34] WHO NEEDS EYES I HAVE PHOTOSHOP"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz197"}),": ä¸ºä½ä¼¤å®³æçåç¼"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz210"}),": handwriting with threatening aura"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz211"}),": What if I do want a goat, huh?"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz221"}),": Mein Gott! This Sky is full of Puzzlestarren!"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz221"}),": ich bin ein fan of this puzzle"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz265"}),": in soviet russia, everything is third person"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz265"}),": She oblast on my raion till I krai"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz281"}),`: if i see another puzzle with two answers i will
HBJASDFJNKASJKDBFAKHJWFAEJKWHFKAWEHJGBWEKGJHBWKEGHJBWEKGHJAWEBKGJHWEBGKJWEHBGWE`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz281"}),": clues hopefully with answers maybe?"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz304"}),`: I dedicate this star to Jack Black (not a part of
the puzzle)`]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz306"}),": Daft Punk Reunion Tour"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz308"}),": ä½ ç¥éç å½ä½ ä»ä¹é½ä¸ä¼åçæ¶åå°±ä¼æ³æ¹ä¸ªå"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_654"}),": im not installing julia"]}),`
`,d.jsxs(e.li,{children:[d.jsx(o,{puzName:"puz105_custom_294"}),`: are these star names going to be in
the wrap-up?`]}),`
`]}),`
`,d.jsx(e.h2,{children:"Short answer: Musical intuition"}),`
`,d.jsxs(e.p,{children:["Here's some of the responses we got for ",d.jsx(o,{puzName:"puz144"}),"."]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Using the teacherâs password:"})," ",d.jsx(l,{teamId:"754"})]}),`
`,d.jsx("div",{className:"hint-text",children:d.jsx(e.p,{children:`Hmm, well if you're in alto clef, then it's most likely lower as C sharps are
way more common than C flats. But if you're in treble clef, B flat is much
more common than B sharp. In addition, "Rock Lobster" is in C minor, so it's
likely that we have a B flat, so the second note is higher.`})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:["Finally, someone UNDERSTANDS! Your exemplary answer will be paraded across all future classes. Though I would normally dock a few points for some unexplained assumptions and missed details (such why Bâ­ is more likely than Bâ¯ or instrumentation), your appeal by Rock Lobster is a foolproof argument. ",d.jsx(u,{tag:"span",children:"ð®"}),d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"11/10"})]}),`
`]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Most value for characters:"})," ",d.jsx(l,{teamId:"499"})]}),`
`,d.jsx("div",{className:"hint-text",children:d.jsx(e.p,{children:`It's higher. Assume treble clef (because you're more likely to go up a half
step and play shorter notes in a higher register). Most key signatures with a
B modifier are flat. Natural is higher.`})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:["A concise answer, I really appreciate your attention to melody in considering the clef assumption. There are certainly other unmentioned possibilities (see the solution for details), but your take is certainly (and uniquely) excellent. Please see me in office hours after hunt to discuss potential thesis topics. ",d.jsx(u,{tag:"span",children:"ð®"}),d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"9/10"})]}),`
`]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Ethics:"})," ",d.jsx(l,{teamId:"47"})]}),`
`,d.jsx("div",{className:"hint-text",children:d.jsx(e.p,{children:`I would say that the second note is LIKELY higher than the first one. The most
common scenario here is that we are in treble clef, with these representing
two B notes. If we are on treble clef, B# does not exist in a key signature,
so we would have to have had a B# accidental earlier in the measure canceled
out by this, which is unlikely. Therefore this is most likely a Bb, and
therefore the second note is higher in pitch. If we are on bass clef (other
clefs are possible but unlikely), this is a D. Both D# and Db are only used in
what I would term "loser keys". I would say the second-most likely scenario is
that this is a bass-clef D# in the key of E major, but a) bass lines are
frequently chords as opposed to melodies, and b) hey you gotta take a flier at
some point, and everyone loves a good treble clef B-flat.`})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:[`Well, B# does exist in C# major, though I guess you could argue that it doesn't exist or it's an "extra loser key". Certainly a well-reasoned argument! `,d.jsx(u,{tag:"span",children:"ð®"}),d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"9/10"})]}),`
`]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Theory of mind:"})," ",d.jsx(l,{teamId:"610"})]}),`
`,d.jsx("div",{className:"hint-text",children:d.jsx(e.p,{children:`The second note is higher in pitch than the first. Since I only play treble
clef instruments, and the text specifies that I am the one looking at the
music score, the score must be in treble clef. Furthermore, I would never play
something with a B sharp, and since this is in the middle of a music score I
would certainly have stopped before now if there was any hint of such
weirdness. Therefore the first note is a B flat and the second note is a B
natural.`})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:["Fair enough! We do think that considering other possibilities would make for a more comprehensive answer, though.",d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"6.5/10"})]}),`
`]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"The beginner:"})," ",d.jsx(l,{teamId:"782"})]}),`
`,d.jsx("div",{className:"hint-text",children:d.jsx(e.p,{children:`The second note is higher because the first note is a B flat. I can only play
with my right hand and I just learned about the F Major scale so my piano
teacher is probably giving me pieces in that key signature.`})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:["Good luck on your adventures in learning how to play the piano!",d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"5/10"})]}),`
`]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"The philosopher:"})," ",d.jsx(l,{teamId:"390"})]}),`
`,d.jsx("div",{className:"hint-text",children:d.jsx(e.p,{children:`One cannot definitively determine whether the second note is lower or higher
in pitch than the first note. In the most straightforward interpretation of
the prompt, one must obtain the context of the key signature and clef to
determine if the natural incidental modifies the note to be higher, lower, or
is purely extraneous. But what fun is that? Indeed, the image may even be
displayed upside down, which would call into question how we even define what
is the "second" note. Alternately, the second note could refer to the second
note of the piece as opposed to the second note displayed in the image. One
could consider performing a statical analysis involving the frequencies (ha)
of different key signatures in attempt to hedge their bets on choosing an
answer, but even that is dependent on the context of historical time period
and culture. Truly, everything in life is shaped by context. The true answer
is whatever you wish it to be (natural). P.S. Thank you for this lovely puzzle
hunt:)`})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"You would make a good PhD candidate in ethnomusicology, but you would fail GIGS 101. An experienced musician has been thrown into too many situations with incomplete charts to not try a best-effort guess here. Although your point about an upside down image is quite relevant in a rushed gig, I haven't ever seen a â® sign come after a note before."}),`
`,d.jsxs(e.p,{children:["Unfortunately the department won't allow me to award full points for your response, but I would love to hear your thoughts on the cultural impacts of this problem in my office hours after hunt. Please refer to the solution for more discussion topics.",d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"5/10"})]}),`
`]}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Most succinct:"})," ",d.jsx(l,{teamId:"735"})]}),`
`,d.jsx("div",{className:"hint-text",children:"balls"}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:["SEE ME AFTER HUNT.",d.jsx(e.br,{}),`
`,d.jsx(e.strong,{children:"0/10"})]}),`
`]}),`
`,d.jsx(e.h2,{children:"Free Puzzle Shoutouts"}),`
`,d.jsx(e.p,{children:"We arbitrarily picked five puzzles for each of nine different attributes, as well as some puzzles newly released to the public. Check out the hunt site for many more great puzzles!"}),`
`,d.jsx(e.h3,{children:"Aesthetics"}),`
`,d.jsx(e.p,{children:"For puzzles that looked great."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"755"})," (by ",d.jsx(l,{teamId:"755"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"436"})," (by ",d.jsx(l,{teamId:"436"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"133"})," (by ",d.jsx(l,{teamId:"133"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"406"})," (by ",d.jsx(l,{teamId:"406"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"477"})," (by ",d.jsx(l,{teamId:"477"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Brevity"}),`
`,d.jsx(e.p,{children:"For short puzzles that were quite nice solves."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"706"})," (by ",d.jsx(l,{teamId:"706"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"204"})," (by ",d.jsx(l,{teamId:"204"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"25"})," (by ",d.jsx(l,{teamId:"25"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"43"})," (by ",d.jsx(l,{teamId:"43"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"1054"})," (by ",d.jsx(l,{teamId:"1054"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Construction"}),`
`,d.jsx(e.p,{children:"For puzzles that were well-constructed."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"749"})," (by ",d.jsx(l,{teamId:"749"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"639"})," (by ",d.jsx(l,{teamId:"639"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"737"})," (by ",d.jsx(l,{teamId:"737"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"782"})," (by ",d.jsx(l,{teamId:"782"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"24"})," (by ",d.jsx(l,{teamId:"24"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Diligence"}),`
`,d.jsx(e.p,{children:"For puzzles that seemed like it took a while to construct."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"771"})," (by ",d.jsx(l,{teamId:"771"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"777"})," (by ",d.jsx(l,{teamId:"777"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"1128"})," (by ",d.jsx(l,{teamId:"1128"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"681"})," (by ",d.jsx(l,{teamId:"681"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"599"})," (by ",d.jsx(l,{teamId:"599"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Evocation"}),`
`,d.jsx(e.p,{children:"For puzzles that evoke a familiar sense."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"615"})," (by ",d.jsx(l,{teamId:"615"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"470"})," (by ",d.jsx(l,{teamId:"470"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"260"})," (by ",d.jsx(l,{teamId:"260"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"97"})," (by ",d.jsx(l,{teamId:"97"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"445"})," (by ",d.jsx(l,{teamId:"445"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Fastness"}),`
`,d.jsx(e.p,{children:"For puzzles that took a recent thing and ran with it."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"410"})," (by ",d.jsx(l,{teamId:"410"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"735"})," (by ",d.jsx(l,{teamId:"735"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"598"})," (by ",d.jsx(l,{teamId:"598"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"114"})," (by ",d.jsx(l,{teamId:"114"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"160"})," (by ",d.jsx(l,{teamId:"160"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Grace"}),`
`,d.jsx(e.p,{children:"For puzzles with an elegant charm that sometimes make you think âhow is this possible?â"}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"643"})," (by ",d.jsx(l,{teamId:"643"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"217"})," (by ",d.jsx(l,{teamId:"217"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"465"})," (by ",d.jsx(l,{teamId:"465"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"715"})," (by ",d.jsx(l,{teamId:"715"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"482"})," (by ",d.jsx(l,{teamId:"482"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Humor"}),`
`,d.jsx(e.p,{children:"For funny puzzles that make you laugh."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"362"})," (by ",d.jsx(l,{teamId:"362"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"792"})," (by ",d.jsx(l,{teamId:"792"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"791"})," (by ",d.jsx(l,{teamId:"791"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"284"})," (by ",d.jsx(l,{teamId:"284"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"370"})," (by ",d.jsx(l,{teamId:"370"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Ingenuity"}),`
`,d.jsx(e.p,{children:"For puzzles with a neat idea or a cool spin on an existing one."}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Winner:"})," ",d.jsx(r,{teamId:"631"})," (by ",d.jsx(l,{teamId:"631"}),")"]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Runners up:"})}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"646"})," (by ",d.jsx(l,{teamId:"646"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"37"})," (by ",d.jsx(l,{teamId:"37"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"218"})," (by ",d.jsx(l,{teamId:"218"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(r,{teamId:"976"})," (by ",d.jsx(l,{teamId:"976"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"Just-In"}),`
`,d.jsx(e.p,{children:"For puzzles newly available for wrap-up."}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsxs(e.li,{children:[d.jsx(s,{teamId:"442"})," (by ",d.jsx(l,{teamId:"442"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(s,{teamId:"704"})," (by ",d.jsx(l,{teamId:"704"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(s,{teamId:"649"})," (by ",d.jsx(l,{teamId:"649"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(s,{teamId:"126"})," (by ",d.jsx(l,{teamId:"126"}),")"]}),`
`,d.jsxs(e.li,{children:[d.jsx(s,{teamId:"183"})," (by ",d.jsx(l,{teamId:"183"}),")"]}),`
`]}),`
`,d.jsx(e.h3,{children:"An Author's Note"}),`
`,d.jsxs(e.p,{children:["The author of ",d.jsx(r,{teamId:"367"})," requested that an image of their favorite cat, whose name was used as the answer to their puzzle, be directly embedded in the solutions page. Unfortunately, we were unable to do so due to technical limitations, so we instead present him here."]}),`
`,d.jsx(e.p,{children:d.jsx(e.img,{src:"/static/images/wrapup/submissions17.png",alt:""})}),`
`,d.jsx(e.h2,{children:"Free Puzzle Submissions"}),`
`,d.jsxs(e.p,{children:["Submissions for ",d.jsx(o,{puzName:"puz105"}),"."]}),`
`,d.jsx(n,{kind:"free"}),`
`,d.jsx(e.h2,{children:"Hug a Tree Submissions"}),`
`,d.jsxs(e.p,{children:["Submissions for ",d.jsx(o,{puzName:"puz139"}),"."]}),`
`,d.jsx(n,{kind:"tree"})]})}function hfe(t={}){const{wrapper:e}=t.components||{};return e?d.jsx(e,{...t,children:d.jsx(NM,{...t})}):NM(t)}function Hs(t,e){throw new Error("Expected component `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}function zM(t){const e={a:"a",blockquote:"blockquote",br:"br",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...t.components},{RoutedLink:n,SFXTester:r,Speaker:i,Twemoji:a}=e;return n||Rv("RoutedLink"),r||Rv("SFXTester"),i||Rv("Speaker"),a||Rv("Twemoji"),d.jsxs(d.Fragment,{children:[d.jsx(e.h1,{children:"Appendix: Ask Us Anything"}),`
`,d.jsx(e.p,{children:"Questions are edited for clarity."}),`
`,d.jsx(e.h2,{children:"Questions for us"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"What are the odds we see another card hunt? PLEASE :)"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Iâm not saying never, but after all the chaos of 2023, Iâd be a bit cautious."}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Inspirations for the characters themselves?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"For most Celestials, the puzzles were written first, then the characters were designed after to fit. The exceptions were Rock Lobster, who was there because we needed a Rock Lobster puzzle, and Pom Pom and Mop Mop, who were very cute."}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Favorite star?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Alnilam."}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Lonely Rolling Star."}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Craft II."}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"When you draw a pentagram using the lasso tool on various software tools except the middle pentagon gets omitted from your selection."}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Robin Starveling."}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Anything but Deneb >:("}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Whoâs your Hololive oshis?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:d.jsx(e.a,{href:"https://www.youtube.com/watch?v=O-tbDYejJA0",children:"hololive karaoke but with northernlion (plz dont click vtubers inside)"})}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"What was the process for the sound design?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Amon here, I made the sounds last year and this year. Last yearâs sounds were a mix of synths, recorded mouth sounds, and free sound effects, and this year almost everything you heard were synths. There are many rich synth presets in the Analog Lab software (the Play version is free) bundled with my MIDI keyboard, and I layered a bunch for the âcommon wishâ notification. If I were mixing a more professional recording I might use Ableton Live (the Lite version is free), but Audacity (also free) was fine for some light panning and dynamics (and faster for me to use)."}),`
`,d.jsx(e.p,{children:"Thursday night before hunt start, some of us asked for the sounds to be more âepicâ with higher rarity wishes. I made a note to try but then I forgot about it until Friday morning (of hunt start) when CJ reminded me. I think I was distracted helping make the victory certificates? Anyways, I spent an hour throwing whatever random cool presets on top of the existing common wish sound, and ended up with:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"common: four spacey layers of two alien whines and a light arpeggio doubled and hard panned to both sides"}),`
`,d.jsx(e.li,{children:"uncommon: add arpeggio harmony, wind chimes"}),`
`,d.jsx(e.li,{children:"rare: add two percussive booms"}),`
`,d.jsx(e.li,{children:"epic: add a synthwave beat and a light drum groove"}),`
`,d.jsx(e.li,{children:"legendary & celestials: add the ridiculous DnB loop"}),`
`]}),`
`,d.jsx(r,{}),`
`,d.jsx(e.p,{children:"So yeah, these got added about two hours before the hunt started. Glad many of you enjoyed it!"}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"We received so many hint requests and custom puzzle submissions that many of us were able to hallucinate the âadmin queueâ sound during the hunt. In fact, teams are still occasionally submitting hint requests now (which still plays the sound for us while automatically closing the hint) and it always gives me a jumpscare."}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"How on earth did you manage to answer all the hints within a few minutes of receipt, including for user-submitted puzzles? Across all of the teams, there were OVER 9000 requests!"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Free Yannick. Or perhaps it should be âFree Wayneâ?"}),`
`]}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Weâve streamlined our interface to make it easy to answer hint requests quickly; it lets us look at the puzzle, solution, canned hints, previous guesses, and other hint requests all at once."}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Is Olive a Sparklemuffin?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"Yes!"}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Who is Kero? Theyâre just a little fish and theyâre so cute. I want to know more about them."})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.p,{children:["Kero is a magic carp who was guarding a treasure chest in ",d.jsx(e.a,{href:"https://2023.galacticpuzzlehunt.com/",children:"Galactic Puzzle Hunt 2023"}),". He is a master of the power of uwu. He is hiding somewhere in 2024 if you can find him."]}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Are the puzzle titles the actual names for the stars?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"We submitted our suggestions to the IAU but they didnât seem to think âA Sudoku With Only 8 Hidden Digits!?â was an appropriate name for a star."}),`
`]}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"If we didnât finish, did we ruin all of their friendships?"})}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsx(e.p,{children:"If you donât finish the hunt, you wonât be caught up to the current state of the Galactic Puzzle Hunt Extended Cinematic Universe. At least go watch the cutscenes!"}),`
`]}),`
`,d.jsx(e.h2,{children:"Questions for Stelle and the Celestials"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Whatâs your favorite food (or treats for Mop Mop and Pom Pom)?"})}),`
`,d.jsx(i,{name:"Ten Lions",children:d.jsx(e.p,{children:`MEAT x4 eggplant x1 cherries x1 tacos x1 kouign-amann x1 rice x1 gummy bears
x1`})}),`
`,d.jsx(i,{name:"Olive",children:"matcha parfait ::::3"}),`
`,d.jsx(i,{name:"Big Branch",children:"Intergalactic micronutrients."}),`
`,d.jsx(i,{name:"Pom Pom",children:"ALPO from crosswords!"}),`
`,d.jsx(i,{name:"Mop Mop",children:"!sdrowssorc morf SMAI"}),`
`,d.jsxs(i,{name:"Funny Farmer",children:["Ermâ¦ ",d.jsx(e.em,{children:"farm"}),"esan cheese!"]}),`
`,d.jsx(i,{name:"Kid",children:"Cookies!"}),`
`,d.jsx(i,{name:"Rock Lobster",children:d.jsxs(e.p,{children:["Diamonds. ",d.jsx(a,{tag:"span",children:"ð"})]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Can I have one of your lions please?"})}),`
`,d.jsx(i,{name:"Ten Lions",children:d.jsx(e.p,{children:"Butâ¦ then we would only be Nine Lions!! x10 So NO! x10"})}),`
`,d.jsx(i,{name:"Olive",children:"Câmere neko kitty cat (b åã®å)b"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Rock Lobster: Do you and Fred Schneider still talk? Whatâs the history there?"})}),`
`,d.jsx(i,{name:"Rock Lobster",children:d.jsx(e.p,{children:"Eh, that guy? I sent him a postcard when he got his honorary doctorate."})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Can I hang out with all of you sometime? :3"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`of course! we love to receive email and we normally gather once a year for an
annual puzzle hunt.`})}),`
`,d.jsx(i,{name:"Kid",children:"But how will they breathe in spaceâ¦"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"What are Stelleâs pronouns?"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:"ohâ¦ um, wellâ¦ if i were to say, i guess it would beâ¦ uh, wellâ¦"})}),`
`,d.jsx(e.p,{children:"*alarm rings*"}),`
`,d.jsx(i,{name:"Stelle",children:"oh sorry, i gotta take that! bye!!"}),`
`,d.jsx(e.p,{children:d.jsx(e.em,{children:"[Editorâs note: Weâre not sure that Stelle wants to answer that question, but weâve been using they/them pronouns for them!]"})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Who is Oliveâs oshi? The people need to know."})}),`
`,d.jsx(i,{name:"Olive",children:d.jsx(e.p,{children:"everyone!!!!!!!! i wish i could have included all of my oshis. iâve already received threats of losing my yubi for not including someone... ::::<"})}),`
`,d.jsx(e.p,{children:d.jsxs(e.strong,{children:["Funny Farmer, have you ever played the game ",d.jsx(e.a,{href:"https://semantle.com/",children:"Semantle"}),"?"]})}),`
`,d.jsx(i,{name:"Funny Farmer",children:d.jsx(e.p,{children:"Hah, that game sowed the seeds of my farming philo-sow-phy."})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Have the Ten Lions ever tried to make a lion pyramid, and if so, how did it go?"})}),`
`,d.jsx(i,{name:"Ten Lions",children:d.jsx(e.p,{children:`It is well known that 10 lions can be arranged into a pyramid! x10 But we
prefer to just make the triangle, because it is also well known that the
triangle is the STRONGEST shape. x10`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Are Big Branch and the Mastery Tree friends on social tree-dia?"})}),`
`,d.jsx(i,{name:"Big Branch",children:"Indeed, rootlinked on Twigster."}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Stelle: Why do you think our hope kept manifesting as canned food of all things? We werenât always THAT hungry..."})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`theyâre called âcansâ because you âcanâ solve it! after you open them, maybe
they become âcouldsâ?`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"For Kid: Where did you get those blocks? Can I get them anywhere?"})}),`
`,d.jsx(i,{name:"Kid",children:d.jsx(e.p,{children:`My blocks!! Theyâre from my Pom and Mopâ¦ oops, I mean my Mom and Pop. I
donât know where they got them.`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"One of those puzzles fell through my truckâs windshield; you have your insurance papers on you, right?"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`all content requested by wishes is the explicit responsibility of the wisher.
â¦maybe you can try wishing for insurance payouts?`})}),`
`,d.jsx(i,{name:"Big Branch",children:"Issue detected. Skill, insufficient."}),`
`,d.jsx(i,{name:"Pom Pom",children:"Itâs pronounced inSURance!"}),`
`,d.jsx(i,{name:"Mop Mop",children:"!ecnarusNI decnuonorp sâtI"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"So who lives next to who? (Like as constellation neighbors.)"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsxs(e.p,{children:[d.jsx(n,{path:"/camp",children:"look up at the night sky"}),` and see for
yourself!`]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Whatâs the best way to fight against light pollution?"})}),`
`,d.jsx(i,{name:"Olive",children:d.jsx(e.p,{children:"drown out the light pollution with more lightsticks \\\\(/::â½::\\)//"})}),`
`,d.jsx(i,{name:"Kid",children:d.jsx(e.p,{children:`Steps you can take individually include simply turning off lights when youâre
not using them or hanging a lampshade to direct excess light downwards.
Actually, excessive lighting can make it difficult for your eyes to adjust, so
it becomes harder to see in darker areas outside the immediate scope of a
light source, thereby potentially making these areas less safe. You should be
aiming for visibility, not brightness, so consider removing excess lights.
Other causes of light pollution may require concerted government action to
address; about the best any one person can do there is contact their local
representative.`})}),`
`,d.jsx(i,{name:"Rock Lobster",children:d.jsxs(e.p,{children:["Ginormous space lens. ",d.jsx(a,{tag:"span",children:"ð­"})]})}),`
`,d.jsx(i,{name:"Funny Farmer",children:d.jsx(e.p,{children:`I reckon if we make the Moon even brighter again then we wonât have to worry
about light pollution, ayup.`})}),`
`,d.jsx(i,{name:"Big Branch",children:d.jsx(e.p,{children:"Nature, preserved. Also, against heavy pollution, efficacious, fruitful."})}),`
`,d.jsx(i,{name:"Ten Lions",children:"LESS LIGHT x10"}),`
`,d.jsx(i,{name:"Pom Pom",children:"Dig big hole"}),`
`,d.jsx(i,{name:"Mop Mop",children:"eloh ni eviL"}),`
`,d.jsx(i,{name:"Stelle",children:"â¦what did you call me? :("}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Does Olive have opinions on Ameâs sort-of graduation?"})}),`
`,d.jsx(i,{name:"Olive",children:d.jsxs(e.p,{children:[d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAADAFBMVEVHcExhRE///9ZxTln/+wD/oBz/tDAAAAD/5xz/ygHq/wBXNU+n8+nWme6cdn1saWn/0//L/wBEN0G7YgD/tv/Ws8HtigDu//gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4XzoLAAAAAXRSTlMAQObYZgAAAXdJREFUeF6Nk4tugzAMRZ0HSWBoHVP//xe3qoNBGiezE6A8NmlX4qH4xL52AOAfsva4spGiuASFx/VVEqxAoeYcTXm4Z5wAEAlTIRpfiLADpqiJQCYGMwDvj5scgq5cJKVpWXPejCtAJgGVjEmGqjh1VAGV2ZahHHVlarl06+TWZZF1T8KRsb2HTLCPhyo+9CY/e2ChipC0lNnH1oBcXiaFS7dQemjzfclAOUwQSS+9UPxF+B1ABFdZz8WLL35koCs5sVI0j+zDagTeX4DufmFCxzwxQYS1UsyJGBgvHzmuiNCYBChdI87AMgcmuDmrHnQujyi7e5nJxmTkG0r28Wi8nousc5hl9aiTv45NP0/7ANigrt7QNwINlXiDXQmWDuE7Vj500XPcjUcArYxt32g9VQJH93nKAIhmantRD0YQAWeAqpjeTKG91XUexRmgRifA+HqrBDd6BiBvZKLmUfwCFDHhiDgO6qmpfx/q3VmcRF/X+q/8rR9G459ZvaqfwAAAAABJRU5ErkJggg==",alt:""}),d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAADAFBMVEVHcExhRE///9ZxTln/+wD/oBz/tDAAAAD/5xz/ygHq/wBXNU+n8+nWme6cdn1saWn/0//L/wBEN0G7YgD/tv/Ws8HtigDu//gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4XzoLAAAAAXRSTlMAQObYZgAAAXdJREFUeF6Nk4tugzAMRZ0HSWBoHVP//xe3qoNBGiezE6A8NmlX4qH4xL52AOAfsva4spGiuASFx/VVEqxAoeYcTXm4Z5wAEAlTIRpfiLADpqiJQCYGMwDvj5scgq5cJKVpWXPejCtAJgGVjEmGqjh1VAGV2ZahHHVlarl06+TWZZF1T8KRsb2HTLCPhyo+9CY/e2ChipC0lNnH1oBcXiaFS7dQemjzfclAOUwQSS+9UPxF+B1ABFdZz8WLL35koCs5sVI0j+zDagTeX4DufmFCxzwxQYS1UsyJGBgvHzmuiNCYBChdI87AMgcmuDmrHnQujyi7e5nJxmTkG0r28Wi8nousc5hl9aiTv45NP0/7ANigrt7QNwINlXiDXQmWDuE7Vj500XPcjUcArYxt32g9VQJH93nKAIhmantRD0YQAWeAqpjeTKG91XUexRmgRifA+HqrBDd6BiBvZKLmUfwCFDHhiDgO6qmpfx/q3VmcRF/X+q/8rR9G459ZvaqfwAAAAABJRU5ErkJggg==",alt:""}),d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAADAFBMVEVHcExhRE///9ZxTln/+wD/oBz/tDAAAAD/5xz/ygHq/wBXNU+n8+nWme6cdn1saWn/0//L/wBEN0G7YgD/tv/Ws8HtigDu//gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4XzoLAAAAAXRSTlMAQObYZgAAAXdJREFUeF6Nk4tugzAMRZ0HSWBoHVP//xe3qoNBGiezE6A8NmlX4qH4xL52AOAfsva4spGiuASFx/VVEqxAoeYcTXm4Z5wAEAlTIRpfiLADpqiJQCYGMwDvj5scgq5cJKVpWXPejCtAJgGVjEmGqjh1VAGV2ZahHHVlarl06+TWZZF1T8KRsb2HTLCPhyo+9CY/e2ChipC0lNnH1oBcXiaFS7dQemjzfclAOUwQSS+9UPxF+B1ABFdZz8WLL35koCs5sVI0j+zDagTeX4DufmFCxzwxQYS1UsyJGBgvHzmuiNCYBChdI87AMgcmuDmrHnQujyi7e5nJxmTkG0r28Wi8nousc5hl9aiTv45NP0/7ANigrt7QNwINlXiDXQmWDuE7Vj500XPcjUcArYxt32g9VQJH93nKAIhmantRD0YQAWeAqpjeTKG91XUexRmgRifA+HqrBDd6BiBvZKLmUfwCFDHhiDgO6qmpfx/q3VmcRF/X+q/8rR9G459ZvaqfwAAAAABJRU5ErkJggg==",alt:""}),d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAADAFBMVEVHcEyw+OrL/wD/z/+11f8+0c7/4v8AAAD/tv+e7ef///Xu//gKfPE7pfHS//hgUP/5/QBMPODgre7/8eWlpeT/wdbWme4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAka+NjAAAAAXRSTlMAQObYZgAAAXlJREFUeF6Fk4lu4zAMREmRFuVcQNH9/5/c3cY6KFWH7aQO2hKIYmqeh6PYAfi95utx57kMAJd+hQdlrQqYf+0CT18I99yMEd849LrIcefhYNoSzU70vspxQ6gtSmx06LfQIieH0/IEgBqdVJi1hAwuuYKsIMmlAbWSP4L2McnZLcRwqB7KLlhXxiS3QHy+vZac8fTO8+6xn2JzYLhBuHzYzMNjv/0BJAeBlIA6sQ/YM1BeYPovGoptxIsDKCeIspwpvmkjNosO9EalfT5mCrek4KIMogFro2wkIEzF1xxJ1l+yP0O3NhJPuJRJKbAfO+uILZFawSKBo60eMg68hxxEmShY4kAW0jU34itQifslIlEAMgu+AqaovZ+xflHKpucYL8im3wx4RhOXqaz64U00uS6S2eSoUl4doOsRq24cJQE5Zmj6HG0AtsG7zNie3qG0XO/GU5TZWzjFVwA0owedguMSk//+7yI4/yV/DPkoyYhN/8EBoB/zE62wnsY7H2mTAAAAAElFTkSuQmCC",alt:""}),` ame koko
`,d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAABOUlEQVR4XsWUPWrDQBBGfRUJg4XALhxyERWBnCUqrKO4cmfIqVwFcoHE0ZgMrN7OyF79+cHXrPTNm212tVqIPM+vEp7PRpZlPypdTE4hw/9HQ0Ff2B0MBzNN09yC8zPnPAwFVlTqyNNuz7IVCkfLWbJCkRV27i7AnxkKrBRFEfUGyzncC3tM+wZ80ReRKqaE4XwXFil6VJgkFVj2FuB3hnN7YZlJkXN2LyxLrt+X6CyUV1XVkQ2SUxDKX1/2rty7Pee7sEg5bz+ZnKXD++6uvK7rjrwsy3SxQDHlusDn6dg5827fPh6/dLiEJZV/vG2jBRhLrKHDRQuCyq3bp4QOFxUrYxfg/F465n/CBTSbdSwaJAyhWKF8MmEIpRaziAWKLJ4mn00sUBYyq1igUKH4qXL2JoFSYRFxyx8Dsd7/E9phKwAAAABJRU5ErkJggg==",alt:""}),d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABKElEQVR4Xu3UMYrCQBSAYY+SBFS08AQ5wHbW3mYPYm1vZXpBsJTtxU6ULSwthDivSBj/TCbzklgI/vCaJLyPCdHB4NunlyTJ1UzO628piqIfwVzDZzsVx/E/gabhDnVcGDrco4rLOPntXJlOOAHXEOyME6gbYq1h8wEtubyYySjJp6M3wITs+V3MyuE9giqYy14Wm3zw/XLyok6YDxAssuHxsPqszPGwz7fZunKdZjAq/e023lP7pgTNX92cN+2py4Y1uPqUrojzK3eNFw5tn60quO/05WvmDfO7fXB5SCqUcB8Rc6I23DVCXlRK05Q71BFqRCUu0UYoCJW4SBOhILCIy0IipEYlLm2KUCtU4mJfhFqjEpfXRag1WESAEeoFlQjZEeoNNT0BWHdM4mVMNF4AAAAASUVORK5CYII=",alt:""}),d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABKElEQVR4Xu3UMYrCQBSAYY+SBFS08AQ5wHbW3mYPYm1vZXpBsJTtxU6ULSwthDivSBj/TCbzklgI/vCaJLyPCdHB4NunlyTJ1UzO628piqIfwVzDZzsVx/E/gabhDnVcGDrco4rLOPntXJlOOAHXEOyME6gbYq1h8wEtubyYySjJp6M3wITs+V3MyuE9giqYy14Wm3zw/XLyok6YDxAssuHxsPqszPGwz7fZunKdZjAq/e023lP7pgTNX92cN+2py4Y1uPqUrojzK3eNFw5tn60quO/05WvmDfO7fXB5SCqUcB8Rc6I23DVCXlRK05Q71BFqRCUu0UYoCJW4SBOhILCIy0IipEYlLm2KUCtU4mJfhFqjEpfXRag1WESAEeoFlQjZEeoNNT0BWHdM4mVMNF4AAAAASUVORK5CYII=",alt:""}),d.jsx(e.img,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABKElEQVR4Xu3UMYrCQBSAYY+SBFS08AQ5wHbW3mYPYm1vZXpBsJTtxU6ULSwthDivSBj/TCbzklgI/vCaJLyPCdHB4NunlyTJ1UzO628piqIfwVzDZzsVx/E/gabhDnVcGDrco4rLOPntXJlOOAHXEOyME6gbYq1h8wEtubyYySjJp6M3wITs+V3MyuE9giqYy14Wm3zw/XLyok6YDxAssuHxsPqszPGwz7fZunKdZjAq/e023lP7pgTNX92cN+2py4Y1uPqUrojzK3eNFw5tn60quO/05WvmDfO7fXB5SCqUcB8Rc6I23DVCXlRK05Q71BFqRCUu0UYoCJW4SBOhILCIy0IipEYlLm2KUCtU4mJfhFqjEpfXRag1WESAEeoFlQjZEeoNNT0BWHdM4mVMNF4AAAAASUVORK5CYII=",alt:""})]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Do the Ten Lions have individual names or do they just exist as a unit?"})}),`
`,d.jsx(i,{name:"Ten Lions",children:d.jsx(e.p,{children:`Our names are Lionel, Leona, Liji, Lennart, Lenelope, Lenora Babana, LeeYo,
Lraphael, Suanni, and Wlocalwla. x10`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Is this for real, chat?"})}),`
`,d.jsx(e.p,{children:d.jsx(e.em,{children:"â¦ you only hear the deafening silence of the cosmos."})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Why does Big Branch, the biggest Celestial, not simply eat the other six?"})}),`
`,d.jsx(i,{name:"Big Branch",children:d.jsx(e.p,{children:`To resolve, agree. Consumption, conflict, the sowing of celestial strife.
Harmony, belligerence, eternal importations. Solutions, permanent and
ephemeral, requisite, careful, judicious.`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Hey Kid, whereâd you get the dope shirt?"})}),`
`,d.jsx(i,{name:"Kid",children:d.jsxs(e.p,{children:["You gotta be a ",d.jsx(a,{tag:"span",children:"âï¸âï¸âï¸"}),"Galactic Trendsetter"," ",`
`,d.jsx(a,{tag:"span",children:"âï¸âï¸âï¸"}),"! Whoooooooooosh!!"]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Are you in the sky seasonally or year-round?"})}),`
`,d.jsx(i,{name:"Stelle",children:"all of us are in the sky year-round."}),`
`,d.jsx(i,{name:"Kero",children:"Seasonally (ï¾ â ã® â)ï¾*:ï½¥ï¾ â§"}),`
`,d.jsx(i,{name:"Stelle",children:"â!"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Can any of the other Celestials beat Ten Lions in a fight?"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`maybe next year we will make a galactic puzzle hunt crossover battle royale
game so that we can answer this question once and for all. holy lootboxes,
batman!`})}),`
`,d.jsx(i,{name:"Big Branch",children:d.jsx(e.p,{children:"Queryâs response is clear. In the affirmative."})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"When is Moonick going to get some well deserved time off? Surely all the generated hope can help a cow in need."})}),`
`,d.jsx(i,{name:"Stelle",children:"hmm, i could just ask him"}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`â¦ oh okay, he says âI need to spend a lot of time at work during tax season,
but once thatâs over, I will be going on vacation to the Boarish Isles.â`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Guess I wanna ask the Funny Farmer some notes on how to be funny. âUnfunny Man"})}),`
`,d.jsx(i,{name:"Funny Farmer",children:d.jsxs(e.p,{children:["Now ",d.jsx(e.em,{children:"thatâs"}),` what I wanna hear! I practice my jokes by going out to the
cornfield and talking their ears off. Geddit? `,d.jsx(e.em,{children:"Olive"}),` my jokes are corny. If
you keep practicing your jokes, you might `,d.jsx(e.em,{children:"turnip"}),` a good one. Just give it a
try, just `,d.jsx(e.em,{children:"dirt"}),"!"]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:'Rock Lobster, when did your fans throw you in space, considering you know the word "yeet"?'})}),`
`,d.jsx(i,{name:"Rock Lobster",children:d.jsxs(e.p,{children:["I still remember that day, some time in ",d.jsx(e.a,{href:"http://puzzles.mit.edu/2021/",children:`January
2021`}),`. I was rocking out on an island on the
Charles River when a bunch of people came and yeeted me into stardom!`," ",`
`,d.jsx(a,{tag:"span",children:"ðµð¸"})]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Big Branch, you should play fetch with Pom Pom & Mop Mop with your branches. You have so many."})}),`
`,d.jsx(i,{name:"Big Branch",children:d.jsxs(e.p,{children:["Run, doggy. ",d.jsx(e.em,{children:"<throws branch at 0.8 times the speed of light>"})," To me, return."]})}),`
`,d.jsx(e.p,{children:d.jsxs(e.strong,{children:["So based on that meta, it seems the Celestials like to accelerate instantly to 0.1-0.2 c.",d.jsx(e.br,{}),`
`,"1: That explains how they survived falling from space, but Iâm curious how we survived.",d.jsx(e.br,{}),`
`,"2: Can we see Olive wave around a colored lightstick?",d.jsx(e.br,{}),`
`,"3: Did any of them see a fish turn into an NBA coach on the way out?"]})}),`
`,d.jsx(i,{name:"Big Branch",children:"En dash."}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`1) oh did you also fall from the sky? i thought youâve been on earth your
entire life. 2) try grabbing your nearest electronic device, displaying an
image of olive, and then throwing it as hard as possible. 3) no, but they did
hear it.`})}),`
`,d.jsx(i,{name:"Olive",children:d.jsx(e.p,{children:d.jsx(e.a,{href:"https://youtu.be/Dsz2jqJYGNs",children:"Peacock Spider With Lightsabers (TEST FOOTAGE)"})})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Can I pet Pom Pom and Mop Mop? Please I need to boop those snoots and pet those fluffies."})}),`
`,d.jsx(i,{name:"Pom Pom",children:"Yes!"}),`
`,d.jsx(i,{name:"Mop Mop",children:"!seY"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Pom Pom and Mop Mop are cute, please pet them more for me."})}),`
`,d.jsx(i,{name:"Pom Pom",children:"YAY"}),`
`,d.jsx(i,{name:"Mop Mop",children:"YAY"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"rawr x11"})}),`
`,d.jsx(i,{name:"Ten Lions",children:"IS THAT A CHALLENGE? x10"}),`
`,d.jsx(e.p,{children:d.jsx(e.a,{href:"https://www.youtube.com/watch?v=2VCCiY17hKw",children:d.jsx(e.strong,{children:"https://www.youtube.com/watch?v=2VCCiY17hKw"})})}),`
`,d.jsx(i,{name:"Rock Lobster",children:d.jsxs(e.p,{children:["I completely agree. ",d.jsx(a,{tag:"span",children:"ð¤"})]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Can Stelle make a cameo for next hunt?"})}),`
`,d.jsx(i,{name:"Stelle",children:"sorry, iâm not a jeweler"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Stelle... whyâre u so cute uwu?"})}),`
`,d.jsx(i,{name:"Stelle",children:"owo"}),`
`,d.jsx(i,{name:"Kero",children:"OwO"}),`
`,d.jsx(i,{name:"Stelle",children:"â!"}),`
`,d.jsx(i,{name:"Big Branch",children:d.jsx(e.p,{children:"This shall certainly drive up the price of paper in Luoyang"})}),`
`,d.jsx(i,{name:"Stelle",children:"???"}),`
`,d.jsx(e.p,{children:d.jsxs(e.strong,{children:["To Ten Lions: Big Darmstadtium is a scam, I intelligently mix a dozen ",d.jsx(e.em,{children:"Plantago major"})," for the problem of swelling or pimples. Do you agree with my preoccupation?"]})}),`
`,d.jsx(i,{name:"Ten Lions",children:"å²èµ·å¥å¥?"}),`
`,d.jsx(i,{name:"Stelle",children:"kuru kuru~"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Is Stelle inspired by Star Rail (and Pom Pom)?"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:"i literally have no idea what youâre talking about."})}),`
`,d.jsx(e.p,{children:d.jsxs(e.em,{children:["[Editorâs note: The answer is no; see our ",d.jsx(n,{path:"/wrapup",children:"Theme discussion in the wrapup"})," for a bit more.]"]})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Why does Ten Lions have to be that way? What did we ever do to him?"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsxs(e.p,{children:["i think you mean, what did Ten Lions ever do to ",d.jsx(e.a,{href:"https://en.wikipedia.org/wiki/Lion_of_Gripsholm_Castle",children:`Gripsholm
Castle`}),"."]})}),`
`,d.jsxs(e.p,{children:[d.jsx(e.strong,{children:"Watching Vtubers is bad for your kidney"})," [âï½¥ï½ ÐÂ´ï½¥ â]"]}),`
`,d.jsx(i,{name:"Olive",children:"no u"}),`
`,d.jsx(i,{name:"Stelle",children:"this isnât a question??"}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Get home safely, Stelle! Sorry we couldnât light up the entire sky in time!"})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:`thatâs ok, the sky is always changing in the first place. and, thereâs always
next yearâ¦? :o`})}),`
`,d.jsx(e.p,{children:d.jsx(e.strong,{children:"Why was the night so long?"})}),`
`,d.jsx(i,{name:"Rock Lobster",children:"Because the sky is fake."}),`
`,d.jsx(i,{name:"Big Branch",children:"Night, long. Night of soul, longer."}),`
`,d.jsx(i,{name:"Pom Pom",children:"Earth spun backwards!"}),`
`,d.jsx(i,{name:"Mop Mop",children:"!sdrawrof nups htraE"}),`
`,d.jsx(i,{name:"Funny Farmer",children:"Ta get ta the other side oâ the road!"}),`
`,d.jsx(i,{name:"Kid",children:d.jsx(e.p,{children:`I think the massive gravitational influence of a star falling to Earth may
have had something to do with it. Frankly Iâm surprised the planet didnât get
torn up from falling well within Stelleâs Roche limit. Actually, for that
matter, how are you puzzlers still alive?`})}),`
`,d.jsx(i,{name:"Stelle",children:d.jsx(e.p,{children:"look. itâs best not to question these kinds of things."})})]})}function ffe(t={}){const{wrapper:e}=t.components||{};return e?d.jsx(e,{...t,children:d.jsx(zM,{...t})}):zM(t)}function Rv(t,e){throw new Error("Expected component `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}function RM(t){const e={a:"a",blockquote:"blockquote",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...t.components},{Puzzle:n,Twemoji:r}=e;return n||OM("Puzzle"),r||OM("Twemoji"),d.jsxs(d.Fragment,{children:[d.jsx(e.h1,{children:"Appendix: On Fluidity"}),`
`,d.jsxs(e.p,{children:["In this section, I (Patrick) will reflect on an important aspect that enabled our writing process: ",d.jsx(e.em,{children:"fluidity"}),". In particular, hunt writing processes have a lot of built-in friction due to the editing process and the types of puzzles written. By gutting most of the friction, I hoped to foster a fluid process that scaled to the hundreds of puzzles we wanted to write. Iâm amazed that GPH so successfully ran an event that I wanted to see (especially the tiktokification), at a scale much larger than what I had imagined."]}),`
`,d.jsx(e.h2,{children:"Sources of friction"}),`
`,d.jsxs(e.p,{children:["This will be mostly anecdotal from my past experiences editing for ",d.jsx(e.a,{href:"https://puzzles.mit.edu/2023/",children:"MH2023"})," and from a mini ",d.jsx(e.a,{href:"https://puzzles.patrickxia.me/puzzlebox/",children:"puzzle event"})," last year that consisted of 30 (micro)puzzles, written one per day for a month."]}),`
`,d.jsx(e.h3,{children:"The formality of the process"}),`
`,d.jsx(e.p,{children:"The iteration time between head/round editors, puzzle editors, and authors is slow. For most, especially newer, puzzle writers, I still encourage incorporating editors to improve puzzle quality. However, there is a cost."}),`
`,d.jsx(e.p,{children:"In most puzzlehunts, we use Puzzlord (or Puzzup) and several Google sheets to track individual entries and metas, let people pick their constraints, and ultimately assign answers and puzzles to authors and editors. We generally try to give everybody who wanted to write a puzzle or metapuzzle a chance to, which could include limiting on answer distribution if someone already has N ideas in the writing process. Scheduling testsolve sessions was something else that would take multiple days to go from finding the people, asking when theyâre available, and then if they donât finish the puzzle, finding a second time."}),`
`,d.jsx(e.p,{children:"In contrast, for Conjuriâs Quest (MH23), we held a hack weekend and while we still used Puzzup to track the status - it was not the source of truth as we acknowledged it could be behind. A single spreadsheet tab (and Discord DMs) were the source of truth. We didnât assign editors â the first testsolvers were the editors. By holding a synchronous weekend where we didnât vet ideas ahead of time or assign editors at all, we had drafts by Sunday night for basically all of them and many of them even had testsolves because everyone was available. Some authors wrote several of the 12 puzzles. Others missed the weekend entirely due to finals or other hunt work."}),`
`,d.jsx(e.h3,{children:"Constraints"}),`
`,d.jsx(e.p,{children:"Do people actually enjoy seeing highly constrained constructions? Wyrm/Museum was intentionally constrained, yet that was underappreciated (actually it was criticized) given our herculean effort. Yet people did enjoy the (intentionally and serendipitously) constrained construction of Night of the Celestials."}),`
`,d.jsx(e.p,{children:"Obviously constraints add to construction time too. Some puzzle ideas are no longer possible or balloon in length, because of the letters needed or length of the answer. One way to alleviate this is to have as few constraints as possible on answers (or even non-answers). By letting authors pick their own answer, this eliminates the wait time for meta to be testsolved and finalized (which often is dependent on story too). It also reduces any friction for an answer or even feedback on a draft."}),`
`,d.jsx(e.p,{children:"I experienced this myself last year when I wrote a mini-hunt with the goal of maximizing fluidity. The ability to jot down an idea, add a couple numbers/circles to form a valid word, and call it âdoneâ led to some puzzles being written in minutes. Some cooler ideas only had one possible answer. These would not have been possible with assigned answers."}),`
`,d.jsx(e.h3,{children:"Difficulty and fairness"}),`
`,d.jsx(e.p,{children:"Writing for a specific difficulty is hard. Judging difficulty is hard, and some puzzles simply cannot be made easier, especially puzzles with only a single step. In the quest to reduce friction as much as possible when I wrote my daily puzzles, I had roughly the following philosophy:"}),`
`,d.jsxs(e.blockquote,{children:[`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Puzzles donât need to be good"}),`
`,d.jsx(e.li,{children:"Puzzles donât need to be fun"}),`
`,d.jsx(e.li,{children:"Puzzles can and should be skipped."}),`
`,d.jsx(e.li,{children:"Puzzles can be short or long, as long as teams know ahead of time that it is a long/short puzzle so teams donât get âunluckyâ picking the wrong one."}),`
`,d.jsx(e.li,{children:"Puzzles should have unique solutions, but they donât need to as long as someone submits the right thing."}),`
`]}),`
`]}),`
`,d.jsxs(e.p,{children:["I tried to design an event that is compatible with this, and came up with a timed head-to-head format with timed releases (every minute). The timing was important: ",d.jsx(e.em,{children:"how long are solvers willing to put up with bad puzzles or with no new content?"})]}),`
`,d.jsx(e.p,{children:"For GPH, I wanted to have slightly higher standards: puzzles couldnât be bad (although they can be average). They should be fun to most audiences."}),`
`,d.jsx(e.p,{children:"But they can be skipped (with canned hints), they can have any length (with rarity, in the perfect world, mapping to difficulty), and they donât need unique solutions as long as theyâre solvable by enough people. Hints are essential, after all."}),`
`,d.jsx(e.h2,{children:"Solutions: the writing process of micropuzzle forums"}),`
`,d.jsx(e.p,{children:"To write â1000â puzzles, we had to reduce friction. A lot. This meant:"}),`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Ditching puzzlord (we still used it for the Celestials)"}),`
`,d.jsxs(e.li,{children:["Ditching metas",`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Celestials is a single round of 7 puzzles, untied to the other hundreds"}),`
`,d.jsx(e.li,{children:"Any ideas that would want to use individual puzzle answers would have to either be a spaghetti meta or a single-packaged effort (like Free Puzzle or sequences)."}),`
`]}),`
`]}),`
`,d.jsx(e.li,{children:"Anyone is an editor"}),`
`,d.jsx(e.li,{children:"All puzzle drafts are immediately testsolve-ready"}),`
`,d.jsxs(e.li,{children:["No answer constraints (or even answers)",`
`,d.jsxs(e.ul,{children:[`
`,d.jsx(e.li,{children:"Only constraint was whether it was implementable on our website"}),`
`]}),`
`]}),`
`,d.jsx(e.li,{children:"Short/âeasyâ puzzles only"}),`
`]}),`
`,d.jsx(e.p,{children:"Finally, I wanted a way to easily construct, edit, discuss, and solve from my phone. Discord forums filled the niche. Each forum post was a puzzle. Solvers would put their answer in spoiler tags, possibly with comments. Each puzzle needed 2 solves. Editors could come along and request changes. Forum posts could be tagged with their current status so people knew which puzzles were still unsolved."}),`
`,d.jsxs(e.p,{children:["Because puzzles are intended to be short and sweet, ",d.jsx(e.em,{children:"testsolving"})," should also be quick: Iâve historically seen lots of person-hours burned on testing a single puzzle or even step of a puzzle. Letting people pick and choose what to work further reduced friction by tearing away the process of managing testsolves. And because the puzzles were short, most were soloable, which also reduced scheduling constraints (albeit leading to a bias towards even easier or shorter)."]}),`
`,d.jsx(e.p,{children:"It took a while to get organized, as we had to define some conventions to mark which puzzles were done. Ultimately, we still needed a sheet to organize the status of all the puzzles, but we didnât need to use that to track who was spoiled or which puzzles were still awaiting initial draft."}),`
`,d.jsxs(e.p,{children:["Second, we tried to set an expectation that any puzzle could be cut if it is unsolved or for any editorial reason. And because puzzles were short, we hoped that this would not be too hard to do, as the original author wouldnât be hugely invested in it (thereâs an analogy to ",d.jsx(e.a,{href:"https://en.wikipedia.org/wiki/R/K_selection_theory",children:"r/K Selection Theory"}),"). As mentioned earlier though, making the decision to actually cut a puzzle was difficult, and I appreciate the authors and editors who had to go through that process."]}),`
`,d.jsx(e.h2,{children:"The solving experience: Gacha"}),`
`,d.jsxs(e.p,{children:["There are more thoughts on what a puzzlehunt is, how it relates to dopamine (not ",d.jsx(n,{puzName:"puz150"}),"), and why a steady trickle of unexpected content is what makes an addicting, and therefore also good, puzzlehunt. In the context of our hunt, however, Gacha also provided the perfect backdrop that allowed us to get away with âwriting fastâ while still keeping it fresh and feeling like a puzzlehunt."]}),`
`,d.jsx(e.p,{children:"When the gacha idea was first mentioned, I thought it perfectly solved some issues with the â1000â puzzles suggestion. One of the concerns I had with any â1000â puzzles hunt is presentation: How do we surprise teams with the sheer number of puzzles we have without overwhelming them immediately? If teams could quickly figure out there were 103 or 210 puzzles, would they give up?"}),`
`,d.jsxs(e.p,{children:["Gacha (and any rarity system) solves this by demonstrating the puzzles are short, that we expect you wish ",d.jsx(e.em,{children:"a lot"})," throughout the hunt, and as rares (or Celestials) are obtained, teams also get a sense of how large the hunt is (in addition to the leaderboard)."]}),`
`,d.jsx(e.p,{children:"It also solved writing problems by allowing us to treat all puzzles as in-universe equals, which meant we did not need any additional structure and we could cut (or add) puzzles at any stage. While I had originally imagined we would be adding panicked last-minute puzzles the week before hunt, this benefit of the puzzlehunt presentation surprisingly grew into a life of its own through the user-submitted puzzles."}),`
`,d.jsx(e.h2,{children:"Conclusion"}),`
`,d.jsxs(e.p,{children:["Despite nominally being âhead editor,â I contributed so much less to the puzzles and editing than the other authors, editors, that perhaps head editor ",d.jsx(e.em,{children:"in absentia"})," is a more appropriate credit. Maybe having no head editor was made more possible this year than previous years due to the smaller sizes of individual puzzles and the fact that everything was so clearly visible in the micropuzzle forum. As experimental as this year was for the solving experience, I think we also radically changed the writing experience. I donât think what we landed on is perfect, but perhaps my takeaway is to not be afraid of innovating on the process in addition to the result."]}),`
`,d.jsxs(e.p,{children:[d.jsx(r,{tag:"span",children:"ð"})," Patrick"]})]})}function dfe(t={}){const{wrapper:e}=t.components||{};return e?d.jsx(e,{...t,children:d.jsx(RM,{...t})}):RM(t)}function OM(t,e){throw new Error("Expected component `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}function Wu({path:t,children:e}){return pF(t)?d.jsx("b",{style:{color:"var(--link-text-color)"},children:e}):d.jsx(nn,{path:t,children:e})}function Th({children:t}){const e=R.useRef(null),[n,r]=R.useState([]);return R.useEffect(()=>{n.length>0||!e.current||r([...e.current.querySelectorAll("h1,h2,h3:not(.puzzle-header-elem),h4,h5")])},[n.length]),R.useEffect(()=>{const i=document.querySelectorAll(".wrapup-page aside div"),a=()=>{const s=n.map(o=>o.getBoundingClientRect());n.forEach((o,l)=>i[l].classList.toggle("highlight",(!s[l+1]||s[l+1].top>0)&&s[l].top<innerHeight))};return document.addEventListener("scroll",a,{passive:!0}),a(),()=>document.removeEventListener("scroll",a)},[n]),d.jsxs("div",{className:"below-nav centered-page wrapup-page",children:[d.jsx("aside",{children:n.map((i,a)=>d.jsx("div",{style:{paddingLeft:`${i.tagName.slice(1)}ch`},onClick:()=>i.scrollIntoView(),children:i.textContent},a))}),d.jsxs("div",{className:"wrapup-page-links",children:[d.jsx(Wu,{path:"/wrapup",children:"Wrap-Up"}),d.jsx(tS,{rarity:xt.COMMON}),d.jsx(Wu,{path:"/wrapup/stats",children:"Statistics"}),d.jsx(Wu,{path:"/wrapup/submissions",children:"Submissions"}),d.jsx(Wu,{path:"/wrapup/ama",children:"Ask Us Anything"}),d.jsx(Wu,{path:"/wrapup/gacha",children:"Gacha Mechanics"}),d.jsx(Wu,{path:"/wrapup/fluidity",children:"On Fluidity"})]}),d.jsx("div",{className:"wrapup-page-content",ref:e,children:t})]})}const pfe=[{kind:"free",type:Tn.PUBLIC_CUSTOM_PUZZLE,text:"Wishable Puzzles"},{kind:"free",type:Tn.PRIVATE_CUSTOM_PUZZLE,text:"Non-Wishable Puzzles"},{kind:"tree",type:Tn.HUG_A_TREE,text:"Tree Hugs"},{kind:"tree",type:Tn.HUG_A_TREE_FACT_ONLY,text:"Tree Facts"}];function vfe(t){const{teamId:e,displayName:n}=t,r=dp(ne.TEAM_PUZZLE_105,{teamId:e},{forcePosthuntIfNotAdmin:!0}),[i,a]=R.useState("");if(r===null)return d.jsx(he,{inline:!0});if(!r.success)return d.jsx(mi,{...r});const s=r.state,o=s.status!==void 0&&s.status.type===dr.ACCEPTED&&(s.status.isAvailableInGacha??!1),l=`${Rn.customPuzzlePuzNamePrefix}${e}`,u=h=>{h.preventDefault();const f=new FormData(h.target).get("answer");if(!f)return;const p=Ad(f),v=Ad(s.formFields.answer);a(`${p}: ${p===v?"â":"â"}`)};return d.jsxs("div",{className:"custom-puzzle-slide",children:[d.jsx("div",{className:"puzzle-header",children:d.jsx("h3",{className:"puzzle-header-elem",children:d.jsx(ve,{tag:"span",children:n})})}),d.jsx(Do,{puzName:l}),d.jsx("div",{className:"note",children:o?d.jsxs(d.Fragment,{children:["This puzzle is available via wishing."," ",d.jsx(tt,{puzName:l,children:"View its puzzle page."})]}):d.jsxs(d.Fragment,{children:["This puzzle is not available via wishing. You can check your answer here:",d.jsx("form",{className:"submit-answer-form",onSubmit:u,children:d.jsxs("div",{className:"input-group",children:[d.jsx("input",{type:"text",name:"answer",autoComplete:"off",required:!0}),d.jsx("a",{className:"delete-row",href:"#",onClick:u,children:"â"})]})}),i&&d.jsx("p",{children:i}),d.jsxs("details",{children:[d.jsx("summary",{children:"View solution"}),d.jsxs("div",{className:"solution-answer",children:[d.jsx("b",{children:"Answer:"})," ",d.jsx("div",{className:"solved-title-answer spoiler",children:s.formFields.answer})]}),d.jsx(Do,{puzName:l,contentType:gs.SOLUTION})]})]})})]})}function mfe({kind:t}){const e=xs(ne.PUBLIC_SUBMISSIONS,!0,{hasPosthunt:!0}),n=xs(ne.TEAM_LIST,!0,{hasPosthunt:!0}),r=Je(S=>S.wrapupCustomPuzzleRedirectCommand),i=Je(S=>S.setWrapupCustomPuzzleRedirectCommand),a=R.useRef(null),s=R.useMemo(()=>({[Tn.PUBLIC_CUSTOM_PUZZLE]:t==="free",[Tn.PRIVATE_CUSTOM_PUZZLE]:t==="free",[Tn.HUG_A_TREE]:t==="tree",[Tn.HUG_A_TREE_FACT_ONLY]:t==="tree"}),[t]),[o,l]=R.useState(s),[u,h]=R.useState(""),[c,f]=R.useState(""),[p,v]=R.useState(""),m=t==="free",g=R.useCallback(S=>{const{teamId:w,displayName:_,type:T}=S;return n===null||!n.success?!1:n.state[w].displayName.toLowerCase().trim().includes(u.toLowerCase().trim())&&(!m||(_??Mc).toLowerCase().trim().includes(c.toLowerCase().trim()))&&(o[T]??!0)},[n,u,c,o,m]),y=R.useMemo(()=>{if(!(e!=null&&e.success))return[];const S={[Tn.PUBLIC_CUSTOM_PUZZLE]:0,[Tn.PRIVATE_CUSTOM_PUZZLE]:1,[Tn.HUG_A_TREE]:2,[Tn.HUG_A_TREE_FACT_ONLY]:3};return Object.entries(e.state.submissions).filter(([w,_])=>g(_)).sort(([w,_],[T,C])=>{const E=S[_.type],k=S[C.type],I=E-k;return I!==0?I:_.respondTime-C.respondTime})},[e,g]),x=R.useMemo(()=>{const S={};for(const[w,_]of y)S[_.type]=(S[_.type]??0)+1;return S},[y]);if(R.useEffect(()=>{t==="free"&&a.current!==null&&r!==null&&(l(s),h(""),f(""),v(r),a.current.scrollIntoView(),i(null))},[r,i,t,s]),n===null)return d.jsx(he,{inline:!0});if(!n.success)return d.jsx(mi,{...n});if(e===null)return d.jsx(he,{inline:!0});if(!e.success)return d.jsx(mi,{...e});const A=(()=>{const S=y.findIndex(([w])=>w===p);return S===-1?0:S})(),b=y[A];return d.jsxs("div",{className:"wrapup-carousel",ref:a,children:[d.jsx("div",{className:"admin-queue-header",children:d.jsxs("div",{className:"admin-queue-header-actions",children:[d.jsxs("div",{className:"admin-queue-team-name-filter",children:[d.jsx(ve,{tag:"span",children:"ð"})," ",d.jsx("input",{type:"text",placeholder:"Filter by team name",value:u,onChange:S=>{h(S.target.value)}})]}),m?d.jsxs("div",{className:"admin-queue-team-name-filter",children:[d.jsx(ve,{tag:"span",children:"ð"})," ",d.jsx("input",{type:"text",placeholder:"Filter by title",value:c,onChange:S=>{f(S.target.value)}})]}):null]})}),d.jsx("div",{className:"admin-queue-header admin-queue-type-filter",children:pfe.filter(S=>S.kind===t).map(({type:S,text:w})=>d.jsxs("button",{className:Tt({active:o[S]??!0}),onClick:()=>{l({...o,[S]:!(o[S]??!0)})},children:[w," ",o[S]??!0?d.jsxs(d.Fragment,{children:["(",x[S]??0,")"]}):null]},S))}),b!==void 0?d.jsxs("div",{className:"wrapup-carousel-selector",children:[d.jsx("div",{className:"control-prev control-arrow",onClick:()=>{const S=Math.max(A-1,0);v(y[S][0])}}),d.jsx("ul",{className:"control-dots",children:y.map(([S,w])=>d.jsx("li",{className:Tt({dot:!0,selected:b!==void 0&&b[0]===S}),onClick:()=>{v(S)}},S))}),d.jsx("div",{className:"control-next control-arrow",onClick:()=>{const S=Math.min(A+1,y.length-1);v(y[S][0])}})]}):null,d.jsx("div",{className:"admin-queue-list",children:b!==void 0?d.jsx(d.Fragment,{children:(([S,w])=>{switch(w.type){case Tn.PUBLIC_CUSTOM_PUZZLE:case Tn.PRIVATE_CUSTOM_PUZZLE:return d.jsx(vfe,{teamId:w.teamId,displayName:w.displayName??Mc},w.teamId);case Tn.HUG_A_TREE:case Tn.HUG_A_TREE_FACT_ONLY:{const{teamId:_}=w;return d.jsx(mH,{teamId:_,omitTitle:!0})}}})(b)}):null})]})}function gfe({teamId:t}){const e=xs(ne.PUBLIC_SUBMISSIONS,!0,{hasPosthunt:!0}),n=Je(s=>s.setWrapupCustomPuzzleRedirectCommand);if(e===null)return d.jsx(he,{inline:!0});if(!e.success)return d.jsx(mi,{...e});const r=Object.entries(e.state.submissions).find(([s,o])=>o.type===Tn.PRIVATE_CUSTOM_PUZZLE&&o.teamId===t);if(r===void 0)return console.error(`could not find custom puzzle for team ${t}`),d.jsx("a",{href:"#",onClick:s=>{s.preventDefault()},children:"???"});const[i,{displayName:a=Mc}]=r;return d.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(i)},children:a})}function yfe({credits:t}){const e=t.trim().split(`
`).map((n,r)=>{if(n==="")return d.jsx("div",{className:"credits-break"},r);if(!n.includes(":"))return d.jsxs("div",{className:"credits-header",children:[d.jsx(tS,{rarity:xt.UNCOMMON}),n,d.jsx(tS,{rarity:xt.UNCOMMON})]},r);const[i,a]=n.split(": "),s=a.split(", ").map((u,h)=>d.jsx("li",{children:u},h)),o=(()=>{switch(s.length){case 1:return 1;case 2:case 4:return 2;default:return 3}})(),l=s.length%o;return d.jsxs("div",{className:"credit",children:[d.jsx("div",{className:"credit-title",children:i}),d.jsx("ul",{className:`credit-people col-${o} remainder-${l}`,children:s})]},r)});return d.jsx("div",{className:"credits",children:e})}function xfe(){return d.jsx(Th,{children:d.jsx(lfe,{components:{Team:ln,Puzzle:tt,Gallery:G0,Fragment:R.Fragment,Twemoji:ve,RoutedLink:nn,Credits:yfe}})})}function Afe(){return d.jsx(Th,{children:d.jsx(ufe,{components:{Puzzle:tt}})})}function bfe(){return d.jsx(Th,{children:d.jsx(hfe,{components:{Puzzle:tt,CustomPuzzle:d$,PrivateCustomPuzzle:gfe,Team:ln,Gallery:G0,Fragment:R.Fragment,Carousel:mfe,Twemoji:ve}})})}const wfe=[["NOTIF-SPACE-1","Common"],["NOTIF-SPACE-2","Uncommon"],["NOTIF-SPACE-3","Rare"],["NOTIF-SPACE-4","Epic"],["NOTIF-SPACE-5","Legendary"],["NOTIF-CHIMES","Notification"],["NOTIF-CHIMES-SAD","Notification (Rejected)"],["NOTIF-CLAPS","Solve"],["NOTIF-CHEER","Victory"]];function Sfe(){const t=R.useRef(new i_);return R.useEffect(()=>(t.current=new i_,()=>{t.current.teardown()}),[]),d.jsxs("div",{children:[d.jsx("div",{className:"sfx-tester",children:wfe.map(([e,n])=>d.jsx("button",{onClick:()=>t.current.stopAndPlay(na[e]),children:n},n))}),d.jsx("div",{className:"sfx-tester-volume-control",children:d.jsx(p$,{})})]})}const _fe={"Big Branch":"big_branch.png","Funny Farmer":"farmer.png",Kero:"kero-tight.png",Kid:"kid.png","Mop Mop":"mop_mop.png",Olive:"olive.png","Pom Pom":"pom_pom.png","Rock Lobster":"rock_lobster.png",Stelle:"stelle-tight.png","Ten Lions":"lions.png"};function Tfe({name:t,children:e}){const n=_fe[t];return d.jsxs("div",{className:"speaker",children:[d.jsx("div",{className:"speaker-image",children:d.jsx("img",{alt:"",src:`/static/images/cutscenes/${n}`})}),d.jsxs("div",{className:"speaker-content",children:[d.jsxs("b",{children:[t,": "]}),d.jsx("div",{children:e})]})]})}function Cfe(){return d.jsx(Th,{children:d.jsx(ffe,{components:{RoutedLink:nn,SFXTester:Sfe,Twemoji:ve,Speaker:Tfe}})})}function Ife(){return d.jsx(Th,{children:d.jsx(dfe,{components:{Puzzle:tt,Twemoji:ve}})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a_=function(t,e){return a_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},a_(t,e)};function Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Efe=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),kfe=function(){function t(){this.browser=new Efe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),We=new kfe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(We.wxa=!0,We.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?We.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(We.node=!0,We.svgSupported=!0):Pfe(navigator.userAgent,We);function Pfe(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1],n.newEdge=+a[1].split(".")[0]>18),s&&(n.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in o||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}var LC=12,IH="sans-serif",Lo=LC+"px "+IH,jfe=20,Mfe=100,Dfe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Lfe(t){var e={};if(typeof JSON>"u")return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-jfe)/Mfe;e[r]=i}return e}var Nfe=Lfe(Dfe),No={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(n,r){if(!t){var i=No.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==r&&(e=t.font=r||Lo),t.measureText(n);n=n||"",r=r||Lo;var a=/((?:\d+)?\.?\d*)px/.exec(r),s=a&&+a[1]||LC,o=0;if(r.indexOf("mono")>=0)o=s*n.length;else for(var l=0;l<n.length;l++){var u=Nfe[n[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}},EH=Da(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),kH=Da(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),Ch=Object.prototype.toString,J0=Array.prototype,zfe=J0.forEach,Rfe=J0.filter,NC=J0.slice,Ofe=J0.map,FM=(function(){}).constructor,Ov=FM?FM.prototype:null,zC="__proto__",Ffe=2311;function PH(){return Ffe++}function RC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function xe(t){if(t==null||typeof t!="object")return t;var e=t,n=Ch.call(t);if(n==="[object Array]"){if(!id(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=xe(t[r])}}else if(kH[n]){if(!id(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var r=0,i=t.length;r<i;r++)e[r]=t[r]}}}else if(!EH[n]&&!id(t)&&!ih(t)){e={};for(var s in t)t.hasOwnProperty(s)&&s!==zC&&(e[s]=xe(t[s]))}return e}function Me(t,e,n){if(!ye(e)||!ye(t))return n?xe(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==zC){var i=t[r],a=e[r];ye(a)&&ye(i)&&!ee(a)&&!ee(i)&&!ih(a)&&!ih(i)&&!BM(a)&&!BM(i)&&!id(a)&&!id(i)?Me(i,a,n):(n||!(r in t))&&(t[r]=xe(e[r]))}return t}function OC(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=Me(n,t[r],e);return n}function J(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==zC&&(t[n]=e[n]);return t}function ge(t,e,n){for(var r=Xe(e),i=0;i<r.length;i++){var a=r[i];(n?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}function ze(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function Bfe(t,e){var n=t.prototype;function r(){}r.prototype=e.prototype,t.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function an(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(n?e[a]!=null:t[a]==null)&&(t[a]=e[a])}else ge(t,e,n)}function On(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function M(t,e,n){if(t&&e)if(t.forEach&&t.forEach===zfe)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function te(t,e,n){if(!t)return[];if(!e)return FC(t);if(t.map&&t.map===Ofe)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}function Da(t,e,n,r){if(t&&e){for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function gt(t,e,n){if(!t)return[];if(!e)return FC(t);if(t.filter&&t.filter===Rfe)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function Vfe(t,e,n){if(t&&e){for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}}function Xe(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Hfe(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(NC.call(arguments)))}}var fe=Ov&&me(Ov.bind)?Ov.call.bind(Ov.bind):Hfe;function Ee(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(NC.call(arguments)))}}function ee(t){return Array.isArray?Array.isArray(t):Ch.call(t)==="[object Array]"}function me(t){return typeof t=="function"}function ue(t){return typeof t=="string"}function s_(t){return Ch.call(t)==="[object String]"}function nt(t){return typeof t=="number"}function ye(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function BM(t){return!!EH[Ch.call(t)]}function Ar(t){return!!kH[Ch.call(t)]}function ih(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function K0(t){return t.colorStops!=null}function Gfe(t){return t.image!=null}function Ufe(t){return Ch.call(t)==="[object RegExp]"}function Rd(t){return t!==t}function bn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(t[n]!=null)return t[n]}function _e(t,e){return t??e}function Ca(t,e,n){return t??e??n}function FC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return NC.apply(t,e)}function BC(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function er(t,e){if(!t)throw new Error(e)}function Ri(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var jH="__ec_primitive__";function hy(t){t[jH]=!0}function id(t){return t[jH]}var Wfe=function(){function t(){this.data={}}return t.prototype.delete=function(e){var n=this.has(e);return n&&delete this.data[e],n},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,n){return this.data[e]=n,this},t.prototype.keys=function(){return Xe(this.data)},t.prototype.forEach=function(e){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&e(n[r],r)},t}(),MH=typeof Map=="function";function $fe(){return MH?new Map:new Wfe}var Yfe=function(){function t(e){var n=ee(e);this.data=$fe();var r=this;e instanceof t?e.each(i):e&&M(e,i);function i(a,s){n?r.set(a,s):r.set(s,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,n){return this.data.set(e,n),n},t.prototype.each=function(e,n){this.data.forEach(function(r,i){e.call(n,r,i)})},t.prototype.keys=function(){var e=this.data.keys();return MH?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function pe(t){return new Yfe(t)}function fy(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=t.length,r=0;r<e.length;r++)n[r+i]=e[r];return n}function Q0(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&J(n,e),n}function DH(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function de(t,e){return t.hasOwnProperty(e)}function Jt(){}var rg=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o_=function(t,e){return o_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},o_(t,e)};function Mt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Mu(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function $n(t,e){return t[0]=e[0],t[1]=e[1],t}function hs(t){return[t[0],t[1]]}function qfe(t,e,n){return t[0]=e,t[1]=n,t}function VM(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function l_(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function $l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function u_(t){return Math.sqrt(Xfe(t))}function Xfe(t){return t[0]*t[0]+t[1]*t[1]}function ig(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Ih(t,e){var n=u_(e);return n===0?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function c_(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var fo=c_;function Zfe(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var su=Zfe;function ag(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function En(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function po(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function vo(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var $u=function(){function t(e,n){this.target=e,this.topTarget=n&&n.topTarget}return t}(),Jfe=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var n=e.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new $u(n,e),"dragstart",e.event))},t.prototype._drag=function(e){var n=this._draggingTarget;if(n){var r=e.offsetX,i=e.offsetY,a=r-this._x,s=i-this._y;this._x=r,this._y=i,n.drift(a,s,e),this.handler.dispatchToElement(new $u(n,e),"drag",e.event);var o=this.handler.findHover(r,i,n).target,l=this._dropTarget;this._dropTarget=o,n!==o&&(l&&o!==l&&this.handler.dispatchToElement(new $u(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new $u(o,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new $u(n,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new $u(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),bi=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,n,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!e)return this;var s=this._$eventProcessor;n!=null&&s&&s.normalizeQuery&&(n=s.normalizeQuery(n)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===r)return this;var l={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=a[e].length-1,h=a[e][u];return h&&h.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},t.prototype.isSilent=function(e){var n=this._$handlers;return!n||!n[e]||!n[e].length},t.prototype.off=function(e,n){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(n){if(r[e]){for(var i=[],a=0,s=r[e].length;a<s;a++)r[e][a].h!==n&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=n.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=n.length,o=n[s-1],l=i.length,u=0;u<l;u++){var h=i[u];if(!(a&&a.filter&&h.query!=null&&!a.filter(e,h.query)))switch(s){case 0:h.h.call(o);break;case 1:h.h.call(o,n[0]);break;case 2:h.h.call(o,n[0],n[1]);break;default:h.h.apply(o,n.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}(),Kfe=Math.log(2);function h_(t,e,n,r,i,a){var s=r+"-"+i,o=t.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/Kfe);return t[n][l]}for(var u=r|1<<n,h=n+1;r&1<<h;)h++;for(var c=0,f=0,p=0;f<o;f++){var v=1<<f;v&i||(c+=(p%2?-1:1)*t[n][f]*h_(t,e-1,h,u,i|v,a),p++)}return a[s]=c,c}function HM(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=h_(n,8,0,0,0,r);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*h_(n,7,s===0?1:0,1<<s,1<<o,r)/i*e[s];return function(l,u,h){var c=u*a[6]+h*a[7]+1;l[0]=(u*a[0]+h*a[1]+a[2])/c,l[1]=(u*a[3]+h*a[4]+a[5])/c}}}var GM="___zrEVENTSAVED",PA=[];function Qfe(t,e,n,r,i){return f_(PA,e,r,i,!0)&&f_(t,n,PA[0],PA[1])}function f_(t,e,n,r,i){if(e.getBoundingClientRect&&We.domSupported&&!LH(e)){var a=e[GM]||(e[GM]={}),s=ede(e,a),o=tde(s,a,i);if(o)return o(t,n,r),!0}return!1}function ede(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),t.appendChild(s),n.push(s)}return n}function tde(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],a=e.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,f=h.left,p=h.top;s.push(f,p),l=l&&a&&f===a[c]&&p===a[c+1],o.push(t[u].offsetLeft,t[u].offsetTop)}return l&&i?i:(e.srcCoords=s,e[r]=n?HM(o,s):HM(s,o))}function LH(t){return t.nodeName.toUpperCase()==="CANVAS"}var nde=/([&<>"'])/g,rde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function pr(t){return t==null?"":(t+"").replace(nde,function(e,n){return rde[n]})}var ide=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,jA=[],ade=We.browser.firefox&&+We.browser.version.split(".")[0]<39;function d_(t,e,n,r){return n=n||{},r?UM(t,e,n):ade&&e.layerX!=null&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):e.offsetX!=null?(n.zrX=e.offsetX,n.zrY=e.offsetY):UM(t,e,n),n}function UM(t,e,n){if(We.domSupported&&t.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(LH(t)){var a=t.getBoundingClientRect();n.zrX=r-a.left,n.zrY=i-a.top;return}else if(f_(jA,t,r,i)){n.zrX=jA[0],n.zrY=jA[1];return}}n.zrX=n.zrY=0}function VC(t){return t||window.event}function Qr(t,e,n){if(e=VC(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&d_(t,s,e,n)}else{d_(t,e,e,n);var a=sde(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&ide.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function sde(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(n==null||r==null)return e;var i=Math.abs(r!==0?r:n),a=r>0?-1:r<0?1:n>0?-1:1;return 3*i*a}function p_(t,e,n,r){t.addEventListener(e,n,r)}function ode(t,e,n,r){t.removeEventListener(e,n,r)}var Ts=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function WM(t){return t.which===2||t.which===3}var lde=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,n,r){return this._doTrack(e,n,r),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,n,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:n,event:e},s=0,o=i.length;s<o;s++){var l=i[s],u=d_(r,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},t.prototype._recognize=function(e){for(var n in MA)if(MA.hasOwnProperty(n)){var r=MA[n](this._track,e);if(r)return r}},t}();function $M(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function ude(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var MA={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=$M(r)/$M(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=ude(r);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}};function Nr(){return[1,0,0,1,0,0]}function ex(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function HC(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function fs(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],s=e[1]*n[2]+e[3]*n[3],o=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=l,t}function La(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function Du(t,e,n,r){r===void 0&&(r=[0,0]);var i=e[0],a=e[2],s=e[4],o=e[1],l=e[3],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*h,t[1]=-i*h+o*c,t[2]=a*c+l*h,t[3]=-a*h+c*l,t[4]=c*(s-r[0])+h*(u-r[1])+r[0],t[5]=c*(u-r[1])-h*(s-r[0])+r[1],t}function GC(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function Eh(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=n*s-a*r;return l?(l=1/l,t[0]=s*l,t[1]=-a*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*o-s*i)*l,t[5]=(a*i-n*o)*l,t):null}function cde(t){var e=Nr();return HC(e,t),e}var je=function(){function t(e,n){this.x=e||0,this.y=n||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,n){return this.x=e,this.y=n,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,n){this.x+=e.x*n,this.y+=e.y*n},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)},t.prototype.distanceSquare=function(e){var n=this.x-e.x,r=this.y-e.y;return n*n+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var n=this.x,r=this.y;return this.x=e[0]*n+e[2]*r+e[4],this.y=e[1]*n+e[3]*r+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,n,r){e.x=n,e.y=r},t.copy=function(e,n){e.x=n.x,e.y=n.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,n){return e.x*n.x+e.y*n.y},t.add=function(e,n,r){e.x=n.x+r.x,e.y=n.y+r.y},t.sub=function(e,n,r){e.x=n.x-r.x,e.y=n.y-r.y},t.scale=function(e,n,r){e.x=n.x*r,e.y=n.y*r},t.scaleAndAdd=function(e,n,r,i){e.x=n.x+r.x*i,e.y=n.y+r.y*i},t.lerp=function(e,n,r,i){var a=1-i;e.x=a*n.x+i*r.x,e.y=a*n.y+i*r.y},t}(),Fv=Math.min,Bv=Math.max,nl=new je,rl=new je,il=new je,al=new je,tf=new je,nf=new je,De=function(){function t(e,n,r,i){r<0&&(e=e+r,r=-r),i<0&&(n=n+i,i=-i),this.x=e,this.y=n,this.width=r,this.height=i}return t.prototype.union=function(e){var n=Fv(e.x,this.x),r=Fv(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Bv(e.x+e.width,this.x+this.width)-n:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Bv(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=n,this.y=r},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var n=this,r=e.width/n.width,i=e.height/n.height,a=Nr();return La(a,a,[-n.x,-n.y]),GC(a,a,[r,i]),La(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,a=r.x+r.width,s=r.y,o=r.y+r.height,l=e.x,u=e.x+e.width,h=e.y,c=e.y+e.height,f=!(a<l||u<i||o<h||c<s);if(n){var p=1/0,v=0,m=Math.abs(a-l),g=Math.abs(u-i),y=Math.abs(o-h),x=Math.abs(c-s),A=Math.min(m,g),b=Math.min(y,x);a<l||u<i?A>v&&(v=A,m<g?je.set(nf,-m,0):je.set(nf,g,0)):A<p&&(p=A,m<g?je.set(tf,m,0):je.set(tf,-g,0)),o<h||c<s?b>v&&(v=b,y<x?je.set(nf,0,-y):je.set(nf,0,x)):A<p&&(p=A,y<x?je.set(tf,0,y):je.set(tf,0,-x))}return n&&je.copy(n,f?tf:nf),f},t.prototype.contain=function(e,n){var r=this;return e>=r.x&&e<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,n){e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height},t.applyTransform=function(e,n,r){if(!r){e!==n&&t.copy(e,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[4],o=r[5];e.x=n.x*i+s,e.y=n.y*a+o,e.width=n.width*i,e.height=n.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}nl.x=il.x=n.x,nl.y=al.y=n.y,rl.x=al.x=n.x+n.width,rl.y=il.y=n.y+n.height,nl.transform(r),al.transform(r),rl.transform(r),il.transform(r),e.x=Fv(nl.x,rl.x,il.x,al.x),e.y=Fv(nl.y,rl.y,il.y,al.y);var l=Bv(nl.x,rl.x,il.x,al.x),u=Bv(nl.y,rl.y,il.y,al.y);e.width=l-e.x,e.height=u-e.y},t}(),NH="silent";function hde(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:fde}}function fde(){Ts(this.event)}var dde=function(t){Mt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(bi),rf=function(){function t(e,n){this.x=e,this.y=n}return t}(),pde=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],DA=new De(0,0,0,0),zH=function(t){Mt(e,t);function e(n,r,i,a,s){var o=t.call(this)||this;return o._hovered=new rf(0,0),o.storage=n,o.painter=r,o.painterRoot=a,o._pointerSize=s,i=i||new dde,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new Jfe(o),o}return e.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(M(pde,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},e.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,a=RH(this,r,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new rf(r,i):this.findHover(r,i),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==o&&this.dispatchToElement(l,"mouseover",n)},e.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},e.prototype.resize=function(){this._hovered=new rf(0,0)},e.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},e.prototype.dispatchToElement=function(n,r,i){n=n||{};var a=n.target;if(!(a&&a.silent)){for(var s="on"+r,o=hde(r,n,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(r,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(r,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(r,o)}))}},e.prototype.findHover=function(n,r,i){var a=this.storage.getDisplayList(),s=new rf(n,r);if(YM(a,s,n,r,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,h=new De(n-u,r-u,l,l),c=a.length-1;c>=0;c--){var f=a[c];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(DA.copy(f.getBoundingRect()),f.transform&&DA.applyTransform(f.transform),DA.intersect(h)&&o.push(f))}if(o.length)for(var p=4,v=Math.PI/12,m=Math.PI*2,g=0;g<u;g+=p)for(var y=0;y<m;y+=v){var x=n+g*Math.cos(y),A=r+g*Math.sin(y);if(YM(o,s,x,A,i),s.target)return s}}return s},e.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new lde);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var s=a.type;n.gestureEvent=s;var o=new rf;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(bi);M(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){zH.prototype[t]=function(e){var n=e.zrX,r=e.zrY,i=RH(this,n,r),a,s;if((t!=="mouseup"||!i)&&(a=this.findHover(n,r),s=a.target),t==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(t==="mouseup")this._upEl=s;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||fo(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function vde(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(e,n))return!1}r.silent&&(i=!0);var o=r.__hostTarget;r=o||r.parent}return i?NH:!0}return!1}function YM(t,e,n,r,i){for(var a=t.length-1;a>=0;a--){var s=t[a],o=void 0;if(s!==i&&!s.ignore&&(o=vde(s,n,r))&&(!e.topTarget&&(e.topTarget=s),o!==NH)){e.target=s;break}}}function RH(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var OH=32,af=7;function mde(t){for(var e=0;t>=OH;)e|=t&1,t>>=1;return t+e}function qM(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;gde(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function gde(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}function XM(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var a=t[r],s=e,o=r,l;s<o;)l=s+o>>>1,i(a,t[l])<0?o=l:s=l+1;var u=r-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function LA(t,e,n,r,i,a){var s=0,o=0,l=1;if(a(t,e[n+i])>0){for(o=r-i;l<o&&a(t,e[n+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(t,e[n+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var h=s+(l-s>>>1);a(t,e[n+h])>0?s=h+1:l=h}return l}function NA(t,e,n,r,i,a){var s=0,o=0,l=1;if(a(t,e[n+i])<0){for(o=i+1;l<o&&a(t,e[n+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=r-i;l<o&&a(t,e[n+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var h=s+(l-s>>>1);a(t,e[n+h])<0?l=h:s=h+1}return l}function yde(t,e){var n=af,r,i,a=0,s=[];r=[],i=[];function o(p,v){r[a]=p,i[a]=v,a+=1}function l(){for(;a>1;){var p=a-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;h(p)}}function u(){for(;a>1;){var p=a-2;p>0&&i[p-1]<i[p+1]&&p--,h(p)}}function h(p){var v=r[p],m=i[p],g=r[p+1],y=i[p+1];i[p]=m+y,p===a-3&&(r[p+1]=r[p+2],i[p+1]=i[p+2]),a--;var x=NA(t[g],t,v,m,0,e);v+=x,m-=x,m!==0&&(y=LA(t[v+m-1],t,g,y,y-1,e),y!==0&&(m<=y?c(v,m,g,y):f(v,m,g,y)))}function c(p,v,m,g){var y=0;for(y=0;y<v;y++)s[y]=t[p+y];var x=0,A=m,b=p;if(t[b++]=t[A++],--g===0){for(y=0;y<v;y++)t[b+y]=s[x+y];return}if(v===1){for(y=0;y<g;y++)t[b+y]=t[A+y];t[b+g]=s[x];return}for(var S=n,w,_,T;;){w=0,_=0,T=!1;do if(e(t[A],s[x])<0){if(t[b++]=t[A++],_++,w=0,--g===0){T=!0;break}}else if(t[b++]=s[x++],w++,_=0,--v===1){T=!0;break}while((w|_)<S);if(T)break;do{if(w=NA(t[A],s,x,v,0,e),w!==0){for(y=0;y<w;y++)t[b+y]=s[x+y];if(b+=w,x+=w,v-=w,v<=1){T=!0;break}}if(t[b++]=t[A++],--g===0){T=!0;break}if(_=LA(s[x],t,A,g,0,e),_!==0){for(y=0;y<_;y++)t[b+y]=t[A+y];if(b+=_,A+=_,g-=_,g===0){T=!0;break}}if(t[b++]=s[x++],--v===1){T=!0;break}S--}while(w>=af||_>=af);if(T)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),v===1){for(y=0;y<g;y++)t[b+y]=t[A+y];t[b+g]=s[x]}else{if(v===0)throw new Error;for(y=0;y<v;y++)t[b+y]=s[x+y]}}function f(p,v,m,g){var y=0;for(y=0;y<g;y++)s[y]=t[m+y];var x=p+v-1,A=g-1,b=m+g-1,S=0,w=0;if(t[b--]=t[x--],--v===0){for(S=b-(g-1),y=0;y<g;y++)t[S+y]=s[y];return}if(g===1){for(b-=v,x-=v,w=b+1,S=x+1,y=v-1;y>=0;y--)t[w+y]=t[S+y];t[b]=s[A];return}for(var _=n;;){var T=0,C=0,E=!1;do if(e(s[A],t[x])<0){if(t[b--]=t[x--],T++,C=0,--v===0){E=!0;break}}else if(t[b--]=s[A--],C++,T=0,--g===1){E=!0;break}while((T|C)<_);if(E)break;do{if(T=v-NA(s[A],t,p,v,v-1,e),T!==0){for(b-=T,x-=T,v-=T,w=b+1,S=x+1,y=T-1;y>=0;y--)t[w+y]=t[S+y];if(v===0){E=!0;break}}if(t[b--]=s[A--],--g===1){E=!0;break}if(C=g-LA(t[x],s,0,g,g-1,e),C!==0){for(b-=C,A-=C,g-=C,w=b+1,S=A+1,y=0;y<C;y++)t[w+y]=s[S+y];if(g<=1){E=!0;break}}if(t[b--]=t[x--],--v===0){E=!0;break}_--}while(T>=af||C>=af);if(E)break;_<0&&(_=0),_+=2}if(n=_,n<1&&(n=1),g===1){for(b-=v,x-=v,w=b+1,S=x+1,y=v-1;y>=0;y--)t[w+y]=t[S+y];t[b]=s[A]}else{if(g===0)throw new Error;for(S=b-(g-1),y=0;y<g;y++)t[S+y]=s[y]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function sg(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var a=0;if(i<OH){a=qM(t,n,r,e),XM(t,n,r,n+a,e);return}var s=yde(t,e),o=mde(i);do{if(a=qM(t,n,r,e),a<o){var l=i;l>o&&(l=o),XM(t,n,n+l,n+a,e),a=l}s.pushRun(n,a),s.mergeRuns(),i-=a,n+=a}while(i!==0);s.forceMergeRuns()}}var Pr=1,zf=2,pc=4,ZM=!1;function zA(){ZM||(ZM=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function JM(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var xde=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=JM}return t.prototype.traverse=function(e,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,n)},t.prototype.getDisplayList=function(e,n){n=n||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(n),r},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,a=n.length;i<a;i++)this._updateAndAddDisplayable(n[i],null,e);r.length=this._displayListLen,sg(r,JM)},t.prototype._updateAndAddDisplayable=function(e,n,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),n.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var u=o[l];e.__dirty&&(u.__dirty|=Pr),this._updateAndAddDisplayable(u,n,r)}e.__dirty=0}else{var h=e;n&&n.length?h.__clipPaths=n:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(zA(),h.z=0),isNaN(h.z2)&&(zA(),h.z2=0),isNaN(h.zlevel)&&(zA(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,n,r);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,n,r);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,n,r)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)this.delRoot(e[n]);return}var i=ze(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),dy;dy=We.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var ad={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},elasticOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ad.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?ad.bounceIn(t*2)*.5:ad.bounceOut(t*2-1)*.5+.5}},Vv=Math.pow,To=Math.sqrt,py=1e-8,FH=1e-4,KM=To(3),Hv=1/3,la=Mu(),si=Mu(),Fc=Mu();function mo(t){return t>-py&&t<py}function BH(t){return t>py||t<-py}function fn(t,e,n,r,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*r+3*a*n)}function QM(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)}function vy(t,e,n,r,i,a){var s=r+3*(e-n)-t,o=3*(n-e*2+t),l=3*(e-t),u=t-i,h=o*o-3*s*l,c=o*l-9*s*u,f=l*l-3*o*u,p=0;if(mo(h)&&mo(c))if(mo(o))a[0]=0;else{var v=-l/o;v>=0&&v<=1&&(a[p++]=v)}else{var m=c*c-4*h*f;if(mo(m)){var g=c/h,v=-o/s+g,y=-g/2;v>=0&&v<=1&&(a[p++]=v),y>=0&&y<=1&&(a[p++]=y)}else if(m>0){var x=To(m),A=h*o+1.5*s*(-c+x),b=h*o+1.5*s*(-c-x);A<0?A=-Vv(-A,Hv):A=Vv(A,Hv),b<0?b=-Vv(-b,Hv):b=Vv(b,Hv);var v=(-o-(A+b))/(3*s);v>=0&&v<=1&&(a[p++]=v)}else{var S=(2*h*o-3*s*c)/(2*To(h*h*h)),w=Math.acos(S)/3,_=To(h),T=Math.cos(w),v=(-o-2*_*T)/(3*s),y=(-o+_*(T+KM*Math.sin(w)))/(3*s),C=(-o+_*(T-KM*Math.sin(w)))/(3*s);v>=0&&v<=1&&(a[p++]=v),y>=0&&y<=1&&(a[p++]=y),C>=0&&C<=1&&(a[p++]=C)}}return p}function VH(t,e,n,r,i){var a=6*n-12*e+6*t,s=9*e+3*r-3*t-9*n,o=3*e-3*t,l=0;if(mo(s)){if(BH(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var h=a*a-4*s*o;if(mo(h))i[0]=-a/(2*s);else if(h>0){var c=To(h),u=(-a+c)/(2*s),f=(-a-c)/(2*s);u>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function zo(t,e,n,r,i,a){var s=(e-t)*i+t,o=(n-e)*i+e,l=(r-n)*i+n,u=(o-s)*i+s,h=(l-o)*i+o,c=(h-u)*i+u;a[0]=t,a[1]=s,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=r}function HH(t,e,n,r,i,a,s,o,l,u,h){var c,f=.005,p=1/0,v,m,g,y;la[0]=l,la[1]=u;for(var x=0;x<1;x+=.05)si[0]=fn(t,n,i,s,x),si[1]=fn(e,r,a,o,x),g=su(la,si),g<p&&(c=x,p=g);p=1/0;for(var A=0;A<32&&!(f<FH);A++)v=c-f,m=c+f,si[0]=fn(t,n,i,s,v),si[1]=fn(e,r,a,o,v),g=su(si,la),v>=0&&g<p?(c=v,p=g):(Fc[0]=fn(t,n,i,s,m),Fc[1]=fn(e,r,a,o,m),y=su(Fc,la),m<=1&&y<p?(c=m,p=y):f*=.5);return h&&(h[0]=fn(t,n,i,s,c),h[1]=fn(e,r,a,o,c)),To(p)}function Ade(t,e,n,r,i,a,s,o,l){for(var u=t,h=e,c=0,f=1/l,p=1;p<=l;p++){var v=p*f,m=fn(t,n,i,s,v),g=fn(e,r,a,o,v),y=m-u,x=g-h;c+=Math.sqrt(y*y+x*x),u=m,h=g}return c}function An(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function v_(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function bde(t,e,n,r,i){var a=t-2*e+n,s=2*(e-t),o=t-r,l=0;if(mo(a)){if(BH(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var h=s*s-4*a*o;if(mo(h)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(h>0){var c=To(h),u=(-s+c)/(2*a),f=(-s-c)/(2*a);u>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function GH(t,e,n){var r=t+n-2*e;return r===0?.5:(t-e)/r}function Od(t,e,n,r,i){var a=(e-t)*r+t,s=(n-e)*r+e,o=(s-a)*r+a;i[0]=t,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=n}function UH(t,e,n,r,i,a,s,o,l){var u,h=.005,c=1/0;la[0]=s,la[1]=o;for(var f=0;f<1;f+=.05){si[0]=An(t,n,i,f),si[1]=An(e,r,a,f);var p=su(la,si);p<c&&(u=f,c=p)}c=1/0;for(var v=0;v<32&&!(h<FH);v++){var m=u-h,g=u+h;si[0]=An(t,n,i,m),si[1]=An(e,r,a,m);var p=su(si,la);if(m>=0&&p<c)u=m,c=p;else{Fc[0]=An(t,n,i,g),Fc[1]=An(e,r,a,g);var y=su(Fc,la);g<=1&&y<c?(u=g,c=y):h*=.5}}return l&&(l[0]=An(t,n,i,u),l[1]=An(e,r,a,u)),To(c)}function wde(t,e,n,r,i,a,s){for(var o=t,l=e,u=0,h=1/s,c=1;c<=s;c++){var f=c*h,p=An(t,n,i,f),v=An(e,r,a,f),m=p-o,g=v-l;u+=Math.sqrt(m*m+g*g),o=p,l=v}return u}var Sde=/cubic-bezier\(([0-9,\.e ]+)\)/;function UC(t){var e=t&&Sde.exec(t);if(e){var n=e[1].split(","),r=+Ri(n[0]),i=+Ri(n[1]),a=+Ri(n[2]),s=+Ri(n[3]);if(isNaN(r+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:vy(0,r,a,1,l,o)&&fn(0,i,s,1,o[0])}}}var _de=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Jt,this.ondestroy=e.ondestroy||Jt,this.onrestart=e.onrestart||Jt,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,n){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=me(e)?e:ad[e]||UC(e)},t}(),WH=function(){function t(e){this.value=e}return t}(),Tde=function(){function t(){this._len=0}return t.prototype.insert=function(e){var n=new WH(e);return this.insertEntry(n),n},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var n=e.prev,r=e.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),zp=function(){function t(e){this._list=new Tde,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,n){var r=this._list,i=this._map,a=null;if(i[e]==null){var s=r.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=n:o=new WH(n),o.key=e,r.insertEntry(o),i[e]=o}return a},t.prototype.get=function(e){var n=this._map[e],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),eD={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Fi(t){return t=Math.round(t),t<0?0:t>255?255:t}function Cde(t){return t=Math.round(t),t<0?0:t>360?360:t}function Fd(t){return t<0?0:t>1?1:t}function RA(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Fi(parseFloat(e)/100*255):Fi(parseInt(e,10))}function ou(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Fd(parseFloat(e)/100):Fd(parseFloat(e))}function OA(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function go(t,e,n){return t+(e-t)*n}function Zr(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function m_(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var $H=new zp(20),Gv=null;function Yu(t,e){Gv&&m_(Gv,e),Gv=$H.put(t,Gv||e.slice())}function zr(t,e){if(t){e=e||[];var n=$H.get(t);if(n)return m_(e,n);t=t+"";var r=t.replace(/ /g,"").toLowerCase();if(r in eD)return m_(e,eD[r]),Yu(t,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){Zr(e,0,0,0,1);return}return Zr(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),Yu(t,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){Zr(e,0,0,0,1);return}return Zr(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),Yu(t,e),e}return}var s=r.indexOf("("),o=r.indexOf(")");if(s!==-1&&o+1===i){var l=r.substr(0,s),u=r.substr(s+1,o-(s+1)).split(","),h=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Zr(e,+u[0],+u[1],+u[2],1):Zr(e,0,0,0,1);h=ou(u.pop());case"rgb":if(u.length>=3)return Zr(e,RA(u[0]),RA(u[1]),RA(u[2]),u.length===3?h:ou(u[3])),Yu(t,e),e;Zr(e,0,0,0,1);return;case"hsla":if(u.length!==4){Zr(e,0,0,0,1);return}return u[3]=ou(u[3]),g_(u,e),Yu(t,e),e;case"hsl":if(u.length!==3){Zr(e,0,0,0,1);return}return g_(u,e),Yu(t,e),e;default:return}}Zr(e,0,0,0,1)}}function g_(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=ou(t[1]),i=ou(t[2]),a=i<=.5?i*(r+1):i+r-i*r,s=i*2-a;return e=e||[],Zr(e,Fi(OA(s,a,n+1/3)*255),Fi(OA(s,a,n)*255),Fi(OA(s,a,n-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function Ide(t){if(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var h=((a-e)/6+s/2)/s,c=((a-n)/6+s/2)/s,f=((a-r)/6+s/2)/s;e===a?l=f-c:n===a?l=1/3+h-f:r===a&&(l=2/3+c-h),l<0&&(l+=1),l>1&&(l-=1)}var p=[l*360,u,o];return t[3]!=null&&p.push(t[3]),p}}function y_(t,e){var n=zr(t);if(n){for(var r=0;r<3;r++)e<0?n[r]=n[r]*(1-e)|0:n[r]=(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return ds(n,n.length===4?"rgba":"rgb")}}function FA(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),s=e[i],o=e[a],l=r-i;return n[0]=Fi(go(s[0],o[0],l)),n[1]=Fi(go(s[1],o[1],l)),n[2]=Fi(go(s[2],o[2],l)),n[3]=Fd(go(s[3],o[3],l)),n}}function Ede(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),s=zr(e[i]),o=zr(e[a]),l=r-i,u=ds([Fi(go(s[0],o[0],l)),Fi(go(s[1],o[1],l)),Fi(go(s[2],o[2],l)),Fd(go(s[3],o[3],l))],"rgba");return n?{color:u,leftIndex:i,rightIndex:a,value:r}:u}}function sd(t,e,n,r){var i=zr(t);if(t)return i=Ide(i),e!=null&&(i[0]=Cde(e)),n!=null&&(i[1]=ou(n)),r!=null&&(i[2]=ou(r)),ds(g_(i),"rgba")}function my(t,e){var n=zr(t);if(n&&e!=null)return n[3]=Fd(e),ds(n,"rgba")}function ds(t,e){if(!(!t||!t.length)){var n=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(n+=","+t[3]),e+"("+n+")"}}function gy(t,e){var n=zr(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var tD=new zp(100);function x_(t){if(ue(t)){var e=tD.get(t);return e||(e=y_(t,-.1),tD.put(t,e)),e}else if(K0(t)){var n=J({},t);return n.colorStops=te(t.colorStops,function(r){return{offset:r.offset,color:y_(r.color,-.1)}}),n}return t}var yy=Math.round;function Bd(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var n=zr(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}return{color:t,opacity:e??1}}var nD=1e-4;function yo(t){return t<nD&&t>-nD}function Uv(t){return yy(t*1e3)/1e3}function A_(t){return yy(t*1e4)/1e4}function kde(t){return"matrix("+Uv(t[0])+","+Uv(t[1])+","+Uv(t[2])+","+Uv(t[3])+","+A_(t[4])+","+A_(t[5])+")"}var Pde={left:"start",right:"end",center:"middle",middle:"middle"};function jde(t,e,n){return n==="top"?t+=e/2:n==="bottom"&&(t-=e/2),t}function Mde(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function Dde(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function YH(t){return t&&!!t.image}function Lde(t){return t&&!!t.svgElement}function WC(t){return YH(t)||Lde(t)}function qH(t){return t.type==="linear"}function XH(t){return t.type==="radial"}function ZH(t){return t&&(t.type==="linear"||t.type==="radial")}function tx(t){return"url(#"+t+")"}function JH(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function KH(t){var e=t.x||0,n=t.y||0,r=(t.rotation||0)*rg,i=_e(t.scaleX,1),a=_e(t.scaleY,1),s=t.skewX||0,o=t.skewY||0,l=[];return(e||n)&&l.push("translate("+e+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+yy(s*rg)+"deg, "+yy(o*rg)+"deg)"),l.join(" ")}var Nde=function(){return We.hasGlobalWindow&&me(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),b_=Array.prototype.slice;function ts(t,e,n){return(e-t)*n+t}function BA(t,e,n,r){for(var i=e.length,a=0;a<i;a++)t[a]=ts(e[a],n[a],r);return t}function zde(t,e,n,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){t[s]||(t[s]=[]);for(var o=0;o<a;o++)t[s][o]=ts(e[s][o],n[s][o],r)}return t}function Wv(t,e,n,r){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+n[a]*r;return t}function rD(t,e,n,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){t[s]||(t[s]=[]);for(var o=0;o<a;o++)t[s][o]=e[s][o]+n[s][o]*r}return t}function Rde(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,a=Math.min(n,r),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(n,r);o++)i.push({offset:s.offset,color:s.color.slice()})}function Ode(t,e,n){var r=t,i=e;if(!(!r.push||!i.push)){var a=r.length,s=i.length;if(a!==s){var o=a>s;if(o)r.length=s;else for(var l=a;l<s;l++)r.push(n===1?i[l]:b_.call(i[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=i[l]);else for(var h=0;h<u;h++)isNaN(r[l][h])&&(r[l][h]=i[l][h])}}function od(t){if(On(t)){var e=t.length;if(On(t[0])){for(var n=[],r=0;r<e;r++)n.push(b_.call(t[r]));return n}return b_.call(t)}return t}function og(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function Fde(t){return On(t&&t[0])?2:1}var $v=0,lg=1,QH=2,Rf=3,w_=4,S_=5,iD=6;function aD(t){return t===w_||t===S_}function Yv(t){return t===lg||t===QH}var sf=[0,0,0,0],Bde=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,n,r){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=iD,l=n;if(On(n)){var u=Fde(n);o=u,(u===1&&!nt(n[0])||u===2&&!nt(n[0][0]))&&(s=!0)}else if(nt(n)&&!Rd(n))o=$v;else if(ue(n))if(!isNaN(+n))o=$v;else{var h=zr(n);h&&(l=h,o=Rf)}else if(K0(n)){var c=J({},l);c.colorStops=te(n.colorStops,function(p){return{offset:p.offset,color:zr(p.color)}}),qH(n)?o=w_:XH(n)&&(o=S_),l=c}a===0?this.valType=o:(o!==this.valType||o===iD)&&(s=!0),this.discrete=this.discrete||s;var f={time:e,value:l,rawValue:n,percent:0};return r&&(f.easing=r,f.easingFunc=me(r)?r:ad[r]||UC(r)),i.push(f),f},t.prototype.prepare=function(e,n){var r=this.keyframes;this._needsSort&&r.sort(function(m,g){return m.time-g.time});for(var i=this.valType,a=r.length,s=r[a-1],o=this.discrete,l=Yv(i),u=aD(i),h=0;h<a;h++){var c=r[h],f=c.value,p=s.value;c.percent=c.time/e,o||(l&&h!==a-1?Ode(f,p,i):u&&Rde(f.colorStops,p.colorStops))}if(!o&&i!==S_&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var v=r[0].value,h=0;h<a;h++)i===$v?r[h].additiveValue=r[h].value-v:i===Rf?r[h].additiveValue=Wv([],r[h].value,v,-1):Yv(i)&&(r[h].additiveValue=i===lg?Wv([],r[h].value,v,-1):rD([],r[h].value,v,-1))}},t.prototype.step=function(e,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===Rf,h,c=this._lastFr,f=Math.min,p,v;if(o===1)p=v=s[0];else{if(n<0)h=0;else if(n<this._lastFrP){var m=f(c+1,o-1);for(h=m;h>=0&&!(s[h].percent<=n);h--);h=f(h,o-2)}else{for(h=c;h<o&&!(s[h].percent>n);h++);h=f(h-1,o-2)}v=s[h+1],p=s[h]}if(p&&v){this._lastFr=h,this._lastFrP=n;var g=v.percent-p.percent,y=g===0?1:f((n-p.percent)/g,1);v.easingFunc&&(y=v.easingFunc(y));var x=r?this._additiveValue:u?sf:e[l];if((Yv(a)||u)&&!x&&(x=this._additiveValue=[]),this.discrete)e[l]=y<1?p.rawValue:v.rawValue;else if(Yv(a))a===lg?BA(x,p[i],v[i],y):zde(x,p[i],v[i],y);else if(aD(a)){var A=p[i],b=v[i],S=a===w_;e[l]={type:S?"linear":"radial",x:ts(A.x,b.x,y),y:ts(A.y,b.y,y),colorStops:te(A.colorStops,function(_,T){var C=b.colorStops[T];return{offset:ts(_.offset,C.offset,y),color:og(BA([],_.color,C.color,y))}}),global:b.global},S?(e[l].x2=ts(A.x2,b.x2,y),e[l].y2=ts(A.y2,b.y2,y)):e[l].r=ts(A.r,b.r,y)}else if(u)BA(x,p[i],v[i],y),r||(e[l]=og(x));else{var w=ts(p[i],v[i],y);r?this._additiveValue=w:e[l]=w}r&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var n=this.valType,r=this.propName,i=this._additiveValue;n===$v?e[r]=e[r]+i:n===Rf?(zr(e[r],sf),Wv(sf,sf,i,1),e[r]=og(sf)):n===lg?Wv(e[r],e[r],i,1):n===QH&&rD(e[r],e[r],i,1)},t}(),$C=function(){function t(e,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=n,n&&i){RC("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,n,r){return this.whenWithKeys(e,n,Xe(n),r)},t.prototype.whenWithKeys=function(e,n,r,i){for(var a=this._tracks,s=0;s<r.length;s++){var o=r[s],l=a[o];if(!l){l=a[o]=new Bde(o);var u=void 0,h=this._getAdditiveTrack(o);if(h){var c=h.keyframes,f=c[c.length-1];u=f&&f.value,h.valType===Rf&&u&&(u=og(u))}else u=this._target[o];if(u==null)continue;e>0&&l.addKeyframe(0,od(u),i),this._trackKeys.push(o)}l.addKeyframe(e,od(n[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var n=e.length,r=0;r<n;r++)e[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,n=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)e[n[r]].setFinished()},t.prototype._getAdditiveTrack=function(e){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(n=a)}return n},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,h=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var c=u[h-1];c&&(n._target[o.propName]=c.rawValue),o.setFinished()}else r.push(o)}if(r.length||this._force){var f=new _de({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){n._started=2;var v=n._additiveAnimators;if(v){for(var m=!1,g=0;g<v.length;g++)if(v[g]._clip){m=!0;break}m||(n._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(n._target,p);var y=n._onframeCbs;if(y)for(var g=0;g<y.length;g++)y[g](n._target,p)},ondestroy:function(){n._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var n=this._clip;e&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return te(this._trackKeys,function(n){return e._tracks[n]})},t.prototype.stopTracks=function(e,n){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=r[e[a]];s&&!s.isFinished()&&(n?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},t.prototype.saveTo=function(e,n,r){if(e){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var a=n[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[r?0:o.length-1];l&&(e[a]=od(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,n){n=n||Xe(e);for(var r=0;r<n.length;r++){var i=n[r],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();function Ec(){return new Date().getTime()}var Vde=function(t){Mt(e,t);function e(n){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return e.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},e.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},e.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},e.prototype.update=function(n){for(var r=Ec()-this._pausedTime,i=r-this._time,a=this._head;a;){var s=a.next,o=a.step(r,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(dy(r),!n._paused&&n.update())}dy(r)},e.prototype.start=function(){this._running||(this._time=Ec(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Ec(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Ec()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(n,r){r=r||{},this.start();var i=new $C(n,r.loop);return this.addAnimator(i),i},e}(bi),Hde=300,VA=We.domSupported,HA=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=te(t,function(i){var a=i.replace("mouse","pointer");return n.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:r}}(),sD={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},oD=!1;function __(t){var e=t.pointerType;return e==="pen"||e==="touch"}function Gde(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function GA(t){t&&(t.zrByTouch=!0)}function Ude(t,e){return Qr(t.dom,new Wde(t,e),!0)}function e4(t,e){for(var n=e,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var Wde=function(){function t(e,n){this.stopPropagation=Jt,this.stopImmediatePropagation=Jt,this.preventDefault=Jt,this.type=n.type,this.target=this.currentTarget=e.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t}(),ji={mousedown:function(t){t=Qr(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Qr(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Qr(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Qr(this.dom,t);var e=t.toElement||t.relatedTarget;e4(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){oD=!0,t=Qr(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){oD||(t=Qr(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Qr(this.dom,t),GA(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),ji.mousemove.call(this,t),ji.mousedown.call(this,t)},touchmove:function(t){t=Qr(this.dom,t),GA(t),this.handler.processGesture(t,"change"),ji.mousemove.call(this,t)},touchend:function(t){t=Qr(this.dom,t),GA(t),this.handler.processGesture(t,"end"),ji.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<Hde&&ji.click.call(this,t)},pointerdown:function(t){ji.mousedown.call(this,t)},pointermove:function(t){__(t)||ji.mousemove.call(this,t)},pointerup:function(t){ji.mouseup.call(this,t)},pointerout:function(t){__(t)||ji.mouseout.call(this,t)}};M(["click","dblclick","contextmenu"],function(t){ji[t]=function(e){e=Qr(this.dom,e),this.trigger(t,e)}});var T_={pointermove:function(t){__(t)||T_.mousemove.call(this,t)},pointerup:function(t){T_.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function $de(t,e){var n=e.domHandlers;We.pointerEventsSupported?M(HA.pointer,function(r){ug(e,r,function(i){n[r].call(t,i)})}):(We.touchEventsSupported&&M(HA.touch,function(r){ug(e,r,function(i){n[r].call(t,i),Gde(e)})}),M(HA.mouse,function(r){ug(e,r,function(i){i=VC(i),e.touching||n[r].call(t,i)})}))}function Yde(t,e){We.pointerEventsSupported?M(sD.pointer,n):We.touchEventsSupported||M(sD.mouse,n);function n(r){function i(a){a=VC(a),e4(t,a.target)||(a=Ude(t,a),e.domHandlers[r].call(t,a))}ug(e,r,i,{capture:!0})}}function ug(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,p_(t.domTarget,e,n,r)}function UA(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&ode(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var lD=function(){function t(e,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=n}return t}(),qde=function(t){Mt(e,t);function e(n,r){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new lD(n,ji),VA&&(i._globalHandlerScope=new lD(document,T_)),$de(i,i._localHandlerScope),i}return e.prototype.dispose=function(){UA(this._localHandlerScope),VA&&UA(this._globalHandlerScope)},e.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},e.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,VA&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?Yde(this,r):UA(r)}},e}(bi),t4=1;We.hasGlobalWindow&&(t4=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var xy=t4,C_=.4,I_="#333",E_="#ccc",Xde="#eee",uD=ex,cD=5e-5;function sl(t){return t>cD||t<-cD}var ol=[],qu=[],WA=Nr(),$A=Math.abs,os=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return sl(this.rotation)||sl(this.x)||sl(this.y)||sl(this.scaleX-1)||sl(this.scaleY-1)||sl(this.skewX)||sl(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||e)){r&&(uD(r),this.invTransform=null);return}r=r||Nr(),n?this.getLocalTransform(r):uD(r),e&&(n?fs(r,e,r):HC(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},t.prototype._resolveGlobalScaleRatio=function(e){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(ol);var r=ol[0]<0?-1:1,i=ol[1]<0?-1:1,a=((ol[0]-r)*n+r)/ol[0]||0,s=((ol[1]-i)*n+i)/ol[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||Nr(),Eh(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,n=[];e;)n.push(e),e=e.parent;for(;e=n.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),n=Math.sqrt(n),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,n=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Nr(),fs(qu,e.invTransform,n),n=qu);var r=this.originX,i=this.originY;(r||i)&&(WA[4]=r,WA[5]=i,fs(qu,n,WA),qu[4]-=r,qu[5]-=i,n=qu),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(e){var n=this.transform;return e=e||[],n?(e[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),e[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(e[0]=-e[0]),n[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,n){var r=[e,n],i=this.invTransform;return i&&En(r,r,i),r},t.prototype.transformCoordToGlobal=function(e,n){var r=[e,n],i=this.transform;return i&&En(r,r,i),r},t.prototype.getLineScale=function(){var e=this.transform;return e&&$A(e[0]-1)>1e-10&&$A(e[3]-1)>1e-10?Math.sqrt($A(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){n4(this,e)},t.getLocalTransform=function(e,n){n=n||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,u=e.rotation||0,h=e.x,c=e.y,f=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(r||i||o||l){var v=r+o,m=i+l;n[4]=-v*a-f*m*s,n[5]=-m*s-p*v*a}else n[4]=n[5]=0;return n[0]=a,n[3]=s,n[1]=p*a,n[2]=f*s,u&&Du(n,n,u),n[4]+=r+h,n[5]+=i+c,n},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Na=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function n4(t,e){for(var n=0;n<Na.length;n++){var r=Na[n];t[r]=e[r]}}var hD={};function Rr(t,e){e=e||Lo;var n=hD[e];n||(n=hD[e]=new zp(500));var r=n.get(t);return r==null&&(r=No.measureText(t,e).width,n.put(t,r)),r}function fD(t,e,n,r){var i=Rr(t,e),a=nx(e),s=Of(0,i,n),o=vc(0,a,r),l=new De(s,o,i,a);return l}function Rp(t,e,n,r){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return fD(i[0],e,n,r);for(var s=new De(0,0,0,0),o=0;o<i.length;o++){var l=fD(i[o],e,n,r);o===0?s.copy(l):s.union(l)}return s}function Of(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function vc(t,e,n){return n==="middle"?t-=e/2:n==="bottom"&&(t-=e),t}function nx(t){return Rr("å½",t)}function Hi(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Ay(t,e,n){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=n.height,s=n.width,o=a/2,l=n.x,u=n.y,h="left",c="top";if(r instanceof Array)l+=Hi(r[0],n.width),u+=Hi(r[1],n.height),h=null,c=null;else switch(r){case"left":l-=i,u+=o,h="right",c="middle";break;case"right":l+=i+s,u+=o,c="middle";break;case"top":l+=s/2,u-=i,h="center",c="bottom";break;case"bottom":l+=s/2,u+=a+i,h="center";break;case"inside":l+=s/2,u+=o,h="center",c="middle";break;case"insideLeft":l+=i,u+=o,c="middle";break;case"insideRight":l+=s-i,u+=o,h="right",c="middle";break;case"insideTop":l+=s/2,u+=i,h="center";break;case"insideBottom":l+=s/2,u+=a-i,h="center",c="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,h="right";break;case"insideBottomLeft":l+=i,u+=a-i,c="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,h="right",c="bottom";break}return t=t||{},t.x=l,t.y=u,t.align=h,t.verticalAlign=c,t}var YA="__zr_normal__",qA=Na.concat(["ignore"]),Zde=Da(Na,function(t,e){return t[e]=!0,t},{ignore:!1}),Xu={},Jde=new De(0,0,0,0),rx=function(){function t(e){this.id=PH(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var n=this._textContent;if(n&&(!n.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=n.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(n),r.position!=null){var h=Jde;r.layoutRect?h.copy(r.layoutRect):h.copy(this.getBoundingRect()),i||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Xu,r,h):Ay(Xu,r,h),a.x=Xu.x,a.y=Xu.y,s=Xu.align,o=Xu.verticalAlign;var c=r.origin;if(c&&r.rotation!=null){var f=void 0,p=void 0;c==="center"?(f=h.width*.5,p=h.height*.5):(f=Hi(c[0],h.width),p=Hi(c[1],h.height)),u=!0,a.originX=-a.x+f+(i?0:h.x),a.originY=-a.y+p+(i?0:h.y)}}r.rotation!=null&&(a.rotation=r.rotation);var v=r.offset;v&&(a.x+=v[0],a.y+=v[1],u||(a.originX=-v[0],a.originY=-v[1]));var m=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,x=void 0,A=void 0;m&&this.canBeInsideText()?(y=r.insideFill,x=r.insideStroke,(y==null||y==="auto")&&(y=this.getInsideTextFill()),(x==null||x==="auto")&&(x=this.getInsideTextStroke(y),A=!0)):(y=r.outsideFill,x=r.outsideStroke,(y==null||y==="auto")&&(y=this.getOutsideFill()),(x==null||x==="auto")&&(x=this.getOutsideStroke(y),A=!0)),y=y||"#000",(y!==g.fill||x!==g.stroke||A!==g.autoStroke||s!==g.align||o!==g.verticalAlign)&&(l=!0,g.fill=y,g.stroke=x,g.autoStroke=A,g.align=s,g.verticalAlign=o,n.setDefaultTextStyle(g)),n.__dirty|=Pr,l&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?E_:I_},t.prototype.getOutsideStroke=function(e){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&zr(n);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(a?0:255)*(1-i);return r[3]=1,ds(r,"rgba")},t.prototype.traverse=function(e,n){},t.prototype.attrKV=function(e,n){e==="textConfig"?this.setTextConfig(n):e==="textContent"?this.setTextContent(n):e==="clipPath"?this.setClipPath(n):e==="extra"?(this.extra=this.extra||{},J(this.extra,n)):this[e]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,n){if(typeof e=="string")this.attrKV(e,n);else if(ye(e))for(var r=e,i=Xe(r),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==YA)){var s=i.targetName,o=s?n[s]:n;i.saveTo(o)}}},t.prototype._innerSaveToNormal=function(e){var n=this._normalState;n||(n=this._normalState={}),e.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(e,n,qA)},t.prototype._savePrimaryToNormal=function(e,n,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in n)&&(n[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var n=this.states;return n[e]||(n[e]={}),n[e]},t.prototype.clearStates=function(e){this.useState(YA,!1,e)},t.prototype.useState=function(e,n,r,i){var a=e===YA,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(ze(o,e)>=0&&(n||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){RC("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var h=!!(u&&u.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var c=this._textContent,f=this._textGuide;return c&&c.useState(e,n,r,h),f&&f.useState(e,n,r,h),a?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pr),u}}},t.prototype.useStates=function(e,n,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=e[l],h=void 0;this.stateProxy&&(h=this.stateProxy(u,e)),h||(h=this.states[u]),h&&i.push(h)}var c=i[s-1],f=!!(c&&c.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!n&&!this.__inHover&&v&&v.duration>0,v);var m=this._textContent,g=this._textGuide;m&&m.useStates(e,n,f),g&&g.useStates(e,n,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pr)}},t.prototype.isSilent=function(){for(var e=this.silent,n=this.parent;!e&&n;){if(n.silent){e=!0;break}n=n.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var n=this.animators[e];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(e){var n=ze(this.currentStates,e);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},t.prototype.replaceState=function(e,n,r){var i=this.currentStates.slice(),a=ze(i,e),s=ze(i,n)>=0;a>=0?s?i.splice(a,1):i[a]=n:r&&!s&&i.push(n),this.useStates(i)},t.prototype.toggleState=function(e,n){n?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var n={},r,i=0;i<e.length;i++){var a=e[i];J(n,a),a.textConfig&&(r=r||{},J(r,a.textConfig))}return r&&(n.textConfig=r),n},t.prototype._applyStateObj=function(e,n,r,i,a,s){var o=!(n&&i);n&&n.textConfig?(this.textConfig=J({},i?this.textConfig:r.textConfig),J(this.textConfig,n.textConfig)):o&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,h=0;h<qA.length;h++){var c=qA[h],f=a&&Zde[c];n&&n[c]!=null?f?(u=!0,l[c]=n[c]):this[c]=n[c]:o&&r[c]!=null&&(f?(u=!0,l[c]=r[c]):this[c]=r[c])}if(!a)for(var h=0;h<this.animators.length;h++){var p=this.animators[h],v=p.targetName;p.getLoop()||p.__changeFinalValue(v?(n||r)[v]:n||r)}u&&this._transitionState(e,l,s)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var n=this.__zr;n&&e.addSelfToZr(n),e.__zr=n,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var n=this._textContent;n!==e&&(n&&n!==e&&this.removeTextContent(),e.innerTransformable=new os,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),J(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Pr;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=e),r&&(r.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,n,r){var i=e?this[e]:this,a=new $C(i,n,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,n){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(n)}).done(function(){var a=i.animators,s=ze(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,n){for(var r=this.animators,i=r.length,a=[],s=0;s<i;s++){var o=r[s];!e||e===o.scope?o.stop(n):a.push(o)}return this.animators=a,this},t.prototype.animateTo=function(e,n,r){XA(this,e,n,r)},t.prototype.animateFrom=function(e,n,r){XA(this,e,n,r,!0)},t.prototype._transitionState=function(e,n,r,i){for(var a=XA(this,n,r,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Pr;function n(r,i,a,s){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(h){l[a]=h}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(h){l[s]=h}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();an(rx,bi);an(rx,os);function XA(t,e,n,r,i){n=n||{};var a=[];r4(t,"",t,e,n,r,a,i);var s=a.length,o=!1,l=n.done,u=n.aborted,h=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},c=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&n.during&&a[0].during(function(v,m){n.during(m)});for(var f=0;f<a.length;f++){var p=a[f];h&&p.done(h),c&&p.aborted(c),n.force&&p.duration(n.duration),p.start(n.easing)}return a}function ZA(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function Kde(t){return On(t[0])}function Qde(t,e,n){if(On(e[n]))if(On(t[n])||(t[n]=[]),Ar(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),ZA(t[n],e[n],r))}else{var i=e[n],a=t[n],s=i.length;if(Kde(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?ZA(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else ZA(a,i,s);a.length=i.length}else t[n]=e[n]}function epe(t,e){return t===e||On(t)&&On(e)&&tpe(t,e)}function tpe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function r4(t,e,n,r,i,a,s,o){for(var l=Xe(r),u=i.duration,h=i.delay,c=i.additive,f=i.setToFinal,p=!ye(a),v=t.animators,m=[],g=0;g<l.length;g++){var y=l[g],x=r[y];if(x!=null&&n[y]!=null&&(p||a[y]))if(ye(x)&&!On(x)&&!K0(x)){if(e){o||(n[y]=x,t.updateDuringAnimation(e));continue}r4(t,y,n[y],x,i,a&&a[y],s,o)}else m.push(y);else o||(n[y]=x,t.updateDuringAnimation(e),m.push(y))}var A=m.length;if(!c&&A)for(var b=0;b<v.length;b++){var S=v[b];if(S.targetName===e){var w=S.stopTracks(m);if(w){var _=ze(v,S);v.splice(_,1)}}}if(i.force||(m=gt(m,function(k){return!epe(r[k],n[k])}),A=m.length),A>0||i.force&&!s.length){var T=void 0,C=void 0,E=void 0;if(o){C={},f&&(T={});for(var b=0;b<A;b++){var y=m[b];C[y]=n[y],f?T[y]=r[y]:n[y]=r[y]}}else if(f){E={};for(var b=0;b<A;b++){var y=m[b];E[y]=od(n[y]),Qde(n,r,y)}}var S=new $C(n,!1,!1,c?gt(v,function(I){return I.targetName===e}):null);S.targetName=e,i.scope&&(S.scope=i.scope),f&&T&&S.whenWithKeys(0,T,m),E&&S.whenWithKeys(0,E,m),S.whenWithKeys(u??500,o?C:r,m).delay(h||0),t.addAnimator(S,e),s.push(S)}}var Ae=function(t){Mt(e,t);function e(n){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(n){return this._children[n]},e.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},e.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,n),this._doAdd(n))}return this},e.prototype.replace=function(n,r){var i=ze(this._children,n);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(n,r){var i=this._children,a=i[r];if(n&&n!==this&&n.parent!==this&&n!==a){i[r]=n,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(n)}return this},e.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(n){var r=this.__zr,i=this._children,a=ze(i,n);return a<0?this:(i.splice(a,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var a=n[i];r&&a.removeSelfFromZr(r),a.parent=null}return n.length=0,this},e.prototype.eachChild=function(n,r){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];n.call(r,s,a)}return this},e.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=n.call(r,a);a.isGroup&&!s&&a.traverse(n,r)}return this},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},e.prototype.getBoundingRect=function(n){for(var r=new De(0,0,0,0),i=n||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),h=l.getLocalTransform(a);h?(De.applyTransform(r,u,h),s=s||r.clone(),s.union(r)):(s=s||u.clone(),s.union(u))}}return s||r},e}(rx);Ae.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var cg={},i4={};function npe(t){delete i4[t]}function rpe(t){if(!t)return!1;if(typeof t=="string")return gy(t,1)<C_;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=gy(e[i].color,1);return n/=r,n<C_}return!1}var ipe=function(){function t(e,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=e;var a=new xde,s=r.renderer||"canvas";cg[s]||(s=Xe(cg)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var o=new cg[s](n,a,r,e),l=r.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!We.node&&!We.worker&&!l?new qde(o.getViewportRoot(),o.root):null,h=r.useCoarsePointer,c=h==null||h==="auto"?We.touchEventsSupported:!!h,f=44,p;c&&(p=_e(r.pointerSize,f)),this.handler=new zH(a,o,u,o.root,p),this.animation=new Vde({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,n),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=rpe(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var n,r=Ec();this._needsRefresh&&(n=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=Ec();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,n){if(!this._disposed)return this.handler.findHover(e,n)},t.prototype.on=function(e,n,r){return this._disposed||this.handler.on(e,n,r),this},t.prototype.off=function(e,n){this._disposed||this.handler.off(e,n)},t.prototype.trigger=function(e,n){this._disposed||this.handler.trigger(e,n)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),n=0;n<e.length;n++)e[n]instanceof Ae&&e[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,npe(this.id))},t}();function dD(t,e){var n=new ipe(PH(),t,e);return i4[n.id]=n,n}function ape(t,e){cg[t]=e}var k_;function spe(t){if(typeof k_=="function")return k_(t)}function ope(t){k_=t}var pD=1e-4,a4=20;function lpe(t){return t.replace(/^\s+|\s+$/g,"")}function vt(t,e,n,r){var i=e[0],a=e[1],s=n[0],o=n[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(r)if(l>0){if(t<=i)return s;if(t>=a)return o}else{if(t>=i)return s;if(t<=a)return o}else{if(t===i)return s;if(t===a)return o}return(t-i)/l*u+s}function se(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return ue(t)?lpe(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function $t(t,e,n){return e==null&&(e=10),e=Math.min(Math.max(0,e),a4),t=(+t).toFixed(e),n?t:+t}function di(t){return t.sort(function(e,n){return e-n}),t}function ma(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n}return upe(t)}function upe(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-r)}function s4(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function cpe(t,e){var n=Da(t,function(p,v){return p+(isNaN(v)?0:v)},0);if(n===0)return[];for(var r=Math.pow(10,e),i=te(t,function(p){return(isNaN(p)?0:p)/n*r*100}),a=r*100,s=te(i,function(p){return Math.floor(p)}),o=Da(s,function(p,v){return p+v},0),l=te(i,function(p,v){return p-s[v]});o<a;){for(var u=Number.NEGATIVE_INFINITY,h=null,c=0,f=l.length;c<f;++c)l[c]>u&&(u=l[c],h=c);++s[h],l[h]=0,++o}return te(s,function(p){return p/r})}function hpe(t,e){var n=Math.max(ma(t),ma(e)),r=t+e;return n>a4?r:$t(r,n)}var vD=9007199254740991;function o4(t){var e=Math.PI*2;return(t%e+e)%e}function Vd(t){return t>-pD&&t<pD}var fpe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function za(t){if(t instanceof Date)return t;if(ue(t)){var e=fpe.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function dpe(t){return Math.pow(10,YC(t))}function YC(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function l4(t,e){var n=YC(t),r=Math.pow(10,n),i=t/r,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,t=a*r,n>=-20?+t.toFixed(n<0?-n:0):t}function JA(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i}function mD(t){t.sort(function(l,u){return o(l,u,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,s=0;s<2;s++)i[s]<=e&&(i[s]=e,a[s]=s?1:1-n),e=i[s],n=a[s];i[0]===i[1]&&a[0]*a[1]!==1?t.splice(r,1):r++}return t;function o(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]===(h?-1:1)||!h&&o(l,u,1))}}function Cs(t){var e=parseFloat(t);return e==t&&(e!==0||!ue(t)||t.indexOf("x")<=0)?e:NaN}function u4(t){return!isNaN(Cs(t))}function c4(){return Math.round(Math.random()*9)}function h4(t,e){return e===0?t:h4(e,t%e)}function gD(t,e){return t==null?e:e==null?t:t*e/h4(t,e)}function ut(t){throw new Error(t)}function yD(t,e,n){return(e-t)*n+t}var f4="series\0",d4="\0_ec_\0";function bt(t){return t instanceof Array?t:t==null?[]:[t]}function yu(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var xD=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function kh(t){return ye(t)&&!ee(t)&&!(t instanceof Date)?t.value:t}function ppe(t){return ye(t)&&!(t instanceof Array)}function p4(t,e,n){var r=n==="normalMerge",i=n==="replaceMerge",a=n==="replaceAll";t=t||[],e=(e||[]).slice();var s=pe();M(e,function(l,u){if(!ye(l)){e[u]=null;return}});var o=vpe(t,s,n);return(r||i)&&mpe(o,t,s,e),r&&gpe(o,e),r||i?ype(o,e,i):a&&xpe(o,e),Ape(o),o}function vpe(t,e,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:n==="replaceMerge"||Hd(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function mpe(t,e,n,r){M(r,function(i,a){if(!(!i||i.id==null)){var s=ld(i.id),o=n.get(s);if(o!=null){var l=t[o];er(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],r[a]=null}}})}function gpe(t,e){M(e,function(n,r){if(!(!n||n.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||n.id==null)&&!Hd(n)&&!Hd(a)&&v4("name",a,n)){t[i].newOption=n,e[r]=null;return}}})}function ype(t,e,n){M(e,function(r){if(r){for(var i,a=0;(i=t[a])&&(i.newOption||Hd(i.existing)||i.existing&&r.id!=null&&!v4("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=n):t.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),a++}})}function xpe(t,e){M(e,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function Ape(t){var e=pe();M(t,function(n){var r=n.existing;r&&e.set(r.id,n)}),M(t,function(n){var r=n.newOption;er(!r||r.id==null||!e.get(r.id)||e.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),M(t,function(n,r){var i=n.existing,a=n.newOption,s=n.keyInfo;if(ye(a)){if(s.name=a.name!=null?ld(a.name):i?i.name:f4+r,i)s.id=ld(i.id);else if(a.id!=null)s.id=ld(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,n)}})}function v4(t,e,n){var r=un(e[t],null),i=un(n[t],null);return r!=null&&i!=null&&r===i}function ld(t){return un(t,"")}function un(t,e){return t==null?e:ue(t)?t:nt(t)||s_(t)?t+"":e}function qC(t){var e=t.name;return!!(e&&e.indexOf(f4))}function Hd(t){return t&&t.id!=null&&ld(t.id).indexOf(d4)===0}function bpe(t){return d4+t}function wpe(t,e,n){M(t,function(r){var i=r.newOption;ye(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=Spe(e,i,r.existing,n))})}function Spe(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}function _pe(t,e){var n={},r={};return i(t||[],n),i(e||[],r,n),[a(n),a(r)];function i(s,o,l){for(var u=0,h=s.length;u<h;u++){var c=un(s[u].seriesId,null);if(c==null)return;for(var f=bt(s[u].dataIndex),p=l&&l[c],v=0,m=f.length;v<m;v++){var g=f[v];p&&p[g]?p[g]=null:(o[c]||(o[c]={}))[g]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var h=a(s[u],!0);h.length&&l.push({seriesId:u,dataIndex:h})}return l}}function xu(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ee(e.dataIndex)?te(e.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ee(e.name)?te(e.name,function(n){return t.indexOfName(n)}):t.indexOfName(e.name)}function Qe(){var t="__ec_inner_"+Tpe++;return function(e){return e[t]||(e[t]={})}}var Tpe=c4();function ud(t,e,n){var r=XC(e,n),i=r.mainTypeSpecified,a=r.queryOptionMap,s=r.others,o=s,l=n?n.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,h){var c=Op(t,h,u,{useDefault:l===h,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});o[h+"Models"]=c.models,o[h+"Model"]=c.models[0]}),o}function XC(t,e){var n;if(ue(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var i=pe(),a={},s=!1;return M(n,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],c=(u[2]||"").toLowerCase();if(!(!h||!c||e&&e.includeMainTypes&&ze(e.includeMainTypes,h)<0)){s=s||!!h;var f=i.get(h)||i.set(h,{});f[c]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var tn={useDefault:!0,enableAll:!1,enableNone:!1},Cpe={useDefault:!1,enableAll:!0,enableNone:!0};function Op(t,e,n,r){r=r||tn;var i=n.index,a=n.id,s=n.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=r.useDefault&&(l=t.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(er(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(er(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=t.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function m4(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function Ipe(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Epe(t){return t==="auto"?We.domSupported?"html":"richText":t||"html"}function P_(t,e){var n=pe(),r=[];return M(t,function(i){var a=e(i);(n.get(a)||(r.push(a),n.set(a,[]))).push(i)}),{keys:r,buckets:n}}function g4(t,e,n,r,i){var a=e==null||e==="auto";if(r==null)return r;if(nt(r)){var s=yD(n||0,r,i);return $t(s,a?Math.max(ma(n||0),ma(r)):e)}else{if(ue(r))return i<1?n:r;for(var o=[],l=n,u=r,h=Math.max(l?l.length:0,u.length),c=0;c<h;++c){var f=t.getDimensionInfo(c);if(f&&f.type==="ordinal")o[c]=(i<1&&l?l:u)[c];else{var p=l&&l[c]?l[c]:0,v=u[c],s=yD(p,v,i);o[c]=$t(s,a?Math.max(ma(p),ma(v)):e)}}return o}}var kpe=".",ll="___EC__COMPONENT__CONTAINER___",y4="___EC__EXTENDED_CLASS___";function ga(t){var e={main:"",sub:""};if(t){var n=t.split(kpe);e.main=n[0]||"",e.sub=n[1]||""}return e}function Ppe(t){er(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function jpe(t){return!!(t&&t[y4])}function ZC(t,e){t.$constructor=t,t.extend=function(n){var r=this,i;return Mpe(r)?i=function(a){Y(s,a);function s(){return a.apply(this,arguments)||this}return s}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},Bfe(i,this)),J(i.prototype,n),i[y4]=!0,i.extend=this.extend,i.superCall=Npe,i.superApply=zpe,i.superClass=r,i}}function Mpe(t){return me(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function x4(t,e){t.extend=e.extend}var Dpe=Math.round(Math.random()*10);function Lpe(t){var e=["__\0is_clz",Dpe++].join("_");t.prototype[e]=!0,t.isInstance=function(n){return!!(n&&n[e])}}function Npe(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function zpe(t,e,n){return this.superClass.prototype[e].apply(t,n)}function ix(t){var e={};t.registerClass=function(r){var i=r.type||r.prototype.type;if(i){Ppe(i),r.prototype.type=i;var a=ga(i);if(!a.sub)e[a.main]=r;else if(a.sub!==ll){var s=n(a);s[a.sub]=r}}return r},t.getClass=function(r,i,a){var s=e[r];if(s&&s[ll]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},t.getClassesByMainType=function(r){var i=ga(r),a=[],s=e[i.main];return s&&s[ll]?M(s,function(o,l){l!==ll&&a.push(o)}):a.push(s),a},t.hasClass=function(r){var i=ga(r);return!!e[i.main]},t.getAllClassMainTypes=function(){var r=[];return M(e,function(i,a){r.push(a)}),r},t.hasSubTypes=function(r){var i=ga(r),a=e[i.main];return a&&a[ll]};function n(r){var i=e[r.main];return(!i||!i[ll])&&(i=e[r.main]={},i[ll]=!0),i}}function Au(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(r,i,a){for(var s={},o=0;o<t.length;o++){var l=t[o][1];if(!(i&&ze(i,l)>=0||a&&ze(a,l)<0)){var u=r.getShallow(l,e);u!=null&&(s[t[o][0]]=u)}}return s}}var Rpe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Ope=Au(Rpe),Fpe=function(){function t(){}return t.prototype.getAreaStyle=function(e,n){return Ope(this,e,n)},t}(),j_=new zp(50);function Bpe(t){if(typeof t=="string"){var e=j_.get(t);return e&&e.image}else return t}function JC(t,e,n,r,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!n)return e;var a=j_.get(t),s={hostEl:n,cb:r,cbPayload:i};return a?(e=a.image,!ax(e)&&a.pending.push(s)):(e=No.loadImage(t,AD,AD),e.__zrImageSrc=t,j_.put(t,e.__cachedImgObj={image:e,pending:[s]})),e}else return t;else return e}function AD(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function ax(t){return t&&t.width&&t.height}var KA=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Vpe(t,e,n,r,i){if(!e)return"";var a=(t+"").split(`
`);i=A4(e,n,r,i);for(var s=0,o=a.length;s<o;s++)a[s]=b4(a[s],i);return a.join(`
`)}function A4(t,e,n,r){r=r||{};var i=J({},r);i.font=e,n=_e(n,"..."),i.maxIterations=_e(r.maxIterations,2);var a=i.minChar=_e(r.minChar,0);i.cnCharWidth=Rr("å½",e);var s=i.ascCharWidth=Rr("a",e);i.placeholder=_e(r.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;l<a&&o>=s;l++)o-=s;var u=Rr(n,e);return u>o&&(n="",u=0),o=t-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=o,i.containerWidth=t,i}function b4(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var a=Rr(t,r);if(a<=n)return t;for(var s=0;;s++){if(a<=i||s>=e.maxIterations){t+=e.ellipsis;break}var o=s===0?Hpe(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,o),a=Rr(t,r)}return t===""&&(t=e.placeholder),t}function Hpe(t,e,n,r){for(var i=0,a=0,s=t.length;a<s&&i<e;a++){var o=t.charCodeAt(a);i+=0<=o&&o<=127?n:r}return a}function Gpe(t,e){t!=null&&(t+="");var n=e.overflow,r=e.padding,i=e.font,a=n==="truncate",s=nx(i),o=_e(e.lineHeight,s),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",h=e.width,c;h!=null&&(n==="break"||n==="breakAll")?c=t?w4(t,e.font,h,n==="breakAll",0).lines:[]:c=t?t.split(`
`):[];var f=c.length*o,p=_e(e.height,f);if(f>p&&u){var v=Math.floor(p/o);c=c.slice(0,v)}if(t&&a&&h!=null)for(var m=A4(h,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),g=0;g<c.length;g++)c[g]=b4(c[g],m);for(var y=p,x=0,g=0;g<c.length;g++)x=Math.max(Rr(c[g],i),x);h==null&&(h=x);var A=x;return r&&(y+=r[0]+r[2],A+=r[1]+r[3],h+=r[1]+r[3]),l&&(A=h),{lines:c,height:p,outerWidth:A,outerHeight:y,lineHeight:o,calculatedLineHeight:s,contentWidth:x,contentHeight:f,width:h}}var Upe=function(){function t(){}return t}(),bD=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),Wpe=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function $pe(t,e){var n=new Wpe;if(t!=null&&(t+=""),!t)return n;for(var r=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,o=KA.lastIndex=0,l;(l=KA.exec(t))!=null;){var u=l.index;u>o&&QA(n,t.substring(o,u),e,s),QA(n,l[2],e,s,l[1]),o=KA.lastIndex}o<t.length&&QA(n,t.substring(o,t.length),e,s);var h=[],c=0,f=0,p=e.padding,v=a==="truncate",m=e.lineOverflow==="truncate";function g(V,U,z){V.width=U,V.lineHeight=z,c+=z,f=Math.max(f,U)}e:for(var y=0;y<n.lines.length;y++){for(var x=n.lines[y],A=0,b=0,S=0;S<x.tokens.length;S++){var w=x.tokens[S],_=w.styleName&&e.rich[w.styleName]||{},T=w.textPadding=_.padding,C=T?T[1]+T[3]:0,E=w.font=_.font||e.font;w.contentHeight=nx(E);var k=_e(_.height,w.contentHeight);if(w.innerHeight=k,T&&(k+=T[0]+T[2]),w.height=k,w.lineHeight=Ca(_.lineHeight,e.lineHeight,k),w.align=_&&_.align||e.align,w.verticalAlign=_&&_.verticalAlign||"middle",m&&i!=null&&c+w.lineHeight>i){S>0?(x.tokens=x.tokens.slice(0,S),g(x,b,A),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y);break e}var I=_.width,j=I==null||I==="auto";if(typeof I=="string"&&I.charAt(I.length-1)==="%")w.percentWidth=I,h.push(w),w.contentWidth=Rr(w.text,E);else{if(j){var P=_.backgroundColor,D=P&&P.image;D&&(D=Bpe(D),ax(D)&&(w.width=Math.max(w.width,D.width*k/D.height)))}var L=v&&r!=null?r-b:null;L!=null&&L<w.width?!j||L<C?(w.text="",w.width=w.contentWidth=0):(w.text=Vpe(w.text,L-C,E,e.ellipsis,{minChar:e.truncateMinChar}),w.width=w.contentWidth=Rr(w.text,E)):w.contentWidth=Rr(w.text,E)}w.width+=C,b+=w.width,_&&(A=Math.max(A,w.lineHeight))}g(x,b,A)}n.outerWidth=n.width=_e(r,f),n.outerHeight=n.height=_e(i,c),n.contentHeight=c,n.contentWidth=f,p&&(n.outerWidth+=p[1]+p[3],n.outerHeight+=p[0]+p[2]);for(var y=0;y<h.length;y++){var w=h[y],F=w.percentWidth;w.width=parseInt(F,10)/100*n.width}return n}function QA(t,e,n,r,i){var a=e==="",s=i&&n.rich[i]||{},o=t.lines,l=s.font||n.font,u=!1,h,c;if(r){var f=s.padding,p=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var v=Hi(s.width,r.width)+p;o.length>0&&v+r.accumWidth>r.width&&(h=e.split(`
`),u=!0),r.accumWidth=v}else{var m=w4(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+p,c=m.linesWidths,h=m.lines}}else h=e.split(`
`);for(var g=0;g<h.length;g++){var y=h[g],x=new Upe;if(x.styleName=i,x.text=y,x.isLineHolder=!y&&!a,typeof s.width=="number"?x.width=s.width:x.width=c?c[g]:Rr(y,l),!g&&!u){var A=(o[o.length-1]||(o[0]=new bD)).tokens,b=A.length;b===1&&A[0].isLineHolder?A[0]=x:(y||!b||a)&&A.push(x)}else o.push(new bD([x]))}}function Ype(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var qpe=Da(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Xpe(t){return Ype(t)?!!qpe[t]:!0}function w4(t,e,n,r,i){for(var a=[],s=[],o="",l="",u=0,h=0,c=0;c<t.length;c++){var f=t.charAt(c);if(f===`
`){l&&(o+=l,h+=u),a.push(o),s.push(h),o="",l="",u=0,h=0;continue}var p=Rr(f,e),v=r?!1:!Xpe(f);if(a.length?h+p>n:i+h+p>n){h?(o||l)&&(v?(o||(o=l,l="",u=0,h=u),a.push(o),s.push(h-u),l+=f,u+=p,o="",h=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(h),o=f,h=p)):v?(a.push(l),s.push(u),l=f,u=p):(a.push(f),s.push(p));continue}h+=p,v?(l+=f,u+=p):(l&&(o+=l,l="",u=0),o+=f)}return!a.length&&!o&&(o=t,l="",u=0),l&&(o+=l),o&&(a.push(o),s.push(h)),a.length===1&&(h+=i),{accumWidth:h,lines:a,linesWidths:s}}var M_="__zr_style_"+Math.round(Math.random()*10),lu={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},sx={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};lu[M_]=!0;var wD=["z","z2","invisible"],Zpe=["invisible"],yi=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype._init=function(n){for(var r=Xe(n),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(n[a]):t.prototype.attrKV.call(this,a,n[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(n,r,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Jpe(this,n,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(n,r){return this.rectContain(n,r)},e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new De(0,0,0,0)),r?De.applyTransform(n,i,r):n.copy(i),(s||o||l)&&(n.width+=s*2+Math.abs(o),n.height+=s*2+Math.abs(l),n.x=Math.min(n.x,n.x+o-s),n.y=Math.min(n.y,n.y+l-s));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},e.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new De(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(n){return this.animate("style",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(n,r){n!=="style"?t.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:J(this.style,n),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=zf,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&zf)},e.prototype.styleUpdated=function(){this.__dirty&=~zf},e.prototype.createStyle=function(n){return Q0(lu,n)},e.prototype.useStyle=function(n){n[M_]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},e.prototype.isStyleObject=function(n){return n[M_]},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,wD)},e.prototype._applyStateObj=function(n,r,i,a,s,o){t.prototype._applyStateObj.call(this,n,r,i,a,s,o);var l=!(r&&a),u;if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(s){var h=this.style;if(this.style=this.createStyle(l?{}:h),l)for(var c=Xe(h),f=0;f<c.length;f++){var p=c[f];p in u&&(u[p]=u[p],this.style[p]=h[p])}for(var v=Xe(u),f=0;f<v.length;f++){var p=v[f];this.style[p]=this.style[p]}this._transitionState(n,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?Zpe:wD,f=0;f<m.length;f++){var p=m[f];r&&r[p]!=null?this[p]=r[p]:l&&i[p]!=null&&(this[p]=i[p])}},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var s=n[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(n,r){return J(n,r),n},e.prototype.getAnimationStyleProps=function(){return sx},e.initDefaultProps=function(){var n=e.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Pr|zf}(),e}(rx),eb=new De(0,0,0,0),tb=new De(0,0,0,0);function Jpe(t,e,n){return eb.copy(t.getBoundingRect()),t.transform&&eb.applyTransform(t.transform),tb.width=e,tb.height=n,!eb.intersect(tb)}var vr=Math.min,mr=Math.max,nb=Math.sin,rb=Math.cos,ul=Math.PI*2,qv=Mu(),Xv=Mu(),Zv=Mu();function ox(t,e,n){if(t.length!==0){for(var r=t[0],i=r[0],a=r[0],s=r[1],o=r[1],l=1;l<t.length;l++)r=t[l],i=vr(i,r[0]),a=mr(a,r[0]),s=vr(s,r[1]),o=mr(o,r[1]);e[0]=i,e[1]=s,n[0]=a,n[1]=o}}function SD(t,e,n,r,i,a){i[0]=vr(t,n),i[1]=vr(e,r),a[0]=mr(t,n),a[1]=mr(e,r)}var _D=[],TD=[];function Kpe(t,e,n,r,i,a,s,o,l,u){var h=VH,c=fn,f=h(t,n,i,s,_D);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var p=0;p<f;p++){var v=c(t,n,i,s,_D[p]);l[0]=vr(v,l[0]),u[0]=mr(v,u[0])}f=h(e,r,a,o,TD);for(var p=0;p<f;p++){var m=c(e,r,a,o,TD[p]);l[1]=vr(m,l[1]),u[1]=mr(m,u[1])}l[0]=vr(t,l[0]),u[0]=mr(t,u[0]),l[0]=vr(s,l[0]),u[0]=mr(s,u[0]),l[1]=vr(e,l[1]),u[1]=mr(e,u[1]),l[1]=vr(o,l[1]),u[1]=mr(o,u[1])}function Qpe(t,e,n,r,i,a,s,o){var l=GH,u=An,h=mr(vr(l(t,n,i),1),0),c=mr(vr(l(e,r,a),1),0),f=u(t,n,i,h),p=u(e,r,a,c);s[0]=vr(t,i,f),s[1]=vr(e,a,p),o[0]=mr(t,i,f),o[1]=mr(e,a,p)}function eve(t,e,n,r,i,a,s,o,l){var u=po,h=vo,c=Math.abs(i-a);if(c%ul<1e-4&&c>1e-4){o[0]=t-n,o[1]=e-r,l[0]=t+n,l[1]=e+r;return}if(qv[0]=rb(i)*n+t,qv[1]=nb(i)*r+e,Xv[0]=rb(a)*n+t,Xv[1]=nb(a)*r+e,u(o,qv,Xv),h(l,qv,Xv),i=i%ul,i<0&&(i=i+ul),a=a%ul,a<0&&(a=a+ul),i>a&&!s?a+=ul:i<a&&s&&(i+=ul),s){var f=a;a=i,i=f}for(var p=0;p<a;p+=Math.PI/2)p>i&&(Zv[0]=rb(p)*n+t,Zv[1]=nb(p)*r+e,u(o,Zv,o),h(l,Zv,l))}var _t={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},cl=[],hl=[],Xi=[],Gs=[],Zi=[],Ji=[],ib=Math.min,ab=Math.max,fl=Math.cos,dl=Math.sin,Xa=Math.abs,D_=Math.PI,eo=D_*2,sb=typeof Float32Array<"u",of=[];function ob(t){var e=Math.round(t/D_*1e8)/1e8;return e%2*D_}function KC(t,e){var n=ob(t[0]);n<0&&(n+=eo);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=eo?i=n+eo:e&&n-i>=eo?i=n-eo:!e&&n>i?i=n+(eo-ob(n-i)):e&&n<i&&(i=n-(eo-ob(i-n))),t[0]=n,t[1]=i}var Ra=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,n,r){r=r||0,r>0&&(this._ux=Xa(r/xy/e)||0,this._uy=Xa(r/xy/n)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,n){return this._drawPendingPt(),this.addData(_t.M,e,n),this._ctx&&this._ctx.moveTo(e,n),this._x0=e,this._y0=n,this._xi=e,this._yi=n,this},t.prototype.lineTo=function(e,n){var r=Xa(e-this._xi),i=Xa(n-this._yi),a=r>this._ux||i>this._uy;if(this.addData(_t.L,e,n),this._ctx&&a&&this._ctx.lineTo(e,n),a)this._xi=e,this._yi=n,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=n,this._pendingPtDist=s)}return this},t.prototype.bezierCurveTo=function(e,n,r,i,a,s){return this._drawPendingPt(),this.addData(_t.C,e,n,r,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,n,r,i,a,s),this._xi=a,this._yi=s,this},t.prototype.quadraticCurveTo=function(e,n,r,i){return this._drawPendingPt(),this.addData(_t.Q,e,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,n,r,i),this._xi=r,this._yi=i,this},t.prototype.arc=function(e,n,r,i,a,s){this._drawPendingPt(),of[0]=i,of[1]=a,KC(of,s),i=of[0],a=of[1];var o=a-i;return this.addData(_t.A,e,n,r,r,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,n,r,i,a,s),this._xi=fl(a)*r+e,this._yi=dl(a)*r+n,this},t.prototype.arcTo=function(e,n,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,n,r,i,a),this},t.prototype.rect=function(e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,n,r,i),this.addData(_t.R,e,n,r,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(_t.Z);var e=this._ctx,n=this._x0,r=this._y0;return e&&e.closePath(),this._xi=n,this._yi=r,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var n=e.length;!(this.data&&this.data.length===n)&&sb&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=e[r];this._len=n},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n=e.length,r=0,i=this._len,a=0;a<n;a++)r+=e[a].len();sb&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<n;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},t.prototype.addData=function(e,n,r,i,a,s,o,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var c=0;c<arguments.length;c++)h[this._len++]=arguments[c]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],n=0;n<this._len;n++)e[n]=this.data[n];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,sb&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Xi[0]=Xi[1]=Zi[0]=Zi[1]=Number.MAX_VALUE,Gs[0]=Gs[1]=Ji[0]=Ji[1]=-Number.MAX_VALUE;var e=this.data,n=0,r=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(n=e[s],r=e[s+1],i=n,a=r),o){case _t.M:n=i=e[s++],r=a=e[s++],Zi[0]=i,Zi[1]=a,Ji[0]=i,Ji[1]=a;break;case _t.L:SD(n,r,e[s],e[s+1],Zi,Ji),n=e[s++],r=e[s++];break;case _t.C:Kpe(n,r,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Zi,Ji),n=e[s++],r=e[s++];break;case _t.Q:Qpe(n,r,e[s++],e[s++],e[s],e[s+1],Zi,Ji),n=e[s++],r=e[s++];break;case _t.A:var u=e[s++],h=e[s++],c=e[s++],f=e[s++],p=e[s++],v=e[s++]+p;s+=1;var m=!e[s++];l&&(i=fl(p)*c+u,a=dl(p)*f+h),eve(u,h,c,f,p,v,m,Zi,Ji),n=fl(v)*c+u,r=dl(v)*f+h;break;case _t.R:i=n=e[s++],a=r=e[s++];var g=e[s++],y=e[s++];SD(i,a,i+g,a+y,Zi,Ji);break;case _t.Z:n=i,r=a;break}po(Xi,Xi,Zi),vo(Gs,Gs,Ji)}return s===0&&(Xi[0]=Xi[1]=Gs[0]=Gs[1]=0),new De(Xi[0],Xi[1],Gs[0]-Xi[0],Gs[1]-Xi[1])},t.prototype._calculateLength=function(){var e=this.data,n=this._len,r=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,c=0,f=0;f<n;){var p=e[f++],v=f===1;v&&(a=e[f],s=e[f+1],o=a,l=s);var m=-1;switch(p){case _t.M:a=o=e[f++],s=l=e[f++];break;case _t.L:{var g=e[f++],y=e[f++],x=g-a,A=y-s;(Xa(x)>r||Xa(A)>i||f===n-1)&&(m=Math.sqrt(x*x+A*A),a=g,s=y);break}case _t.C:{var b=e[f++],S=e[f++],g=e[f++],y=e[f++],w=e[f++],_=e[f++];m=Ade(a,s,b,S,g,y,w,_,10),a=w,s=_;break}case _t.Q:{var b=e[f++],S=e[f++],g=e[f++],y=e[f++];m=wde(a,s,b,S,g,y,10),a=g,s=y;break}case _t.A:var T=e[f++],C=e[f++],E=e[f++],k=e[f++],I=e[f++],j=e[f++],P=j+I;f+=1,v&&(o=fl(I)*E+T,l=dl(I)*k+C),m=ab(E,k)*ib(eo,Math.abs(j)),a=fl(P)*E+T,s=dl(P)*k+C;break;case _t.R:{o=a=e[f++],l=s=e[f++];var D=e[f++],L=e[f++];m=D*2+L*2;break}case _t.Z:{var x=o-a,A=l-s;m=Math.sqrt(x*x+A*A),a=o,s=l;break}}m>=0&&(u[c++]=m,h+=m)}return this._pathLen=h,h},t.prototype.rebuildPath=function(e,n){var r=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,h,c,f,p=n<1,v,m,g=0,y=0,x,A=0,b,S;if(!(p&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,m=this._pathLen,x=n*m,!x)))e:for(var w=0;w<s;){var _=r[w++],T=w===1;switch(T&&(u=r[w],h=r[w+1],o=u,l=h),_!==_t.L&&A>0&&(e.lineTo(b,S),A=0),_){case _t.M:o=u=r[w++],l=h=r[w++],e.moveTo(u,h);break;case _t.L:{c=r[w++],f=r[w++];var C=Xa(c-u),E=Xa(f-h);if(C>i||E>a){if(p){var k=v[y++];if(g+k>x){var I=(x-g)/k;e.lineTo(u*(1-I)+c*I,h*(1-I)+f*I);break e}g+=k}e.lineTo(c,f),u=c,h=f,A=0}else{var j=C*C+E*E;j>A&&(b=c,S=f,A=j)}break}case _t.C:{var P=r[w++],D=r[w++],L=r[w++],F=r[w++],V=r[w++],U=r[w++];if(p){var k=v[y++];if(g+k>x){var I=(x-g)/k;zo(u,P,L,V,I,cl),zo(h,D,F,U,I,hl),e.bezierCurveTo(cl[1],hl[1],cl[2],hl[2],cl[3],hl[3]);break e}g+=k}e.bezierCurveTo(P,D,L,F,V,U),u=V,h=U;break}case _t.Q:{var P=r[w++],D=r[w++],L=r[w++],F=r[w++];if(p){var k=v[y++];if(g+k>x){var I=(x-g)/k;Od(u,P,L,I,cl),Od(h,D,F,I,hl),e.quadraticCurveTo(cl[1],hl[1],cl[2],hl[2]);break e}g+=k}e.quadraticCurveTo(P,D,L,F),u=L,h=F;break}case _t.A:var z=r[w++],H=r[w++],G=r[w++],N=r[w++],W=r[w++],q=r[w++],$=r[w++],Z=!r[w++],X=G>N?G:N,Q=Xa(G-N)>.001,re=W+q,K=!1;if(p){var k=v[y++];g+k>x&&(re=W+q*(x-g)/k,K=!0),g+=k}if(Q&&e.ellipse?e.ellipse(z,H,G,N,$,W,re,Z):e.arc(z,H,X,W,re,Z),K)break e;T&&(o=fl(W)*G+z,l=dl(W)*N+H),u=fl(re)*G+z,h=dl(re)*N+H;break;case _t.R:o=u=r[w],l=h=r[w+1],c=r[w++],f=r[w++];var le=r[w++],we=r[w++];if(p){var k=v[y++];if(g+k>x){var oe=x-g;e.moveTo(c,f),e.lineTo(c+ib(oe,le),f),oe-=le,oe>0&&e.lineTo(c+le,f+ib(oe,we)),oe-=we,oe>0&&e.lineTo(c+ab(le-oe,0),f+we),oe-=le,oe>0&&e.lineTo(c,f+ab(we-oe,0));break e}g+=k}e.rect(c,f,le,we);break;case _t.Z:if(p){var k=v[y++];if(g+k>x){var I=(x-g)/k;e.lineTo(u*(1-I)+o*I,h*(1-I)+l*I);break e}g+=k}e.closePath(),u=o,h=l}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=_t,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function so(t,e,n,r,i,a,s){if(i===0)return!1;var o=i,l=0,u=t;if(s>e+o&&s>r+o||s<e-o&&s<r-o||a>t+o&&a>n+o||a<t-o&&a<n-o)return!1;if(t!==n)l=(e-r)/(t-n),u=(t*r-n*e)/(t-n);else return Math.abs(a-t)<=o/2;var h=l*a-s+u,c=h*h/(l*l+1);return c<=o/2*o/2}function tve(t,e,n,r,i,a,s,o,l,u,h){if(l===0)return!1;var c=l;if(h>e+c&&h>r+c&&h>a+c&&h>o+c||h<e-c&&h<r-c&&h<a-c&&h<o-c||u>t+c&&u>n+c&&u>i+c&&u>s+c||u<t-c&&u<n-c&&u<i-c&&u<s-c)return!1;var f=HH(t,e,n,r,i,a,s,o,u,h,null);return f<=c/2}function S4(t,e,n,r,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>e+u&&l>r+u&&l>a+u||l<e-u&&l<r-u&&l<a-u||o>t+u&&o>n+u&&o>i+u||o<t-u&&o<n-u&&o<i-u)return!1;var h=UH(t,e,n,r,i,a,o,l,null);return h<=u/2}var CD=Math.PI*2;function Dr(t){return t%=CD,t<0&&(t+=CD),t}var lf=Math.PI*2;function nve(t,e,n,r,i,a,s,o,l){if(s===0)return!1;var u=s;o-=t,l-=e;var h=Math.sqrt(o*o+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(r-i)%lf<1e-4)return!0;if(a){var c=r;r=Dr(i),i=Dr(c)}else r=Dr(r),i=Dr(i);r>i&&(i+=lf);var f=Math.atan2(l,o);return f<0&&(f+=lf),f>=r&&f<=i||f+lf>=r&&f+lf<=i}function ns(t,e,n,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var s=(a-e)/(r-e),o=r<e?1:-1;(s===1||s===0)&&(o=r<e?.5:-.5);var l=s*(n-t)+t;return l===i?1/0:l>i?o:0}var Us=Ra.CMD,pl=Math.PI*2,rve=1e-4;function ive(t,e){return Math.abs(t-e)<rve}var Yn=[-1,-1,-1],ti=[-1,-1];function ave(){var t=ti[0];ti[0]=ti[1],ti[1]=t}function sve(t,e,n,r,i,a,s,o,l,u){if(u>e&&u>r&&u>a&&u>o||u<e&&u<r&&u<a&&u<o)return 0;var h=vy(e,r,a,o,u,Yn);if(h===0)return 0;for(var c=0,f=-1,p=void 0,v=void 0,m=0;m<h;m++){var g=Yn[m],y=g===0||g===1?.5:1,x=fn(t,n,i,s,g);x<l||(f<0&&(f=VH(e,r,a,o,ti),ti[1]<ti[0]&&f>1&&ave(),p=fn(e,r,a,o,ti[0]),f>1&&(v=fn(e,r,a,o,ti[1]))),f===2?g<ti[0]?c+=p<e?y:-y:g<ti[1]?c+=v<p?y:-y:c+=o<v?y:-y:g<ti[0]?c+=p<e?y:-y:c+=o<p?y:-y)}return c}function ove(t,e,n,r,i,a,s,o){if(o>e&&o>r&&o>a||o<e&&o<r&&o<a)return 0;var l=bde(e,r,a,o,Yn);if(l===0)return 0;var u=GH(e,r,a);if(u>=0&&u<=1){for(var h=0,c=An(e,r,a,u),f=0;f<l;f++){var p=Yn[f]===0||Yn[f]===1?.5:1,v=An(t,n,i,Yn[f]);v<s||(Yn[f]<u?h+=c<e?p:-p:h+=a<c?p:-p)}return h}else{var p=Yn[0]===0||Yn[0]===1?.5:1,v=An(t,n,i,Yn[0]);return v<s?0:a<e?p:-p}}function lve(t,e,n,r,i,a,s,o){if(o-=e,o>n||o<-n)return 0;var l=Math.sqrt(n*n-o*o);Yn[0]=-l,Yn[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=pl-1e-4){r=0,i=pl;var h=a?1:-1;return s>=Yn[0]+t&&s<=Yn[1]+t?h:0}if(r>i){var c=r;r=i,i=c}r<0&&(r+=pl,i+=pl);for(var f=0,p=0;p<2;p++){var v=Yn[p];if(v+t>s){var m=Math.atan2(o,v),h=a?1:-1;m<0&&(m=pl+m),(m>=r&&m<=i||m+pl>=r&&m+pl<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(h=-h),f+=h)}}return f}function _4(t,e,n,r,i){for(var a=t.data,s=t.len(),o=0,l=0,u=0,h=0,c=0,f,p,v=0;v<s;){var m=a[v++],g=v===1;switch(m===Us.M&&v>1&&(n||(o+=ns(l,u,h,c,r,i))),g&&(l=a[v],u=a[v+1],h=l,c=u),m){case Us.M:h=a[v++],c=a[v++],l=h,u=c;break;case Us.L:if(n){if(so(l,u,a[v],a[v+1],e,r,i))return!0}else o+=ns(l,u,a[v],a[v+1],r,i)||0;l=a[v++],u=a[v++];break;case Us.C:if(n){if(tve(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,r,i))return!0}else o+=sve(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],r,i)||0;l=a[v++],u=a[v++];break;case Us.Q:if(n){if(S4(l,u,a[v++],a[v++],a[v],a[v+1],e,r,i))return!0}else o+=ove(l,u,a[v++],a[v++],a[v],a[v+1],r,i)||0;l=a[v++],u=a[v++];break;case Us.A:var y=a[v++],x=a[v++],A=a[v++],b=a[v++],S=a[v++],w=a[v++];v+=1;var _=!!(1-a[v++]);f=Math.cos(S)*A+y,p=Math.sin(S)*b+x,g?(h=f,c=p):o+=ns(l,u,f,p,r,i);var T=(r-y)*b/A+y;if(n){if(nve(y,x,b,S,S+w,_,e,T,i))return!0}else o+=lve(y,x,b,S,S+w,_,T,i);l=Math.cos(S+w)*A+y,u=Math.sin(S+w)*b+x;break;case Us.R:h=l=a[v++],c=u=a[v++];var C=a[v++],E=a[v++];if(f=h+C,p=c+E,n){if(so(h,c,f,c,e,r,i)||so(f,c,f,p,e,r,i)||so(f,p,h,p,e,r,i)||so(h,p,h,c,e,r,i))return!0}else o+=ns(f,c,f,p,r,i),o+=ns(h,p,h,c,r,i);break;case Us.Z:if(n){if(so(l,u,h,c,e,r,i))return!0}else o+=ns(l,u,h,c,r,i);l=h,u=c;break}}return!n&&!ive(u,c)&&(o+=ns(l,u,h,c,r,i)||0),o!==0}function uve(t,e,n){return _4(t,0,!1,e,n)}function cve(t,e,n,r){return _4(t,e,!0,n,r)}var by=ge({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},lu),hve={style:ge({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},sx.style)},lb=Na.concat(["invisible","culling","z","z2","zlevel","parent"]),Ve=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){n.buildPath(l,n.shape)}),i.silent=!0;var a=i.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var o=0;o<lb.length;++o)i[lb[o]]=this[lb[o]];i.__dirty|=Pr}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(n){var r=Xe(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var s=r[a],o=n[s];s==="style"?this.style?J(this.style,o):this.useStyle(o):s==="shape"?J(this.shape,o):t.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(ue(n)){var r=gy(n,0);return r>.5?I_:r>.2?Xde:E_}else if(n)return E_}return I_},e.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(ue(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=gy(n,0)<C_;if(a===s)return r}},e.prototype.buildPath=function(n,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~pc},e.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},e.prototype.createPathProxy=function(){this.path=new Ra(!1)},e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&pc)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){o.copy(n);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var h=this.strokeContainThreshold;u=Math.max(u,h??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return n},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect(),s=this.style;if(n=i[0],r=i[1],a.contain(n,r)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),cve(o,l/u,n,r)))return!0}if(this.hasFill())return uve(o,n,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=pc,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(n){return this.animate("shape",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):t.prototype.attrKV.call(this,n,r)},e.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:J(i,n),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&pc)},e.prototype.createStyle=function(n){return Q0(by,n)},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=J({},this.shape))},e.prototype._applyStateObj=function(n,r,i,a,s,o){t.prototype._applyStateObj.call(this,n,r,i,a,s,o);var l=!(r&&a),u;if(r&&r.shape?s?a?u=r.shape:(u=J({},i.shape),J(u,r.shape)):(u=J({},a?this.shape:i.shape),J(u,r.shape)):l&&(u=i.shape),u)if(s){this.shape=J({},this.shape);for(var h={},c=Xe(u),f=0;f<c.length;f++){var p=c[f];typeof u[p]=="object"?this.shape[p]=u[p]:h[p]=u[p]}this._transitionState(n,{shape:h},o)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var s=n[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return hve},e.prototype.isZeroArea=function(){return!1},e.extend=function(n){var r=function(a){Mt(s,a);function s(o){var l=a.call(this,o)||this;return n.init&&n.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return xe(n.style)},s.prototype.getDefaultShape=function(){return xe(n.shape)},s}(e);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},e.initDefaultProps=function(){var n=e.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Pr|zf|pc}(),e}(yi),fve=ge({strokeFirst:!0,font:Lo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},by),ah=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(n){return Q0(fve,n)},e.prototype.setBoundingRect=function(n){this._rect=n},e.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=Rp(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var a=n.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var n=e.prototype;n.dirtyRectTolerance=10}(),e}(yi);ah.prototype.type="tspan";var dve=ge({x:0,y:0},lu),pve={style:ge({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},sx.style)};function vve(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var Sn=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(n){return Q0(dve,n)},e.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var a=vve(r.image)?r.image:this.__image;if(!a)return 0;var s=n==="width"?"height":"width",o=r[s];return o==null?a[n]:a[n]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return pve},e.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new De(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},e}(yi);Sn.prototype.type="image";function mve(t,e){var n=e.x,r=e.y,i=e.width,a=e.height,s=e.r,o,l,u,h;i<0&&(n=n+i,i=-i),a<0&&(r=r+a,a=-a),typeof s=="number"?o=l=u=h=s:s instanceof Array?s.length===1?o=l=u=h=s[0]:s.length===2?(o=u=s[0],l=h=s[1]):s.length===3?(o=s[0],l=h=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],h=s[3]):o=l=u=h=0;var c;o+l>i&&(c=o+l,o*=i/c,l*=i/c),u+h>i&&(c=u+h,u*=i/c,h*=i/c),l+u>a&&(c=l+u,l*=a/c,u*=a/c),o+h>a&&(c=o+h,o*=a/c,h*=a/c),t.moveTo(n+o,r),t.lineTo(n+i-l,r),l!==0&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+a-u),u!==0&&t.arc(n+i-u,r+a-u,u,0,Math.PI/2),t.lineTo(n+h,r+a),h!==0&&t.arc(n+h,r+a-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+o),o!==0&&t.arc(n+o,r+o,o,Math.PI,Math.PI*1.5)}var kc=Math.round;function T4(t,e,n){if(e){var r=e.x1,i=e.x2,a=e.y1,s=e.y2;t.x1=r,t.x2=i,t.y1=a,t.y2=s;var o=n&&n.lineWidth;return o&&(kc(r*2)===kc(i*2)&&(t.x1=t.x2=Yl(r,o,!0)),kc(a*2)===kc(s*2)&&(t.y1=t.y2=Yl(a,o,!0))),t}}function C4(t,e,n){if(e){var r=e.x,i=e.y,a=e.width,s=e.height;t.x=r,t.y=i,t.width=a,t.height=s;var o=n&&n.lineWidth;return o&&(t.x=Yl(r,o,!0),t.y=Yl(i,o,!0),t.width=Math.max(Yl(r+a,o,!1)-t.x,a===0?0:1),t.height=Math.max(Yl(i+s,o,!1)-t.y,s===0?0:1)),t}}function Yl(t,e,n){if(!e)return t;var r=kc(t*2);return(r+kc(e))%2===0?r/2:(r+(n?1:-1))/2}var gve=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),yve={},Ke=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new gve},e.prototype.buildPath=function(n,r){var i,a,s,o;if(this.subPixelOptimize){var l=C4(yve,r,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,s=r.width,o=r.height;r.r?mve(n,r):n.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ve);Ke.prototype.type="rect";var ID={fill:"#000"},ED=2,xve={style:ge({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},sx.style)},et=function(t){Mt(e,t);function e(n){var r=t.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=ID,r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,wve(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new De(0,0,0,0),r=this._children,i=[],a=null,s=0;s<r.length;s++){var o=r[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(n.copy(l),n.applyTransform(u),a=a||n.clone(),a.union(n)):(a=a||l.clone(),a.union(l))}this._rect=a||n}return this._rect},e.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||ID},e.prototype.setTextContent=function(n){},e.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,a=n.rich||i&&{};return J(n,r),i&&a?(this._mergeRich(a,i),n.rich=a):a&&(n.rich=a),n},e.prototype._mergeRich=function(n,r){for(var i=Xe(r),a=0;a<i.length;a++){var s=i[a];n[s]=n[s]||{},J(n[s],r[s])}},e.prototype.getAnimationStyleProps=function(){return xve},e.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Lo,i=n.padding,a=ND(n),s=Gpe(a,n),o=ub(n),l=!!n.backgroundColor,u=s.outerHeight,h=s.outerWidth,c=s.contentWidth,f=s.lines,p=s.lineHeight,v=this._defaultStyle,m=n.x||0,g=n.y||0,y=n.align||v.align||"left",x=n.verticalAlign||v.verticalAlign||"top",A=m,b=vc(g,s.contentHeight,x);if(o||i){var S=Of(m,h,y),w=vc(g,u,x);o&&this._renderBackground(n,n,S,w,h,u)}b+=p/2,i&&(A=LD(m,y,i),x==="top"?b+=i[0]:x==="bottom"&&(b-=i[2]));for(var _=0,T=!1,C=DD("fill"in n?n.fill:(T=!0,v.fill)),E=MD("stroke"in n?n.stroke:!l&&(!v.autoStroke||T)?(_=ED,v.stroke):null),k=n.textShadowBlur>0,I=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),j=s.calculatedLineHeight,P=0;P<f.length;P++){var D=this._getOrCreateChild(ah),L=D.createStyle();D.useStyle(L),L.text=f[P],L.x=A,L.y=b,y&&(L.textAlign=y),L.textBaseline="middle",L.opacity=n.opacity,L.strokeFirst=!0,k&&(L.shadowBlur=n.textShadowBlur||0,L.shadowColor=n.textShadowColor||"transparent",L.shadowOffsetX=n.textShadowOffsetX||0,L.shadowOffsetY=n.textShadowOffsetY||0),L.stroke=E,L.fill=C,E&&(L.lineWidth=n.lineWidth||_,L.lineDash=n.lineDash,L.lineDashOffset=n.lineDashOffset||0),L.font=r,PD(L,n),b+=p,I&&D.setBoundingRect(new De(Of(L.x,n.width,L.textAlign),vc(L.y,j,L.textBaseline),c,j))}},e.prototype._updateRichTexts=function(){var n=this.style,r=ND(n),i=$pe(r,n),a=i.width,s=i.outerWidth,o=i.outerHeight,l=n.padding,u=n.x||0,h=n.y||0,c=this._defaultStyle,f=n.align||c.align,p=n.verticalAlign||c.verticalAlign,v=Of(u,s,f),m=vc(h,o,p),g=v,y=m;l&&(g+=l[3],y+=l[0]);var x=g+a;ub(n)&&this._renderBackground(n,n,v,m,s,o);for(var A=!!n.backgroundColor,b=0;b<i.lines.length;b++){for(var S=i.lines[b],w=S.tokens,_=w.length,T=S.lineHeight,C=S.width,E=0,k=g,I=x,j=_-1,P=void 0;E<_&&(P=w[E],!P.align||P.align==="left");)this._placeToken(P,n,T,y,k,"left",A),C-=P.width,k+=P.width,E++;for(;j>=0&&(P=w[j],P.align==="right");)this._placeToken(P,n,T,y,I,"right",A),C-=P.width,I-=P.width,j--;for(k+=(a-(k-g)-(x-I)-C)/2;E<=j;)P=w[E],this._placeToken(P,n,T,y,k+P.width/2,"center",A),k+=P.width,E++;y+=T}},e.prototype._placeToken=function(n,r,i,a,s,o,l){var u=r.rich[n.styleName]||{};u.text=n.text;var h=n.verticalAlign,c=a+i/2;h==="top"?c=a+n.height/2:h==="bottom"&&(c=a+i-n.height/2);var f=!n.isLineHolder&&ub(u);f&&this._renderBackground(u,r,o==="right"?s-n.width:o==="center"?s-n.width/2:s,c-n.height/2,n.width,n.height);var p=!!u.backgroundColor,v=n.textPadding;v&&(s=LD(s,o,v),c-=n.height/2-v[0]-n.innerHeight/2);var m=this._getOrCreateChild(ah),g=m.createStyle();m.useStyle(g);var y=this._defaultStyle,x=!1,A=0,b=DD("fill"in u?u.fill:"fill"in r?r.fill:(x=!0,y.fill)),S=MD("stroke"in u?u.stroke:"stroke"in r?r.stroke:!p&&!l&&(!y.autoStroke||x)?(A=ED,y.stroke):null),w=u.textShadowBlur>0||r.textShadowBlur>0;g.text=n.text,g.x=s,g.y=c,w&&(g.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,g.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=o,g.textBaseline="middle",g.font=n.font||Lo,g.opacity=Ca(u.opacity,r.opacity,1),PD(g,u),S&&(g.lineWidth=Ca(u.lineWidth,r.lineWidth,A),g.lineDash=_e(u.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=S),b&&(g.fill=b);var _=n.contentWidth,T=n.contentHeight;m.setBoundingRect(new De(Of(g.x,_,g.textAlign),vc(g.y,T,g.textBaseline),_,T))},e.prototype._renderBackground=function(n,r,i,a,s,o){var l=n.backgroundColor,u=n.borderWidth,h=n.borderColor,c=l&&l.image,f=l&&!c,p=n.borderRadius,v=this,m,g;if(f||n.lineHeight||u&&h){m=this._getOrCreateChild(Ke),m.useStyle(m.createStyle()),m.style.fill=null;var y=m.shape;y.x=i,y.y=a,y.width=s,y.height=o,y.r=p,m.dirtyShape()}if(f){var x=m.style;x.fill=l||null,x.fillOpacity=_e(n.fillOpacity,1)}else if(c){g=this._getOrCreateChild(Sn),g.onload=function(){v.dirtyStyle()};var A=g.style;A.image=l.image,A.x=i,A.y=a,A.width=s,A.height=o}if(u&&h){var x=m.style;x.lineWidth=u,x.stroke=h,x.strokeOpacity=_e(n.strokeOpacity,1),x.lineDash=n.borderDash,x.lineDashOffset=n.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(x.strokeFirst=!0,x.lineWidth*=2)}var b=(m||g).style;b.shadowBlur=n.shadowBlur||0,b.shadowColor=n.shadowColor||"transparent",b.shadowOffsetX=n.shadowOffsetX||0,b.shadowOffsetY=n.shadowOffsetY||0,b.opacity=Ca(n.opacity,r.opacity,1)},e.makeFont=function(n){var r="";return E4(n)&&(r=[n.fontStyle,n.fontWeight,I4(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&Ri(r)||n.textFont||n.font},e}(yi),Ave={left:!0,right:1,center:1},bve={top:1,bottom:1,middle:1},kD=["fontStyle","fontWeight","fontSize","fontFamily"];function I4(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?LC+"px":t+"px"}function PD(t,e){for(var n=0;n<kD.length;n++){var r=kD[n],i=e[r];i!=null&&(t[r]=i)}}function E4(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function wve(t){return jD(t),M(t.rich,jD),t}function jD(t){if(t){t.font=et.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||Ave[e]?e:"left";var n=t.verticalAlign;n==="center"&&(n="middle"),t.verticalAlign=n==null||bve[n]?n:"top";var r=t.padding;r&&(t.padding=BC(t.padding))}}function MD(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function DD(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function LD(t,e,n){return e==="right"?t-n[1]:e==="center"?t+n[3]/2-n[1]/2:t+n[3]}function ND(t){var e=t.text;return e!=null&&(e+=""),e}function ub(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Se=Qe(),L_=function(t,e,n,r){if(r){var i=Se(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,i.ssrType="chart",r.type==="group"&&r.traverse(function(a){var s=Se(a);s.seriesIndex=t,s.dataIndex=n,s.dataType=e,s.ssrType="chart"})}},zD=1,RD={},k4=Qe(),QC=Qe(),eI=0,Fp=1,lx=2,tr=["emphasis","blur","select"],Gd=["normal","emphasis","blur","select"],Ph=10,Sve=9,uu="highlight",hg="downplay",cd="select",fg="unselect",hd="toggleSelect";function Zu(t){return t!=null&&t!=="none"}function ux(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function P4(t){ux(t,"emphasis",lx)}function j4(t){t.hoverState===lx&&ux(t,"normal",eI)}function tI(t){ux(t,"blur",Fp)}function M4(t){t.hoverState===Fp&&ux(t,"normal",eI)}function _ve(t){t.selected=!0}function Tve(t){t.selected=!1}function OD(t,e,n){e(t,n)}function Ns(t,e,n){OD(t,e,n),t.isGroup&&t.traverse(function(r){OD(r,e,n)})}function wy(t,e){switch(e){case"emphasis":t.hoverState=lx;break;case"normal":t.hoverState=eI;break;case"blur":t.hoverState=Fp;break;case"select":t.selected=!0}}function Cve(t,e,n,r){for(var i=t.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(r&&r[o])}for(var s=0;s<t.animators.length;s++){var u=t.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function Ive(t,e,n,r){var i=n&&ze(n,"select")>=0,a=!1;if(t instanceof Ve){var s=k4(t),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(Zu(o)||Zu(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(a=!0,r=J({},r),u=J({},u),u.fill=o):!Zu(u.fill)&&Zu(o)?(a=!0,r=J({},r),u=J({},u),u.fill=x_(o)):!Zu(u.stroke)&&Zu(l)&&(a||(r=J({},r),u=J({},u)),u.stroke=x_(l)),r.style=u}}if(r&&r.z2==null){a||(r=J({},r));var h=t.z2EmphasisLift;r.z2=t.z2+(h??Ph)}return r}function Eve(t,e,n){if(n&&n.z2==null){n=J({},n);var r=t.z2SelectLift;n.z2=t.z2+(r??Sve)}return n}function kve(t,e,n){var r=ze(t.currentStates,e)>=0,i=t.style.opacity,a=r?null:Cve(t,["opacity"],e,{opacity:1});n=n||{};var s=n.style||{};return s.opacity==null&&(n=J({},n),s=J({opacity:r?i:a.opacity*.1},s),n.style=s),n}function cb(t,e){var n=this.states[t];if(this.style){if(t==="emphasis")return Ive(this,t,e,n);if(t==="blur")return kve(this,t,n);if(t==="select")return Eve(this,t,n)}return n}function bu(t){t.stateProxy=cb;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=cb),n&&(n.stateProxy=cb)}function FD(t,e){!z4(t,e)&&!t.__highByOuter&&Ns(t,P4)}function BD(t,e){!z4(t,e)&&!t.__highByOuter&&Ns(t,j4)}function Is(t,e){t.__highByOuter|=1<<(e||0),Ns(t,P4)}function Es(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Ns(t,j4)}function D4(t){Ns(t,tI)}function nI(t){Ns(t,M4)}function L4(t){Ns(t,_ve)}function N4(t){Ns(t,Tve)}function z4(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function R4(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(i,a){var s=QC(a),o=i==="series",l=o?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!o&&r.push(l),s.isBlured&&(l.group.traverse(function(u){M4(u)}),o&&n.push(a)),s.isBlured=!1}),M(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,e)})}function N_(t,e,n,r){var i=r.getModel();n=n||"coordinateSystem";function a(u,h){for(var c=0;c<h.length;c++){var f=u.getItemGraphicEl(h[c]);f&&nI(f)}}if(t!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(t),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var h=s===u,c=u.coordinateSystem;c&&c.master&&(c=c.master);var f=c&&o?c===o:h;if(!(n==="series"&&!h||n==="coordinateSystem"&&!f||e==="series"&&h)){var p=r.getViewOfSeriesModel(u);if(p.group.traverse(function(g){g.__highByOuter&&h&&e==="self"||tI(g)}),On(e))a(u.getData(),e);else if(ye(e))for(var v=Xe(e),m=0;m<v.length;m++)a(u.getData(v[m]),e[v[m]]);l.push(u),QC(u).isBlured=!0}}),i.eachComponent(function(u,h){if(u!=="series"){var c=r.getViewOfComponentModel(h);c&&c.toggleBlurSeries&&c.toggleBlurSeries(l,!0,i)}})}}function z_(t,e,n){if(!(t==null||e==null)){var r=n.getModel().getComponent(t,e);if(r){QC(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){tI(a)})}}}function Pve(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=xu(i,e);a=(ee(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=Se(s);N_(r,u.focus,u.blurScope,n)}else{var h=t.get(["emphasis","focus"]),c=t.get(["emphasis","blurScope"]);h!=null&&N_(r,h,c,n)}}}function rI(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||n==null)return i;var a=r.getModel().getComponent(t,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(n),l,u=0;u<o.length;u++)if(Se(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function jve(t,e,n){var r=Se(t),i=rI(r.componentMainType,r.componentIndex,r.componentHighDownName,n),a=i.dispatchers,s=i.focusSelf;a?(s&&z_(r.componentMainType,r.componentIndex,n),M(a,function(o){return FD(o,e)})):(N_(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&z_(r.componentMainType,r.componentIndex,n),FD(t,e))}function Mve(t,e,n){R4(n);var r=Se(t),i=rI(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?M(i,function(a){return BD(a,e)}):BD(t,e)}function Dve(t,e,n){if(O_(e)){var r=e.dataType,i=t.getData(r),a=xu(i,e);ee(a)||(a=[a]),t[e.type===hd?"toggleSelect":e.type===cd?"select":"unselect"](a,r)}}function VD(t){var e=t.getAllData();M(e,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(a,s){t.isSelected(s,i)?L4(a):N4(a)})})}function Lve(t){var e=[];return t.eachSeries(function(n){var r=n.getAllData();M(r,function(i){i.data;var a=i.type,s=n.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:n.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function cu(t,e,n){ql(t,!0),Ns(t,bu),R_(t,e,n)}function Nve(t){ql(t,!1)}function Wt(t,e,n,r){r?Nve(t):cu(t,e,n)}function R_(t,e,n){var r=Se(t);e!=null?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var HD=["emphasis","blur","select"],zve={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function kn(t,e,n,r){n=n||"itemStyle";for(var i=0;i<HD.length;i++){var a=HD[i],s=e.getModel([a,n]),o=t.ensureState(a);o.style=r?r(s):s[zve[n]]()}}function ql(t,e){var n=e===!1,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Ud(t){return!!(t&&t.__highDownDispatcher)}function Rve(t,e,n){var r=Se(t);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=n}function Ove(t){var e=RD[t];return e==null&&zD<=32&&(e=RD[t]=zD++),e}function O_(t){var e=t.type;return e===cd||e===fg||e===hd}function GD(t){var e=t.type;return e===uu||e===hg}function Fve(t){var e=k4(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var Ju=Ra.CMD,Bve=[[],[],[]],UD=Math.sqrt,Vve=Math.atan2;function O4(t,e){if(e){var n=t.data,r=t.len(),i,a,s,o,l,u,h=Ju.M,c=Ju.C,f=Ju.L,p=Ju.R,v=Ju.A,m=Ju.Q;for(s=0,o=0;s<r;){switch(i=n[s++],o=s,a=0,i){case h:a=1;break;case f:a=1;break;case c:a=3;break;case m:a=2;break;case v:var g=e[4],y=e[5],x=UD(e[0]*e[0]+e[1]*e[1]),A=UD(e[2]*e[2]+e[3]*e[3]),b=Vve(-e[1]/A,e[0]/x);n[s]*=x,n[s++]+=g,n[s]*=A,n[s++]+=y,n[s++]*=x,n[s++]*=A,n[s++]+=b,n[s++]+=b,s+=2,o=s;break;case p:u[0]=n[s++],u[1]=n[s++],En(u,u,e),n[o++]=u[0],n[o++]=u[1],u[0]+=n[s++],u[1]+=n[s++],En(u,u,e),n[o++]=u[0],n[o++]=u[1]}for(l=0;l<a;l++){var S=Bve[l];S[0]=n[s++],S[1]=n[s++],En(S,S,e),n[o++]=S[0],n[o++]=S[1]}}t.increaseVersion()}}var hb=Math.sqrt,Jv=Math.sin,Kv=Math.cos,uf=Math.PI;function WD(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function F_(t,e){return(t[0]*e[0]+t[1]*e[1])/(WD(t)*WD(e))}function $D(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(F_(t,e))}function YD(t,e,n,r,i,a,s,o,l,u,h){var c=l*(uf/180),f=Kv(c)*(t-n)/2+Jv(c)*(e-r)/2,p=-1*Jv(c)*(t-n)/2+Kv(c)*(e-r)/2,v=f*f/(s*s)+p*p/(o*o);v>1&&(s*=hb(v),o*=hb(v));var m=(i===a?-1:1)*hb((s*s*(o*o)-s*s*(p*p)-o*o*(f*f))/(s*s*(p*p)+o*o*(f*f)))||0,g=m*s*p/o,y=m*-o*f/s,x=(t+n)/2+Kv(c)*g-Jv(c)*y,A=(e+r)/2+Jv(c)*g+Kv(c)*y,b=$D([1,0],[(f-g)/s,(p-y)/o]),S=[(f-g)/s,(p-y)/o],w=[(-1*f-g)/s,(-1*p-y)/o],_=$D(S,w);if(F_(S,w)<=-1&&(_=uf),F_(S,w)>=1&&(_=0),_<0){var T=Math.round(_/uf*1e6)/1e6;_=uf*2+T%2*uf}h.addData(u,x,A,s,o,b,_,c,a)}var Hve=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Gve=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Uve(t){var e=new Ra;if(!t)return e;var n=0,r=0,i=n,a=r,s,o=Ra.CMD,l=t.match(Hve);if(!l)return e;for(var u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),f=void 0,p=h.match(Gve)||[],v=p.length,m=0;m<v;m++)p[m]=parseFloat(p[m]);for(var g=0;g<v;){var y=void 0,x=void 0,A=void 0,b=void 0,S=void 0,w=void 0,_=void 0,T=n,C=r,E=void 0,k=void 0;switch(c){case"l":n+=p[g++],r+=p[g++],f=o.L,e.addData(f,n,r);break;case"L":n=p[g++],r=p[g++],f=o.L,e.addData(f,n,r);break;case"m":n+=p[g++],r+=p[g++],f=o.M,e.addData(f,n,r),i=n,a=r,c="l";break;case"M":n=p[g++],r=p[g++],f=o.M,e.addData(f,n,r),i=n,a=r,c="L";break;case"h":n+=p[g++],f=o.L,e.addData(f,n,r);break;case"H":n=p[g++],f=o.L,e.addData(f,n,r);break;case"v":r+=p[g++],f=o.L,e.addData(f,n,r);break;case"V":r=p[g++],f=o.L,e.addData(f,n,r);break;case"C":f=o.C,e.addData(f,p[g++],p[g++],p[g++],p[g++],p[g++],p[g++]),n=p[g-2],r=p[g-1];break;case"c":f=o.C,e.addData(f,p[g++]+n,p[g++]+r,p[g++]+n,p[g++]+r,p[g++]+n,p[g++]+r),n+=p[g-2],r+=p[g-1];break;case"S":y=n,x=r,E=e.len(),k=e.data,s===o.C&&(y+=n-k[E-4],x+=r-k[E-3]),f=o.C,T=p[g++],C=p[g++],n=p[g++],r=p[g++],e.addData(f,y,x,T,C,n,r);break;case"s":y=n,x=r,E=e.len(),k=e.data,s===o.C&&(y+=n-k[E-4],x+=r-k[E-3]),f=o.C,T=n+p[g++],C=r+p[g++],n+=p[g++],r+=p[g++],e.addData(f,y,x,T,C,n,r);break;case"Q":T=p[g++],C=p[g++],n=p[g++],r=p[g++],f=o.Q,e.addData(f,T,C,n,r);break;case"q":T=p[g++]+n,C=p[g++]+r,n+=p[g++],r+=p[g++],f=o.Q,e.addData(f,T,C,n,r);break;case"T":y=n,x=r,E=e.len(),k=e.data,s===o.Q&&(y+=n-k[E-4],x+=r-k[E-3]),n=p[g++],r=p[g++],f=o.Q,e.addData(f,y,x,n,r);break;case"t":y=n,x=r,E=e.len(),k=e.data,s===o.Q&&(y+=n-k[E-4],x+=r-k[E-3]),n+=p[g++],r+=p[g++],f=o.Q,e.addData(f,y,x,n,r);break;case"A":A=p[g++],b=p[g++],S=p[g++],w=p[g++],_=p[g++],T=n,C=r,n=p[g++],r=p[g++],f=o.A,YD(T,C,n,r,w,_,A,b,S,f,e);break;case"a":A=p[g++],b=p[g++],S=p[g++],w=p[g++],_=p[g++],T=n,C=r,n+=p[g++],r+=p[g++],f=o.A,YD(T,C,n,r,w,_,A,b,S,f,e);break}}(c==="z"||c==="Z")&&(f=o.Z,e.addData(f),n=i,r=a),s=f}return e.toStatic(),e}var F4=function(t){Mt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(n){},e}(Ve);function B4(t){return t.setData!=null}function V4(t,e){var n=Uve(t),r=J({},e);return r.buildPath=function(i){if(B4(i)){i.setData(n.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;n.rebuildPath(a,1)}},r.applyTransform=function(i){O4(n,i),this.dirtyShape()},r}function H4(t,e){return new F4(V4(t,e))}function Wve(t,e){var n=V4(t,e),r=function(i){Mt(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=n.applyTransform,o.buildPath=n.buildPath,o}return a}(F4);return r}function $ve(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var a=t[i];n.push(a.getUpdatedPathProxy(!0))}var s=new Ve(e);return s.createPathProxy(),s.buildPath=function(o){if(B4(o)){o.appendPath(n);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function iI(t,e){e=e||{};var n=new Ve;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?O4(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var Yve=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),zs=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Yve},e.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(Ve);zs.prototype.type="circle";var qve=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),G4=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new qve},e.prototype.buildPath=function(n,r){var i=.5522848,a=r.cx,s=r.cy,o=r.rx,l=r.ry,u=o*i,h=l*i;n.moveTo(a-o,s),n.bezierCurveTo(a-o,s-h,a-u,s-l,a,s-l),n.bezierCurveTo(a+u,s-l,a+o,s-h,a+o,s),n.bezierCurveTo(a+o,s+h,a+u,s+l,a,s+l),n.bezierCurveTo(a-u,s+l,a-o,s+h,a-o,s),n.closePath()},e}(Ve);G4.prototype.type="ellipse";const aI=G4;var U4=Math.PI,fb=U4*2,vl=Math.sin,Ku=Math.cos,Xve=Math.acos,Mn=Math.atan2,qD=Math.abs,fd=Math.sqrt,Ff=Math.max,Ki=Math.min,Pi=1e-4;function Zve(t,e,n,r,i,a,s,o){var l=n-t,u=r-e,h=s-i,c=o-a,f=c*l-h*u;if(!(f*f<Pi))return f=(h*(e-a)-c*(t-i))/f,[t+f*l,e+f*u]}function Qv(t,e,n,r,i,a,s){var o=t-n,l=e-r,u=(s?a:-a)/fd(o*o+l*l),h=u*l,c=-u*o,f=t+h,p=e+c,v=n+h,m=r+c,g=(f+v)/2,y=(p+m)/2,x=v-f,A=m-p,b=x*x+A*A,S=i-a,w=f*m-v*p,_=(A<0?-1:1)*fd(Ff(0,S*S*b-w*w)),T=(w*A-x*_)/b,C=(-w*x-A*_)/b,E=(w*A+x*_)/b,k=(-w*x+A*_)/b,I=T-g,j=C-y,P=E-g,D=k-y;return I*I+j*j>P*P+D*D&&(T=E,C=k),{cx:T,cy:C,x0:-h,y0:-c,x1:T*(i/S-1),y1:C*(i/S-1)}}function Jve(t){var e;if(ee(t)){var n=t.length;if(!n)return t;n===1?e=[t[0],t[0],0,0]:n===2?e=[t[0],t[0],t[1],t[1]]:n===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function Kve(t,e){var n,r=Ff(e.r,0),i=Ff(e.r0||0,0),a=r>0,s=i>0;if(!(!a&&!s)){if(a||(r=i,i=0),i>r){var o=r;r=i,i=o}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var h=e.cx,c=e.cy,f=!!e.clockwise,p=qD(u-l),v=p>fb&&p%fb;if(v>Pi&&(p=v),!(r>Pi))t.moveTo(h,c);else if(p>fb-Pi)t.moveTo(h+r*Ku(l),c+r*vl(l)),t.arc(h,c,r,l,u,!f),i>Pi&&(t.moveTo(h+i*Ku(u),c+i*vl(u)),t.arc(h,c,i,u,l,f));else{var m=void 0,g=void 0,y=void 0,x=void 0,A=void 0,b=void 0,S=void 0,w=void 0,_=void 0,T=void 0,C=void 0,E=void 0,k=void 0,I=void 0,j=void 0,P=void 0,D=r*Ku(l),L=r*vl(l),F=i*Ku(u),V=i*vl(u),U=p>Pi;if(U){var z=e.cornerRadius;z&&(n=Jve(z),m=n[0],g=n[1],y=n[2],x=n[3]);var H=qD(r-i)/2;if(A=Ki(H,y),b=Ki(H,x),S=Ki(H,m),w=Ki(H,g),C=_=Ff(A,b),E=T=Ff(S,w),(_>Pi||T>Pi)&&(k=r*Ku(u),I=r*vl(u),j=i*Ku(l),P=i*vl(l),p<U4)){var G=Zve(D,L,j,P,k,I,F,V);if(G){var N=D-G[0],W=L-G[1],q=k-G[0],$=I-G[1],Z=1/vl(Xve((N*q+W*$)/(fd(N*N+W*W)*fd(q*q+$*$)))/2),X=fd(G[0]*G[0]+G[1]*G[1]);C=Ki(_,(r-X)/(Z+1)),E=Ki(T,(i-X)/(Z-1))}}}if(!U)t.moveTo(h+D,c+L);else if(C>Pi){var Q=Ki(y,C),re=Ki(x,C),K=Qv(j,P,D,L,r,Q,f),le=Qv(k,I,F,V,r,re,f);t.moveTo(h+K.cx+K.x0,c+K.cy+K.y0),C<_&&Q===re?t.arc(h+K.cx,c+K.cy,C,Mn(K.y0,K.x0),Mn(le.y0,le.x0),!f):(Q>0&&t.arc(h+K.cx,c+K.cy,Q,Mn(K.y0,K.x0),Mn(K.y1,K.x1),!f),t.arc(h,c,r,Mn(K.cy+K.y1,K.cx+K.x1),Mn(le.cy+le.y1,le.cx+le.x1),!f),re>0&&t.arc(h+le.cx,c+le.cy,re,Mn(le.y1,le.x1),Mn(le.y0,le.x0),!f))}else t.moveTo(h+D,c+L),t.arc(h,c,r,l,u,!f);if(!(i>Pi)||!U)t.lineTo(h+F,c+V);else if(E>Pi){var Q=Ki(m,E),re=Ki(g,E),K=Qv(F,V,k,I,i,-re,f),le=Qv(D,L,j,P,i,-Q,f);t.lineTo(h+K.cx+K.x0,c+K.cy+K.y0),E<T&&Q===re?t.arc(h+K.cx,c+K.cy,E,Mn(K.y0,K.x0),Mn(le.y0,le.x0),!f):(re>0&&t.arc(h+K.cx,c+K.cy,re,Mn(K.y0,K.x0),Mn(K.y1,K.x1),!f),t.arc(h,c,i,Mn(K.cy+K.y1,K.cx+K.x1),Mn(le.cy+le.y1,le.cx+le.x1),f),Q>0&&t.arc(h+le.cx,c+le.cy,Q,Mn(le.y1,le.x1),Mn(le.y0,le.x0),!f))}else t.lineTo(h+F,c+V),t.arc(h,c,i,u,l,f)}t.closePath()}}}var Qve=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),nr=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Qve},e.prototype.buildPath=function(n,r){Kve(n,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ve);nr.prototype.type="sector";var eme=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),W4=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new eme},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,s=Math.PI*2;n.moveTo(i+r.r,a),n.arc(i,a,r.r,0,s,!1),n.moveTo(i+r.r0,a),n.arc(i,a,r.r0,0,s,!0)},e}(Ve);W4.prototype.type="ring";const cx=W4;function tme(t,e,n,r){var i=[],a=[],s=[],o=[],l,u,h,c;if(r){h=[1/0,1/0],c=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++)po(h,h,t[f]),vo(c,c,t[f]);po(h,h,r[0]),vo(c,c,r[1])}for(var f=0,p=t.length;f<p;f++){var v=t[f];if(n)l=t[f?f-1:p-1],u=t[(f+1)%p];else if(f===0||f===p-1){i.push(hs(t[f]));continue}else l=t[f-1],u=t[f+1];$l(a,u,l),ig(a,a,e);var m=c_(v,l),g=c_(v,u),y=m+g;y!==0&&(m/=y,g/=y),ig(s,a,-m),ig(o,a,g);var x=VM([],v,s),A=VM([],v,o);r&&(vo(x,x,h),po(x,x,c),vo(A,A,h),po(A,A,c)),i.push(x),i.push(A)}return n&&i.push(i.shift()),i}function $4(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=tme(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(n?s:s-1);o++){var l=a[o*2],u=a[o*2+1],h=i[(o+1)%s];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var o=1,c=i.length;o<c;o++)t.lineTo(i[o][0],i[o][1])}n&&t.closePath()}}var nme=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),rr=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new nme},e.prototype.buildPath=function(n,r){$4(n,r,!0)},e}(Ve);rr.prototype.type="polygon";var rme=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),or=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new rme},e.prototype.buildPath=function(n,r){$4(n,r,!1)},e}(Ve);or.prototype.type="polyline";var ime={},ame=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),dn=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ame},e.prototype.buildPath=function(n,r){var i,a,s,o;if(this.subPixelOptimize){var l=T4(ime,r,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=r.x1,a=r.y1,s=r.x2,o=r.y2;var u=r.percent;u!==0&&(n.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),n.lineTo(s,o))},e.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},e}(Ve);dn.prototype.type="line";var cr=[],sme=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function XD(t,e,n){var r=t.cpx2,i=t.cpy2;return r!=null||i!=null?[(n?QM:fn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?QM:fn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?v_:An)(t.x1,t.cpx1,t.x2,e),(n?v_:An)(t.y1,t.cpy1,t.y2,e)]}var Bp=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new sme},e.prototype.buildPath=function(n,r){var i=r.x1,a=r.y1,s=r.x2,o=r.y2,l=r.cpx1,u=r.cpy1,h=r.cpx2,c=r.cpy2,f=r.percent;f!==0&&(n.moveTo(i,a),h==null||c==null?(f<1&&(Od(i,l,s,f,cr),l=cr[1],s=cr[2],Od(a,u,o,f,cr),u=cr[1],o=cr[2]),n.quadraticCurveTo(l,u,s,o)):(f<1&&(zo(i,l,h,s,f,cr),l=cr[1],h=cr[2],s=cr[3],zo(a,u,c,o,f,cr),u=cr[1],c=cr[2],o=cr[3]),n.bezierCurveTo(l,u,h,c,s,o)))},e.prototype.pointAt=function(n){return XD(this.shape,n,!1)},e.prototype.tangentAt=function(n){var r=XD(this.shape,n,!0);return Ih(r,r)},e}(Ve);Bp.prototype.type="bezier-curve";var ome=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),hx=function(t){Mt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ome},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,s=Math.max(r.r,0),o=r.startAngle,l=r.endAngle,u=r.clockwise,h=Math.cos(o),c=Math.sin(o);n.moveTo(h*s+i,c*s+a),n.arc(i,a,s,o,l,!u)},e}(Ve);hx.prototype.type="arc";var lme=function(t){Mt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(n,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ve.prototype.getBoundingRect.call(this)},e}(Ve);const sI=lme;var Y4=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,n){this.colorStops.push({offset:e,color:n})},t}(),Vp=function(t){Mt(e,t);function e(n,r,i,a,s,o){var l=t.call(this,s)||this;return l.x=n??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(Y4),ume=function(t){Mt(e,t);function e(n,r,i,a,s){var o=t.call(this,a)||this;return o.x=n??.5,o.y=r??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(Y4);const q4=ume;var ml=[0,0],gl=[0,0],em=new je,tm=new je,cme=function(){function t(e,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new je;for(var r=0;r<2;r++)this._axes[r]=new je;e&&this.fromBoundingRect(e,n)}return t.prototype.fromBoundingRect=function(e,n){var r=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(r[0].set(a,s),r[1].set(o,s),r[2].set(o,l),r[3].set(a,l),n)for(var u=0;u<4;u++)r[u].transform(n);je.sub(i[0],r[1],r[0]),je.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},t.prototype.intersect=function(e,n){var r=!0,i=!n;return em.set(1/0,1/0),tm.set(0,0),!this._intersectCheckOneSide(this,e,em,tm,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,em,tm,i,-1)&&(r=!1,i)||i||je.copy(n,r?em:tm),r},t.prototype._intersectCheckOneSide=function(e,n,r,i,a,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,ml),this._getProjMinMaxOnAxis(l,n._corners,gl),ml[1]<gl[0]||ml[0]>gl[1]){if(o=!1,a)return o;var h=Math.abs(gl[0]-ml[1]),c=Math.abs(ml[0]-gl[1]);Math.min(h,c)>i.len()&&(h<c?je.scale(i,u,-h*s):je.scale(i,u,c*s))}else if(r){var h=Math.abs(gl[0]-ml[1]),c=Math.abs(ml[0]-gl[1]);Math.min(h,c)<r.len()&&(h<c?je.scale(r,u,h*s):je.scale(r,u,-c*s))}}return o},t.prototype._getProjMinMaxOnAxis=function(e,n,r){for(var i=this._axes[e],a=this._origin,s=n[0].dot(i)+a[e],o=s,l=s,u=1;u<n.length;u++){var h=n[u].dot(i)+a[e];o=Math.min(h,o),l=Math.max(h,l)}r[0]=o,r[1]=l},t}();const Sy=cme;var hme=[],fme=function(t){Mt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},e.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new De(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(hme)),n.union(a)}this._rect=n}return this._rect},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(n,r))return!0}return!1},e}(yi);const dme=fme;var X4=Qe();function jh(t,e,n,r,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=t==="update";if(o){var u=void 0,h=void 0,c=void 0;r?(u=_e(r.duration,200),h=_e(r.easing,"cubicOut"),c=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),h=e.getShallow(l?"animationEasingUpdate":"animationEasing"),c=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(h=a.easing),a.delay!=null&&(c=a.delay)),me(c)&&(c=c(n,i)),me(u)&&(u=u(n));var f={duration:u||0,delay:c,easing:h};return f}else return null}function oI(t,e,n,r,i,a,s){var o=!1,l;me(i)?(s=a,a=i,i=null):ye(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=t==="leave";u||e.stopAnimation("leave");var h=jh(t,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(h&&h.duration>0){var c=h.duration,f=h.delay,p=h.easing,v={duration:c,delay:f||0,easing:p,done:a,force:!!a||!!s,setToFinal:!u,scope:t,during:s};o?e.animateFrom(n,v):e.animateTo(n,v)}else e.stopAnimation(),!o&&e.attr(n),s&&s(1),a&&a()}function it(t,e,n,r,i,a){oI("update",t,e,n,r,i,a)}function Nt(t,e,n,r,i,a){oI("enter",t,e,n,r,i,a)}function Bc(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if(n.scope==="leave")return!0}return!1}function Ro(t,e,n,r,i,a){Bc(t)||oI("leave",t,e,n,r,i,a)}function ZD(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),Ro(t,{style:{opacity:0}},e,n,r)}function Wd(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||ZD(i,e,n,r)}):ZD(t,e,n,r)}function Gi(t){X4(t).oldStyle=t.style}function pme(t){return X4(t).oldStyle}var _y=Math.max,Ty=Math.min,B_={};function vme(t){return Ve.extend(t)}var mme=Wve;function gme(t,e){return mme(t,e)}function $i(t,e){B_[t]=e}function lI(t){if(B_.hasOwnProperty(t))return B_[t]}function fx(t,e,n,r){var i=H4(t,e);return n&&(r==="center"&&(n=J4(n,i.getBoundingRect())),K4(i,n)),i}function Z4(t,e,n){var r=new Sn({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(n==="center"){var a={width:i.width,height:i.height};r.setStyle(J4(e,a))}}});return r}function J4(t,e){var n=e.width/e.height,r=t.height*n,i;r<=t.width?i=t.height:(r=t.width,i=r/n);var a=t.x+t.width/2,s=t.y+t.height/2;return{x:a-r/2,y:s-i/2,width:r,height:i}}var ui=$ve;function K4(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function sh(t,e){return T4(t,t,{lineWidth:e}),t}function yme(t){return C4(t.shape,t.shape,t.style),t}var dg=Yl;function hu(t,e){for(var n=ex([]);t&&t!==e;)fs(n,t.getLocalTransform(),n),t=t.parent;return n}function Bi(t,e,n){return e&&!On(e)&&(e=os.getLocalTransform(e)),n&&(e=Eh([],e)),En([],t,e)}function dx(t,e,n){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-r:t==="right"?r:0,t==="top"?-i:t==="bottom"?i:0];return a=Bi(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function JD(t){return!t.isGroup}function xme(t){return t.shape!=null}function Hp(t,e,n){if(!t||!e)return;function r(s){var o={};return s.traverse(function(l){JD(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return xme(s)&&(o.shape=J({},s.shape)),o}var a=r(t);e.traverse(function(s){if(JD(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),it(s,l,n,Se(s).dataIndex)}}})}function Q4(t,e){return te(t,function(n){var r=n[0];r=_y(r,e.x),r=Ty(r,e.x+e.width);var i=n[1];return i=_y(i,e.y),i=Ty(i,e.y+e.height),[r,i]})}function Ame(t,e){var n=_y(t.x,e.x),r=Ty(t.x+t.width,e.x+e.width),i=_y(t.y,e.y),a=Ty(t.y+t.height,e.y+e.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function Gp(t,e,n){var r=J({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),ge(i,n),new Sn(r)):fx(t.replace("path://",""),r,n,"center")}function Bf(t,e,n,r,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(eG(t,e,n,r,o[0],o[1],s[0],s[1]))return!0;s=o}}function eG(t,e,n,r,i,a,s,o){var l=n-t,u=r-e,h=s-i,c=o-a,f=db(h,c,l,u);if(bme(f))return!1;var p=t-i,v=e-a,m=db(p,v,l,u)/f;if(m<0||m>1)return!1;var g=db(p,v,h,c)/f;return!(g<0||g>1)}function db(t,e,n,r){return t*r-n*e}function bme(t){return t<=1e-6&&t>=-1e-6}function Mh(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=ue(e)?{formatter:e}:e,a=n.mainType,s=n.componentIndex,o={componentType:a,name:r,$vars:["name"]};o[a+"Index"]=s;var l=t.formatterParamsExtra;l&&M(Xe(l),function(h){de(o,h)||(o[h]=l[h],o.$vars.push(h))});var u=Se(t.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:r,option:ge({content:r,encodeHTMLContent:!0,formatterParams:o},i)}}function KD(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function Xo(t,e){if(t)if(ee(t))for(var n=0;n<t.length;n++)KD(t[n],e);else KD(t,e)}$i("circle",zs);$i("ellipse",aI);$i("sector",nr);$i("ring",cx);$i("polygon",rr);$i("polyline",or);$i("rect",Ke);$i("line",dn);$i("bezierCurve",Bp);$i("arc",hx);const Lu=Object.freeze(Object.defineProperty({__proto__:null,Arc:hx,BezierCurve:Bp,BoundingRect:De,Circle:zs,CompoundPath:sI,Ellipse:aI,Group:Ae,Image:Sn,IncrementalDisplayable:dme,Line:dn,LinearGradient:Vp,OrientedBoundingRect:Sy,Path:Ve,Point:je,Polygon:rr,Polyline:or,RadialGradient:q4,Rect:Ke,Ring:cx,Sector:nr,Text:et,applyTransform:Bi,clipPointsByRect:Q4,clipRectByRect:Ame,createIcon:Gp,extendPath:gme,extendShape:vme,getShapeClass:lI,getTransform:hu,groupTransition:Hp,initProps:Nt,isElementRemoved:Bc,lineLineIntersect:eG,linePolygonIntersect:Bf,makeImage:Z4,makePath:fx,mergePath:ui,registerShape:$i,removeElement:Ro,removeElementWithFadeOut:Wd,resizePath:K4,setTooltipConfig:Mh,subPixelOptimize:dg,subPixelOptimizeLine:sh,subPixelOptimizeRect:yme,transformDirection:dx,traverseElements:Xo,updateProps:it},Symbol.toStringTag,{value:"Module"}));var px={};function tG(t,e){for(var n=0;n<tr.length;n++){var r=tr[n],i=e[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=i}var s=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(s,!0)}function V_(t,e,n){var r=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,s=e.normal,o;r&&(o=r.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),n!=null?{interpolatedValue:n}:null)),o==null&&(o=me(t.defaultText)?t.defaultText(i,t,n):t.defaultText);for(var l={normal:o},u=0;u<tr.length;u++){var h=tr[u],c=e[h];l[h]=_e(r?r.getFormattedLabel(i,h,null,a,c&&c.get("formatter")):null,o)}return l}function Pn(t,e,n,r){n=n||px;for(var i=t instanceof et,a=!1,s=0;s<Gd.length;s++){var o=e[Gd[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?t:t.getTextContent();if(a){i||(l||(l=new et,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=V_(n,e),h=e.normal,c=!!h.getShallow("show"),f=Et(h,r&&r.normal,n,!1,!i);f.text=u.normal,i||t.setTextConfig(Cy(h,n,!1));for(var s=0;s<tr.length;s++){var p=tr[s],o=e[p];if(o){var v=l.ensureState(p),m=!!_e(o.getShallow("show"),c);if(m!==c&&(v.ignore=!m),v.style=Et(o,r&&r[p],n,!0,!i),v.style.text=u[p],!i){var g=t.ensureState(p);g.textConfig=Cy(o,n,!0)}}}l.silent=!!h.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!c,l.useStyle(f),l.dirty(),n.enableTextSetter&&(Dh(l).setLabelText=function(y){var x=V_(n,e,y);tG(l,x)})}else l&&(l.ignore=!0);t.dirty()}function mn(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<tr.length;r++){var i=tr[r];n[i]=t.getModel([i,e])}return n}function Et(t,e,n,r,i){var a={};return wme(a,t,n,r,i),e&&J(a,e),a}function Cy(t,e,n){e=e||{};var r={},i,a=t.getShallow("rotate"),s=_e(t.getShallow("distance"),n?null:5),o=t.getShallow("offset");return i=t.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),o!=null&&(r.offset=o),a!=null&&(a*=Math.PI/180,r.rotation=a),s!=null&&(r.distance=s),r.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",r}function wme(t,e,n,r,i){n=n||px;var a=e.ecModel,s=a&&a.option.textStyle,o=Sme(e),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var h=e.getModel(["rich",u]);n2(l[u]={},h,s,n,r,i,!1,!0)}}l&&(t.rich=l);var c=e.get("overflow");c&&(t.overflow=c);var f=e.get("minMargin");f!=null&&(t.margin=f),n2(t,e,s,n,r,i,!0,!1)}function Sme(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||px).rich;if(n){e=e||{};for(var r=Xe(n),i=0;i<r.length;i++){var a=r[i];e[a]=1}}t=t.parentModel}return e}var QD=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],e2=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],t2=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function n2(t,e,n,r,i,a,s,o){n=!i&&n||px;var l=r&&r.inheritColor,u=e.getShallow("color"),h=e.getShallow("textBorderColor"),c=_e(e.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(h==="inherit"||h==="auto")&&(l?h=l:h=null),a||(u=u||n.color,h=h||n.textBorderColor),u!=null&&(t.fill=u),h!=null&&(t.stroke=h);var f=_e(e.getShallow("textBorderWidth"),n.textBorderWidth);f!=null&&(t.lineWidth=f);var p=_e(e.getShallow("textBorderType"),n.textBorderType);p!=null&&(t.lineDash=p);var v=_e(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);v!=null&&(t.lineDashOffset=v),!i&&c==null&&!o&&(c=r&&r.defaultOpacity),c!=null&&(t.opacity=c),!i&&!a&&t.fill==null&&r.inheritColor&&(t.fill=r.inheritColor);for(var m=0;m<QD.length;m++){var g=QD[m],y=_e(e.getShallow(g),n[g]);y!=null&&(t[g]=y)}for(var m=0;m<e2.length;m++){var g=e2[m],y=e.getShallow(g);y!=null&&(t[g]=y)}if(t.verticalAlign==null){var x=e.getShallow("baseline");x!=null&&(t.verticalAlign=x)}if(!s||!r.disableBox){for(var m=0;m<t2.length;m++){var g=t2[m],y=e.getShallow(g);y!=null&&(t[g]=y)}var A=e.getShallow("borderType");A!=null&&(t.borderDash=A),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function uI(t,e){var n=e&&e.getModel("textStyle");return Ri([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Dh=Qe();function nG(t,e,n,r){if(t){var i=Dh(t);i.prevValue=i.value,i.value=n;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function rG(t,e,n,r,i){var a=Dh(t);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=_e(a.interpolatedValue,a.prevValue),l=a.value;function u(h){var c=g4(n,a.precision,o,l,h);a.interpolatedValue=h===1?null:c;var f=V_({labelDataIndex:e,labelFetcher:i,defaultText:s?s(c):c+""},a.statesModels,c);tG(t,f)}t.percent=0,(a.prevValue==null?Nt:it)(t,{percent:1},r,e,null,u)}var _me=["textStyle","color"],pb=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],vb=new et,Tme=function(){function t(){}return t.prototype.getTextColor=function(e){var n=this.ecModel;return this.getShallow("color")||(!e&&n?n.get(_me):null)},t.prototype.getFont=function(){return uI({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<pb.length;r++)n[pb[r]]=this.getShallow(pb[r]);return vb.useStyle(n),vb.update(),vb.getBoundingRect()},t}(),iG=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Cme=Au(iG),Ime=function(){function t(){}return t.prototype.getLineStyle=function(e){return Cme(this,e)},t}(),aG=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Eme=Au(aG),kme=function(){function t(){}return t.prototype.getItemStyle=function(e,n){return Eme(this,e,n)},t}(),dt=function(){function t(e,n,r){this.parentModel=n,this.ecModel=r,this.option=e}return t.prototype.init=function(e,n,r){},t.prototype.mergeOption=function(e,n){Me(this.option,e,!0)},t.prototype.get=function(e,n){return e==null?this.option:this._doGet(this.parsePath(e),!n&&this.parentModel)},t.prototype.getShallow=function(e,n){var r=this.option,i=r==null?r:r[e];if(i==null&&!n){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,n){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,n,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(xe(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!We.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,n){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(e),n.parentModel)),r},t}();ZC(dt);Lpe(dt);an(dt,Ime);an(dt,kme);an(dt,Fpe);an(dt,Tme);var Pme=Math.round(Math.random()*10);function Lh(t){return[t||"",Pme++].join("_")}function jme(t){var e={};t.registerSubTypeDefaulter=function(n,r){var i=ga(n);e[i.main]=r},t.determineSubType=function(n,r){var i=r.type;if(!i){var a=ga(n).main;t.hasSubTypes(n)&&e[a]&&(i=e[a](r))}return i}}function Mme(t,e){t.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=n(s),h=u.graph,c=u.noEntryList,f={};for(M(a,function(x){f[x]=!0});c.length;){var p=c.pop(),v=h[p],m=!!f[p];m&&(o.call(l,p,v.originalDeps.slice()),delete f[p]),M(v.successor,m?y:g)}M(f,function(){var x="";throw new Error(x)});function g(x){h[x].entryCount--,h[x].entryCount===0&&c.push(x)}function y(x){f[x]=!0,g(x)}};function n(a){var s={},o=[];return M(a,function(l){var u=r(s,l),h=u.originalDeps=e(l),c=i(h,a);u.entryCount=c.length,u.entryCount===0&&o.push(l),M(c,function(f){ze(u.predecessor,f)<0&&u.predecessor.push(f);var p=r(s,f);ze(p.successor,f)<0&&p.successor.push(l)})}),{graph:s,noEntryList:o}}function r(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return M(a,function(l){ze(s,l)>=0&&o.push(l)}),o}}function Zo(t,e){return Me(Me({},t,!0),e,!0)}const Dme={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Lme={time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾",custom:"èªå®ä¹å¾è¡¨",chart:"å¾è¡¨"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}};var Iy="ZH",cI="EN",Vc=cI,pg={},hI={},sG=We.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Vc).toUpperCase();return t.indexOf(Iy)>-1?Iy:Vc}():Vc;function oG(t,e){t=t.toUpperCase(),hI[t]=new dt(e),pg[t]=e}function Nme(t){if(ue(t)){var e=pg[t.toUpperCase()]||{};return t===Iy||t===cI?xe(e):Me(xe(e),xe(pg[Vc]),!1)}else return Me(xe(t),xe(pg[Vc]),!1)}function H_(t){return hI[t]}function zme(){return hI[Vc]}oG(cI,Dme);oG(Iy,Lme);var fI=1e3,dI=fI*60,dd=dI*60,ci=dd*24,r2=ci*365,Vf={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},nm="{yyyy}-{MM}-{dd}",i2={year:"{yyyy}",month:"{yyyy}-{MM}",day:nm,hour:nm+" "+Vf.hour,minute:nm+" "+Vf.minute,second:nm+" "+Vf.second,millisecond:Vf.none},mb=["year","month","day","hour","minute","second","millisecond"],lG=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ws(t,e){return t+="","0000".substr(0,e-t.length)+t}function Hc(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Rme(t){return t===Hc(t)}function Ome(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function vx(t,e,n,r){var i=za(t),a=i[pI(n)](),s=i[Gc(n)]()+1,o=Math.floor((s-1)/3)+1,l=i[mx(n)](),u=i["get"+(n?"UTC":"")+"Day"](),h=i[$d(n)](),c=(h-1)%12+1,f=i[gx(n)](),p=i[yx(n)](),v=i[xx(n)](),m=h>=12?"pm":"am",g=m.toUpperCase(),y=r instanceof dt?r:H_(r||sG)||zme(),x=y.getModel("time"),A=x.get("month"),b=x.get("monthAbbr"),S=x.get("dayOfWeek"),w=x.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,m+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Ws(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,A[s-1]).replace(/{MMM}/g,b[s-1]).replace(/{MM}/g,Ws(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Ws(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,S[u]).replace(/{ee}/g,w[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Ws(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Ws(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Ws(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Ws(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Ws(v,3)).replace(/{S}/g,v+"")}function Fme(t,e,n,r,i){var a=null;if(ue(n))a=n;else if(me(n))a=n(t.value,e,{level:t.level});else{var s=J({},Vf);if(t.level>0)for(var o=0;o<mb.length;++o)s[mb[o]]="{primary|"+s[mb[o]]+"}";var l=n?n.inherit===!1?n:ge(n,s):s,u=uG(t.value,i);if(l[u])a=l[u];else if(l.inherit){for(var h=lG.indexOf(u),o=h-1;o>=0;--o)if(l[u]){a=l[u];break}a=a||s.none}if(ee(a)){var c=t.level==null?0:t.level>=0?t.level:a.length+t.level;c=Math.min(c,a.length-1),a=a[c]}}return vx(new Date(t.value),a,i,r)}function uG(t,e){var n=za(t),r=n[Gc(e)]()+1,i=n[mx(e)](),a=n[$d(e)](),s=n[gx(e)](),o=n[yx(e)](),l=n[xx(e)](),u=l===0,h=u&&o===0,c=h&&s===0,f=c&&a===0,p=f&&i===1,v=p&&r===1;return v?"year":p?"month":f?"day":c?"hour":h?"minute":u?"second":"millisecond"}function a2(t,e,n){var r=nt(t)?za(t):t;switch(e=e||uG(t,n),e){case"year":return r[pI(n)]();case"half-year":return r[Gc(n)]()>=6?1:0;case"quarter":return Math.floor((r[Gc(n)]()+1)/4);case"month":return r[Gc(n)]();case"day":return r[mx(n)]();case"half-day":return r[$d(n)]()/24;case"hour":return r[$d(n)]();case"minute":return r[gx(n)]();case"second":return r[yx(n)]();case"millisecond":return r[xx(n)]()}}function pI(t){return t?"getUTCFullYear":"getFullYear"}function Gc(t){return t?"getUTCMonth":"getMonth"}function mx(t){return t?"getUTCDate":"getDate"}function $d(t){return t?"getUTCHours":"getHours"}function gx(t){return t?"getUTCMinutes":"getMinutes"}function yx(t){return t?"getUTCSeconds":"getSeconds"}function xx(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Bme(t){return t?"setUTCFullYear":"setFullYear"}function cG(t){return t?"setUTCMonth":"setMonth"}function hG(t){return t?"setUTCDate":"setDate"}function fG(t){return t?"setUTCHours":"setHours"}function dG(t){return t?"setUTCMinutes":"setMinutes"}function pG(t){return t?"setUTCSeconds":"setSeconds"}function vG(t){return t?"setUTCMilliseconds":"setMilliseconds"}function mG(t){if(!u4(t))return ue(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function gG(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var Nh=BC;function G_(t,e,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(h){return h&&Ri(h)?h:"-"}function a(h){return!!(h!=null&&!isNaN(h)&&isFinite(h))}var s=e==="time",o=t instanceof Date;if(s||o){var l=s?za(t):t;if(isNaN(+l)){if(o)return"-"}else return vx(l,r,n)}if(e==="ordinal")return s_(t)?i(t):nt(t)&&a(t)?t+"":"-";var u=Cs(t);return a(u)?mG(u):s_(t)?i(t):typeof t=="boolean"?t+"":"-"}var s2=["a","b","c","d","e","f","g"],gb=function(t,e){return"{"+t+(e??"")+"}"};function yG(t,e,n){ee(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=s2[a];t=t.replace(gb(s),gb(s,0))}for(var o=0;o<r;o++)for(var l=0;l<i.length;l++){var u=e[o][i[l]];t=t.replace(gb(s2[l],o),n?pr(u):u)}return t}function Vme(t,e,n){return M(e,function(r,i){t=t.replace("{"+i+"}",r)}),t}function Hme(t,e){var n=ue(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var a=n.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+pr(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+pr(r)+";"+(e||"")+'"></span>';var s=n.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function wu(t,e){return e=e||"transparent",ue(t)?t:ye(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function Ey(t,e){if(e==="_blank"||e==="blank"){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var vg=M,xG=["left","right","top","bottom","width","height"],Xl=[["width","left","right"],["height","top","bottom"]];function vI(t,e,n,r,i){var a=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,u){var h=l.getBoundingRect(),c=e.childAt(u+1),f=c&&c.getBoundingRect(),p,v;if(t==="horizontal"){var m=h.width+(f?-f.x+h.x:0);p=a+m,p>r||l.newline?(a=0,p=m,s+=o+n,o=h.height):o=Math.max(o,h.height)}else{var g=h.height+(f?-f.y+h.y:0);v=s+g,v>i||l.newline?(a+=o+n,s=0,v=g,o=h.width):o=Math.max(o,h.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),t==="horizontal"?a=p+n:s=v+n)})}var fu=vI;Ee(vI,"vertical");Ee(vI,"horizontal");function Gme(t,e,n){var r=e.width,i=e.height,a=se(t.left,r),s=se(t.top,i),o=se(t.right,r),l=se(t.bottom,i);return(isNaN(a)||isNaN(parseFloat(t.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(t.right)))&&(o=r),(isNaN(s)||isNaN(parseFloat(t.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=i),n=Nh(n||0),{width:Math.max(o-a-n[1]-n[3],0),height:Math.max(l-s-n[0]-n[2],0)}}function cn(t,e,n){n=Nh(n||0);var r=e.width,i=e.height,a=se(t.left,r),s=se(t.top,i),o=se(t.right,r),l=se(t.bottom,i),u=se(t.width,r),h=se(t.height,i),c=n[2]+n[0],f=n[1]+n[3],p=t.aspect;switch(isNaN(u)&&(u=r-o-f-a),isNaN(h)&&(h=i-l-c-s),p!=null&&(isNaN(u)&&isNaN(h)&&(p>r/i?u=r*.8:h=i*.8),isNaN(u)&&(u=p*h),isNaN(h)&&(h=u/p)),isNaN(a)&&(a=r-o-u-f),isNaN(s)&&(s=i-l-h-c),t.left||t.right){case"center":a=r/2-u/2-n[3];break;case"right":a=r-u-f;break}switch(t.top||t.bottom){case"middle":case"center":s=i/2-h/2-n[0];break;case"bottom":s=i-h-c;break}a=a||0,s=s||0,isNaN(u)&&(u=r-f-a-(o||0)),isNaN(h)&&(h=i-c-s-(l||0));var v=new De(a+n[3],s+n[0],u,h);return v.margin=n,v}function Ax(t,e,n,r,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||t,a.x=t.x,a.y=t.y,!s&&!o)return!1;var u;if(l==="raw")u=t.type==="group"?new De(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();u=u.clone(),u.applyTransform(h)}var c=cn(ge({width:u.width,height:u.height},e),n,r),f=s?c.x-u.x:0,p=o?c.y-u.y:0;return l==="raw"?(a.x=f,a.y=p):(a.x+=f,a.y+=p),a===t&&t.markRedraw(),!0}function Ume(t,e){return t[Xl[e][0]]!=null||t[Xl[e][1]]!=null&&t[Xl[e][2]]!=null}function Yd(t){var e=t.layoutMode||t.constructor.layoutMode;return ye(e)?e:e?{type:e}:null}function Oo(t,e,n){var r=n&&n.ignoreSize;!ee(r)&&(r=[r,r]);var i=s(Xl[0],0),a=s(Xl[1],1);u(Xl[0],t,i),u(Xl[1],t,a);function s(h,c){var f={},p=0,v={},m=0,g=2;if(vg(h,function(A){v[A]=t[A]}),vg(h,function(A){o(e,A)&&(f[A]=v[A]=e[A]),l(f,A)&&p++,l(v,A)&&m++}),r[c])return l(e,h[1])?v[h[2]]=null:l(e,h[2])&&(v[h[1]]=null),v;if(m===g||!p)return v;if(p>=g)return f;for(var y=0;y<h.length;y++){var x=h[y];if(!o(f,x)&&o(t,x)){f[x]=t[x];break}}return f}function o(h,c){return h.hasOwnProperty(c)}function l(h,c){return h[c]!=null&&h[c]!=="auto"}function u(h,c,f){vg(h,function(p){c[p]=f[p]})}}function zh(t){return AG({},t)}function AG(t,e){return e&&t&&vg(xG,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var Wme=Qe(),qe=function(t){Y(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a.uid=Lh("ec_cpt_model"),a}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=Yd(this),a=i?zh(n):{},s=r.getTheme();Me(n,s.get(this.mainType)),Me(n,this.getDefaultOption()),i&&Oo(n,a,i)},e.prototype.mergeOption=function(n,r){Me(this.option,n,!0);var i=Yd(this);i&&Oo(this.option,n,i)},e.prototype.optionUpdated=function(n,r){},e.prototype.getDefaultOption=function(){var n=this.constructor;if(!jpe(n))return n.defaultOption;var r=Wme(this);if(!r.defaultOption){for(var i=[],a=n;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=Me(o,i[l],!0);r.defaultOption=o}return r.defaultOption},e.prototype.getReferringComponents=function(n,r){var i=n+"Index",a=n+"Id";return Op(this.ecModel,n,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(n){this.option.zlevel=n},e.protoInitialize=function(){var n=e.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),e}(dt);x4(qe,dt);ix(qe);jme(qe);Mme(qe,$me);function $me(t){var e=[];return M(qe.getClassesByMainType(t),function(n){e=e.concat(n.dependencies||n.prototype.dependencies||[])}),e=te(e,function(n){return ga(n).main}),t!=="dataset"&&ze(e,"dataset")<=0&&e.unshift("dataset"),e}var bG="";typeof navigator<"u"&&(bG=navigator.platform||"");var Qu="rgba(0, 0, 0, 0.2)";const Yme={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Qu,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Qu,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Qu,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Qu,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Qu,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Qu,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:bG.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var wG=pe(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),wi="original",Fn="arrayRows",Si="objectRows",Ga="keyedColumns",Co="typedArray",SG="unknown",Ia="column",Rh="row",Cn={Must:1,Might:2,Not:3},_G=Qe();function qme(t){_G(t).datasetMap=pe()}function TG(t,e,n){var r={},i=gI(e);if(!i||!t)return r;var a=[],s=[],o=e.ecModel,l=_G(o).datasetMap,u=i.uid+"_"+n.seriesLayoutBy,h,c;t=t.slice(),M(t,function(m,g){var y=ye(m)?m:t[g]={name:m};y.type==="ordinal"&&h==null&&(h=g,c=v(y)),r[y.name]=[]});var f=l.get(u)||l.set(u,{categoryWayDim:c,valueWayDim:0});M(t,function(m,g){var y=m.name,x=v(m);if(h==null){var A=f.valueWayDim;p(r[y],A,x),p(s,A,x),f.valueWayDim+=x}else if(h===g)p(r[y],0,x),p(a,0,x);else{var A=f.categoryWayDim;p(r[y],A,x),p(s,A,x),f.categoryWayDim+=x}});function p(m,g,y){for(var x=0;x<y;x++)m.push(g+x)}function v(m){var g=m.dimsDef;return g?g.length:1}return a.length&&(r.itemName=a),s.length&&(r.seriesName=s),r}function mI(t,e,n){var r={},i=gI(t);if(!i)return r;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Si||a===Ga)&&M(s,function(h,c){(ye(h)?h.name:h)==="name"&&(o=c)});var l=function(){for(var h={},c={},f=[],p=0,v=Math.min(5,n);p<v;p++){var m=IG(e.data,a,e.seriesLayoutBy,s,e.startIndex,p);f.push(m);var g=m===Cn.Not;if(g&&h.v==null&&p!==o&&(h.v=p),(h.n==null||h.n===h.v||!g&&f[h.n]===Cn.Not)&&(h.n=p),y(h)&&f[h.n]!==Cn.Not)return h;g||(m===Cn.Might&&c.v==null&&p!==o&&(c.v=p),(c.n==null||c.n===c.v)&&(c.n=p))}function y(x){return x.v!=null&&x.n!=null}return y(h)?h:y(c)?c:null}();if(l){r.value=[l.v];var u=o??l.n;r.itemName=[u],r.seriesName=[u]}return r}function gI(t){var e=t.get("data",!0);if(!e)return Op(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},tn).models[0]}function Xme(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Op(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},tn).models}function CG(t,e){return IG(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function IG(t,e,n,r,i,a){var s,o=5;if(Ar(t))return Cn.Not;var l,u;if(r){var h=r[a];ye(h)?(l=h.name,u=h.type):ue(h)&&(l=h)}if(u!=null)return u==="ordinal"?Cn.Must:Cn.Not;if(e===Fn){var c=t;if(n===Rh){for(var f=c[a],p=0;p<(f||[]).length&&p<o;p++)if((s=b(f[i+p]))!=null)return s}else for(var p=0;p<c.length&&p<o;p++){var v=c[i+p];if(v&&(s=b(v[a]))!=null)return s}}else if(e===Si){var m=t;if(!l)return Cn.Not;for(var p=0;p<m.length&&p<o;p++){var g=m[p];if(g&&(s=b(g[l]))!=null)return s}}else if(e===Ga){var y=t;if(!l)return Cn.Not;var f=y[l];if(!f||Ar(f))return Cn.Not;for(var p=0;p<f.length&&p<o;p++)if((s=b(f[p]))!=null)return s}else if(e===wi)for(var x=t,p=0;p<x.length&&p<o;p++){var g=x[p],A=kh(g);if(!ee(A))return Cn.Not;if((s=b(A[a]))!=null)return s}function b(S){var w=ue(S);if(S!=null&&Number.isFinite(Number(S))&&S!=="")return w?Cn.Might:Cn.Not;if(w&&S!=="-")return Cn.Must}return Cn.Not}var U_=pe();function Zme(t,e){er(U_.get(t)==null&&e),U_.set(t,e)}function Jme(t,e,n){var r=U_.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}var o2=Qe(),Kme=Qe(),yI=function(){function t(){}return t.prototype.getColorFromPalette=function(e,n,r){var i=bt(this.get("color",!0)),a=this.get("colorLayer",!0);return EG(this,o2,i,a,e,n,r)},t.prototype.clearColorPalette=function(){ege(this,o2)},t}();function W_(t,e,n,r){var i=bt(t.get(["aria","decal","decals"]));return EG(t,Kme,i,null,e,n,r)}function Qme(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function EG(t,e,n,r,i,a,s){a=a||t;var o=e(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var h=s==null||!r?n:Qme(r,s);if(h=h||n,!(!h||!h.length)){var c=h[l];return i&&(u[i]=c),o.paletteIdx=(l+1)%h.length,c}}function ege(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var rm,cf,l2,u2="\0_ec_inner",tge=1,xI=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i,a,s,o){a=a||{},this.option=null,this._theme=new dt(a),this._locale=new dt(s),this._optionManager=o},e.prototype.setOption=function(n,r,i){var a=f2(r);this._optionManager.setOption(n,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(n,r){return this._resetOption(n,f2(r))},e.prototype._resetOption=function(n,r){var i=!1,a=this._optionManager;if(!n||n==="recreate"){var s=a.mountOption(n==="recreate");!this.option||n==="recreate"?l2(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,r))}if(!n||n==="recreate"||n==="media"){var l=a.getMediaOption(this);l.length&&M(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},e.prototype.mergeOption=function(n){this._mergeOption(n,null)},e.prototype._mergeOption=function(n,r){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=pe(),u=r&&r.replaceMergeMainTypeMap;qme(this),M(n,function(c,f){c!=null&&(qe.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?xe(c):Me(i[f],c,!0))}),u&&u.each(function(c,f){qe.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),qe.topologicalTravel(o,qe.getAllClassMainTypes(),h,this);function h(c){var f=Jme(this,c,bt(n[c])),p=a.get(c),v=p?u&&u.get(c)?"replaceMerge":"normalMerge":"replaceAll",m=p4(p,f,v);wpe(m,c,qe),i[c]=null,a.set(c,null),s.set(c,0);var g=[],y=[],x=0,A;M(m,function(b,S){var w=b.existing,_=b.newOption;if(!_)w&&(w.mergeOption({},this),w.optionUpdated({},!1));else{var T=c==="series",C=qe.getClass(c,b.keyInfo.subType,!T);if(!C)return;if(c==="tooltip"){if(A)return;A=!0}if(w&&w.constructor===C)w.name=b.keyInfo.name,w.mergeOption(_,this),w.optionUpdated(_,!1);else{var E=J({componentIndex:S},b.keyInfo);w=new C(_,this,this,E),J(w,E),b.brandNew&&(w.__requireNewView=!0),w.init(_,this,this),w.optionUpdated(null,!0)}}w?(g.push(w.option),y.push(w),x++):(g.push(void 0),y.push(void 0))},this),i[c]=g,a.set(c,y),s.set(c,x),c==="series"&&rm(this)}this._seriesIndices||rm(this)},e.prototype.getOption=function(){var n=xe(this.option);return M(n,function(r,i){if(qe.hasClass(i)){for(var a=bt(r),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!Hd(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,n[i]=a}}),delete n[u2],n},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(n){this._payload=n},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,a=n.id,s=n.name,o=this._componentsMap.get(r);if(!o||!o.length)return[];var l;return i!=null?(l=[],M(bt(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=c2("id",a,o):s!=null?l=c2("name",s,o):l=gt(o,function(u){return!!u}),h2(l,n)},e.prototype.findComponents=function(n){var r=n.query,i=n.mainType,a=o(r),s=a?this.queryComponents(a):gt(this._componentsMap.get(i),function(u){return!!u});return l(h2(s,n));function o(u){var h=i+"Index",c=i+"Id",f=i+"Name";return u&&(u[h]!=null||u[c]!=null||u[f]!=null)?{mainType:i,index:u[h],id:u[c],name:u[f]}:null}function l(u){return n.filter?gt(u,n.filter):u}},e.prototype.eachComponent=function(n,r,i){var a=this._componentsMap;if(me(n)){var s=r,o=n;a.each(function(c,f){for(var p=0;c&&p<c.length;p++){var v=c[p];v&&o.call(s,f,v,v.componentIndex)}})}else for(var l=ue(n)?a.get(n):ye(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var h=l[u];h&&r.call(i,h,h.componentIndex)}},e.prototype.getSeriesByName=function(n){var r=un(n,null);return gt(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},e.prototype.getSeriesByType=function(n){return gt(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},e.prototype.getSeries=function(){return gt(this._componentsMap.get("series"),function(n){return!!n})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(n,r){cf(this),M(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];n.call(r,a,i)},this)},e.prototype.eachRawSeries=function(n,r){M(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(n,r,i){cf(this),M(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===n&&r.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(n,r,i){return M(this.getSeriesByType(n),r,i)},e.prototype.isSeriesFiltered=function(n){return cf(this),this._seriesIndicesMap.get(n.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(n,r){cf(this);var i=[];M(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];n.call(r,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=pe(i)},e.prototype.restoreData=function(n){rm(this);var r=this._componentsMap,i=[];r.each(function(a,s){qe.hasClass(s)&&i.push(s)}),qe.topologicalTravel(i,qe.getAllClassMainTypes(),function(a){M(r.get(a),function(s){s&&(a!=="series"||!nge(s,n))&&s.restoreData()})})},e.internalField=function(){rm=function(n){var r=n._seriesIndices=[];M(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=pe(r)},cf=function(n){},l2=function(n,r){n.option={},n.option[u2]=tge,n._componentsMap=pe({series:[]}),n._componentsCount=pe();var i=r.aria;ye(i)&&i.enabled==null&&(i.enabled=!0),rge(r,n._theme.option),Me(r,Yme,!1),n._mergeOption(r,null)}}(),e}(dt);function nge(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return n!=null&&t.componentIndex!==n||r!=null&&t.id!==r||i!=null&&t.name!==i}}function rge(t,e){var n=t.color&&!t.colorLayer;M(e,function(r,i){i==="colorLayer"&&n||qe.hasClass(i)||(typeof r=="object"?t[i]=t[i]?Me(t[i],r,!1):xe(r):t[i]==null&&(t[i]=r))})}function c2(t,e,n){if(ee(e)){var r=pe();return M(e,function(a){if(a!=null){var s=un(a,null);s!=null&&r.set(a,!0)}}),gt(n,function(a){return a&&r.get(a[t])})}else{var i=un(e,null);return gt(n,function(a){return a&&i!=null&&a[t]===i})}}function h2(t,e){return e.hasOwnProperty("subType")?gt(t,function(n){return n&&n.subType===e.subType}):t}function f2(t){var e=pe();return t&&M(bt(t.replaceMerge),function(n){e.set(n,!0)}),{replaceMergeMainTypeMap:e}}an(xI,yI);var ige=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],kG=function(){function t(e){M(ige,function(n){this[n]=fe(e[n],e)},this)}return t}(),yb={},Up=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,n){var r=[];M(yb,function(i,a){var s=i.create(e,n);r=r.concat(s||[])}),this._coordinateSystems=r},t.prototype.update=function(e,n){M(this._coordinateSystems,function(r){r.update&&r.update(e,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,n){yb[e]=n},t.get=function(e){return yb[e]},t}(),age=/^(min|max)?(.+)$/,sge=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,n,r){e&&(M(bt(e.series),function(s){s&&s.data&&Ar(s.data)&&hy(s.data)}),M(bt(e.dataset),function(s){s&&s.source&&Ar(s.source)&&hy(s.source)})),e=xe(e);var i=this._optionBackup,a=oge(e,n,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],xe(e?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var n,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(n=xe(r[i.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(e){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)lge(i[l].query,n,r)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!cge(s,this._currentMediaIndices)&&(o=te(s,function(h){return xe(h===-1?a.option:i[h].option)})),this._currentMediaIndices=s,o},t}();function oge(t,e,n){var r=[],i,a,s=t.baseOption,o=t.timeline,l=t.options,u=t.media,h=!!t.media,c=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((c||h)&&(t.options=t.media=null),a=t),h&&ee(u)&&M(u,function(p){p&&p.option&&(p.query?r.push(p):i||(i=p))}),f(a),M(l,function(p){return f(p)}),M(r,function(p){return f(p.option)});function f(p){M(e,function(v){v(p,n)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function lge(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return M(t,function(a,s){var o=s.match(age);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();uge(r[u],a,l)||(i=!1)}}),i}function uge(t,e,n){return n==="min"?t>=e:n==="max"?t<=e:t===e}function cge(t,e){return t.join(",")===e.join(",")}var Ei=M,qd=ye,d2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function xb(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=d2.length;n<r;n++){var i=d2[n],a=e.normal,s=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Me(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),s&&s[i]&&(t[i]=t[i]||{},t[i].emphasis?Me(t[i].emphasis,s[i]):t[i].emphasis=s[i],s[i]=null)}}function zn(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,ge(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function Hf(t){zn(t,"itemStyle"),zn(t,"lineStyle"),zn(t,"areaStyle"),zn(t,"label"),zn(t,"labelLine"),zn(t,"upperLabel"),zn(t,"edgeLabel")}function Kt(t,e){var n=qd(t)&&t[e],r=qd(n)&&n.textStyle;if(r)for(var i=0,a=xD.length;i<a;i++){var s=xD[i];r.hasOwnProperty(s)&&(n[s]=r[s])}}function ei(t){t&&(Hf(t),Kt(t,"label"),t.emphasis&&Kt(t.emphasis,"label"))}function hge(t){if(qd(t)){xb(t),Hf(t),Kt(t,"label"),Kt(t,"upperLabel"),Kt(t,"edgeLabel"),t.emphasis&&(Kt(t.emphasis,"label"),Kt(t.emphasis,"upperLabel"),Kt(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(xb(e),ei(e));var n=t.markLine;n&&(xb(n),ei(n));var r=t.markArea;r&&ei(r);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!Ar(a))for(var s=0;s<a.length;s++)ei(a[s]);M(t.categories,function(u){Hf(u)})}if(i&&!Ar(i))for(var s=0;s<i.length;s++)ei(i[s]);if(e=t.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)ei(o[s]);if(n=t.markLine,n&&n.data)for(var l=n.data,s=0;s<l.length;s++)ee(l[s])?(ei(l[s][0]),ei(l[s][1])):ei(l[s]);t.type==="gauge"?(Kt(t,"axisLabel"),Kt(t,"title"),Kt(t,"detail")):t.type==="treemap"?(zn(t.breadcrumb,"itemStyle"),M(t.levels,function(u){Hf(u)})):t.type==="tree"&&Hf(t.leaves)}}function Za(t){return ee(t)?t:t?[t]:[]}function p2(t){return(ee(t)?t[0]:t)||{}}function fge(t,e){Ei(Za(t.series),function(r){qd(r)&&hge(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ei(n,function(r){Ei(Za(t[r]),function(i){i&&(Kt(i,"axisLabel"),Kt(i.axisPointer,"label"))})}),Ei(Za(t.parallel),function(r){var i=r&&r.parallelAxisDefault;Kt(i,"axisLabel"),Kt(i&&i.axisPointer,"label")}),Ei(Za(t.calendar),function(r){zn(r,"itemStyle"),Kt(r,"dayLabel"),Kt(r,"monthLabel"),Kt(r,"yearLabel")}),Ei(Za(t.radar),function(r){Kt(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Ei(Za(t.geo),function(r){qd(r)&&(ei(r),Ei(Za(r.regions),function(i){ei(i)}))}),Ei(Za(t.timeline),function(r){ei(r),zn(r,"label"),zn(r,"itemStyle"),zn(r,"controlStyle",!0);var i=r.data;ee(i)&&M(i,function(a){ye(a)&&(zn(a,"label"),zn(a,"itemStyle"))})}),Ei(Za(t.toolbox),function(r){zn(r,"iconStyle"),Ei(r.feature,function(i){zn(i,"iconStyle")})}),Kt(p2(t.axisPointer),"label"),Kt(p2(t.tooltip).axisPointer,"label")}function dge(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function pge(t,e,n,r){for(var i=e.split(","),a=t,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=n)}function v2(t){t&&M(vge,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var vge=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],mge=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Ab=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function hf(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Ab.length;n++){var r=Ab[n][1],i=Ab[n][0];e[r]!=null&&(e[i]=e[r])}}function m2(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function g2(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function gge(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function PG(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&PG(t[n].children,e)}function jG(t,e){fge(t,e),t.series=bt(t.series),M(t.series,function(n){if(ye(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),m2(n.label);var i=n.data;if(i&&!Ar(i))for(var a=0;a<i.length;a++)m2(i[a]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var s=dge(n,"pointer.color");s!=null&&pge(n,"itemStyle.color",s)}else if(r==="bar"){hf(n),hf(n.backgroundStyle),hf(n.emphasis);var i=n.data;if(i&&!Ar(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(hf(i[a]),hf(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var o=n.highlightPolicy;o&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=o)),g2(n),PG(n.data,g2)}else r==="graph"||r==="sankey"?gge(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&ge(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),v2(n)}}),t.dataRange&&(t.visualMap=t.dataRange),M(mge,function(n){var r=t[n];r&&(ee(r)||(r=[r]),M(r,function(i){v2(i)}))})}function yge(t){var e=pe();t.eachSeries(function(n){var r=n.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=n.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(xge)}function xge(t){M(t,function(e,n){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,h,c){var f=s.get(e.stackedDimension,c);if(isNaN(f))return i;var p,v;o?v=s.getRawIndex(c):p=s.get(e.stackedByDimension,c);for(var m=NaN,g=n-1;g>=0;g--){var y=t[g];if(o||(v=y.data.rawIndexOf(y.stackedByDimension,p)),v>=0){var x=y.data.getByRawIndex(y.stackResultDimension,v);if(l==="all"||l==="positive"&&x>0||l==="negative"&&x<0||l==="samesign"&&f>=0&&x>0||l==="samesign"&&f<=0&&x<0){f=hpe(f,x),m=x;break}}}return r[0]=f,r[1]=m,r})})}var bx=function(){function t(e){this.data=e.data||(e.sourceFormat===Ga?{}:[]),this.sourceFormat=e.sourceFormat||SG,this.seriesLayoutBy=e.seriesLayoutBy||Ia,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&CG(this,r)===Cn.Must&&(i.type="ordinal")}}return t}();function AI(t){return t instanceof bx}function $_(t,e,n){n=n||MG(t);var r=e.seriesLayoutBy,i=bge(t,n,r,e.sourceHeader,e.dimensions),a=new bx({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:xe(e)});return a}function bI(t){return new bx({data:t,sourceFormat:Ar(t)?Co:wi})}function Age(t){return new bx({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:xe(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function MG(t){var e=SG;if(Ar(t))e=Co;else if(ee(t)){t.length===0&&(e=Fn);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i!=null){if(ee(i)||Ar(i)){e=Fn;break}else if(ye(i)){e=Si;break}}}}else if(ye(t)){for(var a in t)if(de(t,a)&&On(t[a])){e=Ga;break}}return e}function bge(t,e,n,r,i){var a,s;if(!t)return{dimensionsDefine:y2(i),startIndex:s,dimensionsDetectedCount:a};if(e===Fn){var o=t;r==="auto"||r==null?x2(function(u){u!=null&&u!=="-"&&(ue(u)?s==null&&(s=1):s=0)},n,o,10):s=nt(r)?r:r?1:0,!i&&s===1&&(i=[],x2(function(u,h){i[h]=u!=null?u+"":""},n,o,1/0)),a=i?i.length:n===Rh?o.length:o[0]?o[0].length:null}else if(e===Si)i||(i=wge(t));else if(e===Ga)i||(i=[],M(t,function(u,h){i.push(h)}));else if(e===wi){var l=kh(t[0]);a=ee(l)&&l.length||1}return{startIndex:s,dimensionsDefine:y2(i),dimensionsDetectedCount:a}}function wge(t){for(var e=0,n;e<t.length&&!(n=t[e++]););if(n)return Xe(n)}function y2(t){if(t){var e=pe();return te(t,function(n,r){n=ye(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function x2(t,e,n,r){if(e===Rh)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else for(var a=n[0]||[],i=0;i<a.length&&i<r;i++)t(a[i],i)}function DG(t){var e=t.sourceFormat;return e===Si||e===Ga}var yl,xl,Al,A2,b2,LG=function(){function t(e,n){var r=AI(e)?e:bI(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Co&&(this._offset=0,this._dimSize=n,this._data=i),b2(this,i,r)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,n){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;b2=function(s,o,l){var u=l.sourceFormat,h=l.seriesLayoutBy,c=l.startIndex,f=l.dimensionsDefine,p=A2[wI(u,h)];if(J(s,p),u===Co)s.getItem=n,s.count=i,s.fillStorage=r;else{var v=NG(u,h);s.getItem=fe(v,null,o,c,f);var m=zG(u,h);s.count=fe(m,null,o,c,f)}};var n=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,h=u*s,c=0;c<u;c++)o[c]=l[h+c];return o},r=function(s,o,l,u){for(var h=this._data,c=this._dimSize,f=0;f<c;f++){for(var p=u[f],v=p[0]==null?1/0:p[0],m=p[1]==null?-1/0:p[1],g=o-s,y=l[f],x=0;x<g;x++){var A=h[x*c+f];y[s+x]=A,A<v&&(v=A),A>m&&(m=A)}p[0]=v,p[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};A2=(e={},e[Fn+"_"+Ia]={pure:!0,appendData:a},e[Fn+"_"+Rh]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Si]={pure:!0,appendData:a},e[Ga]={pure:!0,appendData:function(s){var o=this._data;M(s,function(l,u){for(var h=o[u]||(o[u]=[]),c=0;c<(l||[]).length;c++)h.push(l[c])})}},e[wi]={appendData:a},e[Co]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),t}(),w2=function(t,e,n,r){return t[r]},Sge=(yl={},yl[Fn+"_"+Ia]=function(t,e,n,r){return t[r+e]},yl[Fn+"_"+Rh]=function(t,e,n,r,i){r+=e;for(var a=i||[],s=t,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[r]:null}return a},yl[Si]=w2,yl[Ga]=function(t,e,n,r,i){for(var a=i||[],s=0;s<n.length;s++){var o=n[s].name,l=t[o];a[s]=l?l[r]:null}return a},yl[wi]=w2,yl);function NG(t,e){var n=Sge[wI(t,e)];return n}var S2=function(t,e,n){return t.length},_ge=(xl={},xl[Fn+"_"+Ia]=function(t,e,n){return Math.max(0,t.length-e)},xl[Fn+"_"+Rh]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},xl[Si]=S2,xl[Ga]=function(t,e,n){var r=n[0].name,i=t[r];return i?i.length:0},xl[wi]=S2,xl);function zG(t,e){var n=_ge[wI(t,e)];return n}var bb=function(t,e,n){return t[e]},Tge=(Al={},Al[Fn]=bb,Al[Si]=function(t,e,n){return t[n]},Al[Ga]=bb,Al[wi]=function(t,e,n){var r=kh(t);return r instanceof Array?r[e]:r},Al[Co]=bb,Al);function RG(t){var e=Tge[t];return e}function wI(t,e){return t===Fn?t+"_"+e:t}function oh(t,e,n){if(t){var r=t.getRawDataItem(e);if(r!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(n!=null){var s=t.getDimensionIndex(n),o=i.getDimensionProperty(s);return RG(a)(r,s,o)}else{var l=r;return a===wi&&(l=kh(r)),l}}}}var Cge=/\{@(.+?)\}/g,Sx=function(){function t(){}return t.prototype.getDataParams=function(e,n){var r=this.getData(n),i=this.getRawValue(e,n),a=r.getRawIndex(e),s=r.getName(e),o=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),u=l&&l[r.getItemVisual(e,"drawType")||"fill"],h=l&&l.stroke,c=this.mainType,f=c==="series",p=r.userOutput&&r.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:n,value:i,color:u,borderColor:h,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,n,r,i,a,s){n=n||"normal";var o=this.getData(r),l=this.getDataParams(e,r);if(s&&(l.value=s.interpolatedValue),i!=null&&ee(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(e);a=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(me(a))return l.status=n,l.dimensionIndex=i,a(l);if(ue(a)){var h=yG(a,l);return h.replace(Cge,function(c,f){var p=f.length,v=f;v.charAt(0)==="["&&v.charAt(p-1)==="]"&&(v=+v.slice(1,p-1));var m=oh(o,e,v);if(s&&ee(s.interpolatedValue)){var g=o.getDimensionIndex(v);g>=0&&(m=s.interpolatedValue[g])}return m!=null?m+"":""})}},t.prototype.getRawValue=function(e,n){return oh(this.getData(n),e)},t.prototype.formatTooltip=function(e,n,r){},t}();function _2(t){var e,n;return ye(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function pd(t){return new Ige(t)}var Ige=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var s=h(this._modBy),o=this._modDataCount||0,l=h(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||o!==u)&&(a="reset");function h(x){return!(x>=1)&&(x=1),x}var c;(this._dirty||a==="reset")&&(this._dirty=!1,c=this._doReset(r)),this._modBy=l,this._modDataCount=u;var f=e&&e.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,v=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(c||p<v)){var m=this._progress;if(ee(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],p,v,l,u);else this._doProgress(m,p,v,l,u)}this._dueIndex=v;var y=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,n,r,i,a){T2.reset(n,r,i,a),this._callingProgress=e,this._callingProgress({start:n,end:r,count:r-n,next:T2.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!e&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),ee(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),T2=function(){var t,e,n,r,i,a={reset:function(l,u,h,c){e=l,t=u,n=h,r=c,i=Math.ceil(r/n),a.next=n>1&&r>0?o:s}};return a;function s(){return e<t?e++:null}function o(){var l=e%i*n+Math.ceil(e/i),u=e>=t?null:l<r?l:e;return e++,u}}();function Io(t,e){var n=e&&e.type;return n==="ordinal"?t:(n==="time"&&!nt(t)&&t!=null&&t!=="-"&&(t=+za(t)),t==null||t===""?NaN:Number(t))}var Ege=pe({number:function(t){return parseFloat(t)},time:function(t){return+za(t)},trim:function(t){return ue(t)?Ri(t):t}});function OG(t){return Ege.get(t)}var FG={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},kge=function(){function t(e,n){if(!nt(n)){var r="";ut(r)}this._opFn=FG[e],this._rvalFloat=Cs(n)}return t.prototype.evaluate=function(e){return nt(e)?this._opFn(e,this._rvalFloat):this._opFn(Cs(e),this._rvalFloat)},t}(),BG=function(){function t(e,n){var r=e==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,n){var r=nt(e)?e:Cs(e),i=nt(n)?n:Cs(n),a=isNaN(r),s=isNaN(i);if(a&&(r=this._incomparable),s&&(i=this._incomparable),a&&s){var o=ue(e),l=ue(n);o&&(r=l?e:0),l&&(i=o?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},t}(),Pge=function(){function t(e,n){this._rval=n,this._isEQ=e,this._rvalTypeof=typeof n,this._rvalFloat=Cs(n)}return t.prototype.evaluate=function(e){var n=e===this._rval;if(!n){var r=typeof e;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(n=Cs(e)===this._rvalFloat)}return this._isEQ?n:!n},t}();function jge(t,e){return t==="eq"||t==="ne"?new Pge(t==="eq",e):de(FG,t)?new kge(t,e):null}var Mge=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,n){},t.prototype.retrieveValueFromItem=function(e,n){},t.prototype.convertValue=function(e,n){return Io(e,n)},t}();function Dge(t,e){var n=new Mge,r=t.data,i=n.sourceFormat=t.sourceFormat,a=t.startIndex,s="";t.seriesLayoutBy!==Ia&&ut(s);var o=[],l={},u=t.dimensionsDefine;if(u)M(u,function(m,g){var y=m.name,x={index:g,name:y,displayName:m.displayName};if(o.push(x),y!=null){var A="";de(l,y)&&ut(A),l[y]=x}});else for(var h=0;h<t.dimensionsDetectedCount;h++)o.push({index:h});var c=NG(i,Ia);e.__isBuiltIn&&(n.getRawDataItem=function(m){return c(r,a,o,m)},n.getRawData=fe(Lge,null,t)),n.cloneRawData=fe(Nge,null,t);var f=zG(i,Ia);n.count=fe(f,null,r,a,o);var p=RG(i);n.retrieveValue=function(m,g){var y=c(r,a,o,m);return v(y,g)};var v=n.retrieveValueFromItem=function(m,g){if(m!=null){var y=o[g];if(y)return p(m,g,y.name)}};return n.getDimensionInfo=fe(zge,null,o,l),n.cloneAllDimensionInfo=fe(Rge,null,o),n}function Lge(t){var e=t.sourceFormat;if(!SI(e)){var n="";ut(n)}return t.data}function Nge(t){var e=t.sourceFormat,n=t.data;if(!SI(e)){var r="";ut(r)}if(e===Fn){for(var i=[],a=0,s=n.length;a<s;a++)i.push(n[a].slice());return i}else if(e===Si){for(var i=[],a=0,s=n.length;a<s;a++)i.push(J({},n[a]));return i}}function zge(t,e,n){if(n!=null){if(nt(n)||!isNaN(n)&&!de(e,n))return t[n];if(de(e,n))return e[n]}}function Rge(t){return xe(t)}var VG=pe();function Oge(t){t=xe(t);var e=t.type,n="";e||ut(n);var r=e.split(":");r.length!==2&&ut(n);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),t.__isBuiltIn=i,VG.set(e,t)}function Fge(t,e,n){var r=bt(t),i=r.length,a="";i||ut(a);for(var s=0,o=i;s<o;s++){var l=r[s];e=Bge(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function Bge(t,e,n,r){var i="";e.length||ut(i),ye(t)||ut(i);var a=t.type,s=VG.get(a);s||ut(i);var o=te(e,function(u){return Dge(u,s)}),l=bt(s.transform({upstream:o[0],upstreamList:o,config:xe(t.config)}));return te(l,function(u,h){var c="";ye(u)||ut(c),u.data||ut(c);var f=MG(u.data);SI(f)||ut(c);var p,v=e[0];if(v&&h===0&&!u.dimensions){var m=v.startIndex;m&&(u.data=v.data.slice(0,m).concat(u.data)),p={seriesLayoutBy:Ia,sourceHeader:m,dimensions:v.metaRawOption.dimensions}}else p={seriesLayoutBy:Ia,sourceHeader:0,dimensions:u.dimensions};return $_(u.data,p,null)})}function SI(t){return t===Fn||t===Si}var _x="undefined",Vge=typeof Uint32Array===_x?Array:Uint32Array,Hge=typeof Uint16Array===_x?Array:Uint16Array,HG=typeof Int32Array===_x?Array:Int32Array,C2=typeof Float64Array===_x?Array:Float64Array,GG={float:C2,int:HG,ordinal:Array,number:Array,time:C2},wb;function ff(t){return t>65535?Vge:Hge}function ec(){return[1/0,-1/0]}function Gge(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function I2(t,e,n,r,i){var a=GG[n||"float"];if(i){var s=t[e],o=s&&s.length;if(o!==r){for(var l=new a(r),u=0;u<o;u++)l[u]=s[u];t[e]=l}}else t[e]=new a(r)}var Y_=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=pe()}return t.prototype.initData=function(e,n,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=wb[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],DG(i),this._dimensions=te(n,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,n){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===n)return a}else a=i.length;return i[a]={type:n},r.set(e,a),this._chunks[a]=new GG[n||"float"](this._rawCount),this._rawExtent[a]=ec(),a},t.prototype.collectOrdinalMeta=function(e,n){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=r.length;s===0&&(a[e]=ec());for(var l=a[e],u=s;u<o;u++){var h=r[u]=n.parseAndCollect(r[u]);isNaN(h)||(l[0]=Math.min(h,l[0]),l[1]=Math.max(h,l[1]))}i.ordinalMeta=n,i.ordinalOffset=o,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var n=this._dimensions[e],r=n.ordinalMeta;return r},t.prototype.getDimensionProperty=function(e){var n=this._dimensions[e];return n&&n.property},t.prototype.appendData=function(e){var n=this._provider,r=this.count();n.appendData(e);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},t.prototype.appendValues=function(e,n){for(var r=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,n||0),u=0;u<a;u++){var h=i[u];I2(r,u,h.type,l,!0)}for(var c=[],f=o;f<l;f++)for(var p=f-o,v=0;v<a;v++){var h=i[v],m=wb.arrayRows.call(this,e[p]||c,h.property,p,v);r[v][f]=m;var g=s[v];m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},t.prototype._initDataFromProvider=function(e,n,r){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=te(s,function(x){return x.property}),h=0;h<o;h++){var c=s[h];l[h]||(l[h]=ec()),I2(a,h,c.type,n,r)}if(i.fillStorage)i.fillStorage(e,n,a,l);else for(var f=[],p=e;p<n;p++){f=i.getItem(p,f);for(var v=0;v<o;v++){var m=a[v],g=this._dimValueGetter(f,u[v],p,v);m[p]=g;var y=l[v];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(e,n){var r=[],i=[];if(n==null){n=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)r.push(this.get(i[a],n));return r},t.prototype.getByRawIndex=function(e,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[e];return r?r[n]:NaN},t.prototype.getSum=function(e){var n=this._chunks[e],r=0;if(n)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(r+=s)}return r},t.prototype.getMedian=function(e){var n=[];this.each([e],function(a){isNaN(a)||n.push(a)});var r=n.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var n=this._indices,r=n[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(n[s]<e)i=s+1;else if(n[s]>e)a=s-1;else return s}return-1},t.prototype.indicesOfNearest=function(e,n,r){var i=this._chunks,a=i[e],s=[];if(!a)return s;r==null&&(r=1/0);for(var o=1/0,l=-1,u=0,h=0,c=this.count();h<c;h++){var f=this.getRawIndex(h),p=n-a[f],v=Math.abs(p);v<=r&&((v<o||v===o&&p>=0&&l<0)&&(o=v,l=p,u=0),p===l&&(s[u++]=h))}return s.length=u,s},t.prototype.getIndices=function(){var e,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=n[a]}else e=new r(n.buffer,0,i)}else{var r=ff(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=ff(r._rawCount),s=new a(i),o=[],l=e.length,u=0,h=e[0],c=r._chunks,f=0;f<i;f++){var p=void 0,v=r.getRawIndex(f);if(l===0)p=n(f);else if(l===1){var m=c[h][v];p=n(m,f)}else{for(var g=0;g<l;g++)o[g]=c[e[g]][v];o[g]=f,p=n.apply(null,o)}p&&(s[u++]=v)}return u<i&&(r._indices=s),r._count=u,r._extent=[],r._updateGetRawIdx(),r},t.prototype.selectRange=function(e){var n=this.clone(),r=n._count;if(!r)return this;var i=Xe(e),a=i.length;if(!a)return this;var s=n.count(),o=ff(n._rawCount),l=new o(s),u=0,h=i[0],c=e[h][0],f=e[h][1],p=n._chunks,v=!1;if(!n._indices){var m=0;if(a===1){for(var g=p[i[0]],y=0;y<r;y++){var x=g[y];(x>=c&&x<=f||isNaN(x))&&(l[u++]=m),m++}v=!0}else if(a===2){for(var g=p[i[0]],A=p[i[1]],b=e[i[1]][0],S=e[i[1]][1],y=0;y<r;y++){var x=g[y],w=A[y];(x>=c&&x<=f||isNaN(x))&&(w>=b&&w<=S||isNaN(w))&&(l[u++]=m),m++}v=!0}}if(!v)if(a===1)for(var y=0;y<s;y++){var _=n.getRawIndex(y),x=p[i[0]][_];(x>=c&&x<=f||isNaN(x))&&(l[u++]=_)}else for(var y=0;y<s;y++){for(var T=!0,_=n.getRawIndex(y),C=0;C<a;C++){var E=i[C],x=p[E][_];(x<e[E][0]||x>e[E][1])&&(T=!1)}T&&(l[u++]=n.getRawIndex(y))}return u<s&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(e,n){var r=this.clone(e);return this._updateDims(r,e,n),r},t.prototype.modify=function(e,n){this._updateDims(this,e,n)},t.prototype._updateDims=function(e,n,r){for(var i=e._chunks,a=[],s=n.length,o=e.count(),l=[],u=e._rawExtent,h=0;h<n.length;h++)u[n[h]]=ec();for(var c=0;c<o;c++){for(var f=e.getRawIndex(c),p=0;p<s;p++)l[p]=i[n[p]][f];l[s]=c;var v=r&&r.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var h=0;h<v.length;h++){var m=n[h],g=v[h],y=u[m],x=i[m];x&&(x[f]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},t.prototype.lttbDownSample=function(e,n){var r=this.clone([e],!0),i=r._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/n),u=this.getRawIndex(0),h,c,f,p=new(ff(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));p[o++]=u;for(var v=1;v<s-1;v+=l){for(var m=Math.min(v+l,s-1),g=Math.min(v+l*2,s),y=(g+m)/2,x=0,A=m;A<g;A++){var b=this.getRawIndex(A),S=a[b];isNaN(S)||(x+=S)}x/=g-m;var w=v,_=Math.min(v+l,s),T=v-1,C=a[u];h=-1,f=w;for(var E=-1,k=0,A=w;A<_;A++){var b=this.getRawIndex(A),S=a[b];if(isNaN(S)){k++,E<0&&(E=b);continue}c=Math.abs((T-y)*(S-C)-(T-A)*(x-C)),c>h&&(h=c,f=b)}k>0&&k<_-w&&(p[o++]=Math.min(E,f),f=Math.max(E,f)),p[o++]=f,u=f}return p[o++]=this.getRawIndex(s-1),r._count=o,r._indices=p,r.getRawIndex=this._getRawIdx,r},t.prototype.downSample=function(e,n,r,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/n),u=s[e],h=this.count(),c=a._rawExtent[e]=ec(),f=new(ff(this._rawCount))(Math.ceil(h/l)),p=0,v=0;v<h;v+=l){l>h-v&&(l=h-v,o.length=l);for(var m=0;m<l;m++){var g=this.getRawIndex(v+m);o[m]=u[g]}var y=r(o),x=this.getRawIndex(Math.min(v+i(o,y)||0,h-1));u[x]=y,y<c[0]&&(c[0]=y),y>c[1]&&(c[1]=y),f[p++]=x}return a._count=p,a._indices=f,a._updateGetRawIdx(),a},t.prototype.each=function(e,n){if(this._count)for(var r=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(r){case 0:n(a);break;case 1:n(i[e[0]][o],a);break;case 2:n(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[e[l]][o];u[l]=a,n.apply(null,u)}}},t.prototype.getDataExtent=function(e){var n=this._chunks[e],r=ec();if(!n)return r;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=r;for(var o=s[0],l=s[1],u=0;u<i;u++){var h=this.getRawIndex(u),c=n[h];c<o&&(o=c),c>l&&(l=c)}return s=[o,l],this._extent[e]=s,s},t.prototype.getRawDataItem=function(e){var n=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][n]);return r},t.prototype.clone=function(e,n){var r=new t,i=this._chunks,a=e&&Da(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)r._chunks[s]=a[s]?Gge(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=xe(this._extent),e._rawExtent=xe(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,n=void 0;if(e===Array){var r=this._indices.length;n=new e(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new e(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(n,r,i,a){return Io(n[a],this._dimensions[a])}wb={arrayRows:e,objectRows:function(n,r,i,a){return Io(n[r],this._dimensions[a])},keyedColumns:e,original:function(n,r,i,a){var s=n&&(n.value==null?n:n.value);return Io(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(n,r,i,a){return n[a]}}}(),t}(),UG=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,n){this._sourceList=e,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,a;if(im(e)){var s=e,o=void 0,l=void 0,u=void 0;if(r){var h=n[0];h.prepareSource(),u=h.getSource(),o=u.data,l=u.sourceFormat,a=[h._getVersionSign()]}else o=s.get("data",!0),l=Ar(o)?Co:wi,a=[];var c=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},p=_e(c.seriesLayoutBy,f.seriesLayoutBy)||null,v=_e(c.sourceHeader,f.sourceHeader),m=_e(c.dimensions,f.dimensions),g=p!==f.seriesLayoutBy||!!v!=!!f.sourceHeader||m;i=g?[$_(o,{seriesLayoutBy:p,sourceHeader:v,dimensions:m},l)]:[]}else{var y=e;if(r){var x=this._applyTransform(n);i=x.sourceList,a=x.upstreamSignList}else{var A=y.get("source",!0);i=[$_(A,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&k2(a)}var s,o=[],l=[];return M(e,function(u){u.prepareSource();var h=u.getSource(i||0),c="";i!=null&&!h&&k2(c),o.push(h),l.push(u._getVersionSign())}),r?s=Fge(r,o,{datasetIndex:n.componentIndex}):i!=null&&(s=[Age(o[0])]),{sourceList:s,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var r=e[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var n=this._sourceList[e];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return n},t.prototype.getSharedDataStore=function(e){var n=e.makeStoreSchema();return this._innerGetDataStore(n.dimensions,e.source,n.hash)},t.prototype._innerGetDataStore=function(e,n,r){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[r];if(!o){var l=this._getUpstreamSourceManagers()[0];im(this._sourceHost)&&l?o=l._innerGetDataStore(e,n,r):(o=new Y_,o.initData(new LG(n,e.length),e)),s[r]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(im(e)){var n=gI(e);return n?[n.getSourceManager()]:[]}else return te(Xme(e),function(r){return r.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,n,r,i;if(im(e))n=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;n=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},t}();function E2(t){var e=t.option.transform;e&&hy(t.option.transform)}function im(t){return t.mainType==="series"}function k2(t){throw new Error(t)}var WG="line-height:1";function $G(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",s=t.fontSize||14,o=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+pr(r+"")+"px;color:"+pr(n)+";font-weight:"+pr(i+""),valueStyle:"font-size:"+pr(s+"")+"px;color:"+pr(a)+";font-weight:"+pr(o+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var Uge=[0,10,20,30],Wge=["",`
`,`

`,`


`];function gn(t,e){return e.type=t,e}function q_(t){return t.type==="section"}function YG(t){return q_(t)?$ge:Yge}function qG(t){if(q_(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return M(t.blocks,function(i){var a=qG(i);a>=e&&(e=a+ +(r&&(!a||q_(i)&&!i.noHeader)))}),e}return 0}function $ge(t,e,n,r){var i=e.noHeader,a=qge(qG(e)),s=[],o=e.blocks||[];er(!o||ee(o)),o=o||[];var l=t.orderMode;if(e.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(de(u,l)){var h=new BG(u[l],null);o.sort(function(v,m){return h.evaluate(v.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}M(o,function(v,m){var g=e.valueFormatter,y=YG(v)(g?J(J({},t),{valueFormatter:g}):t,v,m>0?a.html:0,r);y!=null&&s.push(y)});var c=t.renderMode==="richText"?s.join(a.richText):X_(s.join(""),i?n:a.html);if(i)return c;var f=G_(e.header,"ordinal",t.useUTC),p=$G(r,t.renderMode).nameStyle;return t.renderMode==="richText"?XG(t,f,p)+a.richText+c:X_('<div style="'+p+";"+WG+';">'+pr(f)+"</div>"+c,n)}function Yge(t,e,n,r){var i=t.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,u=t.useUTC,h=e.valueFormatter||t.valueFormatter||function(b){return b=ee(b)?b:[b],te(b,function(S,w){return G_(S,ee(p)?p[w]:p,u)})};if(!(a&&s)){var c=o?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":G_(l,"ordinal",u),p=e.valueType,v=s?[]:h(e.value,e.dataIndex),m=!o||!a,g=!o&&a,y=$G(r,i),x=y.nameStyle,A=y.valueStyle;return i==="richText"?(o?"":c)+(a?"":XG(t,f,x))+(s?"":Jge(t,v,m,g,A)):X_((o?"":c)+(a?"":Xge(f,!o,x))+(s?"":Zge(v,m,g,A)),n)}}function P2(t,e,n,r,i,a){if(t){var s=YG(t),o={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter};return s(o,t,0,a)}}function qge(t){return{html:Uge[t],richText:Wge[t]}}function X_(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+WG+';">'+t+n+"</div>"}function Xge(t,e,n){var r=e?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+pr(t)+"</span>"}function Zge(t,e,n,r){var i=n?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=ee(t)?t:[t],'<span style="'+a+";"+r+'">'+te(t,function(s){return pr(s)}).join("&nbsp;&nbsp;")+"</span>"}function XG(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function Jge(t,e,n,r,i){var a=[i],s=r?10:20;return n&&a.push({padding:[0,0,0,s],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(ee(e)?e.join("  "):e,a)}function ZG(t,e){var n=t.getData().getItemVisual(e,"style"),r=n[t.visualDrawType];return wu(r)}function JG(t,e){var n=t.get("padding");return n??(e==="richText"?[8,10]:10)}var Sb=function(){function t(){this.richTextStyles={},this._nextStyleNameId=c4()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,n,r){var i=r==="richText"?this._generateStyleName():null,a=Hme({color:n,type:e,renderMode:r,markerId:i});return ue(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,n){var r={};ee(n)?M(n,function(a){return J(r,a)}):J(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},t}();function KG(t){var e=t.series,n=t.dataIndex,r=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(n),l=ee(o),u=ZG(e,n),h,c,f,p;if(s>1||l&&!s){var v=Kge(o,e,n,a,u);h=v.inlineValues,c=v.inlineValueTypes,f=v.blocks,p=v.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);p=h=oh(i,n,a[0]),c=m.type}else p=h=l?o[0]:o;var g=qC(e),y=g&&e.name||"",x=i.getName(n),A=r?y:x;return gn("section",{header:y,noHeader:r||!g,sortParam:p,blocks:[gn("nameValue",{markerType:"item",markerColor:u,name:A,noName:!Ri(A),value:h,valueType:c,dataIndex:n})].concat(f||[])})}function Kge(t,e,n,r,i){var a=e.getData(),s=Da(t,function(c,f,p){var v=a.getDimensionInfo(p);return c=c||v&&v.tooltip!==!1&&v.displayName!=null},!1),o=[],l=[],u=[];r.length?M(r,function(c){h(oh(a,n,c),c)}):M(t,h);function h(c,f){var p=a.getDimensionInfo(f);!p||p.otherDims.tooltip===!1||(s?u.push(gn("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:c,valueType:p.type})):(o.push(c),l.push(p.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var $s=Qe();function am(t,e){return t.getName(e)||t.getId(e)}var mg="__universalTransitionEnabled",kt=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return e.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=pd({count:eye,reset:tye}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var a=$s(this).sourceManager=new UG(this);a.prepareSource();var s=this.getInitialData(n,i);M2(s,this),this.dataTask.context.data=s,$s(this).dataBeforeProcessed=s,j2(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=Yd(this),a=i?zh(n):{},s=this.subType;qe.hasClass(s)&&(s+="Series"),Me(n,r.getTheme().get(this.subType)),Me(n,this.getDefaultOption()),yu(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&Oo(n,a,i)},e.prototype.mergeOption=function(n,r){n=Me(this.option,n,!0),this.fillDataTextStyle(n.data);var i=Yd(this);i&&Oo(this.option,n,i);var a=$s(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(n,r);M2(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,$s(this).dataBeforeProcessed=s,j2(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(n){if(n&&!Ar(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&yu(n[i],"label",r)},e.prototype.getInitialData=function(n,r){},e.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},e.prototype.getData=function(n){var r=Z_(this);if(r){var i=r.context.data;return n==null||!i.getLinkedData?i:i.getLinkedData(n)}else return $s(this).data},e.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},e.prototype.setData=function(n){var r=Z_(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}$s(this).data=n},e.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return pe(n)},e.prototype.getSourceManager=function(){return $s(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return $s(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},e.prototype.formatTooltip=function(n,r,i){return KG({series:this,dataIndex:n,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(We.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(n,r,i){var a=this.ecModel,s=yI.prototype.getColorFromPalette.call(this,n,r,i);return s||(s=a.getColorFromPalette(n,r,i)),s},e.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},e.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<n.length;o++){var l=n[o],u=am(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(n,r){for(var i=[],a=0;a<n.length;a++)i[0]=n[a],this.isSelected(n[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Xe(n),i=[],a=0;a<r.length;a++){var s=n[r[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[am(a,n)])&&!a.getItemModel(n).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[mg])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},e.prototype._innerSelect=function(n,r){var i,a,s=this.option,o=s.selectedMode,l=r.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){ye(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,h=0;h<l;h++){var c=r[h],f=am(n,c);u[f]=!0,this._selectedDataIndicesMap[f]=n.getRawIndex(c)}}else if(o==="single"||o===!0){var p=r[l-1],f=am(n,p);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=n.getRawIndex(p),a)}}},e.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var a=n.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},e.registerClass=function(n){return qe.registerClass(n)},e.protoInitialize=function(){var n=e.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),e}(qe);an(kt,Sx);an(kt,yI);x4(kt,qe);function j2(t){var e=t.name;qC(t)||(t.name=Qge(t)||e)}function Qge(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return M(n,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function eye(t){return t.model.getRawData().count()}function tye(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),nye}function nye(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function M2(t,e){M(fy(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,Ee(rye,e))})}function rye(t,e){var n=Z_(t);return n&&n.setOutputEnd((e||this).count()),e}function Z_(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}var Ot=function(){function t(){this.group=new Ae,this.uid=Lh("viewComponent")}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){},t.prototype.updateLayout=function(e,n,r,i){},t.prototype.updateVisual=function(e,n,r,i){},t.prototype.toggleBlurSeries=function(e,n,r){},t.prototype.eachRendered=function(e){var n=this.group;n&&n.traverse(e)},t}();ZC(Ot);ix(Ot);function Oh(){var t=Qe();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,a=!!n.progressiveRender,s=n.large=!!(r&&r.large),o=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||a!==o)&&"reset"}}var QG=Qe(),iye=Oh(),St=function(){function t(){this.group=new Ae,this.uid=Lh("viewChart"),this.renderTask=pd({plan:aye,reset:sye}),this.renderTask.context={view:this}}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.highlight=function(e,n,r,i){var a=e.getData(i&&i.dataType);a&&L2(a,i,"emphasis")},t.prototype.downplay=function(e,n,r,i){var a=e.getData(i&&i.dataType);a&&L2(a,i,"normal")},t.prototype.remove=function(e,n){this.group.removeAll()},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateLayout=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateVisual=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.eachRendered=function(e){Xo(this.group,e)},t.markUpdateMethod=function(e,n){QG(e).updateMethod=n},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function D2(t,e,n){t&&Ud(t)&&(e==="emphasis"?Is:Es)(t,n)}function L2(t,e,n){var r=xu(t,e),i=e&&e.highlightKey!=null?Ove(e.highlightKey):null;r!=null?M(bt(r),function(a){D2(t.getItemGraphicEl(a),n,i)}):t.eachItemGraphicEl(function(a){D2(a,n,i)})}ZC(St);ix(St);function aye(t){return iye(t.model)}function sye(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,s=t.view,o=i&&QG(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,n,r,i),oye[l]}var oye={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},ky="\0__throttleOriginMethod",N2="\0__throttleRate",z2="\0__throttleType";function _I(t,e,n){var r,i=0,a=0,s=null,o,l,u,h;e=e||0;function c(){a=new Date().getTime(),s=null,t.apply(l,u||[])}var f=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];r=new Date().getTime(),l=this,u=p;var m=h||e,g=h||n;h=null,o=r-(g?i:a)-m,clearTimeout(s),g?s=setTimeout(c,m):o>=0?c():s=setTimeout(c,-o),i=r};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(p){h=p},f}function Fh(t,e,n,r){var i=t[e];if(i){var a=i[ky]||i,s=i[z2],o=i[N2];if(o!==n||s!==r){if(n==null||!r)return t[e]=a;i=t[e]=_I(a,n,r==="debounce"),i[ky]=a,i[z2]=r,i[N2]=n}return i}}function Xd(t,e){var n=t[e];n&&n[ky]&&(n.clear&&n.clear(),t[e]=n[ky])}var R2=Qe(),O2={itemStyle:Au(aG,!0),lineStyle:Au(iG,!0)},lye={lineStyle:"stroke",itemStyle:"fill"};function eU(t,e){var n=t.visualStyleMapper||O2[e];return n||(console.warn("Unknown style type '"+e+"'."),O2.itemStyle)}function tU(t,e){var n=t.visualDrawType||lye[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var uye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),a=eU(t,r),s=a(i),o=i.getShallow("decal");o&&(n.setVisual("decal",o),o.dirty=!0);var l=tU(t,r),u=s[l],h=me(u)?u:null,c=s.fill==="auto"||s.stroke==="auto";if(!s[l]||h||c){var f=t.getColorFromPalette(t.name,null,e.getSeriesCount());s[l]||(s[l]=f,n.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||me(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||me(s.stroke)?f:s.stroke}if(n.setVisual("style",s),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&h)return n.setVisual("colorFromPalette",!1),{dataEach:function(p,v){var m=t.getDataParams(v),g=J({},s);g[l]=h(m),p.setItemVisual(v,"style",g)}}}},df=new dt,cye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=eU(t,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[r]){df.option=l[r];var u=i(df),h=s.ensureUniqueItemVisual(o,"style");J(h,u),df.option.decal&&(s.setItemVisual(o,"decal",df.option.decal),df.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},hye={performRawSeries:!0,overallReset:function(t){var e=pe();t.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),R2(n).scope=a}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var r=n.getRawData(),i={},a=n.getData(),s=R2(n).scope,o=n.visualStyleAccessPath||"itemStyle",l=tU(n,o);a.each(function(u){var h=a.getRawIndex(u);i[h]=u}),r.each(function(u){var h=i[u],c=a.getItemVisual(h,"colorFromPalette");if(c){var f=a.ensureUniqueItemVisual(h,"style"),p=r.getName(u)||u+"",v=r.count();f[l]=n.getColorFromPalette(p,s,v)}})}})}},sm=Math.PI;function fye(t,e){e=e||{},ge(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Ae,r=new Ke({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i=new et({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Ke({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});n.add(a);var s;return e.showSpinner&&(s=new hx({shape:{startAngle:-sm/2,endAngle:-sm/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:sm*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:sm*3/2}).delay(300).start("circularInOut"),n.add(s)),n.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),h=t.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var nU=function(){function t(e,n,r,i){this._stageTaskMap=pe(),this.ecInstance=e,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return t.prototype.restoreData=function(e,n){e.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,n){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,s=a?r.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,n){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=r.progressiveEnabled&&n.incrementalPrepareRender&&a>=r.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:s,modDataCount:l,large:o}},t.prototype.restorePipelines=function(e){var n=this,r=n._pipelineMap=pe();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),n._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),r=this.api;M(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";er(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,n,r),i.overallReset&&this._createOverallStageTask(i,a,n,r)},this)},t.prototype.prepareView=function(e,n,r,i){var a=e.renderTask,s=a.context;s.model=n,s.ecModel=r,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(n,a)},t.prototype.performDataProcessorTasks=function(e,n){this._performStageTasks(this._dataProcessorHandlers,e,n,{block:!0})},t.prototype.performVisualTasks=function(e,n,r){this._performStageTasks(this._visualHandlers,e,n,r)},t.prototype._performStageTasks=function(e,n,r,i){i=i||{};var a=!1,s=this;M(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var h=s._stageTaskMap.get(l.uid),c=h.seriesTaskMap,f=h.overallTask;if(f){var p,v=f.agentStubMap;v.each(function(g){o(i,g)&&(g.dirty(),p=!0)}),p&&f.dirty(),s.updatePayload(f,r);var m=s.getPerformArgs(f,i.block);v.each(function(g){g.perform(m)}),f.perform(m)&&(a=!0)}else c&&c.each(function(g,y){o(i,g)&&g.dirty();var x=s.getPerformArgs(g,i.block);x.skip=!l.performRawSeries&&n.isSeriesFiltered(g.context.model),s.updatePayload(g,r),g.perform(x)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var n;e.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var n=e.tail;do{if(n.__block){e.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(e,n){n!=="remain"&&(e.context.payload=n)},t.prototype._createSeriesStageTask=function(e,n,r,i){var a=this,s=n.seriesTaskMap,o=n.seriesTaskMap=pe(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(h):l?r.eachRawSeriesByType(l,h):u&&u(r,i).each(h);function h(c){var f=c.uid,p=o.set(f,s&&s.get(f)||pd({plan:gye,reset:yye,count:Aye}));p.context={model:c,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(c,p)}},t.prototype._createOverallStageTask=function(e,n,r,i){var a=this,s=n.overallTask=n.overallTask||pd({reset:dye});s.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=pe(),u=e.seriesType,h=e.getTargetSeries,c=!0,f=!1,p="";er(!e.createOnAllSeries,p),u?r.eachRawSeriesByType(u,v):h?h(r,i).each(v):(c=!1,M(r.getSeries(),v));function v(m){var g=m.uid,y=l.set(g,o&&o.get(g)||(f=!0,pd({reset:pye,onDirty:mye})));y.context={model:m,overallProgress:c},y.agent=s,y.__block=c,a._pipe(m,y)}f&&s.dirty()},t.prototype._pipe=function(e,n){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},t.wrapStageHandler=function(e,n){return me(e)&&(e={overallReset:e,seriesType:bye(e)}),e.uid=Lh("stageHandler"),n&&(e.visualType=n),e},t}();function dye(t){t.overallReset(t.ecModel,t.api,t.payload)}function pye(t){return t.overallProgress&&vye}function vye(){this.agent.dirty(),this.getDownstream().dirty()}function mye(){this.agent&&this.agent.dirty()}function gye(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function yye(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=bt(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?te(e,function(n,r){return rU(r)}):xye}var xye=rU(0);function rU(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function Aye(t){return t.data.count()}function bye(t){Py=null;try{t(Zd,iU)}catch{}return Py}var Zd={},iU={},Py;aU(Zd,xI);aU(iU,kG);Zd.eachSeriesByType=Zd.eachRawSeriesByType=function(t){Py=t};Zd.eachComponent=function(t){t.mainType==="series"&&t.subType&&(Py=t.subType)};function aU(t,e){for(var n in e.prototype)t[n]=Jt}var F2=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const wye={color:F2,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],F2]};var Un="#B9B8CE",B2="#100C2A",om=function(){return{axisLine:{lineStyle:{color:Un}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},V2=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],sU={darkMode:!0,color:V2,backgroundColor:B2,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Un}},textStyle:{color:Un},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Un}},dataZoom:{borderColor:"#71708A",textStyle:{color:Un},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Un}},timeline:{lineStyle:{color:Un},label:{color:Un},controlStyle:{color:Un,borderColor:Un}},calendar:{itemStyle:{color:B2},dayLabel:{color:Un},monthLabel:{color:Un},yearLabel:{color:Un}},timeAxis:om(),logAxis:om(),valueAxis:om(),categoryAxis:om(),line:{symbol:"circle"},graph:{color:V2},gauge:{title:{color:Un},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Un},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};sU.categoryAxis.splitLine.show=!1;var Sye=function(){function t(){}return t.prototype.normalizeQuery=function(e){var n={},r={},i={};if(ue(e)){var a=ga(e);n.mainType=a.main||null,n.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};M(e,function(l,u){for(var h=!1,c=0;c<s.length;c++){var f=s[c],p=u.lastIndexOf(f);if(p>0&&p===u.length-f.length){var v=u.slice(0,p);v!=="data"&&(n.mainType=v,n[f.toLowerCase()]=l,h=!0)}}o.hasOwnProperty(u)&&(r[u]=l,h=!0),h||(i[u]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},t.prototype.filter=function(e,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,s=r.model,o=r.view;if(!s||!o)return!0;var l=n.cptQuery,u=n.dataQuery;return h(l,s,"mainType")&&h(l,s,"subType")&&h(l,s,"index","componentIndex")&&h(l,s,"name")&&h(l,s,"id")&&h(u,a,"name")&&h(u,a,"dataIndex")&&h(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,n.otherQuery,i,a));function h(c,f,p,v){return c[p]==null||f[v||p]===c[p]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),J_=["symbol","symbolSize","symbolRotate","symbolOffset"],H2=J_.concat(["symbolKeepAspect"]),_ye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var r={},i={},a=!1,s=0;s<J_.length;s++){var o=J_[s],l=t.get(o);me(l)?(a=!0,i[o]=l):r[o]=l}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(J({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),e.isSeriesFiltered(t))return;var u=Xe(i);function h(c,f){for(var p=t.getRawValue(f),v=t.getDataParams(f),m=0;m<u.length;m++){var g=u[m];c.setItemVisual(f,g,i[g](p,v))}}return{dataEach:a?h:null}}},Tye={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var n=t.getData();function r(i,a){for(var s=i.getItemModel(a),o=0;o<H2.length;o++){var l=H2[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:n.hasItemOption?r:null}}};function TI(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function Wp(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function oU(t,e,n,r){switch(n){case"color":var i=t.ensureUniqueItemVisual(e,"style");i[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r);break}}function lU(t,e){function n(r,i){var a=[];return r.eachComponent({mainType:"series",subType:t,query:i},function(s){a.push(s.seriesIndex)}),a}M([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,s){i=J({},i),s.dispatchAction(J(i,{type:r[1],seriesIndex:n(a,i)}))})})}function tc(t,e,n,r,i){var a=t+e;n.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,h=0;h<u.length;h++)if(u[h].seriesIndex===o){var c=s.getData(),f=xu(c,i.fromActionPayload);n.trigger(a,{type:a,seriesId:s.id,name:ee(f)?c.getName(f[0]):c.getName(f),selected:ue(l)?l:J({},l)})}})}function Cye(t,e,n){t.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(tc("map","selectchanged",e,i,r),tc("pie","selectchanged",e,i,r)):r.fromAction==="select"?(tc("map","selected",e,i,r),tc("pie","selected",e,i,r)):r.fromAction==="unselect"&&(tc("map","unselected",e,i,r),tc("pie","unselected",e,i,r))})}function Zl(t,e,n){for(var r;t&&!(e(t)&&(r=t,n));)t=t.__hostTarget||t.parent;return r}var Iye=Math.round(Math.random()*9),Eye=typeof Object.defineProperty=="function",kye=function(){function t(){this._id="__ec_inner_"+Iye++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,n){var r=this._guard(e);return Eye?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),Pye=Ve.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r+a),t.lineTo(n-i,r+a),t.closePath()}}),jye=Ve.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,a=e.height/2;t.moveTo(n,r-a),t.lineTo(n+i,r),t.lineTo(n,r+a),t.lineTo(n-i,r),t.closePath()}}),Mye=Ve.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=r-a+s+o,u=Math.asin(o/s),h=Math.cos(u)*s,c=Math.sin(u),f=Math.cos(u),p=s*.6,v=s*.7;t.moveTo(n-h,l+o),t.arc(n,l,s,Math.PI-u,Math.PI*2+u),t.bezierCurveTo(n+h-c*p,l+o+f*p,n,r-v,n,r),t.bezierCurveTo(n,r-v,n-h+c*p,l+o+f*p,n-h,l+o),t.closePath()}}),Dye=Ve.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,a=e.y,s=r/3*2;t.moveTo(i,a),t.lineTo(i+s,a+n),t.lineTo(i,a+n/4*3),t.lineTo(i-s,a+n),t.lineTo(i,a),t.closePath()}}),Lye={line:dn,rect:Ke,roundRect:Ke,square:Ke,circle:zs,diamond:jye,pin:Mye,arrow:Dye,triangle:Pye},Nye={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var a=Math.min(n,r);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},jy={};M(Lye,function(t,e){jy[e]=new t});var zye=Ve.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=Ay(t,e,n),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(t,e,n){var r=e.symbolType;if(r!=="none"){var i=jy[r];i||(r="rect",i=jy[r]),Nye[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function Rye(t,e){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=t:n.fill=t,this.markRedraw()}}function rn(t,e,n,r,i,a,s){var o=t.indexOf("empty")===0;o&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=Z4(t.slice(8),new De(e,n,r,i),s?"center":"cover"):t.indexOf("path://")===0?l=fx(t.slice(7),{},new De(e,n,r,i),s?"center":"cover"):l=new zye({shape:{symbolType:t,x:e,y:n,width:r,height:i}}),l.__isEmptyBrush=o,l.setColor=Rye,a&&l.setColor(a),l}function Bh(t){return ee(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function Nu(t,e){if(t!=null)return ee(t)||(t=[t,t]),[se(t[0],e[0])||0,se(_e(t[1],t[0]),e[1])||0]}function Jl(t){return isFinite(t)}function Oye(t,e,n){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,s=s*n.height+n.y),r=Jl(r)?r:0,i=Jl(i)?i:1,a=Jl(a)?a:0,s=Jl(s)?s:0;var o=t.createLinearGradient(r,a,i,s);return o}function Fye(t,e,n){var r=n.width,i=n.height,a=Math.min(r,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*r+n.x,o=o*i+n.y,l=l*a),s=Jl(s)?s:.5,o=Jl(o)?o:.5,l=l>=0&&Jl(l)?l:.5;var u=t.createRadialGradient(s,o,0,s,o,l);return u}function K_(t,e,n){for(var r=e.type==="radial"?Fye(t,e,n):Oye(t,e,n),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function Bye(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function lm(t){return parseInt(t,10)}function Pc(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var o=document.defaultView.getComputedStyle(t);return(t[i]||lm(o[r])||lm(t.style[r]))-(lm(o[a])||0)-(lm(o[s])||0)|0}function Vye(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:nt(t)?[t]:ee(t)?t:null}function CI(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&Vye(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(n){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(n=te(n,function(a){return a/i}),r/=i)}return[n,r]}var Hye=new Ra(!0);function My(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function G2(t){return typeof t=="string"&&t!=="none"}function Dy(t){var e=t.fill;return e!=null&&e!=="none"}function U2(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function W2(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function Q_(t,e,n){var r=JC(e.image,e.__image,n);if(ax(r)){var i=t.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*rg),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function Gye(t,e,n,r){var i,a=My(n),s=Dy(n),o=n.strokePercent,l=o<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var h=e.path||Hye,c=e.__dirty;if(!r){var f=n.fill,p=n.stroke,v=s&&!!f.colorStops,m=a&&!!p.colorStops,g=s&&!!f.image,y=a&&!!p.image,x=void 0,A=void 0,b=void 0,S=void 0,w=void 0;(v||m)&&(w=e.getBoundingRect()),v&&(x=c?K_(t,f,w):e.__canvasFillGradient,e.__canvasFillGradient=x),m&&(A=c?K_(t,p,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=A),g&&(b=c||!e.__canvasFillPattern?Q_(t,f,e):e.__canvasFillPattern,e.__canvasFillPattern=b),y&&(S=c||!e.__canvasStrokePattern?Q_(t,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=b),v?t.fillStyle=x:g&&(b?t.fillStyle=b:s=!1),m?t.strokeStyle=A:y&&(S?t.strokeStyle=S:a=!1)}var _=e.getGlobalScale();h.setScale(_[0],_[1],e.segmentIgnoreThreshold);var T,C;t.setLineDash&&n.lineDash&&(i=CI(e),T=i[0],C=i[1]);var E=!0;(u||c&pc)&&(h.setDPR(t.dpr),l?h.setContext(null):(h.setContext(t),E=!1),h.reset(),e.buildPath(h,e.shape,r),h.toStatic(),e.pathUpdated()),E&&h.rebuildPath(t,l?o:1),T&&(t.setLineDash(T),t.lineDashOffset=C),r||(n.strokeFirst?(a&&W2(t,n),s&&U2(t,n)):(s&&U2(t,n),a&&W2(t,n))),T&&t.setLineDash([])}function Uye(t,e,n){var r=e.__image=JC(n.image,e.__image,e,e.onload);if(!(!r||!ax(r))){var i=n.x||0,a=n.y||0,s=e.getWidth(),o=e.getHeight(),l=r.width/r.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=r.width,o=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,h=n.sy||0;t.drawImage(r,u,h,n.sWidth,n.sHeight,i,a,s,o)}else if(n.sx&&n.sy){var u=n.sx,h=n.sy,c=s-u,f=o-h;t.drawImage(r,u,h,c,f,i,a,s,o)}else t.drawImage(r,i,a,s,o)}}function Wye(t,e,n){var r,i=n.text;if(i!=null&&(i+=""),i){t.font=n.font||Lo,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var a=void 0,s=void 0;t.setLineDash&&n.lineDash&&(r=CI(e),a=r[0],s=r[1]),a&&(t.setLineDash(a),t.lineDashOffset=s),n.strokeFirst?(My(n)&&t.strokeText(i,n.x,n.y),Dy(n)&&t.fillText(i,n.x,n.y)):(Dy(n)&&t.fillText(i,n.x,n.y),My(n)&&t.strokeText(i,n.x,n.y)),a&&t.setLineDash([])}}var $2=["shadowBlur","shadowOffsetX","shadowOffsetY"],Y2=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function uU(t,e,n,r,i){var a=!1;if(!r&&(n=n||{},e===n))return!1;if(r||e.opacity!==n.opacity){gr(t,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(s)?lu.opacity:s}(r||e.blend!==n.blend)&&(a||(gr(t,i),a=!0),t.globalCompositeOperation=e.blend||lu.blend);for(var o=0;o<$2.length;o++){var l=$2[o];(r||e[l]!==n[l])&&(a||(gr(t,i),a=!0),t[l]=t.dpr*(e[l]||0))}return(r||e.shadowColor!==n.shadowColor)&&(a||(gr(t,i),a=!0),t.shadowColor=e.shadowColor||lu.shadowColor),a}function q2(t,e,n,r,i){var a=Jd(e,i.inHover),s=r?null:n&&Jd(n,i.inHover)||{};if(a===s)return!1;var o=uU(t,a,s,r,i);if((r||a.fill!==s.fill)&&(o||(gr(t,i),o=!0),G2(a.fill)&&(t.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(o||(gr(t,i),o=!0),G2(a.stroke)&&(t.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(o||(gr(t,i),o=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(o||(gr(t,i),o=!0),t.lineWidth=u)}for(var h=0;h<Y2.length;h++){var c=Y2[h],f=c[0];(r||a[f]!==s[f])&&(o||(gr(t,i),o=!0),t[f]=a[f]||c[1])}return o}function $ye(t,e,n,r,i){return uU(t,Jd(e,i.inHover),n&&Jd(n,i.inHover),r,i)}function cU(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function Yye(t,e,n){for(var r=!1,i=0;i<t.length;i++){var a=t[i];r=r||a.isZeroArea(),cU(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}n.allClipped=r}function qye(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var X2=1,Z2=2,J2=3,K2=4;function Xye(t){var e=Dy(t),n=My(t);return!(t.lineDash||!(+e^+n)||e&&typeof t.fill!="string"||n&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function gr(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Jd(t,e){return e&&t.__hoverStyle||t.style}function hU(t,e){Kl(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Kl(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){e.__dirty&=~Pr,e.__isRendered=!1;return}var a=e.__clipPaths,s=n.prevElClipPaths,o=!1,l=!1;if((!s||Bye(a,s))&&(s&&s.length&&(gr(t,n),t.restore(),l=o=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),a&&a.length&&(gr(t,n),t.save(),Yye(a,t,n),o=!0),n.prevElClipPaths=a),n.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=n.prevEl;u||(l=o=!0);var h=e instanceof Ve&&e.autoBatch&&Xye(e.style);o||qye(i,u.transform)?(gr(t,n),cU(t,e)):h||gr(t,n);var c=Jd(e,n.inHover);e instanceof Ve?(n.lastDrawType!==X2&&(l=!0,n.lastDrawType=X2),q2(t,e,u,l,n),(!h||!n.batchFill&&!n.batchStroke)&&t.beginPath(),Gye(t,e,c,h),h&&(n.batchFill=c.fill||"",n.batchStroke=c.stroke||"")):e instanceof ah?(n.lastDrawType!==J2&&(l=!0,n.lastDrawType=J2),q2(t,e,u,l,n),Wye(t,e,c)):e instanceof Sn?(n.lastDrawType!==Z2&&(l=!0,n.lastDrawType=Z2),$ye(t,e,u,l,n),Uye(t,e,c)):e.getTemporalDisplayables&&(n.lastDrawType!==K2&&(l=!0,n.lastDrawType=K2),Zye(t,e,n)),h&&r&&gr(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}function Zye(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},s,o;for(s=e.getCursor(),o=r.length;s<o;s++){var l=r[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Kl(t,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,h=i.length;u<h;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Kl(t,l,a,u===h-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var _b=new kye,Q2=new zp(100),eL=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function lh(t,e){if(t==="none")return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";t.dirty&&_b.delete(t);var a=_b.get(t);if(a)return a;var s=ge(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/n,_b.set(t,o),t.dirty=!1,o;function l(u){for(var h=[n],c=!0,f=0;f<eL.length;++f){var p=s[eL[f]];if(p!=null&&!ee(p)&&!ue(p)&&!nt(p)&&typeof p!="boolean"){c=!1;break}h.push(p)}var v;if(c){v=h.join(",")+(i?"-svg":"");var m=Q2.get(v);m&&(i?u.svgElement=m:u.image=m)}var g=dU(s.dashArrayX),y=Jye(s.dashArrayY),x=fU(s.symbol),A=Kye(g),b=pU(y),S=!i&&No.createCanvas(),w=i&&{tag:"g",attrs:{},key:"dcl",children:[]},_=C(),T;S&&(S.width=_.width*n,S.height=_.height*n,T=S.getContext("2d")),E(),c&&Q2.put(v,S||w),u.image=S,u.svgElement=w,u.svgWidth=_.width,u.svgHeight=_.height;function C(){for(var k=1,I=0,j=A.length;I<j;++I)k=gD(k,A[I]);for(var P=1,I=0,j=x.length;I<j;++I)P=gD(P,x[I].length);k*=P;var D=b*A.length*x.length;return{width:Math.max(1,Math.min(k,s.maxTileWidth)),height:Math.max(1,Math.min(D,s.maxTileHeight))}}function E(){T&&(T.clearRect(0,0,S.width,S.height),s.backgroundColor&&(T.fillStyle=s.backgroundColor,T.fillRect(0,0,S.width,S.height)));for(var k=0,I=0;I<y.length;++I)k+=y[I];if(k<=0)return;for(var j=-b,P=0,D=0,L=0;j<_.height;){if(P%2===0){for(var F=D/2%x.length,V=0,U=0,z=0;V<_.width*2;){for(var H=0,I=0;I<g[L].length;++I)H+=g[L][I];if(H<=0)break;if(U%2===0){var G=(1-s.symbolSize)*.5,N=V+g[L][U]*G,W=j+y[P]*G,q=g[L][U]*s.symbolSize,$=y[P]*s.symbolSize,Z=z/2%x[F].length;X(N,W,q,$,x[F][Z])}V+=g[L][U],++z,++U,U===g[L].length&&(U=0)}++L,L===g.length&&(L=0)}j+=y[P],++D,++P,P===y.length&&(P=0)}function X(Q,re,K,le,we){var oe=i?1:n,Pe=rn(we,Q*oe,re*oe,K*oe,le*oe,s.color,s.symbolKeepAspect);if(i){var Le=r.painter.renderOneToVNode(Pe);Le&&w.children.push(Le)}else hU(T,Pe)}}}}function fU(t){if(!t||t.length===0)return[["rect"]];if(ue(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!ue(t[n])){e=!1;break}if(e)return fU([t]);for(var r=[],n=0;n<t.length;++n)ue(t[n])?r.push([t[n]]):r.push(t[n]);return r}function dU(t){if(!t||t.length===0)return[[0,0]];if(nt(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if(!nt(t[r])){n=!1;break}if(n)return dU([t]);for(var i=[],r=0;r<t.length;++r)if(nt(t[r])){var e=Math.ceil(t[r]);i.push([e,e])}else{var e=te(t[r],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function Jye(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(nt(t)){var e=Math.ceil(t);return[e,e]}var n=te(t,function(r){return Math.ceil(r)});return t.length%2?n.concat(n):n}function Kye(t){return te(t,function(e){return pU(e)})}function pU(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?e*2:e}function Qye(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(s){var o=r.getItemVisual(s,"decal");if(o){var l=r.ensureUniqueItemVisual(s,"style");l.decal=lh(o,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=lh(i,e)}}})}var Mi=new bi,vU={};function e0e(t,e){vU[t]=e}function t0e(t){return vU[t]}var n0e=1,r0e=800,i0e=900,a0e=1e3,s0e=2e3,o0e=5e3,mU=1e3,l0e=1100,II=2e3,gU=3e3,u0e=4e3,Tx=4500,c0e=4600,h0e=5e3,f0e=6e3,yU=7e3,d0e={PROCESSOR:{FILTER:a0e,SERIES_FILTER:r0e,STATISTIC:o0e},VISUAL:{LAYOUT:mU,PROGRESSIVE_LAYOUT:l0e,GLOBAL:II,CHART:gU,POST_CHART_LAYOUT:c0e,COMPONENT:u0e,BRUSH:h0e,CHART_ITEM:Tx,ARIA:f0e,DECAL:yU}},Dn="__flagInMainProcess",hr="__pendingUpdate",Tb="__needsUpdateStatus",tL=/^[a-zA-Z0-9_]+$/,Cb="__connectUpdateStatus",nL=0,p0e=1,v0e=2;function xU(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.isDisposed()){this.id;return}return bU(this,t,e)}}function AU(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return bU(this,t,e)}}function bU(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),bi.prototype[e].apply(t,n)}var wU=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(bi),SU=wU.prototype;SU.on=AU("on");SU.off=AU("off");var nc,Ib,um,Ys,Eb,kb,Pb,pf,vf,rL,iL,jb,aL,cm,sL,_U,$r,oL,TU=function(t){Y(e,t);function e(n,r,i){var a=t.call(this,new Sye)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},ue(r)&&(r=CU[r]),a._dom=n;var s="canvas",o="auto",l=!1;i.ssr&&ope(function(f){var p=Se(f),v=p.dataIndex;if(v!=null){var m=pe();return m.set("series_index",p.seriesIndex),m.set("data_index",v),p.ssrType&&m.set("ssr_type",p.ssrType),m}});var u=a._zr=dD(n,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:_e(i.useDirtyRect,l),useCoarsePointer:_e(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=_I(fe(u.flush,u),17),r=xe(r),r&&jG(r,!0),a._theme=r,a._locale=Nme(i.locale||sG),a._coordSysMgr=new Up;var h=a._api=sL(a);function c(f,p){return f.__prio-p.__prio}return sg(Ny,c),sg(e1,c),a._scheduler=new nU(a,h,e1,Ny),a._messageCenter=new wU,a._initEvents(),a.resize=fe(a.resize,a),u.animation.on("frame",a._onframe,a),rL(u,a),iL(u,a),hy(a),a}return e.prototype._onframe=function(){if(!this._disposed){oL(this);var n=this._scheduler;if(this[hr]){var r=this[hr].silent;this[Dn]=!0;try{nc(this),Ys.update.call(this,null,this[hr].updateParams)}catch(l){throw this[Dn]=!1,this[hr]=null,l}this._zr.flush(),this[Dn]=!1,this[hr]=null,pf.call(this,r),vf.call(this,r)}else if(n.unfinished){var i=n0e,a=this._model,s=this._api;n.unfinished=!1;do{var o=+new Date;n.performSeriesTasks(a),n.performDataProcessorTasks(a),kb(this,a),n.performVisualTasks(a),cm(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(n,r,i){if(!this[Dn]){if(this._disposed){this.id;return}var a,s,o;if(ye(r)&&(i=r.lazyUpdate,a=r.silent,s=r.replaceMerge,o=r.transition,r=r.notMerge),this[Dn]=!0,!this._model||r){var l=new sge(this._api),u=this._theme,h=this._model=new xI;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:s},t1);var c={seriesTransition:o,optionChanged:!0};if(i)this[hr]={silent:a,updateParams:c},this[Dn]=!1,this.getZr().wakeUp();else{try{nc(this),Ys.update.call(this,null,c)}catch(f){throw this[hr]=null,this[Dn]=!1,f}this._ssr||this._zr.flush(),this[hr]=null,this[Dn]=!1,pf.call(this,a),vf.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||We.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},e.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},e.prototype.getSvgDataURL=function(){if(We.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return M(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},e.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,a=[],s=this;M(r,function(l){i.eachComponent({mainType:l},function(u){var h=s._componentsMap[u.__viewId];h.group.ignore||(a.push(h),h.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return M(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(lL[i]){var l=o,u=o,h=-o,c=-o,f=[],p=n&&n.pixelRatio||this.getDevicePixelRatio();M(md,function(A,b){if(A.group===i){var S=r?A.getZr().painter.getSvgDom().innerHTML:A.renderToCanvas(xe(n)),w=A.getDom().getBoundingClientRect();l=a(w.left,l),u=a(w.top,u),h=s(w.right,h),c=s(w.bottom,c),f.push({dom:S,left:w.left,top:w.top})}}),l*=p,u*=p,h*=p,c*=p;var v=h-l,m=c-u,g=No.createCanvas(),y=dD(g,{renderer:r?"svg":"canvas"});if(y.resize({width:v,height:m}),r){var x="";return M(f,function(A){var b=A.left-l,S=A.top-u;x+='<g transform="translate('+b+","+S+')">'+A.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=x,n.connectedBackgroundColor&&y.painter.setBackgroundColor(n.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return n.connectedBackgroundColor&&y.add(new Ke({shape:{x:0,y:0,width:v,height:m},style:{fill:n.connectedBackgroundColor}})),M(f,function(A){var b=new Sn({style:{x:A.left*p-l,y:A.top*p-u,image:A.dom}});y.add(b)}),y.refreshImmediately(),g.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},e.prototype.convertToPixel=function(n,r){return Eb(this,"convertToPixel",n,r)},e.prototype.convertFromPixel=function(n,r){return Eb(this,"convertFromPixel",n,r)},e.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,a,s=ud(i,n);return M(s,function(o,l){l.indexOf("Models")>=0&&M(o,function(u){var h=u.coordinateSystem;if(h&&h.containPoint)a=a||!!h.containPoint(r);else if(l==="seriesModels"){var c=this._chartsMap[u.__viewId];c&&c.containPoint&&(a=a||c.containPoint(r,u))}},this)},this),!!a},e.prototype.getVisual=function(n,r){var i=this._model,a=ud(i,n,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?TI(o,l,r):Wp(o,r)},e.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},e.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},e.prototype._initEvents=function(){var n=this;M(m0e,function(r){var i=function(a){var s=n.getModel(),o=a.target,l,u=r==="globalout";if(u?l={}:o&&Zl(o,function(v){var m=Se(v);if(m&&m.dataIndex!=null){var g=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=g&&g.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=J({},m.eventData),!0},!0),l){var h=l.componentType,c=l.componentIndex;(h==="markLine"||h==="markPoint"||h==="markArea")&&(h="series",c=l.seriesIndex);var f=h&&c!=null&&s.getComponent(h,c),p=f&&n[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=r,n._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:p},n.trigger(r,l)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),M(vd,function(r,i){n._messageCenter.on(i,function(a){this.trigger(i,a)},n)}),M(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),Cye(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&m4(this.getDom(),kI,"");var r=this,i=r._api,a=r._model;M(r._componentsViews,function(s){s.dispose(a,i)}),M(r._chartsViews,function(s){s.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete md[r.id]},e.prototype.resize=function(n){if(!this[Dn]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=n&&n.silent;this[hr]&&(a==null&&(a=this[hr].silent),i=!0,this[hr]=null),this[Dn]=!0;try{i&&nc(this),Ys.update.call(this,{type:"resize",animation:J({duration:0},n&&n.animation)})}catch(s){throw this[Dn]=!1,s}this[Dn]=!1,pf.call(this,a),vf.call(this,a)}}},e.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(ye(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!n1[n]){var i=n1[n](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(n){var r=J({},n);return r.type=vd[n.type],r},e.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(ye(r)||(r={silent:!!r}),!!Ly[n.type]&&this._model){if(this[Dn]){this._pendingActions.push(n);return}var i=r.silent;Pb.call(this,n,i);var a=r.flush;a?this._zr.flush():a!==!1&&We.browser.weChat&&this._throttledZrFlush(),pf.call(this,i),vf.call(this,i)}},e.prototype.updateLabelLayout=function(){Mi.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){nc=function(c){var f=c._scheduler;f.restorePipelines(c._model),f.prepareStageTasks(),Ib(c,!0),Ib(c,!1),f.plan()},Ib=function(c,f){for(var p=c._model,v=c._scheduler,m=f?c._componentsViews:c._chartsViews,g=f?c._componentsMap:c._chartsMap,y=c._zr,x=c._api,A=0;A<m.length;A++)m[A].__alive=!1;f?p.eachComponent(function(w,_){w!=="series"&&b(_)}):p.eachSeries(b);function b(w){var _=w.__requireNewView;w.__requireNewView=!1;var T="_ec_"+w.id+"_"+w.type,C=!_&&g[T];if(!C){var E=ga(w.type),k=f?Ot.getClass(E.main,E.sub):St.getClass(E.sub);C=new k,C.init(p,x),g[T]=C,m.push(C),y.add(C.group)}w.__viewId=C.__id=T,C.__alive=!0,C.__model=w,C.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!f&&v.prepareView(C,w,p,x)}for(var A=0;A<m.length;){var S=m[A];S.__alive?A++:(!f&&S.renderTask.dispose(),y.remove(S.group),S.dispose(p,x),m.splice(A,1),g[S.__id]===S&&delete g[S.__id],S.__id=S.group.__ecComponentInfo=null)}},um=function(c,f,p,v,m){var g=c._model;if(g.setUpdatePayload(p),!v){M([].concat(c._componentsViews).concat(c._chartsViews),S);return}var y={};y[v+"Id"]=p[v+"Id"],y[v+"Index"]=p[v+"Index"],y[v+"Name"]=p[v+"Name"];var x={mainType:v,query:y};m&&(x.subType=m);var A=p.excludeSeriesId,b;A!=null&&(b=pe(),M(bt(A),function(w){var _=un(w,null);_!=null&&b.set(_,!0)})),g&&g.eachComponent(x,function(w){var _=b&&b.get(w.id)!=null;if(!_)if(GD(p))if(w instanceof kt)p.type===uu&&!p.notBlur&&!w.get(["emphasis","disabled"])&&Pve(w,p,c._api);else{var T=rI(w.mainType,w.componentIndex,p.name,c._api),C=T.focusSelf,E=T.dispatchers;p.type===uu&&C&&!p.notBlur&&z_(w.mainType,w.componentIndex,c._api),E&&M(E,function(k){p.type===uu?Is(k):Es(k)})}else O_(p)&&w instanceof kt&&(Dve(w,p,c._api),VD(w),$r(c))},c),g&&g.eachComponent(x,function(w){var _=b&&b.get(w.id)!=null;_||S(c[v==="series"?"_chartsMap":"_componentsMap"][w.__viewId])},c);function S(w){w&&w.__alive&&w[f]&&w[f](w.__model,g,c._api,p)}},Ys={prepareAndUpdate:function(c){nc(this),Ys.update.call(this,c,{optionChanged:c.newOption!=null})},update:function(c,f){var p=this._model,v=this._api,m=this._zr,g=this._coordSysMgr,y=this._scheduler;if(p){p.setUpdatePayload(c),y.restoreData(p,c),y.performSeriesTasks(p),g.create(p,v),y.performDataProcessorTasks(p,c),kb(this,p),g.update(p,v),n(p),y.performVisualTasks(p,c),jb(this,p,v,c,f);var x=p.get("backgroundColor")||"transparent",A=p.get("darkMode");m.setBackgroundColor(x),A!=null&&A!=="auto"&&m.setDarkMode(A),Mi.trigger("afterupdate",p,v)}},updateTransform:function(c){var f=this,p=this._model,v=this._api;if(p){p.setUpdatePayload(c);var m=[];p.eachComponent(function(y,x){if(y!=="series"){var A=f.getViewOfComponentModel(x);if(A&&A.__alive)if(A.updateTransform){var b=A.updateTransform(x,p,v,c);b&&b.update&&m.push(A)}else m.push(A)}});var g=pe();p.eachSeries(function(y){var x=f._chartsMap[y.__viewId];if(x.updateTransform){var A=x.updateTransform(y,p,v,c);A&&A.update&&g.set(y.uid,1)}else g.set(y.uid,1)}),n(p),this._scheduler.performVisualTasks(p,c,{setDirty:!0,dirtyMap:g}),cm(this,p,v,c,{},g),Mi.trigger("afterupdate",p,v)}},updateView:function(c){var f=this._model;f&&(f.setUpdatePayload(c),St.markUpdateMethod(c,"updateView"),n(f),this._scheduler.performVisualTasks(f,c,{setDirty:!0}),jb(this,f,this._api,c,{}),Mi.trigger("afterupdate",f,this._api))},updateVisual:function(c){var f=this,p=this._model;p&&(p.setUpdatePayload(c),p.eachSeries(function(v){v.getData().clearAllVisual()}),St.markUpdateMethod(c,"updateVisual"),n(p),this._scheduler.performVisualTasks(p,c,{visualType:"visual",setDirty:!0}),p.eachComponent(function(v,m){if(v!=="series"){var g=f.getViewOfComponentModel(m);g&&g.__alive&&g.updateVisual(m,p,f._api,c)}}),p.eachSeries(function(v){var m=f._chartsMap[v.__viewId];m.updateVisual(v,p,f._api,c)}),Mi.trigger("afterupdate",p,this._api))},updateLayout:function(c){Ys.update.call(this,c)}},Eb=function(c,f,p,v){if(c._disposed){c.id;return}for(var m=c._model,g=c._coordSysMgr.getCoordinateSystems(),y,x=ud(m,p),A=0;A<g.length;A++){var b=g[A];if(b[f]&&(y=b[f](m,x,v))!=null)return y}},kb=function(c,f){var p=c._chartsMap,v=c._scheduler;f.eachSeries(function(m){v.updateStreamModes(m,p[m.__viewId])})},Pb=function(c,f){var p=this,v=this.getModel(),m=c.type,g=c.escapeConnect,y=Ly[m],x=y.actionInfo,A=(x.update||"update").split(":"),b=A.pop(),S=A[0]!=null&&ga(A[0]);this[Dn]=!0;var w=[c],_=!1;c.batch&&(_=!0,w=te(c.batch,function(P){return P=ge(J({},P),c),P.batch=null,P}));var T=[],C,E=O_(c),k=GD(c);if(k&&R4(this._api),M(w,function(P){if(C=y.action(P,p._model,p._api),C=C||J({},P),C.type=x.event||C.type,T.push(C),k){var D=XC(c),L=D.queryOptionMap,F=D.mainTypeSpecified,V=F?L.keys()[0]:"series";um(p,b,P,V),$r(p)}else E?(um(p,b,P,"series"),$r(p)):S&&um(p,b,P,S.main,S.sub)}),b!=="none"&&!k&&!E&&!S)try{this[hr]?(nc(this),Ys.update.call(this,c),this[hr]=null):Ys[b].call(this,c)}catch(P){throw this[Dn]=!1,P}if(_?C={type:x.event||m,escapeConnect:g,batch:T}:C=T[0],this[Dn]=!1,!f){var I=this._messageCenter;if(I.trigger(C.type,C),E){var j={type:"selectchanged",escapeConnect:g,selected:Lve(v),isFromClick:c.isFromClick||!1,fromAction:c.type,fromActionPayload:c};I.trigger(j.type,j)}}},pf=function(c){for(var f=this._pendingActions;f.length;){var p=f.shift();Pb.call(this,p,c)}},vf=function(c){!c&&this.trigger("updated")},rL=function(c,f){c.on("rendered",function(p){f.trigger("rendered",p),c.animation.isFinished()&&!f[hr]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},iL=function(c,f){c.on("mouseover",function(p){var v=p.target,m=Zl(v,Ud);m&&(jve(m,p,f._api),$r(f))}).on("mouseout",function(p){var v=p.target,m=Zl(v,Ud);m&&(Mve(m,p,f._api),$r(f))}).on("click",function(p){var v=p.target,m=Zl(v,function(x){return Se(x).dataIndex!=null},!0);if(m){var g=m.selected?"unselect":"select",y=Se(m);f._api.dispatchAction({type:g,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function n(c){c.clearColorPalette(),c.eachSeries(function(f){f.clearColorPalette()})}function r(c){var f=[],p=[],v=!1;if(c.eachComponent(function(x,A){var b=A.get("zlevel")||0,S=A.get("z")||0,w=A.getZLevelKey();v=v||!!w,(x==="series"?p:f).push({zlevel:b,z:S,idx:A.componentIndex,type:x,key:w})}),v){var m=f.concat(p),g,y;sg(m,function(x,A){return x.zlevel===A.zlevel?x.z-A.z:x.zlevel-A.zlevel}),M(m,function(x){var A=c.getComponent(x.type,x.idx),b=x.zlevel,S=x.key;g!=null&&(b=Math.max(g,b)),S?(b===g&&S!==y&&b++,y=S):y&&(b===g&&b++,y=""),g=b,A.setZLevel(b)})}}jb=function(c,f,p,v,m){r(f),aL(c,f,p,v,m),M(c._chartsViews,function(g){g.__alive=!1}),cm(c,f,p,v,m),M(c._chartsViews,function(g){g.__alive||g.remove(f,p)})},aL=function(c,f,p,v,m,g){M(g||c._componentsViews,function(y){var x=y.__model;u(x,y),y.render(x,f,p,v),o(x,y),h(x,y)})},cm=function(c,f,p,v,m,g){var y=c._scheduler;m=J(m||{},{updatedSeries:f.getSeries()}),Mi.trigger("series:beforeupdate",f,p,m);var x=!1;f.eachSeries(function(A){var b=c._chartsMap[A.__viewId];b.__alive=!0;var S=b.renderTask;y.updatePayload(S,v),u(A,b),g&&g.get(A.uid)&&S.dirty(),S.perform(y.getPerformArgs(S))&&(x=!0),b.group.silent=!!A.get("silent"),s(A,b),VD(A)}),y.unfinished=x||y.unfinished,Mi.trigger("series:layoutlabels",f,p,m),Mi.trigger("series:transition",f,p,m),f.eachSeries(function(A){var b=c._chartsMap[A.__viewId];o(A,b),h(A,b)}),a(c,f),Mi.trigger("series:afterupdate",f,p,m)},$r=function(c){c[Tb]=!0,c.getZr().wakeUp()},oL=function(c){c[Tb]&&(c.getZr().storage.traverse(function(f){Bc(f)||i(f)}),c[Tb]=!1)};function i(c){for(var f=[],p=c.currentStates,v=0;v<p.length;v++){var m=p[v];m==="emphasis"||m==="blur"||m==="select"||f.push(m)}c.selected&&c.states.select&&f.push("select"),c.hoverState===lx&&c.states.emphasis?f.push("emphasis"):c.hoverState===Fp&&c.states.blur&&f.push("blur"),c.useStates(f)}function a(c,f){var p=c._zr,v=p.storage,m=0;v.traverse(function(g){g.isGroup||m++}),m>f.get("hoverLayerThreshold")&&!We.node&&!We.worker&&f.eachSeries(function(g){if(!g.preventUsingHoverLayer){var y=c._chartsMap[g.__viewId];y.__alive&&y.eachRendered(function(x){x.states.emphasis&&(x.states.emphasis.hoverLayer=!0)})}})}function s(c,f){var p=c.get("blendMode")||null;f.eachRendered(function(v){v.isGroup||(v.style.blend=p)})}function o(c,f){if(!c.preventAutoZ){var p=c.get("z")||0,v=c.get("zlevel")||0;f.eachRendered(function(m){return l(m,p,v,-1/0),!0})}}function l(c,f,p,v){var m=c.getTextContent(),g=c.getTextGuideLine(),y=c.isGroup;if(y)for(var x=c.childrenRef(),A=0;A<x.length;A++)v=Math.max(l(x[A],f,p,v),v);else c.z=f,c.zlevel=p,v=Math.max(c.z2,v);if(m&&(m.z=f,m.zlevel=p,isFinite(v)&&(m.z2=v+2)),g){var b=c.textGuideLineConfig;g.z=f,g.zlevel=p,isFinite(v)&&(g.z2=v+(b&&b.showAbove?1:-1))}return v}function u(c,f){f.eachRendered(function(p){if(!Bc(p)){var v=p.getTextContent(),m=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function h(c,f){var p=c.getModel("stateAnimation"),v=c.isAnimationEnabled(),m=p.get("duration"),g=m>0?{duration:m,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(y){if(y.states&&y.states.emphasis){if(Bc(y))return;if(y instanceof Ve&&Fve(y),y.__dirty){var x=y.prevStates;x&&y.useStates(x)}if(v){y.stateTransition=g;var A=y.getTextContent(),b=y.getTextGuideLine();A&&(A.stateTransition=g),b&&(b.stateTransition=g)}y.__dirty&&i(y)}})}sL=function(c){return new(function(f){Y(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return c._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(v){for(;v;){var m=v.__ecComponentInfo;if(m!=null)return c._model.getComponent(m.mainType,m.index);v=v.parent}},p.prototype.enterEmphasis=function(v,m){Is(v,m),$r(c)},p.prototype.leaveEmphasis=function(v,m){Es(v,m),$r(c)},p.prototype.enterBlur=function(v){D4(v),$r(c)},p.prototype.leaveBlur=function(v){nI(v),$r(c)},p.prototype.enterSelect=function(v){L4(v),$r(c)},p.prototype.leaveSelect=function(v){N4(v),$r(c)},p.prototype.getModel=function(){return c.getModel()},p.prototype.getViewOfComponentModel=function(v){return c.getViewOfComponentModel(v)},p.prototype.getViewOfSeriesModel=function(v){return c.getViewOfSeriesModel(v)},p}(kG))(c)},_U=function(c){function f(p,v){for(var m=0;m<p.length;m++){var g=p[m];g[Cb]=v}}M(vd,function(p,v){c._messageCenter.on(v,function(m){if(lL[c.group]&&c[Cb]!==nL){if(m&&m.escapeConnect)return;var g=c.makeActionFromEvent(m),y=[];M(md,function(x){x!==c&&x.group===c.group&&y.push(x)}),f(y,nL),M(y,function(x){x[Cb]!==p0e&&x.dispatchAction(g)}),f(y,v0e)}})})}}(),e}(bi),EI=TU.prototype;EI.on=xU("on");EI.off=xU("off");EI.one=function(t,e,n){var r=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),r.off(t,i)}this.on.call(this,t,i,n)};var m0e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Ly={},vd={},e1=[],t1=[],Ny=[],CU={},n1={},md={},lL={},g0e=+new Date-0,kI="_echarts_instance_";function IU(t,e,n){{var r=y0e(t);if(r)return r}var i=new TU(t,e,n);return i.id="ec_"+g0e++,md[i.id]=i,m4(t,kI,i.id),_U(i),Mi.trigger("afterinit",i),i}function y0e(t){return md[Ipe(t,kI)]}function EU(t,e){CU[t]=e}function kU(t){ze(t1,t)<0&&t1.push(t)}function PU(t,e){jI(e1,t,e,s0e)}function x0e(t){PI("afterinit",t)}function A0e(t){PI("afterupdate",t)}function PI(t,e){Mi.on(t,e)}function Ua(t,e,n){me(e)&&(n=e,e="");var r=ye(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,!vd[e]&&(er(tL.test(r)&&tL.test(e)),Ly[r]||(Ly[r]={action:n,actionInfo:t}),vd[e]=r)}function b0e(t,e){Up.register(t,e)}function w0e(t,e){jI(Ny,t,e,mU,"layout")}function zu(t,e){jI(Ny,t,e,gU,"visual")}var uL=[];function jI(t,e,n,r,i){if((me(e)||ye(e))&&(n=e,e=r),!(ze(uL,n)>=0)){uL.push(n);var a=nU.wrapStageHandler(n,i);a.__prio=e,a.__raw=n,t.push(a)}}function jU(t,e){n1[t]=e}function S0e(t,e,n){var r=t0e("registerMap");r&&r(t,e,n)}var _0e=Oge;zu(II,uye);zu(Tx,cye);zu(Tx,hye);zu(II,_ye);zu(Tx,Tye);zu(yU,Qye);kU(jG);PU(i0e,yge);jU("default",fye);Ua({type:uu,event:uu,update:uu},Jt);Ua({type:hg,event:hg,update:hg},Jt);Ua({type:cd,event:cd,update:cd},Jt);Ua({type:fg,event:fg,update:fg},Jt);Ua({type:hd,event:hd,update:hd},Jt);EU("light",wye);EU("dark",sU);var cL=[],T0e={registerPreprocessor:kU,registerProcessor:PU,registerPostInit:x0e,registerPostUpdate:A0e,registerUpdateLifecycle:PI,registerAction:Ua,registerCoordinateSystem:b0e,registerLayout:w0e,registerVisual:zu,registerTransform:_0e,registerLoading:jU,registerMap:S0e,registerImpl:e0e,PRIORITY:d0e,ComponentModel:qe,ComponentView:Ot,SeriesModel:kt,ChartView:St,registerComponentModel:function(t){qe.registerClass(t)},registerComponentView:function(t){Ot.registerClass(t)},registerSeriesModel:function(t){kt.registerClass(t)},registerChartView:function(t){St.registerClass(t)},registerSubTypeDefaulter:function(t,e){qe.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){ape(t,e)}};function Fe(t){if(ee(t)){M(t,function(e){Fe(e)});return}ze(cL,t)>=0||(cL.push(t),me(t)&&(t={install:t}),t.install(T0e))}function mf(t){return t==null?0:t.length||1}function hL(t){return t}var ks=function(){function t(e,n,r,i,a,s){this._old=e,this._new=n,this._oldKeyGetter=r||hL,this._newKeyGetter=i||hL,this.context=a,this._diffModeMultiple=s==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,n=this._new,r={},i=new Array(e.length),a=new Array(n.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=r[o],u=mf(l);if(u>1){var h=l.shift();l.length===1&&(r[o]=l[0]),this._update&&this._update(h,s)}else u===1?(r[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},t.prototype._executeMultiple=function(){var e=this._old,n=this._new,r={},i={},a=[],s=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(n,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=r[l],h=i[l],c=mf(u),f=mf(h);if(c>1&&f===1)this._updateManyToOne&&this._updateManyToOne(h,u),i[l]=null;else if(c===1&&f>1)this._updateOneToMany&&this._updateOneToMany(h,u),i[l]=null;else if(c===1&&f===1)this._update&&this._update(h,u),i[l]=null;else if(c>1&&f>1)this._updateManyToMany&&this._updateManyToMany(h,u),i[l]=null;else if(c>1)for(var p=0;p<c;p++)this._remove&&this._remove(u[p]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},t.prototype._performRestAdd=function(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=n[i],s=mf(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);n[i]=null}},t.prototype._initIndexMap=function(e,n,r,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(r[s]=o),!!n){var l=n[o],u=mf(l);u===0?(n[o]=s,a&&r.push(o)):u===1?n[o]=[l,s]:l.push(s)}}},t}(),C0e=function(){function t(e,n){this._encode=e,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function I0e(t,e){var n={},r=n.encode={},i=pe(),a=[],s=[],o={};M(t.dimensions,function(f){var p=t.getDimensionInfo(f),v=p.coordDim;if(v){var m=p.coordDimIndex;Mb(r,v)[m]=f,p.isExtraCoord||(i.set(v,1),E0e(p.type)&&(a[0]=f),Mb(o,v)[m]=t.getDimensionIndex(p.name)),p.defaultTooltip&&s.push(f)}wG.each(function(g,y){var x=Mb(r,y),A=p.otherDims[y];A!=null&&A!==!1&&(x[A]=p.name)})});var l=[],u={};i.each(function(f,p){var v=r[p];u[p]=v[0],l=l.concat(v)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=te(l,function(f){return t.getDimensionInfo(f).storeDimIndex}),n.encodeFirstDimNotExtra=u;var h=r.label;h&&h.length&&(a=h.slice());var c=r.tooltip;return c&&c.length?s=c.slice():s.length||(s=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=s,n.userOutput=new C0e(o,e),n}function Mb(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function zy(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function E0e(t){return!(t==="ordinal"||t==="time")}var gg=function(){function t(e){this.otherDims={},e!=null&&J(this,e)}return t}(),k0e=Qe(),P0e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},MU=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=NU(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return _e(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var n=this.source.dimensionsDefine;if(n)return n[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,n=DG(this.source),r=!zU(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[o];if(c&&c.storeDimIndex===s)l=n?c.name:null,u=c.type,h=c.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=n?f.name:null,u=f.type)}a.push({property:l,type:u,ordinalMeta:h}),n&&l!=null&&(!c||!c.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=P0e[u]||"f",h&&(i+=h.uid),i+="$"}var p=this.source,v=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:a,hash:v}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===n)a.isCalculationCoord||(i=a.name),r++;else{var s=this.getSourceDimension(n);s&&(i=s.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function DU(t){return t instanceof MU}function LU(t){for(var e=pe(),n=0;n<(t||[]).length;n++){var r=t[n],i=ye(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,n)}return e}function NU(t){var e=k0e(t);return e.dimNameMap||(e.dimNameMap=LU(t.dimensionsDefine))}function zU(t){return t>30}var gf=ye,qs=te,j0e=typeof Int32Array>"u"?Array:Int32Array,M0e="e\0\0",fL=-1,D0e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],L0e=["_approximateExtent"],dL,hm,yf,xf,Db,fm,Lb,Jn=function(){function t(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;DU(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},s=[],o={},l=!1,u={},h=0;h<r.length;h++){var c=r[h],f=ue(c)?new gg({name:c}):c instanceof gg?c:new gg(c),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};s.push(p),a[p]=f,u[p]!=null&&(l=!0),f.createInvertedIndices&&(o[p]=[]),v.itemName===0&&(this._nameDimIdx=h),v.itemId===0&&(this._idDimIdx=h),i&&(f.storeDimIndex=h)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=pe();M(s,function(g){m.set(a[g].storeDimIndex,g)})}}return t.prototype.getDimension=function(e){var n=this._recognizeDimIndex(e);if(n==null)return e;if(n=e,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var n=this._recognizeDimIndex(e);if(n!=null)return n;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(nt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var n=this.getDimensionIndex(e);return n},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var n=this._dimInfos;this._getDimInfo=e?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[n]:null},t.prototype.mapDimensionsAll=function(e){var n=this._dimSummary,r=n.encode[e];return(r||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,n,r){var i=this,a;if(e instanceof Y_&&(a=e),!a){var s=this.dimensions,o=AI(e)||On(e)?new LG(e,s.length):e;a=new Y_;var l=qs(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,r)}this._store=a,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=I0e(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var n=this._store.appendData(e);this._doInit(n[0],n[1])},t.prototype.appendValues=function(e,n){var r=this._store.appendValues(e,n.length),i=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=n[l],s&&Lb(this,o)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Co&&!e.fillStorage},t.prototype._doInit=function(e,n){if(!(e>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===wi;if(l&&!i.pure)for(var u=[],h=e;h<n;h++){var c=i.getItem(h,u);if(!this.hasItemOption&&ppe(c)&&(this.hasItemOption=!0),c){var f=c.name;a[h]==null&&f!=null&&(a[h]=un(f,null));var p=c.id;s[h]==null&&p!=null&&(s[h]=un(p,null))}}if(this._shouldMakeIdFromName())for(var h=e;h<n;h++)Lb(this,h);dL(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,n){n=this.getDimension(n),this._approximateExtent[n]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,n){gf(e)?J(this._calculationInfo,e):this._calculationInfo[e]=n},t.prototype.getName=function(e){var n=this.getRawIndex(e),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=yf(this,this._nameDimIdx,n)),r==null&&(r=""),r},t.prototype._getCategory=function(e,n){var r=this._store.get(e,n),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},t.prototype.getId=function(e){return hm(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,n)},t.prototype.getByRawIndex=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,n){var r=this,i=this._store;return ee(e)?i.getValues(qs(e,function(a){return r._getStoreDimIndex(a)}),n):i.getValues(e)},t.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===e)return n;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,n){var r=e&&this._invertedIndicesMap[e],i=r[n];return i==null||isNaN(i)?fL:i},t.prototype.indicesOfNearest=function(e,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),n,r)},t.prototype.each=function(e,n,r){me(e)&&(r=n,n=e,e=[]);var i=r||this,a=qs(xf(e),this._getStoreDimIndex,this);this._store.each(a,i?fe(n,i):n)},t.prototype.filterSelf=function(e,n,r){me(e)&&(r=n,n=e,e=[]);var i=r||this,a=qs(xf(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?fe(n,i):n),this},t.prototype.selectRange=function(e){var n=this,r={},i=Xe(e);return M(i,function(a){var s=n._getStoreDimIndex(a);r[s]=e[a]}),this._store=this._store.selectRange(r),this},t.prototype.mapArray=function(e,n,r){me(e)&&(r=n,n=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(n&&n.apply(this,arguments))},r),i},t.prototype.map=function(e,n,r,i){var a=r||i||this,s=qs(xf(e),this._getStoreDimIndex,this),o=fm(this);return o._store=this._store.map(s,a?fe(n,a):n),o},t.prototype.modify=function(e,n,r,i){var a=r||i||this,s=qs(xf(e),this._getStoreDimIndex,this);this._store.modify(s,a?fe(n,a):n)},t.prototype.downSample=function(e,n,r,i){var a=fm(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),n,r,i),a},t.prototype.lttbDownSample=function(e,n){var r=fm(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),n),r},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var n=this.hostModel,r=this.getRawDataItem(e);return new dt(r,n,n&&n.ecModel)},t.prototype.diff=function(e){var n=this;return new ks(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return hm(e,r)},function(r){return hm(n,r)})},t.prototype.getVisual=function(e){var n=this._visual;return n&&n[e]},t.prototype.setVisual=function(e,n){this._visual=this._visual||{},gf(e)?J(this._visual,e):this._visual[e]=n},t.prototype.getItemVisual=function(e,n){var r=this._itemVisuals[e],i=r&&r[n];return i??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,n){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[n];return a==null&&(a=this.getVisual(n),ee(a)?a=a.slice():gf(a)&&(a=J({},a)),i[n]=a),a},t.prototype.setItemVisual=function(e,n,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,gf(n)?J(i,n):i[n]=r},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,n){gf(e)?J(this._layout,e):this._layout[e]=n},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,n,r){this._itemLayouts[e]=r?J(this._itemLayouts[e]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,n){var r=this.hostModel&&this.hostModel.seriesIndex;L_(r,this.dataType,e,n),this._graphicEls[e]=n},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,n){M(this._graphicEls,function(r,i){r&&e&&e.call(n,r,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:qs(this.dimensions,this._getDimInfo,this),this.hostModel)),Db(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,n){var r=this[e];me(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(FC(arguments)))})},t.internalField=function(){dL=function(e){var n=e._invertedIndicesMap;M(n,function(r,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){r=n[i]=new j0e(s.categories.length);for(var l=0;l<r.length;l++)r[l]=fL;for(var l=0;l<o.count();l++)r[o.get(a.storeDimIndex,l)]=l}})},yf=function(e,n,r){return un(e._getCategory(n,r),null)},hm=function(e,n){var r=e._idList[n];return r==null&&e._idDimIdx!=null&&(r=yf(e,e._idDimIdx,n)),r==null&&(r=M0e+n),r},xf=function(e){return ee(e)||(e=e!=null?[e]:[]),e},fm=function(e){var n=new t(e._schema?e._schema:qs(e.dimensions,e._getDimInfo,e),e.hostModel);return Db(n,e),n},Db=function(e,n){M(D0e.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(e[r]=n[r])}),e.__wrappedMethods=n.__wrappedMethods,M(L0e,function(r){e[r]=xe(n[r])}),e._calculationInfo=J({},n._calculationInfo)},Lb=function(e,n){var r=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=r[n],l=i[n];if(o==null&&a!=null&&(r[n]=o=yf(e,a,n)),l==null&&s!=null&&(i[n]=l=yf(e,s,n)),l==null&&o!=null){var u=e._nameRepeatCount,h=u[o]=(u[o]||0)+1;l=o,h>1&&(l+="__ec__"+h),i[n]=l}}}(),t}();function $p(t,e){AI(t)||(t=bI(t)),e=e||{};var n=e.coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=pe(),a=[],s=z0e(t,n,r,e.dimensionsCount),o=e.canOmitUnusedDimensions&&zU(s),l=r===t.dimensionsDefine,u=l?NU(t):LU(r),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(t,s));for(var c=pe(h),f=new HG(s),p=0;p<f.length;p++)f[p]=-1;function v(C){var E=f[C];if(E<0){var k=r[C],I=ye(k)?k:{name:k},j=new gg,P=I.name;P!=null&&u.get(P)!=null&&(j.name=j.displayName=P),I.type!=null&&(j.type=I.type),I.displayName!=null&&(j.displayName=I.displayName);var D=a.length;return f[C]=D,j.storeDimIndex=C,a.push(j),j}return a[E]}if(!o)for(var p=0;p<s;p++)v(p);c.each(function(C,E){var k=bt(C).slice();if(k.length===1&&!ue(k[0])&&k[0]<0){c.set(E,!1);return}var I=c.set(E,[]);M(k,function(j,P){var D=ue(j)?u.get(j):j;D!=null&&D<s&&(I[P]=D,g(v(D),E,P))})});var m=0;M(n,function(C){var E,k,I,j;if(ue(C))E=C,j={};else{j=C,E=j.name;var P=j.ordinalMeta;j.ordinalMeta=null,j=J({},j),j.ordinalMeta=P,k=j.dimsDef,I=j.otherDims,j.name=j.coordDim=j.coordDimIndex=j.dimsDef=j.otherDims=null}var D=c.get(E);if(D!==!1){if(D=bt(D),!D.length)for(var L=0;L<(k&&k.length||1);L++){for(;m<s&&v(m).coordDim!=null;)m++;m<s&&D.push(m++)}M(D,function(F,V){var U=v(F);if(l&&j.type!=null&&(U.type=j.type),g(ge(U,j),E,V),U.name==null&&k){var z=k[V];!ye(z)&&(z={name:z}),U.name=U.displayName=z.name,U.defaultTooltip=z.defaultTooltip}I&&ge(U.otherDims,I)})}});function g(C,E,k){wG.get(E)!=null?C.otherDims[E]=k:(C.coordDim=E,C.coordDimIndex=k,i.set(E,!0))}var y=e.generateCoord,x=e.generateCoordCount,A=x!=null;x=y?x||1:0;var b=y||"value";function S(C){C.name==null&&(C.name=C.coordDim)}if(o)M(a,function(C){S(C)}),a.sort(function(C,E){return C.storeDimIndex-E.storeDimIndex});else for(var w=0;w<s;w++){var _=v(w),T=_.coordDim;T==null&&(_.coordDim=R0e(b,i,A),_.coordDimIndex=0,(!y||x<=0)&&(_.isExtraCoord=!0),x--),S(_),_.type==null&&(CG(t,w)===Cn.Must||_.isExtraCoord&&(_.otherDims.itemName!=null||_.otherDims.seriesName!=null))&&(_.type="ordinal")}return N0e(a),new MU({source:t,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function N0e(t){for(var e=pe(),n=0;n<t.length;n++){var r=t[n],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function z0e(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return M(e,function(a){var s;ye(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function R0e(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var O0e=function(){function t(e){this.coordSysDims=[],this.axisMap=pe(),this.categoryAxisMap=pe(),this.coordSysName=e}return t}();function F0e(t){var e=t.get("coordinateSystem"),n=new O0e(e),r=B0e[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var B0e={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",tn).models[0],a=t.getReferringComponents("yAxis",tn).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),rc(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),rc(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",tn).models[0];e.coordSysDims=["single"],n.set("single",i),rc(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",tn).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",s),rc(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),rc(s)&&(r.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();M(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),h=s[l];n.set(h,u),rc(u)&&(r.set(h,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function rc(t){return t.get("type")==="category"}function V0e(t,e,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,a,s,o;H0e(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(t&&t.get("stack")),u,h,c,f;if(M(a,function(x,A){ue(x)&&(a[A]=x={name:x}),l&&!x.isExtraCoord&&(!r&&!u&&x.ordinalMeta&&(u=x),!h&&x.type!=="ordinal"&&x.type!=="time"&&(!i||i===x.coordDim)&&(h=x))}),h&&!r&&!u&&(r=!0),h){c="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var p=h.coordDim,v=h.type,m=0;M(a,function(x){x.coordDim===p&&m++});var g={name:c,coordDim:p,coordDimIndex:m,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:f,coordDim:f,coordDimIndex:m+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(g.storeDimIndex=o.ensureCalculationDimension(f,v),y.storeDimIndex=o.ensureCalculationDimension(c,v)),s.appendCalculationDimension(g),s.appendCalculationDimension(y)):(a.push(g),a.push(y))}return{stackedDimension:h&&h.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:f,stackResultDimension:c}}function H0e(t){return!DU(t.schema)}function Fo(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function RU(t,e){return Fo(t,e)?t.getCalculationInfo("stackResultDimension"):e}function G0e(t,e){var n=t.get("coordinateSystem"),r=Up.get(n),i;return e&&e.coordSysDims&&(i=te(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=zy(l)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function U0e(t,e,n){var r,i;return n&&M(t,function(a,s){var o=a.coordDim,l=n.categoryAxisMap.get(o);l&&(r==null&&(r=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(t[r].otherDims.itemName=0),r}function Rs(t,e,n){n=n||{};var r=e.getSourceManager(),i,a=!1;t?(a=!0,i=bI(t)):(i=r.getSource(),a=i.sourceFormat===wi);var s=F0e(e),o=G0e(e,s),l=n.useEncodeDefaulter,u=me(l)?l:l?Ee(TG,o,e):null,h={coordDimensions:o,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},c=$p(i,h),f=U0e(c.dimensions,n.createInvertedIndices,s),p=a?null:r.getSharedDataStore(c),v=V0e(e,{schema:c,store:p}),m=new Jn(c,e);m.setCalculationInfo(v);var g=f!=null&&W0e(i)?function(y,x,A,b){return b===f?A:this.defaultDimValueGetter(y,x,A,b)}:null;return m.hasItemOption=!1,m.initData(a?i:p,null,g),m}function W0e(t){if(t.sourceFormat===wi){var e=$0e(t.data||[]);return!ee(kh(e))}}function $0e(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var Wa=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,n){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(n)||(r[1]=n)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();ix(Wa);var Y0e=0,r1=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Y0e}return t.createByAxisModel=function(e){var n=e.option,r=n.data,i=r&&te(r,q0e);return new t({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var n,r=this._needCollect;if(!ue(e)&&!r)return e;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=e,n;var i=this._getOrCreateMap();return n=i.get(e),n==null&&(r?(n=this.categories.length,this.categories[n]=e,i.set(e,n)):n=NaN),n},t.prototype._getOrCreateMap=function(){return this._map||(this._map=pe(this.categories))},t}();function q0e(t){return ye(t)&&t.value!=null?t.value:t+""}function i1(t){return t.type==="interval"||t.type==="log"}function X0e(t,e,n,r){var i={},a=t[1]-t[0],s=i.interval=l4(a/e);n!=null&&s<n&&(s=i.interval=n),r!=null&&s>r&&(s=i.interval=r);var o=i.intervalPrecision=OU(s),l=i.niceTickExtent=[$t(Math.ceil(t[0]/s)*s,o),$t(Math.floor(t[1]/s)*s,o)];return Z0e(l,t),i}function Nb(t){var e=Math.pow(10,YC(t)),n=t/e;return n?n===2?n=3:n===3?n=5:n*=2:n=1,$t(n*e)}function OU(t){return ma(t)+2}function pL(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Z0e(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),pL(t,0,e),pL(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Cx(t,e){return t>=e[0]&&t<=e[1]}function Ix(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Ex(t,e){return t*(e[1]-e[0])+e[0]}var kx=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new r1({})),ee(i)&&(i=new r1({categories:te(i,function(a){return ye(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(n){return n==null?NaN:ue(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},e.prototype.contain=function(n){return n=this.parse(n),Cx(n,this._extent)&&this._ordinalMeta.categories[n]!=null},e.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),Ix(n,this._extent)},e.prototype.scale=function(n){return n=Math.round(Ex(n,this._extent)),this.getRawOrdinalNumber(n)},e.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},e.prototype.getMinorTicks=function(n){},e.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,r.length);s<l;++s){var u=r[s];i[s]=u,a[u]=s}for(var h=0;s<o;++s){for(;a[h]!=null;)h++;i.push(h),a[h]=s}},e.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Wa);Wa.registerClass(kx);var bl=$t,Ps=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return Cx(n,this._extent)},e.prototype.normalize=function(n){return Ix(n,this._extent)},e.prototype.scale=function(n){return Ex(n,this._extent)},e.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=OU(n)},e.prototype.getTicks=function(n){var r=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!r)return o;var l=1e4;i[0]<a[0]&&(n?o.push({value:bl(a[0]-r,s)}):o.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(o.push({value:u}),u=bl(u+r,s),u!==o[o.length-1].value);)if(o.length>l)return[];var h=o.length?o[o.length-1].value:a[1];return i[1]>h&&(n?o.push({value:bl(h+r,s)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<r.length;s++){for(var o=r[s],l=r[s-1],u=0,h=[],c=o.value-l.value,f=c/n;u<n-1;){var p=bl(l.value+(u+1)*f);p>a[0]&&p<a[1]&&h.push(p),u++}i.push(h)}return i},e.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=ma(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=bl(n.value,i,!0);return mG(a)},e.prototype.calcNiceTicks=function(n,r,i){n=n||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=X0e(a,n,r,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var s=this._interval;n.fixMin||(r[0]=bl(Math.floor(r[0]/s)*s)),n.fixMax||(r[1]=bl(Math.ceil(r[1]/s)*s))},e.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},e.type="interval",e}(Wa);Wa.registerClass(Ps);var FU=typeof Float32Array<"u",J0e=FU?Float32Array:Array;function ya(t){return ee(t)?FU?new Float32Array(t):t:new J0e(t)}var a1="__ec_stack_";function MI(t){return t.get("stack")||a1+t.seriesIndex}function DI(t){return t.dim+t.index}function K0e(t){var e=[],n=t.axis,r="axis0";if(n.type==="category"){for(var i=n.getBandWidth(),a=0;a<t.count;a++)e.push(ge({bandWidth:i,axisKey:r,stackId:a1+a},t));for(var s=HU(e),o=[],a=0;a<t.count;a++){var l=s[r][a1+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function BU(t,e){var n=[];return e.eachSeriesByType(t,function(r){WU(r)&&n.push(r)}),n}function Q0e(t){var e={};M(t,function(l){var u=l.coordinateSystem,h=u.getBaseAxis();if(!(h.type!=="time"&&h.type!=="value"))for(var c=l.getData(),f=h.dim+"_"+h.index,p=c.getDimensionIndex(c.mapDimension(h.dim)),v=c.getStore(),m=0,g=v.count();m<g;++m){var y=v.get(p,m);e[f]?e[f].push(y):e[f]=[y]}});var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}n[r]=a}}return n}function VU(t){var e=Q0e(t),n=[];return M(t,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],h=Math.abs(s[1]-s[0]),c=a.scale.getExtent(),f=Math.abs(c[1]-c[0]);o=u?h/f*u:h}else{var p=r.getData();o=Math.abs(s[1]-s[0])/p.count()}var v=se(r.get("barWidth"),o),m=se(r.get("barMaxWidth"),o),g=se(r.get("barMinWidth")||($U(r)?.5:1),o),y=r.get("barGap"),x=r.get("barCategoryGap");n.push({bandWidth:o,barWidth:v,barMaxWidth:m,barMinWidth:g,barGap:y,barCategoryGap:x,axisKey:DI(a),stackId:MI(r)})}),HU(n)}function HU(t){var e={};M(t,function(r,i){var a=r.axisKey,s=r.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;e[a]=o;var u=r.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=r.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(o.remainedWidth,h),o.remainedWidth-=h);var c=r.barMaxWidth;c&&(l[u].maxWidth=c);var f=r.barMinWidth;f&&(l[u].minWidth=f);var p=r.barGap;p!=null&&(o.gap=p);var v=r.barCategoryGap;v!=null&&(o.categoryGap=v)});var n={};return M(e,function(r,i){n[i]={};var a=r.stacks,s=r.bandWidth,o=r.categoryGap;if(o==null){var l=Xe(a).length;o=Math.max(35-l*4,15)+"%"}var u=se(o,s),h=se(r.gap,1),c=r.remainedWidth,f=r.autoWidthCount,p=(c-u)/(f+(f-1)*h);p=Math.max(p,0),M(a,function(y){var x=y.maxWidth,A=y.minWidth;if(y.width){var b=y.width;x&&(b=Math.min(b,x)),A&&(b=Math.max(b,A)),y.width=b,c-=b+h*b,f--}else{var b=p;x&&x<b&&(b=Math.min(x,c)),A&&A>b&&(b=A),b!==p&&(y.width=b,c-=b+h*b,f--)}}),p=(c-u)/(f+(f-1)*h),p=Math.max(p,0);var v=0,m;M(a,function(y,x){y.width||(y.width=p),m=y,v+=y.width*(1+h)}),m&&(v-=m.width*h);var g=-v/2;M(a,function(y,x){n[i][x]=n[i][x]||{bandWidth:s,offset:g,width:y.width},g+=y.width*(1+h)})}),n}function exe(t,e,n){if(t&&e){var r=t[DI(e)];return r!=null&&n!=null?r[MI(n)]:r}}function GU(t,e){var n=BU(t,e),r=VU(n);M(n,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=MI(i),u=r[DI(o)][l],h=u.offset,c=u.width;a.setLayout({bandWidth:u.bandWidth,offset:h,size:c})})}function UU(t){return{seriesType:t,plan:Oh(),reset:function(e){if(WU(e)){var n=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),s=n.getDimensionIndex(n.mapDimension(a.dim)),o=n.getDimensionIndex(n.mapDimension(i.dim)),l=e.get("showBackground",!0),u=n.mapDimension(a.dim),h=n.getCalculationInfo("stackResultDimension"),c=Fo(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),p=txe(i,a),v=$U(e),m=e.get("barMinHeight")||0,g=h&&n.getDimensionIndex(h),y=n.getLayout("size"),x=n.getLayout("offset");return{progress:function(A,b){for(var S=A.count,w=v&&ya(S*3),_=v&&l&&ya(S*3),T=v&&ya(S),C=r.master.getRect(),E=f?C.width:C.height,k,I=b.getStore(),j=0;(k=A.next())!=null;){var P=I.get(c?g:s,k),D=I.get(o,k),L=p,F=void 0;c&&(F=+P-I.get(s,k));var V=void 0,U=void 0,z=void 0,H=void 0;if(f){var G=r.dataToPoint([P,D]);if(c){var N=r.dataToPoint([F,D]);L=N[0]}V=L,U=G[1]+x,z=G[0]-L,H=y,Math.abs(z)<m&&(z=(z<0?-1:1)*m)}else{var G=r.dataToPoint([D,P]);if(c){var N=r.dataToPoint([D,F]);L=N[1]}V=G[0]+x,U=L,z=y,H=G[1]-L,Math.abs(H)<m&&(H=(H<=0?-1:1)*m)}v?(w[j]=V,w[j+1]=U,w[j+2]=f?z:H,_&&(_[j]=f?C.x:V,_[j+1]=f?U:C.y,_[j+2]=E),T[k]=k):b.setItemLayout(k,{x:V,y:U,width:z,height:H}),j+=3}v&&b.setLayout({largePoints:w,largeDataIndices:T,largeBackgroundPoints:_,valueAxisHorizontal:f})}}}}}}function WU(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function $U(t){return t.pipelineContext&&t.pipelineContext.large}function txe(t,e){var n=e.model.get("startValue");return n||(n=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?n>0?n:1:n))}var nxe=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n},LI=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="time",r}return e.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return vx(n.value,i2[Ome(Hc(this._minLevelUnit))]||i2.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(n,r,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return Fme(n,r,i,s,a)},e.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=uxe(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(s),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=ci,r[1]+=ci),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-ci}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},e.prototype.calcNiceTicks=function(n,r,i){n=n||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=dm.length,l=Math.min(nxe(dm,this._approxInterval,0,o),o-1);this._interval=dm[l][1],this._minLevelUnit=dm[Math.max(l-1,0)][0]},e.prototype.parse=function(n){return nt(n)?n:+za(n)},e.prototype.contain=function(n){return Cx(this.parse(n),this._extent)},e.prototype.normalize=function(n){return Ix(this.parse(n),this._extent)},e.prototype.scale=function(n){return Ex(n,this._extent)},e.type="time",e}(Ps),dm=[["second",fI],["minute",dI],["hour",dd],["quarter-day",dd*6],["half-day",dd*12],["day",ci*1.2],["half-week",ci*3.5],["week",ci*7],["month",ci*31],["quarter",ci*95],["half-year",r2/2],["year",r2]];function rxe(t,e,n,r){var i=za(e),a=za(n),s=function(v){return a2(i,v,r)===a2(a,v,r)},o=function(){return s("year")},l=function(){return o()&&s("month")},u=function(){return l()&&s("day")},h=function(){return u()&&s("hour")},c=function(){return h()&&s("minute")},f=function(){return c()&&s("second")},p=function(){return f()&&s("millisecond")};switch(t){case"year":return o();case"month":return l();case"day":return u();case"hour":return h();case"minute":return c();case"second":return f();case"millisecond":return p()}}function ixe(t,e){return t/=ci,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function axe(t){var e=30*ci;return t/=e,t>6?6:t>3?3:t>2?2:1}function sxe(t){return t/=dd,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function vL(t,e){return t/=e?dI:fI,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function oxe(t){return l4(t)}function lxe(t,e,n){var r=new Date(t);switch(Hc(e)){case"year":case"month":r[cG(n)](0);case"day":r[hG(n)](1);case"hour":r[fG(n)](0);case"minute":r[dG(n)](0);case"second":r[pG(n)](0),r[vG(n)](0)}return r.getTime()}function uxe(t,e,n,r){var i=1e4,a=lG,s=0;function o(E,k,I,j,P,D,L){for(var F=new Date(k),V=k,U=F[j]();V<I&&V<=r[1];)L.push({value:V}),U+=E,F[P](U),V=F.getTime();L.push({value:V,notAdd:!0})}function l(E,k,I){var j=[],P=!k.length;if(!rxe(Hc(E),r[0],r[1],n)){P&&(k=[{value:lxe(new Date(r[0]),E,n)},{value:r[1]}]);for(var D=0;D<k.length-1;D++){var L=k[D].value,F=k[D+1].value;if(L!==F){var V=void 0,U=void 0,z=void 0,H=!1;switch(E){case"year":V=Math.max(1,Math.round(e/ci/365)),U=pI(n),z=Bme(n);break;case"half-year":case"quarter":case"month":V=axe(e),U=Gc(n),z=cG(n);break;case"week":case"half-week":case"day":V=ixe(e),U=mx(n),z=hG(n),H=!0;break;case"half-day":case"quarter-day":case"hour":V=sxe(e),U=$d(n),z=fG(n);break;case"minute":V=vL(e,!0),U=gx(n),z=dG(n);break;case"second":V=vL(e,!1),U=yx(n),z=pG(n);break;case"millisecond":V=oxe(e),U=xx(n),z=vG(n);break}o(V,L,F,U,z,H,j),E==="year"&&I.length>1&&D===0&&I.unshift({value:I[0].value-V})}}for(var D=0;D<j.length;D++)I.push(j[D]);return j}}for(var u=[],h=[],c=0,f=0,p=0;p<a.length&&s++<i;++p){var v=Hc(a[p]);if(Rme(a[p])){l(a[p],u[u.length-1]||[],h);var m=a[p+1]?Hc(a[p+1]):null;if(v!==m){if(h.length){f=c,h.sort(function(E,k){return E.value-k.value});for(var g=[],y=0;y<h.length;++y){var x=h[y].value;(y===0||h[y-1].value!==x)&&(g.push(h[y]),x>=r[0]&&x<=r[1]&&c++)}var A=(r[1]-r[0])/e;if(c>A*1.5&&f>A/1.5||(u.push(g),c>A||t===a[p]))break}h=[]}}}for(var b=gt(te(u,function(E){return gt(E,function(k){return k.value>=r[0]&&k.value<=r[1]&&!k.notAdd})}),function(E){return E.length>0}),S=[],w=b.length-1,p=0;p<b.length;++p)for(var _=b[p],T=0;T<_.length;++T)S.push({value:_[T].value,level:w-p});S.sort(function(E,k){return E.value-k.value});for(var C=[],p=0;p<S.length;++p)(p===0||S[p].value!==S[p-1].value)&&C.push(S[p]);return C}Wa.registerClass(LI);var mL=Wa.prototype,gd=Ps.prototype,cxe=$t,hxe=Math.floor,fxe=Math.ceil,pm=Math.pow,ki=Math.log,NI=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Ps,n._interval=0,n}return e.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,a=r.getExtent(),s=gd.getTicks.call(this,n);return te(s,function(o){var l=o.value,u=$t(pm(this.base,l));return u=l===i[0]&&this._fixMin?vm(u,a[0]):u,u=l===i[1]&&this._fixMax?vm(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(n,r){var i=ki(this.base);n=ki(Math.max(0,n))/i,r=ki(Math.max(0,r))/i,gd.setExtent.call(this,n,r)},e.prototype.getExtent=function(){var n=this.base,r=mL.getExtent.call(this);r[0]=pm(n,r[0]),r[1]=pm(n,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=vm(r[0],a[0])),this._fixMax&&(r[1]=vm(r[1],a[1])),r},e.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=ki(n[0])/ki(r),n[1]=ki(n[1])/ki(r),mL.unionExtent.call(this,n)},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=dpe(i),s=n/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[$t(fxe(r[0]/a)*a),$t(hxe(r[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(n){gd.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return n=ki(n)/ki(this.base),Cx(n,this._extent)},e.prototype.normalize=function(n){return n=ki(n)/ki(this.base),Ix(n,this._extent)},e.prototype.scale=function(n){return n=Ex(n,this._extent),pm(this.base,n)},e.type="log",e}(Wa),YU=NI.prototype;YU.getMinorTicks=gd.getMinorTicks;YU.getLabel=gd.getLabel;function vm(t,e){return cxe(t,ma(e))}Wa.registerClass(NI);var dxe=function(){function t(e,n,r){this._prepareParams(e,n,r)}return t.prototype._prepareParams=function(e,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var a=n.get("min",!0);a==null&&(a=n.get("startValue",!0));var s=this._modelMinRaw=a;me(s)?this._modelMinNum=mm(e,s({min:r[0],max:r[1]})):s!=="dataMin"&&(this._modelMinNum=mm(e,s));var o=this._modelMaxRaw=n.get("max",!0);if(me(o)?this._modelMaxNum=mm(e,o({min:r[0],max:r[1]})):o!=="dataMax"&&(this._modelMaxNum=mm(e,o)),i)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),u=ee(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Hi(u[0],1),Hi(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:r-n||Math.abs(n),o=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=o!=null,h=l!=null;o==null&&(o=e?i?0:NaN:n-a[0]*s),l==null&&(l=e?i?i-1:NaN:r+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var c=Rd(o)||Rd(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!h&&(l=0));var f=this._determinedMin,p=this._determinedMax;return f!=null&&(o=f,u=!0),p!=null&&(l=p,h=!0),{min:o,max:l,minFixed:u,maxFixed:h,isBlank:c}},t.prototype.modifyDataMinMax=function(e,n){this[vxe[e]]=n},t.prototype.setDeterminedMinMax=function(e,n){var r=pxe[e];this[r]=n},t.prototype.freeze=function(){this.frozen=!0},t}(),pxe={min:"_determinedMin",max:"_determinedMax"},vxe={min:"_dataMin",max:"_dataMax"};function qU(t,e,n){var r=t.rawExtentInfo;return r||(r=new dxe(t,e,n),t.rawExtentInfo=r,r)}function mm(t,e){return e==null?null:Rd(e)?NaN:t.parse(e)}function XU(t,e){var n=t.type,r=qU(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var i=r.min,a=r.max,s=e.ecModel;if(s&&n==="time"){var o=BU("bar",s),l=!1;if(M(o,function(c){l=l||c.getBaseAxis()===e.axis}),l){var u=VU(o),h=mxe(i,a,e,u);i=h.min,a=h.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function mxe(t,e,n,r){var i=n.axis.getExtent(),a=i[1]-i[0],s=exe(r,n.axis);if(s===void 0)return{min:t,max:e};var o=1/0;M(s,function(p){o=Math.min(p.offset,o)});var l=-1/0;M(s,function(p){l=Math.max(p.offset+p.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,h=e-t,c=1-(o+l)/a,f=h/c-h;return e+=f*(l/u),t-=f*(o/u),{min:t,max:e}}function uh(t,e){var n=e,r=XU(t,n),i=r.extent,a=n.get("splitNumber");t instanceof NI&&(t.base=n.get("logBase"));var s=t.type,o=n.get("interval"),l=s==="interval"||s==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),o!=null&&t.setInterval&&t.setInterval(o)}function Px(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new kx({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new LI({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Wa.getClass(e)||Ps)}}function gxe(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function Vh(t){var e=t.getLabelModel().get("formatter"),n=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(r){return function(i,a){return t.scale.getFormattedLabel(i,a,r)}}(e):ue(e)?function(r){return function(i){var a=t.scale.getLabel(i),s=r.replace("{value}",a??"");return s}}(e):me(e)?function(r){return function(i,a){return n!=null&&(a=i.value-n),r(zI(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(r){return t.scale.getLabel(r)}}function zI(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function yxe(t){var e=t.model,n=t.scale;if(!(!e.get(["axisLabel","show"])||n.isBlank())){var r,i,a=n.getExtent();n instanceof kx?i=n.count():(r=n.getTicks(),i=r.length);var s=t.getLabelModel(),o=Vh(t),l,u=1;i>40&&(u=Math.ceil(i/40));for(var h=0;h<i;h+=u){var c=r?r[h]:{value:a[0]+h},f=o(c,h),p=s.getTextRect(f),v=xxe(p,s.get("rotate")||0);l?l.union(v):l=v}return l}}function xxe(t,e){var n=e*Math.PI/180,r=t.width,i=t.height,a=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),s=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),o=new De(t.x,t.y,a,s);return o}function RI(t){var e=t.get("interval");return e??"auto"}function ZU(t){return t.type==="category"&&RI(t.getLabelModel())===0}function Ry(t,e){var n={};return M(t.mapDimensionsAll(e),function(r){n[RU(t,r)]=!0}),Xe(n)}function Axe(t,e,n){e&&M(Ry(e,n),function(r){var i=e.getApproximateExtent(r);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])})}var Yp=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),bxe=1e-8;function gL(t,e){return Math.abs(t-e)<bxe}function Fl(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var a=1;a<t.length;a++){var s=t[a];r+=ns(i[0],i[1],s[0],s[1],e,n),i=s}var o=t[0];return(!gL(i[0],o[0])||!gL(i[1],o[1]))&&(r+=ns(i[0],i[1],o[0],o[1],e,n)),r!==0}var wxe=[];function zb(t,e){for(var n=0;n<t.length;n++)En(t[n],t[n],e)}function yL(t,e,n,r){for(var i=0;i<t.length;i++){var a=t[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(po(e,e,a),vo(n,n,a))}}function Sxe(t){for(var e=0,n=0,r=0,i=t.length,a=t[i-1][0],s=t[i-1][1],o=0;o<i;o++){var l=t[o][0],u=t[o][1],h=a*u-l*s;e+=h,n+=(a+l)*h,r+=(s+u)*h,a=l,s=u}return e?[n/e/3,r/e/3,e]:[t[0][0]||0,t[0][1]||0]}var JU=function(){function t(e){this.name=e}return t.prototype.setCenter=function(e){this._center=e},t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},t}(),xL=function(){function t(e,n){this.type="polygon",this.exterior=e,this.interiors=n}return t}(),AL=function(){function t(e){this.type="linestring",this.points=e}return t}(),KU=function(t){Y(e,t);function e(n,r,i){var a=t.call(this,n)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var n=this.geometries,r,i=0,a=0;a<n.length;a++){var s=n[a],o=s.exterior,l=o&&o.length;l>i&&(r=s,i=l)}if(r)return Sxe(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(n){var r=this._rect;if(r&&!n)return r;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return M(s,function(o){o.type==="polygon"?yL(o.exterior,i,a,n):M(o.points,function(l){yL(l,i,a,n)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new De(i[0],i[1],a[0]-i[0],a[1]-i[1]),n||(this._rect=r),r},e.prototype.contain=function(n){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(n[0],n[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(Fl(l,n[0],n[1])){for(var h=0;h<(u?u.length:0);h++)if(Fl(u[h],n[0],n[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(n,r,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new De(n,r,i,a),u=s.calculateTransform(l),h=this.geometries,c=0;c<h.length;c++){var f=h[c];f.type==="polygon"?(zb(f.exterior,u),M(f.interiors,function(p){zb(p,u)})):M(f.points,function(p){zb(p,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(n){n==null&&(n=this.name);var r=new e(n,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e}(JU),_xe=function(t){Y(e,t);function e(n,r){var i=t.call(this,n)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,r=n.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=ex(wxe),s=n;s&&!s.isGeoSVGGraphicRoot;)fs(a,s.getLocalTransform(),a),s=s.parent;return Eh(a,a),En(i,i,a),i},e}(JU);function Txe(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;n==null&&(n=1024);var r=e.features;return M(r,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=QU(o,s,n);break;case"Polygon":Rb(o,s,n);break;case"MultiLineString":Rb(o,s,n);break;case"MultiPolygon":M(o,function(l,u){return Rb(l,s[u],n)})}}),e.UTF8Encoding=!1,e}function Rb(t,e,n){for(var r=0;r<t.length;r++)t[r]=QU(t[r],e[r],n)}function QU(t,e,n){for(var r=[],i=e[0],a=e[1],s=0;s<t.length;s+=2){var o=t.charCodeAt(s)-64,l=t.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,r.push([o/n,l/n])}return r}function Cxe(t,e){return t=Txe(t),te(gt(t.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var r=n.properties,i=n.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new xL(s[0],s.slice(1)));break;case"MultiPolygon":M(i.coordinates,function(l){l[0]&&a.push(new xL(l[0],l.slice(1)))});break;case"LineString":a.push(new AL([i.coordinates]));break;case"MultiLineString":a.push(new AL(i.coordinates))}var o=new KU(r[e||"name"],a,r.cp);return o.properties=r,o})}var Kd=Qe();function eW(t,e){var n=te(e,function(r){return t.scale.parse(r)});return t.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Ixe(t){var e=t.getLabelModel().get("customValues");if(e){var n=Vh(t);return{labels:eW(t,e).map(function(r){var i={value:r};return{formattedLabel:n(i),rawLabel:t.scale.getLabel(i),tickValue:r}})}}return t.type==="category"?kxe(t):jxe(t)}function Exe(t,e){var n=t.getTickModel().get("customValues");return n?{ticks:eW(t,n)}:t.type==="category"?Pxe(t,e):{ticks:te(t.scale.getTicks(),function(r){return r.value})}}function kxe(t){var e=t.getLabelModel(),n=tW(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function tW(t,e){var n=nW(t,"labels"),r=RI(e),i=rW(n,r);if(i)return i;var a,s;return me(r)?a=sW(t,r):(s=r==="auto"?Mxe(t):r,a=aW(t,s)),iW(n,r,{labels:a,labelCategoryInterval:s})}function Pxe(t,e){var n=nW(t,"ticks"),r=RI(e),i=rW(n,r);if(i)return i;var a,s;if((!e.get("show")||t.scale.isBlank())&&(a=[]),me(r))a=sW(t,r,!0);else if(r==="auto"){var o=tW(t,t.getLabelModel());s=o.labelCategoryInterval,a=te(o.labels,function(l){return l.tickValue})}else s=r,a=aW(t,s,!0);return iW(n,r,{ticks:a,tickCategoryInterval:s})}function jxe(t){var e=t.scale.getTicks(),n=Vh(t);return{labels:te(e,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}function nW(t,e){return Kd(t)[e]||(Kd(t)[e]=[])}function rW(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function iW(t,e,n){return t.push({key:e,value:n}),n}function Mxe(t){var e=Kd(t).autoInterval;return e??(Kd(t).autoInterval=t.calculateCategoryInterval())}function Dxe(t){var e=Lxe(t),n=Vh(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(r)),c=Math.abs(u*Math.sin(r)),f=0,p=0;l<=a[1];l+=o){var v=0,m=0,g=Rp(n({value:l}),e.font,"center","top");v=g.width*1.3,m=g.height*1.3,f=Math.max(f,v,7),p=Math.max(p,m,7)}var y=f/h,x=p/c;isNaN(y)&&(y=1/0),isNaN(x)&&(x=1/0);var A=Math.max(0,Math.floor(Math.min(y,x))),b=Kd(t.model),S=t.getExtent(),w=b.lastAutoInterval,_=b.lastTickCount;return w!=null&&_!=null&&Math.abs(w-A)<=1&&Math.abs(_-s)<=1&&w>A&&b.axisExtent0===S[0]&&b.axisExtent1===S[1]?A=w:(b.lastTickCount=s,b.lastAutoInterval=A,b.axisExtent0=S[0],b.axisExtent1=S[1]),A}function Lxe(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function aW(t,e,n){var r=Vh(t),i=t.scale,a=i.getExtent(),s=t.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=a[0],h=i.count();u!==0&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=ZU(t),f=s.get("showMinLabel")||c,p=s.get("showMaxLabel")||c;f&&u!==a[0]&&m(a[0]);for(var v=u;v<=a[1];v+=l)m(v);p&&v-l!==a[1]&&m(a[1]);function m(g){var y={value:g};o.push(n?g:{formattedLabel:r(y),rawLabel:i.getLabel(y),tickValue:g})}return o}function sW(t,e,n){var r=t.scale,i=Vh(t),a=[];return M(r.getTicks(),function(s){var o=r.getLabel(s),l=s.value;e(s.value,o)&&a.push(n?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var bL=[0,1],Yi=function(){function t(e,n,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=n,this._extent=r||[0,0]}return t.prototype.contain=function(e){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return e>=r&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return s4(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,n){var r=this._extent;r[0]=e,r[1]=n},t.prototype.dataToCoord=function(e,n){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),wL(r,i.count())),vt(e,bL,r,n)},t.prototype.coordToData=function(e,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),wL(r,i.count()));var a=vt(e,r,bL,n);return this.scale.scale(a)},t.prototype.pointToData=function(e,n){},t.prototype.getTicksCoords=function(e){e=e||{};var n=e.tickModel||this.getTickModel(),r=Exe(this,n),i=r.ticks,a=te(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=n.get("alignWithLabel");return Nxe(this,a,s,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),n=e.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=te(r,function(a){return te(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},t.prototype.getViewLabels=function(){return Ixe(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},t.prototype.calculateCategoryInterval=function(){return Dxe(this)},t}();function wL(t,e){var n=t[1]-t[0],r=e,i=n/r/2;t[0]+=i,t[1]-=i}function Nxe(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var a=t.getExtent(),s,o;if(i===1)e[0].coord=a[0],s=e[1]={coord:a[1]};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;M(e,function(p){p.coord-=u/2});var h=t.scale.getExtent();o=1+h[1]-e[i-1].tickValue,s={coord:e[i-1].coord+u*o},e.push(s)}var c=a[0]>a[1];f(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],s.coord)&&(r?s.coord=a[1]:e.pop()),r&&f(s.coord,a[1])&&e.push({coord:a[1]});function f(p,v){return p=$t(p),v=$t(v),c?p>v:p<v}}var Af=Math.PI*2,wl=Ra.CMD,zxe=["top","right","bottom","left"];function Rxe(t,e,n,r,i){var a=n.width,s=n.height;switch(t){case"top":r.set(n.x+a/2,n.y-e),i.set(0,-1);break;case"bottom":r.set(n.x+a/2,n.y+s+e),i.set(0,1);break;case"left":r.set(n.x-e,n.y+s/2),i.set(-1,0);break;case"right":r.set(n.x+a+e,n.y+s/2),i.set(1,0);break}}function Oxe(t,e,n,r,i,a,s,o,l){s-=t,o-=e;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var h=s*n+t,c=o*n+e;if(Math.abs(r-i)%Af<1e-4)return l[0]=h,l[1]=c,u-n;if(a){var f=r;r=Dr(i),i=Dr(f)}else r=Dr(r),i=Dr(i);r>i&&(i+=Af);var p=Math.atan2(o,s);if(p<0&&(p+=Af),p>=r&&p<=i||p+Af>=r&&p+Af<=i)return l[0]=h,l[1]=c,u-n;var v=n*Math.cos(r)+t,m=n*Math.sin(r)+e,g=n*Math.cos(i)+t,y=n*Math.sin(i)+e,x=(v-s)*(v-s)+(m-o)*(m-o),A=(g-s)*(g-s)+(y-o)*(y-o);return x<A?(l[0]=v,l[1]=m,Math.sqrt(x)):(l[0]=g,l[1]=y,Math.sqrt(A))}function Oy(t,e,n,r,i,a,s,o){var l=i-t,u=a-e,h=n-t,c=r-e,f=Math.sqrt(h*h+c*c);h/=f,c/=f;var p=l*h+u*c,v=p/f;o&&(v=Math.min(Math.max(v,0),1)),v*=f;var m=s[0]=t+v*h,g=s[1]=e+v*c;return Math.sqrt((m-i)*(m-i)+(g-a)*(g-a))}function oW(t,e,n,r,i,a,s){n<0&&(t=t+n,n=-n),r<0&&(e=e+r,r=-r);var o=t+n,l=e+r,u=s[0]=Math.min(Math.max(i,t),o),h=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(h-a)*(h-a))}var Di=[];function Fxe(t,e,n){var r=oW(e.x,e.y,e.width,e.height,t.x,t.y,Di);return n.set(Di[0],Di[1]),r}function Bxe(t,e,n){for(var r=0,i=0,a=0,s=0,o,l,u=1/0,h=e.data,c=t.x,f=t.y,p=0;p<h.length;){var v=h[p++];p===1&&(r=h[p],i=h[p+1],a=r,s=i);var m=u;switch(v){case wl.M:a=h[p++],s=h[p++],r=a,i=s;break;case wl.L:m=Oy(r,i,h[p],h[p+1],c,f,Di,!0),r=h[p++],i=h[p++];break;case wl.C:m=HH(r,i,h[p++],h[p++],h[p++],h[p++],h[p],h[p+1],c,f,Di),r=h[p++],i=h[p++];break;case wl.Q:m=UH(r,i,h[p++],h[p++],h[p],h[p+1],c,f,Di),r=h[p++],i=h[p++];break;case wl.A:var g=h[p++],y=h[p++],x=h[p++],A=h[p++],b=h[p++],S=h[p++];p+=1;var w=!!(1-h[p++]);o=Math.cos(b)*x+g,l=Math.sin(b)*A+y,p<=1&&(a=o,s=l);var _=(c-g)*A/x+g;m=Oxe(g,y,A,b,b+S,w,_,f,Di),r=Math.cos(b+S)*x+g,i=Math.sin(b+S)*A+y;break;case wl.R:a=r=h[p++],s=i=h[p++];var T=h[p++],C=h[p++];m=oW(a,s,T,C,c,f,Di);break;case wl.Z:m=Oy(r,i,a,s,c,f,Di,!0),r=a,i=s;break}m<u&&(u=m,n.set(Di[0],Di[1]))}return u}var Oi=new je,It=new je,Xt=new je,xa=new je,ua=new je;function SL(t,e){if(t){var n=t.getTextGuideLine(),r=t.getTextContent();if(r&&n){var i=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||zxe,o=r.getBoundingRect().clone();o.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,h=t.getComputedTransform(),c=h&&Eh([],h),f=e.get("length2")||0;u&&Xt.copy(u);for(var p=0;p<s.length;p++){var v=s[p];Rxe(v,0,o,Oi,xa),je.scaleAndAdd(It,Oi,xa,f),It.transform(c);var m=t.getBoundingRect(),g=u?u.distance(It):t instanceof Ve?Bxe(It,t.path,Xt):Fxe(It,m,Xt);g<l&&(l=g,It.transform(h),Xt.transform(h),Xt.toArray(a[0]),It.toArray(a[1]),Oi.toArray(a[2]))}lW(a,e.get("minTurnAngle")),n.setShape({points:a})}}}var Fy=[],qn=new je;function lW(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Oi.fromArray(t[0]),It.fromArray(t[1]),Xt.fromArray(t[2]),je.sub(xa,Oi,It),je.sub(ua,Xt,It);var n=xa.len(),r=ua.len();if(!(n<.001||r<.001)){xa.scale(1/n),ua.scale(1/r);var i=xa.dot(ua),a=Math.cos(e);if(a<i){var s=Oy(It.x,It.y,Xt.x,Xt.y,Oi.x,Oi.y,Fy,!1);qn.fromArray(Fy),qn.scaleAndAdd(ua,s/Math.tan(Math.PI-e));var o=Xt.x!==It.x?(qn.x-It.x)/(Xt.x-It.x):(qn.y-It.y)/(Xt.y-It.y);if(isNaN(o))return;o<0?je.copy(qn,It):o>1&&je.copy(qn,Xt),qn.toArray(t[1])}}}}function Vxe(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,Oi.fromArray(t[0]),It.fromArray(t[1]),Xt.fromArray(t[2]),je.sub(xa,It,Oi),je.sub(ua,Xt,It);var r=xa.len(),i=ua.len();if(!(r<.001||i<.001)){xa.scale(1/r),ua.scale(1/i);var a=xa.dot(e),s=Math.cos(n);if(a<s){var o=Oy(It.x,It.y,Xt.x,Xt.y,Oi.x,Oi.y,Fy,!1);qn.fromArray(Fy);var l=Math.PI/2,u=Math.acos(ua.dot(e)),h=l+u-n;if(h>=l)je.copy(qn,Xt);else{qn.scaleAndAdd(ua,o/Math.tan(Math.PI/2-h));var c=Xt.x!==It.x?(qn.x-It.x)/(Xt.x-It.x):(qn.y-It.y)/(Xt.y-It.y);if(isNaN(c))return;c<0?je.copy(qn,It):c>1&&je.copy(qn,Xt)}qn.toArray(t[1])}}}}function Ob(t,e,n,r){var i=n==="normal",a=i?t:t.ensureState(n);a.ignore=e;var s=r.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=r.getModel("lineStyle").getLineStyle();i?t.useStyle(o):a.style=o}function Hxe(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=fo(r[0],r[1]),a=fo(r[1],r[2]);if(!i||!a){t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]);return}var s=Math.min(i,a)*n,o=ag([],r[1],r[0],s/i),l=ag([],r[1],r[2],s/a),u=ag([],o,l,.5);t.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var h=1;h<r.length;h++)t.lineTo(r[h][0],r[h][1])}function OI(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(!i){r&&t.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<Gd.length;l++){var u=Gd[l],h=e[u],c=u==="normal";if(h){var f=h.get("show"),p=c?o:_e(i.states[u]&&i.states[u].ignore,o);if(p||!_e(f,s)){var v=c?r:r&&r.states[u];v&&(v.ignore=!0),r&&Ob(r,!0,u,h);continue}r||(r=new or,t.setTextGuideLine(r),!c&&(o||!s)&&Ob(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),Ob(r,!1,u,h)}}if(r){ge(r.style,n),r.style.fill=null;var m=a.get("showAbove"),g=t.textGuideLineConfig=t.textGuideLineConfig||{};g.showAbove=m||!1,r.buildPath=Hxe}}function FI(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<tr.length;r++){var i=tr[r];n[i]=t.getModel([i,e])}return n}function uW(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=o?new Sy(s,a):null;e.push({label:i,labelLine:r.labelLine,rect:u,localRect:s,obb:h,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:o,transform:a})}}return e}function cW(t,e,n,r,i,a){var s=t.length;if(s<2)return;t.sort(function(T,C){return T.rect[e]-C.rect[e]});for(var o=0,l,u=!1,h=0,c=0;c<s;c++){var f=t[c],p=f.rect;l=p[e]-o,l<0&&(p[e]-=l,f.label[e]-=l,u=!0);var v=Math.max(-l,0);h+=v,o=p[e]+p[n]}h>0&&a&&S(-h/s,0,s);var m=t[0],g=t[s-1],y,x;A(),y<0&&w(-y,.8),x<0&&w(x,.8),A(),b(y,x,1),b(x,y,-1),A(),y<0&&_(-y),x<0&&_(x);function A(){y=m.rect[e]-r,x=i-g.rect[e]-g.rect[n]}function b(T,C,E){if(T<0){var k=Math.min(C,-T);if(k>0){S(k*E,0,s);var I=k+T;I<0&&w(-I*E,1)}else w(-T*E,1)}}function S(T,C,E){T!==0&&(u=!0);for(var k=C;k<E;k++){var I=t[k],j=I.rect;j[e]+=T,I.label[e]+=T}}function w(T,C){for(var E=[],k=0,I=1;I<s;I++){var j=t[I-1].rect,P=Math.max(t[I].rect[e]-j[e]-j[n],0);E.push(P),k+=P}if(k){var D=Math.min(Math.abs(T)/k,C);if(T>0)for(var I=0;I<s-1;I++){var L=E[I]*D;S(L,0,I+1)}else for(var I=s-1;I>0;I--){var L=E[I-1]*D;S(-L,I,s)}}}function _(T){var C=T<0?-1:1;T=Math.abs(T);for(var E=Math.ceil(T/(s-1)),k=0;k<s-1;k++)if(C>0?S(E,0,k+1):S(-E,s-k-1,s),T-=E,T<=0)return}return u}function Gxe(t,e,n,r){return cW(t,"x","width",e,n,r)}function hW(t,e,n,r){return cW(t,"y","height",e,n,r)}function fW(t){var e=[];t.sort(function(m,g){return g.priority-m.priority});var n=new De(0,0,0,0);function r(m){if(!m.ignore){var g=m.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}m.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],s=a.axisAligned,o=a.localRect,l=a.transform,u=a.label,h=a.labelLine;n.copy(a.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var c=a.obb,f=!1,p=0;p<e.length;p++){var v=e[p];if(n.intersect(v.rect)){if(s&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new Sy(v.localRect,v.transform)),c||(c=new Sy(o,l)),c.intersect(v.obb)){f=!0;break}}}f?(r(u),h&&r(h)):(u.attr("ignore",a.defaultAttr.ignore),h&&h.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function Uxe(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function Wxe(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Uxe(r&&r.shape.points)}}var _L=["align","verticalAlign","width","height","fontSize"],Hn=new os,Fb=Qe(),$xe=Qe();function gm(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];e[i]!=null&&(t[i]=e[i])}}var ym=["x","y","rotation"],Yxe=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,n,r,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),h=i.getBoundingRect().plain();De.applyTransform(h,h,u),u?Hn.setLocalTransform(u):(Hn.x=Hn.y=Hn.rotation=Hn.originX=Hn.originY=0,Hn.scaleX=Hn.scaleY=1),Hn.rotation=Dr(Hn.rotation);var c=i.__hostTarget,f;if(c){f=c.getBoundingRect().plain();var p=c.getComputedTransform();De.applyTransform(f,f,p)}var v=f&&c.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:r,dataIndex:e,dataType:n,layoutOption:a,computedLayoutOption:null,rect:h,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:Hn.x,y:Hn.y,scaleX:Hn.scaleX,scaleY:Hn.scaleY,rotation:Hn.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},t.prototype.addLabelsOfSeries=function(e){var n=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(me(i)||Xe(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=Se(a);s&&!s.disableLabelLayout&&n._addLabel(o.dataIndex,o.dataType,r,s,i)})},t.prototype.updateLayoutConfig=function(e){var n=e.getWidth(),r=e.getHeight();function i(A,b){return function(){SL(A,b)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,h=void 0;me(s.layoutOption)?h=s.layoutOption(Wxe(s,l)):h=s.layoutOption,h=h||{},s.computedLayoutOption=h;var c=Math.PI/180;l&&l.setTextConfig({local:!1,position:h.x!=null||h.y!=null?null:u.attachedPos,rotation:h.rotate!=null?h.rotate*c:u.attachedRot,offset:[h.dx||0,h.dy||0]});var f=!1;if(h.x!=null?(o.x=se(h.x,n),o.setStyle("x",0),f=!0):(o.x=u.x,o.setStyle("x",u.style.x)),h.y!=null?(o.y=se(h.y,r),o.setStyle("y",0),f=!0):(o.y=u.y,o.setStyle("y",u.style.y)),h.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:h.labelLinePoints}),f=!1)}var v=Fb(o);v.needsUpdateLabelLine=f,o.rotation=h.rotate!=null?h.rotate*c:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var m=0;m<_L.length;m++){var g=_L[m];o.setStyle(g,h[g]!=null?h[g]:u.style[g])}if(h.draggable){if(o.draggable=!0,o.cursor="move",l){var y=s.seriesModel;if(s.dataIndex!=null){var x=s.seriesModel.getData(s.dataType);y=x.getItemModel(s.dataIndex)}o.on("drag",i(l,y.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},t.prototype.layout=function(e){var n=e.getWidth(),r=e.getHeight(),i=uW(this._labelList),a=gt(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=gt(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});Gxe(a,0,n),hW(s,0,r);var o=gt(i,function(l){return l.layoutOption.hideOverlap});fW(o)},t.prototype.processLabelsOverall=function(){var e=this;M(this._chartViewList,function(n){var r=n.__model,i=n.ignoreLabelLineUpdate,a=r.isAnimationEnabled();n.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=Fb(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,r),a&&e._animateLabels(s,r)})})},t.prototype._updateLabelLine=function(e,n){var r=e.getTextContent(),i=Se(e),a=i.dataIndex;if(r&&a!=null){var s=n.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var h=s.getVisual("drawType");l.stroke=u[h]}var c=o.getModel("labelLine");OI(e,FI(o),l),SL(e,c)}},t.prototype._animateLabels=function(e,n){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!Bc(e))){var a=Fb(r),s=a.oldLayout,o=Se(e),l=o.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},h=n.getData(o.dataType);if(s){r.attr(s);var f=e.prevStates;f&&(ze(f,"select")>=0&&r.attr(a.oldLayoutSelect),ze(f,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),it(r,u,n,l)}else if(r.attr(u),!Dh(r).valueAnimation){var c=_e(r.style.opacity,1);r.style.opacity=0,Nt(r,{style:{opacity:c}},n,l)}if(a.oldLayout=u,r.states.select){var p=a.oldLayoutSelect={};gm(p,u,ym),gm(p,r.states.select,ym)}if(r.states.emphasis){var v=a.oldLayoutEmphasis={};gm(v,u,ym),gm(v,r.states.emphasis,ym)}rG(r,l,h,n,n)}if(i&&!i.ignore&&!i.invisible){var a=$xe(i),s=a.oldLayout,m={points:i.shape.points};s?(i.attr({shape:s}),it(i,{shape:m},n)):(i.setShape(m),i.style.strokePercent=0,Nt(i,{style:{strokePercent:1}},n)),a.oldLayout=m}},t}(),Bb=Qe();function qxe(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,n,r){var i=Bb(n).labelManager;i||(i=Bb(n).labelManager=new Yxe),i.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,n,r){var i=Bb(n).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(n.getViewOfSeriesModel(a))}),i.updateLayoutConfig(n),i.layout(n),i.processLabelsOverall()})}var Vb=Math.sin,Hb=Math.cos,dW=Math.PI,Sl=Math.PI*2,Xxe=180/dW,pW=function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,n){this._add("M",e,n)},t.prototype.lineTo=function(e,n){this._add("L",e,n)},t.prototype.bezierCurveTo=function(e,n,r,i,a,s){this._add("C",e,n,r,i,a,s)},t.prototype.quadraticCurveTo=function(e,n,r,i){this._add("Q",e,n,r,i)},t.prototype.arc=function(e,n,r,i,a,s){this.ellipse(e,n,r,r,0,i,a,s)},t.prototype.ellipse=function(e,n,r,i,a,s,o,l){var u=o-s,h=!l,c=Math.abs(u),f=yo(c-Sl)||(h?u>=Sl:-u>=Sl),p=u>0?u%Sl:u%Sl+Sl,v=!1;f?v=!0:yo(c)?v=!1:v=p>=dW==!!h;var m=e+r*Hb(s),g=n+i*Vb(s);this._start&&this._add("M",m,g);var y=Math.round(a*Xxe);if(f){var x=1/this._p,A=(h?1:-1)*(Sl-x);this._add("A",r,i,y,1,+h,e+r*Hb(s+A),n+i*Vb(s+A)),x>.01&&this._add("A",r,i,y,0,+h,m,g)}else{var b=e+r*Hb(o),S=n+i*Vb(o);this._add("A",r,i,y,+v,+h,b,S)}},t.prototype.rect=function(e,n,r,i){this._add("M",e,n),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,n,r,i,a,s,o,l,u){for(var h=[],c=this._p,f=1;f<arguments.length;f++){var p=arguments[f];if(isNaN(p)){this._invalid=!0;return}h.push(Math.round(p*c)/c)}this._d.push(e+h.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),BI="none",Zxe=Math.round;function Jxe(t){var e=t.fill;return e!=null&&e!==BI}function Kxe(t){var e=t.stroke;return e!=null&&e!==BI}var s1=["lineCap","miterLimit","lineJoin"],Qxe=te(s1,function(t){return"stroke-"+t.toLowerCase()});function eAe(t,e,n,r){var i=e.opacity==null?1:e.opacity;if(n instanceof Sn){t("opacity",i);return}if(Jxe(e)){var a=Bd(e.fill);t("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;s<1&&t("fill-opacity",s)}else t("fill",BI);if(Kxe(e)){var o=Bd(e.stroke);t("stroke",o.color);var l=e.strokeNoScale?n.getLineScale():1,u=l?(e.lineWidth||0)/l:0,h=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,c=e.strokeFirst;if(u!==1&&t("stroke-width",u),c&&t("paint-order",c?"stroke":"fill"),h<1&&t("stroke-opacity",h),e.lineDash){var f=CI(n),p=f[0],v=f[1];p&&(v=Zxe(v||0),t("stroke-dasharray",p.join(",")),(v||r)&&t("stroke-dashoffset",v))}for(var m=0;m<s1.length;m++){var g=s1[m];if(e[g]!==by[g]){var y=e[g]||by[g];y&&t(Qxe[m],y)}}}}var vW="http://www.w3.org/2000/svg",mW="http://www.w3.org/1999/xlink",tAe="http://www.w3.org/2000/xmlns/",nAe="http://www.w3.org/XML/1998/namespace",TL="ecmeta_";function gW(t){return document.createElementNS(vW,t)}function pn(t,e,n,r,i){return{tag:t,attrs:n||{},children:r,text:i,key:e}}function rAe(t,e){var n=[];if(e)for(var r in e){var i=e[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),n.push(a))}return"<"+t+" "+n.join(" ")+">"}function iAe(t){return"</"+t+">"}function VI(t,e){e=e||{};var n=e.newline?`
`:"";function r(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return rAe(s,o)+(s!=="style"?pr(l):l||"")+(a?""+n+te(a,function(u){return r(u)}).join(n)+n:"")+iAe(s)}return r(t)}function aAe(t,e,n){n=n||{};var r=n.newline?`
`:"",i=" {"+r,a=r+"}",s=te(Xe(t),function(l){return l+i+te(Xe(t[l]),function(u){return u+":"+t[l][u]+";"}).join(r)+a}).join(r),o=te(Xe(e),function(l){return"@keyframes "+l+i+te(Xe(e[l]),function(u){return u+i+te(Xe(e[l][u]),function(h){var c=e[l][u][h];return h==="d"&&(c='path("'+c+'")'),h+":"+c+";"}).join(r)+a}).join(r)+a}).join(r);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(r)}function o1(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function CL(t,e,n,r){return pn("svg","root",{width:t,height:e,xmlns:vW,"xmlns:xlink":mW,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+t+" "+e:!1},n)}var sAe=0;function yW(){return sAe++}var IL={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Pl="transform-origin";function oAe(t,e,n){var r=J({},t.shape);J(r,e),t.buildPath(n,r);var i=new pW;return i.reset(JH(t)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function lAe(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[Pl]=n+"px "+r+"px")}var uAe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function xW(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function cAe(t,e,n){var r=t.shape.paths,i={},a,s;if(M(r,function(l){var u=o1(n.zrId);u.animation=!0,jx(l,{},u,!0);var h=u.cssAnims,c=u.cssNodes,f=Xe(h),p=f.length;if(p){s=f[p-1];var v=h[s];for(var m in v){var g=v[m];i[m]=i[m]||{d:""},i[m].d+=g.d||""}for(var y in c){var x=c[y].animation;x.indexOf(s)>=0&&(a=x)}}}),!!a){e.d=!1;var o=xW(i,n);return a.replace(s,o)}}function EL(t){return ue(t)?IL[t]?"cubic-bezier("+IL[t]+")":UC(t)?t:"":""}function jx(t,e,n,r){var i=t.animators,a=i.length,s=[];if(t instanceof sI){var o=cAe(t,e,n);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var h=i[u],c=[h.getMaxTime()/1e3+"s"],f=EL(h.getClip().easing),p=h.getDelay();f?c.push(f):c.push("linear"),p&&c.push(p/1e3+"s"),h.getLoop()&&c.push("infinite");var v=c.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(h)}function m(x){var A=x[1],b=A.length,S={},w={},_={},T="animation-timing-function";function C(X,Q,re){for(var K=X.getTracks(),le=X.getMaxTime(),we=0;we<K.length;we++){var oe=K[we];if(oe.needsAnimate()){var Pe=oe.keyframes,Le=oe.propName;if(re&&(Le=re(Le)),Le)for(var Ge=0;Ge<Pe.length;Ge++){var st=Pe[Ge],Ue=Math.round(st.time/le*100)+"%",Ye=EL(st.easing),Ne=st.rawValue;(ue(Ne)||nt(Ne))&&(Q[Ue]=Q[Ue]||{},Q[Ue][Le]=st.rawValue,Ye&&(Q[Ue][T]=Ye))}}}}for(var E=0;E<b;E++){var k=A[E],I=k.targetName;I?I==="shape"&&C(k,w):!r&&C(k,S)}for(var j in S){var P={};n4(P,t),J(P,S[j]);var D=KH(P),L=S[j][T];_[j]=D?{transform:D}:{},lAe(_[j],P),L&&(_[j][T]=L)}var F,V=!0;for(var j in w){_[j]=_[j]||{};var U=!F,L=w[j][T];U&&(F=new Ra);var z=F.len();F.reset(),_[j].d=oAe(t,w[j],F);var H=F.len();if(!U&&z!==H){V=!1;break}L&&(_[j][T]=L)}if(!V)for(var j in _)delete _[j].d;if(!r)for(var E=0;E<b;E++){var k=A[E],I=k.targetName;I==="style"&&C(k,_,function(K){return uAe[K]})}for(var G=Xe(_),N=!0,W,E=1;E<G.length;E++){var q=G[E-1],$=G[E];if(_[q][Pl]!==_[$][Pl]){N=!1;break}W=_[q][Pl]}if(N&&W){for(var j in _)_[j][Pl]&&delete _[j][Pl];e[Pl]=W}if(gt(G,function(X){return Xe(_[X]).length>0}).length){var Z=xW(_,n);return Z+" "+x[0]+" both"}}for(var g in l){var o=m(l[g]);o&&s.push(o)}if(s.length){var y=n.zrId+"-cls-"+yW();n.cssNodes["."+y]={animation:s.join(",")},e.class=y}}function hAe(t,e,n){if(!t.ignore)if(t.isSilent()){var r={"pointer-events":"none"};kL(r,e,n)}else{var i=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},a=i.fill;if(!a){var s=t.style&&t.style.fill,o=t.states.select&&t.states.select.style&&t.states.select.style.fill,l=t.currentStates.indexOf("select")>=0&&o||s;l&&(a=x_(l))}var u=i.lineWidth;if(u){var h=!i.strokeNoScale&&t.transform?t.transform[0]:1;u=u/h}var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),kL(r,e,n)}}function kL(t,e,n,r){var i=JSON.stringify(t),a=n.cssStyleCache[i];a||(a=n.zrId+"-cls-"+yW(),n.cssStyleCache[i]=a,n.cssNodes["."+a+":hover"]=t),e.class=e.class?e.class+" "+a:a}var Qd=Math.round;function AW(t){return t&&ue(t.src)}function bW(t){return t&&me(t.toDataURL)}function HI(t,e,n,r){eAe(function(i,a){var s=i==="fill"||i==="stroke";s&&ZH(a)?SW(e,t,i,r):s&&WC(a)?_W(n,t,i,r):s&&a==="none"?t[i]="transparent":t[i]=a},e,n,!1),yAe(n,t,r)}function GI(t,e){var n=spe(e);n&&(n.each(function(r,i){r!=null&&(t[(TL+i).toLowerCase()]=r+"")}),e.isSilent()&&(t[TL+"silent"]="true"))}function PL(t){return yo(t[0]-1)&&yo(t[1])&&yo(t[2])&&yo(t[3]-1)}function fAe(t){return yo(t[4])&&yo(t[5])}function UI(t,e,n){if(e&&!(fAe(e)&&PL(e))){var r=1e4;t.transform=PL(e)?"translate("+Qd(e[4]*r)/r+" "+Qd(e[5]*r)/r+")":kde(e)}}function jL(t,e,n){for(var r=t.points,i=[],a=0;a<r.length;a++)i.push(Qd(r[a][0]*n)/n),i.push(Qd(r[a][1]*n)/n);e.points=i.join(" ")}function ML(t){return!t.smooth}function dAe(t){var e=te(t,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,i){for(var a=0;a<e.length;a++){var s=e[a],o=n[s[0]];o!=null&&(r[s[1]]=Qd(o*i)/i)}}}var pAe={circle:[dAe(["cx","cy","r"])],polyline:[jL,ML],polygon:[jL,ML]};function vAe(t){for(var e=t.animators,n=0;n<e.length;n++)if(e[n].targetName==="shape")return!0;return!1}function wW(t,e){var n=t.style,r=t.shape,i=pAe[t.type],a={},s=e.animation,o="path",l=t.style.strokePercent,u=e.compress&&JH(t)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(s&&vAe(t))&&!(l<1)){o=t.type;var h=Math.pow(10,u);i[0](r,a,h)}else{var c=!t.path||t.shapeChanged();t.path||t.createPathProxy();var f=t.path;c&&(f.beginPath(),t.buildPath(f,t.shape),t.pathUpdated());var p=f.getVersion(),v=t,m=v.__svgPathBuilder;(v.__svgPathVersion!==p||!m||l!==v.__svgPathStrokePercent)&&(m||(m=v.__svgPathBuilder=new pW),m.reset(u),f.rebuildPath(m,l),m.generateStr(),v.__svgPathVersion=p,v.__svgPathStrokePercent=l),a.d=m.getStr()}return UI(a,t.transform),HI(a,n,t,e),GI(a,t),e.animation&&jx(t,a,e),e.emphasis&&hAe(t,a,e),pn(o,t.id+"",a)}function mAe(t,e){var n=t.style,r=n.image;if(r&&!ue(r)&&(AW(r)?r=r.src:bW(r)&&(r=r.toDataURL())),!!r){var i=n.x||0,a=n.y||0,s=n.width,o=n.height,l={href:r,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),UI(l,t.transform),HI(l,n,t,e),GI(l,t),e.animation&&jx(t,l,e),pn("image",t.id+"",l)}}function gAe(t,e){var n=t.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var i=n.font||Lo,a=n.x||0,s=jde(n.y||0,nx(i),n.textBaseline),o=Pde[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(E4(n)){var u="",h=n.fontStyle,c=I4(n.fontSize);if(!parseFloat(c))return;var f=n.fontFamily||IH,p=n.fontWeight;u+="font-size:"+c+";font-family:"+f+";",h&&h!=="normal"&&(u+="font-style:"+h+";"),p&&p!=="normal"&&(u+="font-weight:"+p+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),UI(l,t.transform),HI(l,n,t,e),GI(l,t),e.animation&&jx(t,l,e),pn("text",t.id+"",l,void 0,r)}}function DL(t,e){if(t instanceof Ve)return wW(t,e);if(t instanceof Sn)return mAe(t,e);if(t instanceof ah)return gAe(t,e)}function yAe(t,e,n){var r=t.style;if(Mde(r)){var i=Dde(t),a=n.shadowCache,s=a[i];if(!s){var o=t.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var h=r.shadowOffsetX||0,c=r.shadowOffsetY||0,f=r.shadowBlur,p=Bd(r.shadowColor),v=p.opacity,m=p.color,g=f/2/l,y=f/2/u,x=g+" "+y;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=pn("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[pn("feDropShadow","",{dx:h/l,dy:c/u,stdDeviation:x,"flood-color":m,"flood-opacity":v})]),a[i]=s}e.filter=tx(s)}}function SW(t,e,n,r){var i=t[n],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(qH(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(XH(i))a="radialGradient",s.cx=_e(i.x,.5),s.cy=_e(i.y,.5),s.r=_e(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,h=o.length;u<h;++u){var c=A_(o[u].offset)*100+"%",f=o[u].color,p=Bd(f),v=p.color,m=p.opacity,g={offset:c};g["stop-color"]=v,m<1&&(g["stop-opacity"]=m),l.push(pn("stop",u+"",g))}var y=pn(a,"",s,l),x=VI(y),A=r.gradientCache,b=A[x];b||(b=r.zrId+"-g"+r.gradientIdx++,A[x]=b,s.id=b,r.defs[b]=pn(a,b,s,l)),e[n]=tx(b)}function _W(t,e,n,r){var i=t.style[n],a=t.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",h=o==="repeat-y",c;if(YH(i)){var f=i.imageWidth,p=i.imageHeight,v=void 0,m=i.image;if(ue(m)?v=m:AW(m)?v=m.src:bW(m)&&(v=m.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";er(f,g),er(p,g)}else if(f==null||p==null){var y=function(E,k){if(E){var I=E.elm,j=f||k.width,P=p||k.height;E.tag==="pattern"&&(u?(P=1,j/=a.width):h&&(j=1,P/=a.height)),E.attrs.width=j,E.attrs.height=P,I&&(I.setAttribute("width",j),I.setAttribute("height",P))}},x=JC(v,null,t,function(E){l||y(w,E),y(c,E)});x&&x.width&&x.height&&(f=f||x.width,p=p||x.height)}c=pn("image","img",{href:v,width:f,height:p}),s.width=f,s.height=p}else i.svgElement&&(c=xe(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(c){var A,b;l?A=b=1:u?(b=1,A=s.width/a.width):h?(A=1,b=s.height/a.height):s.patternUnits="userSpaceOnUse",A!=null&&!isNaN(A)&&(s.width=A),b!=null&&!isNaN(b)&&(s.height=b);var S=KH(i);S&&(s.patternTransform=S);var w=pn("pattern","",s,[c]),_=VI(w),T=r.patternCache,C=T[_];C||(C=r.zrId+"-p"+r.patternIdx++,T[_]=C,s.id=C,w=r.defs[C]=pn("pattern",C,s,[c])),e[n]=tx(C)}}function xAe(t,e,n){var r=n.clipPathCache,i=n.defs,a=r[t.id];if(!a){a=n.zrId+"-c"+n.clipPathIdx++;var s={id:a};r[t.id]=a,i[a]=pn("clipPath",a,s,[wW(t,n)])}e["clip-path"]=tx(a)}function LL(t){return document.createTextNode(t)}function Bl(t,e,n){t.insertBefore(e,n)}function NL(t,e){t.removeChild(e)}function zL(t,e){t.appendChild(e)}function TW(t){return t.parentNode}function CW(t){return t.nextSibling}function Gb(t,e){t.textContent=e}var RL=58,AAe=120,bAe=pn("","");function l1(t){return t===void 0}function oa(t){return t!==void 0}function wAe(t,e,n){for(var r={},i=e;i<=n;++i){var a=t[i].key;a!==void 0&&(r[a]=i)}return r}function Gf(t,e){var n=t.key===e.key,r=t.tag===e.tag;return r&&n}function ep(t){var e,n=t.children,r=t.tag;if(oa(r)){var i=t.elm=gW(r);if(WI(bAe,t),ee(n))for(e=0;e<n.length;++e){var a=n[e];a!=null&&zL(i,ep(a))}else oa(t.text)&&!ye(t.text)&&zL(i,LL(t.text))}else t.elm=LL(t.text);return t.elm}function IW(t,e,n,r,i){for(;r<=i;++r){var a=n[r];a!=null&&Bl(t,ep(a),e)}}function By(t,e,n,r){for(;n<=r;++n){var i=e[n];if(i!=null)if(oa(i.tag)){var a=TW(i.elm);NL(a,i.elm)}else NL(t,i.elm)}}function WI(t,e){var n,r=e.elm,i=t&&t.attrs||{},a=e.attrs||{};if(i!==a){for(n in a){var s=a[n],o=i[n];o!==s&&(s===!0?r.setAttribute(n,""):s===!1?r.removeAttribute(n):n==="style"?r.style.cssText=s:n.charCodeAt(0)!==AAe?r.setAttribute(n,s):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(tAe,n,s):n.charCodeAt(3)===RL?r.setAttributeNS(nAe,n,s):n.charCodeAt(5)===RL?r.setAttributeNS(mW,n,s):r.setAttribute(n,s))}for(n in i)n in a||r.removeAttribute(n)}}function SAe(t,e,n){for(var r=0,i=0,a=e.length-1,s=e[0],o=e[a],l=n.length-1,u=n[0],h=n[l],c,f,p,v;r<=a&&i<=l;)s==null?s=e[++r]:o==null?o=e[--a]:u==null?u=n[++i]:h==null?h=n[--l]:Gf(s,u)?(mc(s,u),s=e[++r],u=n[++i]):Gf(o,h)?(mc(o,h),o=e[--a],h=n[--l]):Gf(s,h)?(mc(s,h),Bl(t,s.elm,CW(o.elm)),s=e[++r],h=n[--l]):Gf(o,u)?(mc(o,u),Bl(t,o.elm,s.elm),o=e[--a],u=n[++i]):(l1(c)&&(c=wAe(e,r,a)),f=c[u.key],l1(f)?Bl(t,ep(u),s.elm):(p=e[f],p.tag!==u.tag?Bl(t,ep(u),s.elm):(mc(p,u),e[f]=void 0,Bl(t,p.elm,s.elm))),u=n[++i]);(r<=a||i<=l)&&(r>a?(v=n[l+1]==null?null:n[l+1].elm,IW(t,v,n,i,l)):By(t,e,r,a))}function mc(t,e){var n=e.elm=t.elm,r=t.children,i=e.children;t!==e&&(WI(t,e),l1(e.text)?oa(r)&&oa(i)?r!==i&&SAe(n,r,i):oa(i)?(oa(t.text)&&Gb(n,""),IW(n,null,i,0,i.length-1)):oa(r)?By(n,r,0,r.length-1):oa(t.text)&&Gb(n,""):t.text!==e.text&&(oa(r)&&By(n,r,0,r.length-1),Gb(n,e.text)))}function _Ae(t,e){if(Gf(t,e))mc(t,e);else{var n=t.elm,r=TW(n);ep(e),r!==null&&(Bl(r,e.elm,CW(n)),By(r,[t],0,0))}return e}var TAe=0,CAe=function(){function t(e,n,r){if(this.type="svg",this.refreshHover=OL(),this.configLayer=OL(),this.storage=n,this._opts=r=J({},r),this.root=e,this._id="zr"+TAe++,this._oldVNode=CL(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=gW("svg");WI(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(r.width,r.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",_Ae(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return DL(e,o1(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var n=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=o1(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis;var s=[],o=this._bgVNode=IAe(r,i,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=pn("g","main",{},[]);this._paintList(n,a,l?l.children:s),l&&s.push(l);var u=te(Xe(a.defs),function(f){return a.defs[f]});if(u.length&&s.push(pn("defs","defs",{},u)),e.animation){var h=aAe(a.cssNodes,a.cssAnims,{newline:!0});if(h){var c=pn("style","stl",{},[],h);s.push(c)}}return CL(r,i,s,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},VI(this.renderToVNode({animation:_e(e.cssAnimation,!0),emphasis:_e(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:_e(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,n,r){for(var i=e.length,a=[],s=0,o,l,u=0,h=0;h<i;h++){var c=e[h];if(!c.invisible){var f=c.__clipPaths,p=f&&f.length||0,v=l&&l.length||0,m=void 0;for(m=Math.max(p-1,v-1);m>=0&&!(f&&l&&f[m]===l[m]);m--);for(var g=v-1;g>m;g--)s--,o=a[s-1];for(var y=m+1;y<p;y++){var x={};xAe(f[y],x,n);var A=pn("g","clip-g-"+u++,x,[]);(o?o.children:r).push(A),a[s++]=A,o=A}l=f;var b=DL(c,n);b&&(o?o.children:r).push(b)}}},t.prototype.resize=function(e,n){var r=this._opts,i=this.root,a=this._viewport;if(e!=null&&(r.width=e),n!=null&&(r.height=n),i&&a&&(a.style.display="none",e=Pc(i,0,r),n=Pc(i,1,r),a.style.display=""),this._width!==e||this._height!==n){if(this._width=e,this._height=n,a){var s=a.style;s.width=e+"px",s.height=n+"px"}if(WC(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",n))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var n=this.renderToString(),r="data:image/svg+xml;";return e?(n=Nde(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},t}();function OL(t){return function(){}}function IAe(t,e,n,r){var i;if(n&&n!=="none")if(i=pn("rect","bg",{width:t,height:e,x:"0",y:"0"}),ZH(n))SW({fill:n},i.attrs,"fill",r);else if(WC(n))_W({style:{fill:n},dirty:Jt,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",r);else{var a=Bd(n),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function EAe(t){t.registerPainter("svg",CAe)}function FL(t,e,n){var r=No.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=a*n,r}var Ub=function(t){Mt(e,t);function e(n,r,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||xy,typeof n=="string"?s=FL(n,r,i):ye(n)&&(s=n,n=s.id),a.id=n,a.dom=s;var o=s.style;return o&&(DH(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=FL("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},e.prototype.createRepaintRects=function(n,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new De(0,0,0,0);function h(x){if(!(!x.isFinite()||x.isZero()))if(s.length===0){var A=new De(0,0,0,0);A.copy(x),s.push(A)}else{for(var b=!1,S=1/0,w=0,_=0;_<s.length;++_){var T=s[_];if(T.intersect(x)){var C=new De(0,0,0,0);C.copy(T),C.union(x),s[_]=C,b=!0;break}else if(l){u.copy(x),u.union(T);var E=x.width*x.height,k=T.width*T.height,I=u.width*u.height,j=I-E-k;j<S&&(S=j,w=_)}}if(l&&(s[w].union(x),b=!0),!b){var A=new De(0,0,0,0);A.copy(x),s.push(A)}l||(l=s.length>=o)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var f=n[c];if(f){var p=f.shouldBePainted(i,a,!0,!0),v=f.__isRendered&&(f.__dirty&Pr||!p)?f.getPrevPaintRect():null;v&&h(v);var m=p&&(f.__dirty&Pr||!f.__isRendered)?f.getPaintRect():null;m&&h(m)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var f=r[c],p=f&&f.shouldBePainted(i,a,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();v&&h(v)}}var g;do{g=!1;for(var c=0;c<s.length;){if(s[c].isZero()){s.splice(c,1);continue}for(var y=c+1;y<s.length;)s[c].intersect(s[y])?(g=!0,s[c].union(s[y]),s.splice(y,1)):y++;c++}}while(g);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(n,r){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=n+"px",s.height=r+"px"),a.width=n*i,a.height=r*i,o&&(o.width=n*i,o.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(n,r,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;r=r||this.clearColor;var u=this.motionBlur&&!n,h=this.lastFrameAlpha,c=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/c,l/c));var p=this.domBack;function v(m,g,y,x){if(s.clearRect(m,g,y,x),r&&r!=="transparent"){var A=void 0;if(K0(r)){var b=r.global||r.__width===y&&r.__height===x;A=b&&r.__canvasGradient||K_(s,r,{x:0,y:0,width:y,height:x}),r.__canvasGradient=A,r.__width=y,r.__height=x}else Gfe(r)&&(r.scaleX=r.scaleX||c,r.scaleY=r.scaleY||c,A=Q_(s,r,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=A||r,s.fillRect(m,g,y,x),s.restore()}u&&(s.save(),s.globalAlpha=h,s.drawImage(p,m,g,y,x),s.restore())}!i||u?v(0,0,o,l):i.length&&M(i,function(m){v(m.x*c,m.y*c,m.width*c,m.height*c)})},e}(bi),BL=1e5,_l=314159,xm=.01,kAe=.001;function PAe(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function jAe(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var MAe=function(){function t(e,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=J({},r||{}),this.dpr=r.devicePixelRatio||xy,this._singleCanvas=a,this.root=e;var s=e.style;s&&(DH(e),e.innerHTML=""),this.storage=n;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var h=e,c=h.width,f=h.height;r.width!=null&&(c=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,h.width=c*this.dpr,h.height=f*this.dpr,this._width=c,this._height=f;var p=new Ub(h,this,this.dpr);p.__builtin__=!0,p.initContext(),l[_l]=p,p.zlevel=_l,o.push(_l),this._domRoot=e}else{this._width=Pc(e,0,r),this._height=Pc(e,1,r);var u=this._domRoot=jAe(this._width,this._height);e.appendChild(u)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var n=e.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<n;s++){var o=e[s];o.__inHover&&(r||(r=this._hoverlayer=this.getLayer(BL)),a||(a=r.ctx,a.save()),Kl(a,o,i,s===n-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(BL)},t.prototype.paintOne=function(e,n){hU(e,n)},t.prototype._paintList=function(e,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,n,r),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;dy(function(){l._paintList(e,n,r,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(_l).ctx,n=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,n,r)})},t.prototype._doPaintList=function(e,n,r){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&a.push(u)}for(var h=!0,c=!1,f=function(m){var g=a[m],y=g.ctx,x=s&&g.createRepaintRects(e,n,p._width,p._height),A=r?g.__startIndex:g.__drawIndex,b=!r&&g.incremental&&Date.now,S=b&&Date.now(),w=g.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,w,x);else if(A===g.__startIndex){var _=e[A];(!_.incremental||!_.notClear||r)&&g.clear(!1,w,x)}A===-1&&(console.error("For some unknown reason. drawIndex is -1"),A=g.__startIndex);var T,C=function(j){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(T=A;T<g.__endIndex;T++){var D=e[T];if(D.__inHover&&(c=!0),i._doPaintEl(D,g,s,j,P,T===g.__endIndex-1),b){var L=Date.now()-S;if(L>15)break}}P.prevElClipPaths&&y.restore()};if(x)if(x.length===0)T=g.__endIndex;else for(var E=p.dpr,k=0;k<x.length;++k){var I=x[k];y.save(),y.beginPath(),y.rect(I.x*E,I.y*E,I.width*E,I.height*E),y.clip(),C(I),y.restore()}else y.save(),C(),y.restore();g.__drawIndex=T,g.__drawIndex<g.__endIndex&&(h=!1)},p=this,v=0;v<a.length;v++)f(v);return We.wxa&&M(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:h,needsRefreshHover:c}},t.prototype._doPaintEl=function(e,n,r,i,a,s){var o=n.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Kl(o,e,a,s),e.setPrevPaintRect(l))}else Kl(o,e,a,s)},t.prototype.getLayer=function(e,n){this._singleCanvas&&!this._needsManuallyCompositing&&(e=_l);var r=this._layers[e];return r||(r=new Ub("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Me(r,this._layerConfig[e],!0):this._layerConfig[e-xm]&&Me(r,this._layerConfig[e-xm],!0),n&&(r.virtual=n),this.insertLayer(e,r),r.initContext()),r},t.prototype.insertLayer=function(e,n){var r=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!r[e]&&PAe(n)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=r[i[l]]}if(i.splice(l+1,0,e),r[e]=n,!n.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(n.dom,u.nextSibling):s.appendChild(n.dom)}else s.firstChild?s.insertBefore(n.dom,s.firstChild):s.appendChild(n.dom);n.painter||(n.painter=this)}},t.prototype.eachLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(n,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__&&e.call(n,s,a)}},t.prototype.eachOtherLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__||e.call(n,s,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c,f){c.__dirty=c.__used=!1});function n(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,h=void 0;o!==u&&(o=u,s=0),i.incremental?(h=this.getLayer(u+kAe,this._needsManuallyCompositing),h.incremental=!0,s=1):h=this.getLayer(u+(s>0?xm:0),this._needsManuallyCompositing),h.__builtin__||RC("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==l&&(h.__dirty=!0),h.__startIndex=l,h.incremental?h.__drawIndex=-1:h.__drawIndex=l,n(l),a=h),i.__dirty&Pr&&!i.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(c,f){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,M(this._layers,function(n){n.setUnpainted()})},t.prototype.configLayer=function(e,n){if(n){var r=this._layerConfig;r[e]?Me(r[e],n,!0):r[e]=n;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+xm){var s=this._layers[a];Me(s,r[e],!0)}}}},t.prototype.delLayer=function(e){var n=this._layers,r=this._zlevelList,i=n[e];i&&(i.dom.parentNode.removeChild(i.dom),delete n[e],r.splice(ze(r,e),1))},t.prototype.resize=function(e,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),n!=null&&(i.height=n),e=Pc(a,0,i),n=Pc(a,1,i),r.style.display="",this._width!==e||n!==this._height){r.style.width=e+"px",r.style.height=n+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,n);this.refresh(!0)}this._width=e,this._height=n}else{if(e==null||n==null)return;this._width=e,this._height=n,this.getLayer(_l).resize(e,n)}return this},t.prototype.clearLayer=function(e){var n=this._layers[e];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[_l].dom;var n=new Ub("image",this,e.pixelRatio||this.dpr);n.initContext(),n.clear(!1,e.backgroundColor||this._backgroundColor);var r=n.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,a=n.dom.height;this.eachLayer(function(c){c.__builtin__?r.drawImage(c.dom,0,0,i,a):c.renderToCanvas&&(r.save(),c.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var h=o[l];Kl(r,h,s,l===u-1)}return n.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function DAe(t){t.registerPainter("canvas",MAe)}var LAe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n){return Rs(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(n){var r=new Ae,i=rn("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(i),i.setStyle(n.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=n.itemHeight*.8,u=rn(o,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);r.add(u),u.setStyle(n.itemStyle);var h=n.iconRotate==="inherit"?s:n.iconRotate||0;return u.rotation=h*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(kt);function ch(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=oh(t,e,n[0]);return i!=null?i+"":null}else if(r){for(var a=[],s=0;s<n.length;s++)a.push(oh(t,e,n[s]));return a.join(" ")}}function EW(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!ee(e))return e+"";for(var r=[],i=0;i<n.length;i++){var a=t.getDimensionIndex(n[i]);a>=0&&r.push(e[a])}return r.join(" ")}var qp=function(t){Y(e,t);function e(n,r,i,a){var s=t.call(this)||this;return s.updateData(n,r,i,a),s}return e.prototype._createSymbol=function(n,r,i,a,s){this.removeAll();var o=rn(n,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=NAe,this._symbolType=n,this.add(o)},e.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Is(this.childAt(0))},e.prototype.downplay=function(){Es(this.childAt(0))},e.prototype.setZ=function(n,r){var i=this.childAt(0);i.zlevel=n,i.z=r},e.prototype.setDraggable=function(n,r){var i=this.childAt(0);i.draggable=n,i.cursor=!r&&n?"move":i.cursor},e.prototype.updateData=function(n,r,i,a){this.silent=!1;var s=n.getItemVisual(r,"symbol")||"circle",o=n.hostModel,l=e.getSymbolSize(n,r),u=s!==this._symbolType,h=a&&a.disableAnimation;if(u){var c=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,n,r,l,c)}else{var f=this.childAt(0);f.silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?f.attr(p):it(f,p,o,r),Gi(f)}if(this._updateCommon(n,r,l,i,a),u){var f=this.childAt(0);if(!h){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Nt(f,p,o,r)}}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(n,r,i,a,s){var o=this.childAt(0),l=n.hostModel,u,h,c,f,p,v,m,g,y;if(a&&(u=a.emphasisItemStyle,h=a.blurItemStyle,c=a.selectItemStyle,f=a.focus,p=a.blurScope,m=a.labelStatesModels,g=a.hoverScale,y=a.cursorStyle,v=a.emphasisDisabled),!a||n.hasItemOption){var x=a&&a.itemModel?a.itemModel:n.getItemModel(r),A=x.getModel("emphasis");u=A.getModel("itemStyle").getItemStyle(),c=x.getModel(["select","itemStyle"]).getItemStyle(),h=x.getModel(["blur","itemStyle"]).getItemStyle(),f=A.get("focus"),p=A.get("blurScope"),v=A.get("disabled"),m=mn(x),g=A.getShallow("scale"),y=x.getShallow("cursor")}var b=n.getItemVisual(r,"symbolRotate");o.attr("rotation",(b||0)*Math.PI/180||0);var S=Nu(n.getItemVisual(r,"symbolOffset"),i);S&&(o.x=S[0],o.y=S[1]),y&&o.attr("cursor",y);var w=n.getItemVisual(r,"style"),_=w.fill;if(o instanceof Sn){var T=o.style;o.useStyle(J({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},w))}else o.__isEmptyBrush?o.useStyle(J({},w)):o.useStyle(w),o.style.decal=null,o.setColor(_,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var C=n.getItemVisual(r,"liftZ"),E=this._z2;C!=null?E==null&&(this._z2=o.z2,o.z2+=C):E!=null&&(o.z2=E,this._z2=null);var k=s&&s.useNameLabel;Pn(o,m,{labelFetcher:l,labelDataIndex:r,defaultText:I,inheritColor:_,defaultOpacity:w.opacity});function I(D){return k?n.getName(D):ch(n,D)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var j=o.ensureState("emphasis");j.style=u,o.ensureState("select").style=c,o.ensureState("blur").style=h;var P=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;j.scaleX=this._sizeX*P,j.scaleY=this._sizeY*P,this.setSymbolScale(1),Wt(this,f,p,v)},e.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},e.prototype.fadeOut=function(n,r,i){var a=this.childAt(0),s=Se(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&Ro(l,{style:{opacity:0}},r,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Ro(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:n,removeOpt:o})},e.getSymbolSize=function(n,r){return Bh(n.getItemVisual(r,"symbolSize"))},e}(Ae);function NAe(t,e){this.parent.drift(t,e)}function Wb(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&t.getItemVisual(n,"symbol")!=="none"}function VL(t){return t!=null&&!ye(t)&&(t={isIgnore:t}),t||{}}function HL(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:mn(e),cursorStyle:e.get("cursor")}}var Xp=function(){function t(e){this.group=new Ae,this._SymbolCtor=e||qp}return t.prototype.updateData=function(e,n){this._progressiveEls=null,n=VL(n);var r=this.group,i=e.hostModel,a=this._data,s=this._SymbolCtor,o=n.disableAnimation,l=HL(e),u={disableAnimation:o},h=n.getSymbolPoint||function(c){return e.getItemLayout(c)};a||r.removeAll(),e.diff(a).add(function(c){var f=h(c);if(Wb(e,f,c,n)){var p=new s(e,c,l,u);p.setPosition(f),e.setItemGraphicEl(c,p),r.add(p)}}).update(function(c,f){var p=a.getItemGraphicEl(f),v=h(c);if(!Wb(e,v,c,n)){r.remove(p);return}var m=e.getItemVisual(c,"symbol")||"circle",g=p&&p.getSymbolType&&p.getSymbolType();if(!p||g&&g!==m)r.remove(p),p=new s(e,c,l,u),p.setPosition(v);else{p.updateData(e,c,l,u);var y={x:v[0],y:v[1]};o?p.attr(y):it(p,y,i)}r.add(p),e.setItemGraphicEl(c,p)}).remove(function(c){var f=a.getItemGraphicEl(c);f&&f.fadeOut(function(){r.remove(f)},i)}).execute(),this._getSymbolPoint=h,this._data=e},t.prototype.updateLayout=function(){var e=this,n=this._data;n&&n.eachItemGraphicEl(function(r,i){var a=e._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=HL(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,n,r){this._progressiveEls=[],r=VL(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=n.getItemLayout(a);if(Wb(n,s,a,r)){var o=new this._SymbolCtor(n,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),n.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},t.prototype.eachRendered=function(e){Xo(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var n=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){n.remove(i)},r.hostModel)}):n.removeAll()},t}();function kW(t,e,n){var r=t.getBaseAxis(),i=t.getOtherAxis(r),a=zAe(i,n),s=r.dim,o=i.dim,l=e.mapDimension(o),u=e.mapDimension(s),h=o==="x"||o==="radius"?1:0,c=te(t.dimensions,function(v){return e.mapDimension(v)}),f=!1,p=e.getCalculationInfo("stackResultDimension");return Fo(e,c[0])&&(f=!0,c[0]=p),Fo(e,c[1])&&(f=!0,c[1]=p),{dataDimsForPoint:c,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function zAe(t,e){var n=0,r=t.scale.getExtent();return e==="start"?n=r[0]:e==="end"?n=r[1]:nt(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function PW(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,s=[];return s[a]=n.get(t.baseDim,r),s[1-a]=i,e.dataToPoint(s)}function RAe(t,e){var n=[];return e.diff(t).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,i){n.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function OAe(t,e,n,r,i,a,s,o){for(var l=RAe(t,e),u=[],h=[],c=[],f=[],p=[],v=[],m=[],g=kW(i,e,s),y=t.getLayout("points")||[],x=e.getLayout("points")||[],A=0;A<l.length;A++){var b=l[A],S=!0,w=void 0,_=void 0;switch(b.cmd){case"=":w=b.idx*2,_=b.idx1*2;var T=y[w],C=y[w+1],E=x[_],k=x[_+1];(isNaN(T)||isNaN(C))&&(T=E,C=k),u.push(T,C),h.push(E,k),c.push(n[w],n[w+1]),f.push(r[_],r[_+1]),m.push(e.getRawIndex(b.idx1));break;case"+":var I=b.idx,j=g.dataDimsForPoint,P=i.dataToPoint([e.get(j[0],I),e.get(j[1],I)]);_=I*2,u.push(P[0],P[1]),h.push(x[_],x[_+1]);var D=PW(g,i,e,I);c.push(D[0],D[1]),f.push(r[_],r[_+1]),m.push(e.getRawIndex(I));break;case"-":S=!1}S&&(p.push(b),v.push(v.length))}v.sort(function(q,$){return m[q]-m[$]});for(var L=u.length,F=ya(L),V=ya(L),U=ya(L),z=ya(L),H=[],A=0;A<v.length;A++){var G=v[A],N=A*2,W=G*2;F[N]=u[W],F[N+1]=u[W+1],V[N]=h[W],V[N+1]=h[W+1],U[N]=c[W],U[N+1]=c[W+1],z[N]=f[W],z[N+1]=f[W+1],H[A]=p[G]}return{current:F,next:V,stackedOnCurrent:U,stackedOnNext:z,status:H}}var Xs=Math.min,Zs=Math.max;function du(t,e){return isNaN(t)||isNaN(e)}function u1(t,e,n,r,i,a,s,o,l){for(var u,h,c,f,p,v,m=n,g=0;g<r;g++){var y=e[m*2],x=e[m*2+1];if(m>=i||m<0)break;if(du(y,x)){if(l){m+=a;continue}break}if(m===n)t[a>0?"moveTo":"lineTo"](y,x),c=y,f=x;else{var A=y-u,b=x-h;if(A*A+b*b<.5){m+=a;continue}if(s>0){for(var S=m+a,w=e[S*2],_=e[S*2+1];w===y&&_===x&&g<r;)g++,S+=a,m+=a,w=e[S*2],_=e[S*2+1],y=e[m*2],x=e[m*2+1],A=y-u,b=x-h;var T=g+1;if(l)for(;du(w,_)&&T<r;)T++,S+=a,w=e[S*2],_=e[S*2+1];var C=.5,E=0,k=0,I=void 0,j=void 0;if(T>=r||du(w,_))p=y,v=x;else{E=w-u,k=_-h;var P=y-u,D=w-y,L=x-h,F=_-x,V=void 0,U=void 0;if(o==="x"){V=Math.abs(P),U=Math.abs(D);var z=E>0?1:-1;p=y-z*V*s,v=x,I=y+z*U*s,j=x}else if(o==="y"){V=Math.abs(L),U=Math.abs(F);var H=k>0?1:-1;p=y,v=x-H*V*s,I=y,j=x+H*U*s}else V=Math.sqrt(P*P+L*L),U=Math.sqrt(D*D+F*F),C=U/(U+V),p=y-E*s*(1-C),v=x-k*s*(1-C),I=y+E*s*C,j=x+k*s*C,I=Xs(I,Zs(w,y)),j=Xs(j,Zs(_,x)),I=Zs(I,Xs(w,y)),j=Zs(j,Xs(_,x)),E=I-y,k=j-x,p=y-E*V/U,v=x-k*V/U,p=Xs(p,Zs(u,y)),v=Xs(v,Zs(h,x)),p=Zs(p,Xs(u,y)),v=Zs(v,Xs(h,x)),E=y-p,k=x-v,I=y+E*U/V,j=x+k*U/V}t.bezierCurveTo(c,f,p,v,y,x),c=I,f=j}else t.lineTo(y,x)}u=y,h=x,m+=a}return g}var jW=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),FAe=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new jW},e.prototype.buildPath=function(n,r){var i=r.points,a=0,s=i.length/2;if(r.connectNulls){for(;s>0&&du(i[s*2-2],i[s*2-1]);s--);for(;a<s&&du(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=u1(n,i,a,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Ra.CMD,o,l,u=r==="x",h=[],c=0;c<a.length;){var f=a[c++],p=void 0,v=void 0,m=void 0,g=void 0,y=void 0,x=void 0,A=void 0;switch(f){case s.M:o=a[c++],l=a[c++];break;case s.L:if(p=a[c++],v=a[c++],A=u?(n-o)/(p-o):(n-l)/(v-l),A<=1&&A>=0){var b=u?(v-l)*A+l:(p-o)*A+o;return u?[n,b]:[b,n]}o=p,l=v;break;case s.C:p=a[c++],v=a[c++],m=a[c++],g=a[c++],y=a[c++],x=a[c++];var S=u?vy(o,p,m,y,n,h):vy(l,v,g,x,n,h);if(S>0)for(var w=0;w<S;w++){var _=h[w];if(_<=1&&_>=0){var b=u?fn(l,v,g,x,_):fn(o,p,m,y,_);return u?[n,b]:[b,n]}}o=y,l=x;break}}},e}(Ve),BAe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(jW),MW=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new BAe},e.prototype.buildPath=function(n,r){var i=r.points,a=r.stackedOnPoints,s=0,o=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;o>0&&du(i[o*2-2],i[o*2-1]);o--);for(;s<o&&du(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=u1(n,i,s,o,o,1,r.smooth,l,r.connectNulls);u1(n,a,s+u-1,u,o,-1,r.stackedOnSmooth,l,r.connectNulls),s+=u+1,n.closePath()}},e}(Ve);function DW(t,e,n,r,i){var a=t.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,h=n.get(["lineStyle","width"])||2;s-=h/2,o-=h/2,l+=h,u+=h,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var c=new Ke({shape:{x:s,y:o,width:l,height:u}});if(e){var f=t.getBaseAxis(),p=f.isHorizontal(),v=f.inverse;p?(v&&(c.shape.x+=l),c.shape.width=0):(v||(c.shape.y+=u),c.shape.height=0);var m=me(i)?function(g){i(g,c)}:null;Nt(c,{shape:{width:l,height:u,x:s,y:o}},n,null,r,m)}return c}function LW(t,e,n){var r=t.getArea(),i=$t(r.r0,1),a=$t(r.r,1),s=new nr({shape:{cx:$t(t.cx,1),cy:$t(t.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var o=t.getBaseAxis().dim==="angle";o?s.shape.endAngle=r.startAngle:s.shape.r=i,Nt(s,{shape:{endAngle:r.endAngle,r:a}},n)}return s}function Zp(t,e,n,r,i){if(t){if(t.type==="polar")return LW(t,e,n);if(t.type==="cartesian2d")return DW(t,e,n,r,i)}else return null;return null}function Ru(t,e){return t.type===e}function GL(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function UL(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<t.length;){var s=t[a++],o=t[a++];isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r)),isNaN(o)||(n=Math.min(o,n),i=Math.max(o,i))}return[[e,n],[r,i]]}function WL(t,e){var n=UL(t),r=n[0],i=n[1],a=UL(e),s=a[0],o=a[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function $L(t){return nt(t)?t:t?.5:0}function VAe(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),i=ya(r*2),a=0;a<r;a++){var s=PW(n,t,e,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function Js(t,e,n,r){var i=e.getBaseAxis(),a=i.dim==="x"||i.dim==="radius"?0:1,s=[],o=0,l=[],u=[],h=[],c=[];if(r){for(o=0;o<t.length;o+=2)!isNaN(t[o])&&!isNaN(t[o+1])&&c.push(t[o],t[o+1]);t=c}for(o=0;o<t.length-2;o+=2)switch(h[0]=t[o+2],h[1]=t[o+3],u[0]=t[o],u[1]=t[o+1],s.push(u[0],u[1]),n){case"end":l[a]=h[a],l[1-a]=u[1-a],s.push(l[0],l[1]);break;case"middle":var f=(u[a]+h[a])/2,p=[];l[a]=p[a]=f,l[1-a]=u[1-a],p[1-a]=h[1-a],s.push(l[0],l[1]),s.push(p[0],p[1]);break;default:l[a]=u[a],l[1-a]=h[1-a],s.push(l[0],l[1])}return s.push(t[o++],t[o++]),s}function HAe(t,e){var n=[],r=t.length,i,a;function s(h,c,f){var p=h.coord,v=(f-p)/(c.coord-p),m=Ede(v,[h.color,c.color]);return{coord:f,color:m}}for(var o=0;o<r;o++){var l=t[o],u=l.coord;if(u<0)i=l;else if(u>e){a?n.push(s(a,l,e)):i&&n.push(s(i,l,0),s(i,l,e));break}else i&&(n.push(s(i,l,0)),i=null),n.push(l),a=l}return n}function GAe(t,e,n){var r=t.getVisual("visualMeta");if(!(!r||!r.length||!t.count())&&e.type==="cartesian2d"){for(var i,a,s=r.length-1;s>=0;s--){var o=t.getDimensionInfo(r[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=r[s];break}}if(a){var l=e.getAxis(i),u=te(a.stops,function(A){return{coord:l.toGlobalCoord(l.dataToCoord(A.value)),color:A.color}}),h=u.length,c=a.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var f=HAe(u,i==="x"?n.getWidth():n.getHeight()),p=f.length;if(!p&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var v=10,m=f[0].coord-v,g=f[p-1].coord+v,y=g-m;if(y<.001)return"transparent";M(f,function(A){A.offset=(A.coord-m)/y}),f.push({offset:p?f[p-1].offset:.5,color:c[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:c[0]||"transparent"});var x=new Vp(0,0,0,0,f,!0);return x[i]=m,x[i+"2"]=g,x}}}function UAe(t,e,n){var r=t.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=n.getAxesByScale("ordinal")[0];if(a&&!(i&&WAe(a,e))){var s=e.mapDimension(a.dim),o={};return M(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function WAe(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(qp.getSymbolSize(e,s)[t.isHorizontal()?1:0]*1.5>r)return!1;return!0}function $Ae(t,e){return isNaN(t)||isNaN(e)}function YAe(t){for(var e=t.length/2;e>0&&$Ae(t[e*2-2],t[e*2-1]);e--);return e-1}function YL(t,e){return[t[e*2],t[e*2+1]]}function qAe(t,e,n){for(var r=t.length/2,i=n==="x"?0:1,a,s,o=0,l=-1,u=0;u<r;u++)if(s=t[u*2+i],!(isNaN(s)||isNaN(t[u*2+1-i]))){if(u===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=u;break}o=u,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function NW(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<tr.length;e++)if(t.get([tr[e],"endLabel","show"]))return!0;return!1}function $b(t,e,n,r){if(Ru(e,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),s=r.getData(),o={lastFrameIndex:0},l=NW(r)?function(p,v){t._endLabelOnDuring(p,v,s,o,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),h=DW(e,n,r,function(){var p=t._endLabel;p&&n&&o.originalX!=null&&p.attr({x:o.originalX,y:o.originalY})},l);if(!r.get("clip",!0)){var c=h.shape,f=Math.max(c.width,c.height);u?(c.y-=f,c.height+=f*2):(c.x-=f,c.width+=f*2)}return l&&l(1,h),h}else return LW(e,n,r)}function XAe(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,a=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||s}}}var ZAe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var n=new Ae,r=new Xp;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n},e.prototype.render=function(n,r,i){var a=this,s=n.coordinateSystem,o=this.group,l=n.getData(),u=n.getModel("lineStyle"),h=n.getModel("areaStyle"),c=l.getLayout("points")||[],f=s.type==="polar",p=this._coordSys,v=this._symbolDraw,m=this._polyline,g=this._polygon,y=this._lineGroup,x=!r.ssr&&n.get("animation"),A=!h.isEmpty(),b=h.get("origin"),S=kW(s,l,b),w=A&&VAe(s,l,S),_=n.get("showSymbol"),T=n.get("connectNulls"),C=_&&!f&&UAe(n,l,s),E=this._data;E&&E.eachItemGraphicEl(function($,Z){$.__temp&&(o.remove($),E.setItemGraphicEl(Z,null))}),_||v.remove(),o.add(y);var k=f?!1:n.get("step"),I;s&&s.getArea&&n.get("clip",!0)&&(I=s.getArea(),I.width!=null?(I.x-=.1,I.y-=.1,I.width+=.2,I.height+=.2):I.r0&&(I.r0-=.5,I.r+=.5)),this._clipShapeForSymbol=I;var j=GAe(l,s,i)||l.getVisual("style")[l.getVisual("drawType")];if(!(m&&p.type===s.type&&k===this._step))_&&v.updateData(l,{isIgnore:C,clipShape:I,disableAnimation:!0,getSymbolPoint:function($){return[c[$*2],c[$*2+1]]}}),x&&this._initSymbolLabelAnimation(l,s,I),k&&(c=Js(c,s,k,T),w&&(w=Js(w,s,k,T))),m=this._newPolyline(c),A?g=this._newPolygon(c,w):g&&(y.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(n,s,wu(j)),y.setClipPath($b(this,s,!0,n));else{A&&!g?g=this._newPolygon(c,w):g&&!A&&(y.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(n,s,wu(j));var P=y.getClipPath();if(P){var D=$b(this,s,!1,n);Nt(P,{shape:D.shape},n)}else y.setClipPath($b(this,s,!0,n));_&&v.updateData(l,{isIgnore:C,clipShape:I,disableAnimation:!0,getSymbolPoint:function($){return[c[$*2],c[$*2+1]]}}),(!GL(this._stackedOnPoints,w)||!GL(this._points,c))&&(x?this._doUpdateAnimation(l,w,s,i,k,b,T):(k&&(c=Js(c,s,k,T),w&&(w=Js(w,s,k,T))),m.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:w})))}var L=n.getModel("emphasis"),F=L.get("focus"),V=L.get("blurScope"),U=L.get("disabled");if(m.useStyle(ge(u.getLineStyle(),{fill:"none",stroke:j,lineJoin:"bevel"})),kn(m,n,"lineStyle"),m.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var z=m.getState("emphasis").style;z.lineWidth=+m.style.lineWidth+1}Se(m).seriesIndex=n.seriesIndex,Wt(m,F,V,U);var H=$L(n.get("smooth")),G=n.get("smoothMonotone");if(m.setShape({smooth:H,smoothMonotone:G,connectNulls:T}),g){var N=l.getCalculationInfo("stackedOnSeries"),W=0;g.useStyle(ge(h.getAreaStyle(),{fill:j,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),N&&(W=$L(N.get("smooth"))),g.setShape({smooth:H,stackedOnSmooth:W,smoothMonotone:G,connectNulls:T}),kn(g,n,"areaStyle"),Se(g).seriesIndex=n.seriesIndex,Wt(g,F,V,U)}var q=function($){a._changePolyState($)};l.eachItemGraphicEl(function($){$&&($.onHoverStateChange=q)}),this._polyline.onHoverStateChange=q,this._data=l,this._coordSys=s,this._stackedOnPoints=w,this._points=c,this._step=k,this._valueOrigin=b,n.get("triggerLineEvent")&&(this.packEventData(n,m),g&&this.packEventData(n,g))},e.prototype.packEventData=function(n,r){Se(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},e.prototype.highlight=function(n,r,i,a){var s=n.getData(),o=xu(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var h=l[o*2],c=l[o*2+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var f=n.get("zlevel")||0,p=n.get("z")||0;u=new qp(s,o),u.x=h,u.y=c,u.setZ(f,p);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=f,v.z=p,v.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else St.prototype.highlight.call(this,n,r,i,a)},e.prototype.downplay=function(n,r,i,a){var s=n.getData(),o=xu(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else St.prototype.downplay.call(this,n,r,i,a)},e.prototype._changePolyState=function(n){var r=this._polygon;wy(this._polyline,n),r&&wy(r,n)},e.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new FAe({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(n,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new MW({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(n,r,i){var a,s,o=r.getBaseAxis(),l=o.inverse;r.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):r.type==="polar"&&(a=o.dim==="angle",s=!0);var u=n.hostModel,h=u.get("animationDuration");me(h)&&(h=h(null));var c=u.get("animationDelay")||0,f=me(c)?c(null):c;n.eachItemGraphicEl(function(p,v){var m=p;if(m){var g=[p.x,p.y],y=void 0,x=void 0,A=void 0;if(i)if(s){var b=i,S=r.pointToCoord(g);a?(y=b.startAngle,x=b.endAngle,A=-S[1]/180*Math.PI):(y=b.r0,x=b.r,A=S[0])}else{var w=i;a?(y=w.x,x=w.x+w.width,A=p.x):(y=w.y+w.height,x=w.y,A=p.y)}var _=x===y?0:(A-y)/(x-y);l&&(_=1-_);var T=me(c)?c(v):h*_+f,C=m.getSymbolPath(),E=C.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:T}),E&&E.animateFrom({style:{opacity:0}},{duration:300,delay:T}),C.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(n,r,i){var a=n.getModel("endLabel");if(NW(n)){var s=n.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new et({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var h=YAe(l);h>=0&&(Pn(o,mn(n,"endLabel"),{inheritColor:i,labelFetcher:n,labelDataIndex:h,defaultText:function(c,f,p){return p!=null?EW(s,p):ch(s,c)},enableTextSetter:!0},XAe(a,r)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(n,r,i,a,s,o,l){var u=this._endLabel,h=this._polyline;if(u){n<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var c=i.getLayout("points"),f=i.hostModel,p=f.get("connectNulls"),v=o.get("precision"),m=o.get("distance")||0,g=l.getBaseAxis(),y=g.isHorizontal(),x=g.inverse,A=r.shape,b=x?y?A.x:A.y+A.height:y?A.x+A.width:A.y,S=(y?m:0)*(x?-1:1),w=(y?0:-m)*(x?-1:1),_=y?"x":"y",T=qAe(c,b,_),C=T.range,E=C[1]-C[0],k=void 0;if(E>=1){if(E>1&&!p){var I=YL(c,C[0]);u.attr({x:I[0]+S,y:I[1]+w}),s&&(k=f.getRawValue(C[0]))}else{var I=h.getPointOn(b,_);I&&u.attr({x:I[0]+S,y:I[1]+w});var j=f.getRawValue(C[0]),P=f.getRawValue(C[1]);s&&(k=g4(i,v,j,P,T.t))}a.lastFrameIndex=C[0]}else{var D=n===1||a.lastFrameIndex>0?C[0]:0,I=YL(c,D);s&&(k=f.getRawValue(D)),u.attr({x:I[0]+S,y:I[1]+w})}if(s){var L=Dh(u);typeof L.setLabelText=="function"&&L.setLabelText(k)}}},e.prototype._doUpdateAnimation=function(n,r,i,a,s,o,l){var u=this._polyline,h=this._polygon,c=n.hostModel,f=OAe(this._data,n,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),p=f.current,v=f.stackedOnCurrent,m=f.next,g=f.stackedOnNext;if(s&&(p=Js(f.current,i,s,l),v=Js(f.stackedOnCurrent,i,s,l),m=Js(f.next,i,s,l),g=Js(f.stackedOnNext,i,s,l)),WL(p,m)>3e3||h&&WL(v,g)>3e3){u.stopAnimation(),u.setShape({points:m}),h&&(h.stopAnimation(),h.setShape({points:m,stackedOnPoints:g}));return}u.shape.__points=f.current,u.shape.points=p;var y={shape:{points:m}};f.current!==p&&(y.shape.__points=f.next),u.stopAnimation(),it(u,y,c),h&&(h.setShape({points:p,stackedOnPoints:v}),h.stopAnimation(),it(h,{shape:{stackedOnPoints:g}},c),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var x=[],A=f.status,b=0;b<A.length;b++){var S=A[b].cmd;if(S==="="){var w=n.getItemGraphicEl(A[b].idx1);w&&x.push({el:w,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var _=u.shape.__points,T=0;T<x.length;T++){var C=x[T].el,E=x[T].ptIdx*2;C.x=_[E],C.y=_[E+1],C.markRedraw()}})},e.prototype.remove=function(n){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(r.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(St);function Jp(t,e){return{seriesType:t,plan:Oh(),reset:function(n){var r=n.getData(),i=n.coordinateSystem,a=n.pipelineContext,s=e||a.large;if(i){var o=te(i.dimensions,function(p){return r.mapDimension(p)}).slice(0,2),l=o.length,u=r.getCalculationInfo("stackResultDimension");Fo(r,o[0])&&(o[0]=u),Fo(r,o[1])&&(o[1]=u);var h=r.getStore(),c=r.getDimensionIndex(o[0]),f=r.getDimensionIndex(o[1]);return l&&{progress:function(p,v){for(var m=p.end-p.start,g=s&&ya(m*l),y=[],x=[],A=p.start,b=0;A<p.end;A++){var S=void 0;if(l===1){var w=h.get(c,A);S=i.dataToPoint(w,null,x)}else y[0]=h.get(c,A),y[1]=h.get(f,A),S=i.dataToPoint(y,null,x);s?(g[b++]=S[0],g[b++]=S[1]):v.setItemLayout(A,S.slice())}s&&v.setLayout("points",g)}}}}}}var JAe={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return n===0?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,n=-1/0,r=0;r<t.length;r++){var i=t[r],a=Math.abs(i);a>e&&(e=a,n=i)}return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},KAe=function(t){return Math.round(t.length/2)};function zW(t){return{seriesType:t,reset:function(e,n,r){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),h=l.getExtent(),c=r.getDevicePixelRatio(),f=Math.abs(h[1]-h[0])*(c||1),p=Math.round(o/f);if(isFinite(p)&&p>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/p));var v=void 0;ue(a)?v=JAe[a]:me(a)&&(v=a),v&&e.setData(i.downSample(i.mapDimension(u.dim),1/p,v,KAe))}}}}}function QAe(t){t.registerChartView(ZAe),t.registerSeriesModel(LAe),t.registerLayout(Jp("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var n=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zW("line"))}var tp=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){return Rs(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(n,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(n),o=a.dataToPoint(s);if(i)M(a.getAxes(),function(f,p){if(f.type==="category"&&r!=null){var v=f.getTicksCoords(),m=f.getTickModel().get("alignWithLabel"),g=s[p],y=r[p]==="x1"||r[p]==="y1";if(y&&!m&&(g+=1),v.length<2)return;if(v.length===2){o[p]=f.toGlobalCoord(f.getExtent()[y?1:0]);return}for(var x=void 0,A=void 0,b=1,S=0;S<v.length;S++){var w=v[S].coord,_=S===v.length-1?v[S-1].tickValue+b:v[S].tickValue;if(_===g){A=w;break}else if(_<g)x=w;else if(x!=null&&_>g){A=(w+x)/2;break}S===1&&(b=_-v[0].tickValue)}A==null&&(x?x&&(A=v[v.length-1].coord):A=v[0].coord),o[p]=f.toGlobalCoord(A)}});else{var l=this.getData(),u=l.getLayout("offset"),h=l.getLayout("size"),c=a.getBaseAxis().isHorizontal()?0:1;o[c]+=u+h/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(kt);kt.registerClass(tp);var ebe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(){return Rs(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},e.prototype.brushSelector=function(n,r,i){return i.rect(r.getItemLayout(n))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Zo(tp.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(tp),tbe=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Vy=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new tbe},e.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,s=Math.max(r.r0||0,0),o=Math.max(r.r,0),l=(o-s)*.5,u=s+l,h=r.startAngle,c=r.endAngle,f=r.clockwise,p=Math.PI*2,v=f?c-h<p:h-c<p;v||(h=c-(f?p:-p));var m=Math.cos(h),g=Math.sin(h),y=Math.cos(c),x=Math.sin(c);v?(n.moveTo(m*s+i,g*s+a),n.arc(m*u+i,g*u+a,l,-Math.PI+h,h,!f)):n.moveTo(m*o+i,g*o+a),n.arc(i,a,o,h,c,!f),n.arc(y*u+i,x*u+a,l,c-Math.PI*2,c-Math.PI,!f),s!==0&&n.arc(i,a,s,c,h,f)},e}(Ve);function nbe(t,e){e=e||{};var n=e.isRoundCap;return function(r,i,a){var s=i.position;if(!s||s instanceof Array)return Ay(r,i,a);var o=t(s),l=i.distance!=null?i.distance:5,u=this.shape,h=u.cx,c=u.cy,f=u.r,p=u.r0,v=(f+p)/2,m=u.startAngle,g=u.endAngle,y=(m+g)/2,x=n?Math.abs(f-p)/2:0,A=Math.cos,b=Math.sin,S=h+f*A(m),w=c+f*b(m),_="left",T="top";switch(o){case"startArc":S=h+(p-l)*A(y),w=c+(p-l)*b(y),_="center",T="top";break;case"insideStartArc":S=h+(p+l)*A(y),w=c+(p+l)*b(y),_="center",T="bottom";break;case"startAngle":S=h+v*A(m)+Am(m,l+x,!1),w=c+v*b(m)+bm(m,l+x,!1),_="right",T="middle";break;case"insideStartAngle":S=h+v*A(m)+Am(m,-l+x,!1),w=c+v*b(m)+bm(m,-l+x,!1),_="left",T="middle";break;case"middle":S=h+v*A(y),w=c+v*b(y),_="center",T="middle";break;case"endArc":S=h+(f+l)*A(y),w=c+(f+l)*b(y),_="center",T="bottom";break;case"insideEndArc":S=h+(f-l)*A(y),w=c+(f-l)*b(y),_="center",T="top";break;case"endAngle":S=h+v*A(g)+Am(g,l+x,!0),w=c+v*b(g)+bm(g,l+x,!0),_="left",T="middle";break;case"insideEndAngle":S=h+v*A(g)+Am(g,-l+x,!0),w=c+v*b(g)+bm(g,-l+x,!0),_="right",T="middle";break;default:return Ay(r,i,a)}return r=r||{},r.x=S,r.y=w,r.align=_,r.verticalAlign=T,r}}function rbe(t,e,n,r){if(nt(r)){t.setTextConfig({rotation:r});return}else if(ee(e)){t.setTextConfig({rotation:0});return}var i=t.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:t.setTextConfig({rotation:0});return}var h=Math.PI*1.5-l;u==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),t.setTextConfig({rotation:h})}function Am(t,e,n){return e*Math.sin(t)*(n?-1:1)}function bm(t,e,n){return e*Math.cos(t)*(n?1:-1)}function Ql(t,e,n){var r=t.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;ee(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:te(r,function(a){return Hi(a,i)})}}var Yb=Math.max,qb=Math.min;function ibe(t,e){var n=t.getArea&&t.getArea();if(Ru(t,"cartesian2d")){var r=t.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=i*2):(n.y-=i,n.height+=i*2)}}return n}var abe=function(t){Y(e,t);function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return e.prototype.render=function(n,r,i,a){this._model=n,this._removeOnRenderedListener(i),this._updateDrawMode(n);var s=n.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,i):this._renderNormal(n,r,i,a))},e.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},e.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},e.prototype.eachRendered=function(n){Xo(this._progressiveEls||this.group,n)},e.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(n,r,i,a){var s=this.group,o=n.getData(),l=this._data,u=n.coordinateSystem,h=u.getBaseAxis(),c;u.type==="cartesian2d"?c=h.isHorizontal():u.type==="polar"&&(c=h.dim==="angle");var f=n.isAnimationEnabled()?n:null,p=sbe(n,u);p&&this._enableRealtimeSort(p,o,i);var v=n.get("clip",!0)||p,m=ibe(u,o);s.removeClipPath();var g=n.get("roundCap",!0),y=n.get("showBackground",!0),x=n.getModel("backgroundStyle"),A=x.get("borderRadius")||0,b=[],S=this._backgroundEls,w=a&&a.isInitSort,_=a&&a.type==="changeAxisOrder";function T(k){var I=wm[u.type](o,k),j=dbe(u,c,I);return j.useStyle(x.getItemStyle()),u.type==="cartesian2d"?j.setShape("r",A):j.setShape("cornerRadius",A),b[k]=j,j}o.diff(l).add(function(k){var I=o.getItemModel(k),j=wm[u.type](o,k,I);if(y&&T(k),!(!o.hasValue(k)||!KL[u.type](j))){var P=!1;v&&(P=qL[u.type](m,j));var D=XL[u.type](n,o,k,j,c,f,h.model,!1,g);p&&(D.forceLabelAnimation=!0),QL(D,o,k,I,j,n,c,u.type==="polar"),w?D.attr({shape:j}):p?ZL(p,f,D,j,k,c,!1,!1):Nt(D,{shape:j},n,k),o.setItemGraphicEl(k,D),s.add(D),D.ignore=P}}).update(function(k,I){var j=o.getItemModel(k),P=wm[u.type](o,k,j);if(y){var D=void 0;S.length===0?D=T(I):(D=S[I],D.useStyle(x.getItemStyle()),u.type==="cartesian2d"?D.setShape("r",A):D.setShape("cornerRadius",A),b[k]=D);var L=wm[u.type](o,k),F=OW(c,L,u);it(D,{shape:F},f,k)}var V=l.getItemGraphicEl(I);if(!o.hasValue(k)||!KL[u.type](P)){s.remove(V);return}var U=!1;if(v&&(U=qL[u.type](m,P),U&&s.remove(V)),V?Gi(V):V=XL[u.type](n,o,k,P,c,f,h.model,!!V,g),p&&(V.forceLabelAnimation=!0),_){var z=V.getTextContent();if(z){var H=Dh(z);H.prevValue!=null&&(H.prevValue=H.value)}}else QL(V,o,k,j,P,n,c,u.type==="polar");w?V.attr({shape:P}):p?ZL(p,f,V,P,k,c,!0,_):it(V,{shape:P},n,k,null),o.setItemGraphicEl(k,V),V.ignore=U,s.add(V)}).remove(function(k){var I=l.getItemGraphicEl(k);I&&Wd(I,n,k)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new Ae);C.removeAll();for(var E=0;E<b.length;++E)C.add(b[E]);s.add(C),this._backgroundEls=b,this._data=o},e.prototype._renderLarge=function(n,r,i){this._clear(),tN(n,this.group),this._updateLargeClip(n)},e.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),tN(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&Zp(n.coordinateSystem,!1,n),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(n,r,i){var a=this;if(r.count()){var s=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,i),this._isFirstFrame=!1;else{var o=function(l){var u=r.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(s.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(n,r,i){var a=[];return n.each(n.mapDimension(r.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:te(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(n,r,i){for(var a=i.scale,s=n.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var h=n.rawIndexOf(s,a.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:r(n.indexOfRawIndex(h));if(c>o)return!0;o=c}return!1},e.prototype._isOrderDifferentInView=function(n,r){for(var i=r.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(n.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(n,r,i,a){if(this._isOrderChangedWithinSameData(n,r,i)){var s=this._dataSort(n,i,r);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(n,r,i){var a=r.baseAxis,s=this._dataSort(n,a,function(o){return n.get(n.mapDimension(r.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(n){var r=this.group,i=this._data;n&&n.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Wd(a,n,Se(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(St),qL={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,a=t.y+t.height,s=Yb(e.x,t.x),o=qb(e.x+e.width,i),l=Yb(e.y,t.y),u=qb(e.y+e.height,a),h=o<s,c=u<l;return e.x=h&&s>i?o:s,e.y=c&&l>a?u:l,e.width=h?0:o-s,e.height=c?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),h||c},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var i=qb(e.r,t.r),a=Yb(e.r0,t.r0);e.r=i,e.r0=a;var s=i-a<0;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}return s}},XL={cartesian2d:function(t,e,n,r,i,a,s,o,l){var u=new Ke({shape:J({},r),z2:1});if(u.__dataIndex=n,u.name="item",a){var h=u.shape,c=i?"height":"width";h[c]=0}return u},polar:function(t,e,n,r,i,a,s,o,l){var u=!i&&l?Vy:nr,h=new u({shape:r,z2:1});h.name="item";var c=RW(i);if(h.calculateTextPosition=nbe(c,{isRoundCap:u===Vy}),a){var f=h.shape,p=i?"r":"endAngle",v={};f[p]=i?r.r0:r.startAngle,v[p]=r[p],(o?it:Nt)(h,{shape:v},a)}return h}};function sbe(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();if(n&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function ZL(t,e,n,r,i,a,s,o){var l,u;a?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),o||(s?it:Nt)(n,{shape:l},e,i,null);var h=e?t.baseAxis.model:null;(s?it:Nt)(n,{shape:u},h,i)}function JL(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var obe=["x","y","width","height"],lbe=["cx","cy","r","startAngle","endAngle"],KL={cartesian2d:function(t){return!JL(t,obe)},polar:function(t){return!JL(t,lbe)}},wm={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=n?cbe(n,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+s*i/2,width:r.width-a*i,height:r.height-s*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function ube(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function RW(t){return function(e){var n=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(t)}function QL(t,e,n,r,i,a,s,o){var l=e.getItemVisual(n,"style");if(o){if(!a.get("roundCap")){var h=t.shape,c=Ql(r.getModel("itemStyle"),h,!0);J(h,c),t.setShape(h)}}else{var u=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",u)}t.useStyle(l);var f=r.getShallow("cursor");f&&t.attr("cursor",f);var p=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=mn(r);Pn(t,v,{labelFetcher:a,labelDataIndex:n,defaultText:ch(a.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var m=t.getTextContent();if(o&&m){var g=r.get(["label","position"]);t.textConfig.inside=g==="middle"?!0:null,rbe(t,g==="outside"?p:g,RW(s),r.get(["label","rotate"]))}nG(m,v,a.getRawValue(n),function(x){return EW(e,x)});var y=r.getModel(["emphasis"]);Wt(t,y.get("focus"),y.get("blurScope"),y.get("disabled")),kn(t,r),ube(i)&&(t.style.fill="none",t.style.stroke="none",M(t.states,function(x){x.style&&(x.style.fill=x.style.stroke="none")}))}function cbe(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var hbe=function(){function t(){}return t}(),eN=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new hbe},e.prototype.buildPath=function(n,r){for(var i=r.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,h=0;h<i.length;h+=3)l[a]=u,l[s]=i[h+2],o[a]=i[h+a],o[s]=i[h+s],n.rect(o[0],o[1],l[0],l[1])},e}(Ve);function tN(t,e,n,r){var i=t.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=t.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var h=new eN({shape:{points:u},incremental:!!r,silent:!0,z2:0});h.baseDimIdx=a,h.largeDataIndices=s,h.barWidth=o,h.useStyle(l.getItemStyle()),e.add(h),n&&n.push(h)}var c=new eN({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,e.add(c),c.useStyle(i.getVisual("style")),Se(c).seriesIndex=t.seriesIndex,t.get("silent")||(c.on("mousedown",nN),c.on("mousemove",nN)),n&&n.push(c)}var nN=_I(function(t){var e=this,n=fbe(e,t.offsetX,t.offsetY);Se(e).dataIndex=n>=0?n:null},30,!1);function fbe(t,e,n){for(var r=t.baseDimIdx,i=1-r,a=t.shape.points,s=t.largeDataIndices,o=[],l=[],u=t.barWidth,h=0,c=a.length/3;h<c;h++){var f=h*3;if(l[r]=u,l[i]=a[f+2],o[r]=a[f+r],o[i]=a[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&n>=o[1]&&n<=o[1]+l[1])return s[h]}return-1}function OW(t,e,n){if(Ru(n,"cartesian2d")){var r=e,i=n.getArea();return{x:t?r.x:i.x,y:t?i.y:r.y,width:t?r.width:i.width,height:t?i.height:r.height}}else{var i=n.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:a.r0,r:t?i.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function dbe(t,e,n){var r=t.type==="polar"?nr:Ke;return new r({shape:OW(e,n,t),silent:!0,z2:0})}function pbe(t){t.registerChartView(abe),t.registerSeriesModel(ebe),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Ee(GU,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,UU("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zW("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,n){var r=e.componentType||"series";n.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var rN=Math.PI*2,Sm=Math.PI/180;function FW(t,e){return cn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function BW(t,e){var n=FW(t,e),r=t.get("center"),i=t.get("radius");ee(i)||(i=[0,i]);var a=se(n.width,e.getWidth()),s=se(n.height,e.getHeight()),o=Math.min(a,s),l=se(i[0],o/2),u=se(i[1],o/2),h,c,f=t.coordinateSystem;if(f){var p=f.dataToPoint(r);h=p[0]||0,c=p[1]||0}else ee(r)||(r=[r,r]),h=se(r[0],a)+n.x,c=se(r[1],s)+n.y;return{cx:h,cy:c,r0:l,r:u}}function vbe(t,e,n){e.eachSeriesByType(t,function(r){var i=r.getData(),a=i.mapDimension("value"),s=FW(r,n),o=BW(r,n),l=o.cx,u=o.cy,h=o.r,c=o.r0,f=-r.get("startAngle")*Sm,p=r.get("endAngle"),v=r.get("padAngle")*Sm;p=p==="auto"?f-rN:-p*Sm;var m=r.get("minAngle")*Sm,g=m+v,y=0;i.each(a,function(F){!isNaN(F)&&y++});var x=i.getSum(a),A=Math.PI/(x||y)*2,b=r.get("clockwise"),S=r.get("roseType"),w=r.get("stillShowZeroSum"),_=i.getDataExtent(a);_[0]=0;var T=b?1:-1,C=[f,p],E=T*v/2;KC(C,!b),f=C[0],p=C[1];var k=VW(r);k.startAngle=f,k.endAngle=p,k.clockwise=b;var I=Math.abs(p-f),j=I,P=0,D=f;if(i.setLayout({viewRect:s,r:h}),i.each(a,function(F,V){var U;if(isNaN(F)){i.setItemLayout(V,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:c,r:S?NaN:h});return}S!=="area"?U=x===0&&w?A:F*A:U=I/y,U<g?(U=g,j-=g):P+=F;var z=D+T*U,H=0,G=0;v>U?(H=D+T*U/2,G=H):(H=D+E,G=z-E),i.setItemLayout(V,{angle:U,startAngle:H,endAngle:G,clockwise:b,cx:l,cy:u,r0:c,r:S?vt(F,_,[c,h]):h}),D=z}),j<rN&&y)if(j<=.001){var L=I/y;i.each(a,function(F,V){if(!isNaN(F)){var U=i.getItemLayout(V);U.angle=L;var z=0,H=0;L<v?(z=f+T*(V+1/2)*L,H=z):(z=f+T*V*L+E,H=f+T*(V+1)*L-E),U.startAngle=z,U.endAngle=H}})}else A=j/P,D=f,i.each(a,function(F,V){if(!isNaN(F)){var U=i.getItemLayout(V),z=U.angle===g?g:F*A,H=0,G=0;z<v?(H=D+T*z/2,G=H):(H=D+E,G=D+T*z-E),U.startAngle=H,U.endAngle=G,D+=T*z}})})}var VW=Qe();function Kp(t){return{seriesType:t,reset:function(e,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<r.length;o++)if(!r[o].isSelected(s))return!1;return!0})}}}}var mbe=Math.PI/180;function iN(t,e,n,r,i,a,s,o,l,u){if(t.length<2)return;function h(m){for(var g=m.rB,y=g*g,x=0;x<m.list.length;x++){var A=m.list[x],b=Math.abs(A.label.y-n),S=r+A.len,w=S*S,_=Math.sqrt((1-Math.abs(b*b/y))*w),T=e+(_+A.len2)*i,C=T-A.label.x,E=A.targetTextWidth-C*i;HW(A,E,!0),A.label.x=T}}function c(m){for(var g={list:[],maxY:0},y={list:[],maxY:0},x=0;x<m.length;x++)if(m[x].labelAlignTo==="none"){var A=m[x],b=A.label.y>n?y:g,S=Math.abs(A.label.y-n);if(S>=b.maxY){var w=A.label.x-e-A.len2*i,_=r+A.len,T=Math.abs(w)<_?Math.sqrt(S*S/(1-w*w/_/_)):_;b.rB=T,b.maxY=S}b.list.push(A)}h(g),h(y)}for(var f=t.length,p=0;p<f;p++)if(t[p].position==="outer"&&t[p].labelAlignTo==="labelLine"){var v=t[p].label.x-u;t[p].linePoints[1][0]+=v,t[p].label.x=u}hW(t,l,l+s)&&c(t)}function gbe(t,e,n,r,i,a,s,o){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<t.length;f++){var p=t[f].label;Xb(t[f])||(p.x<e?(h=Math.min(h,p.x),l.push(t[f])):(c=Math.max(c,p.x),u.push(t[f])))}for(var f=0;f<t.length;f++){var v=t[f];if(!Xb(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var p=v.label,m=v.linePoints,g=void 0;v.labelAlignTo==="edge"?p.x<e?g=m[2][0]-v.labelDistance-s-v.edgeDistance:g=s+i-v.edgeDistance-m[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?p.x<e?g=h-s-v.bleedMargin:g=s+i-c-v.bleedMargin:p.x<e?g=p.x-s-v.bleedMargin:g=s+i-p.x-v.bleedMargin,v.targetTextWidth=g,HW(v,g)}}iN(u,e,n,r,1,i,a,s,o,c),iN(l,e,n,r,-1,i,a,s,o,h);for(var f=0;f<t.length;f++){var v=t[f];if(!Xb(v)&&v.linePoints){var p=v.label,m=v.linePoints,y=v.labelAlignTo==="edge",x=p.style.padding,A=x?x[1]+x[3]:0,b=p.style.backgroundColor?0:A,S=v.rect.width+b,w=m[1][0]-m[2][0];y?p.x<e?m[2][0]=s+v.edgeDistance+S+v.labelDistance:m[2][0]=s+i-v.edgeDistance-S-v.labelDistance:(p.x<e?m[2][0]=p.x+v.labelDistance:m[2][0]=p.x-v.labelDistance,m[1][0]=m[2][0]+w),m[1][1]=m[2][1]=p.y}}}function HW(t,e,n){if(n===void 0&&(n=!1),t.labelStyleWidth==null){var r=t.label,i=r.style,a=t.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,h=a.width+(s?0:l);if(e<h||n){var c=a.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",s)}else{var p=e-l,v=e<h?p:n?p>t.unconstrainedWidth?null:p:null;r.setStyle("width",v)}var m=r.getBoundingRect();a.width=m.width;var g=(r.style.margin||0)+2.1;a.height=m.height+g,a.y-=(a.height-c)/2}}}function Xb(t){return t.position==="center"}function ybe(t){var e=t.getData(),n=[],r,i,a=!1,s=(t.get("minShowLabelAngle")||0)*mbe,o=e.getLayout("viewRect"),l=e.getLayout("r"),u=o.width,h=o.x,c=o.y,f=o.height;function p(w){w.ignore=!0}function v(w){if(!w.ignore)return!0;for(var _ in w.states)if(w.states[_].ignore===!1)return!0;return!1}e.each(function(w){var _=e.getItemGraphicEl(w),T=_.shape,C=_.getTextContent(),E=_.getTextGuideLine(),k=e.getItemModel(w),I=k.getModel("label"),j=I.get("position")||k.get(["emphasis","label","position"]),P=I.get("distanceToLabelLine"),D=I.get("alignTo"),L=se(I.get("edgeDistance"),u),F=I.get("bleedMargin"),V=k.getModel("labelLine"),U=V.get("length");U=se(U,u);var z=V.get("length2");if(z=se(z,u),Math.abs(T.endAngle-T.startAngle)<s){M(C.states,p),C.ignore=!0,E&&(M(E.states,p),E.ignore=!0);return}if(v(C)){var H=(T.startAngle+T.endAngle)/2,G=Math.cos(H),N=Math.sin(H),W,q,$,Z;r=T.cx,i=T.cy;var X=j==="inside"||j==="inner";if(j==="center")W=T.cx,q=T.cy,Z="center";else{var Q=(X?(T.r+T.r0)/2*G:T.r*G)+r,re=(X?(T.r+T.r0)/2*N:T.r*N)+i;if(W=Q+G*3,q=re+N*3,!X){var K=Q+G*(U+l-T.r),le=re+N*(U+l-T.r),we=K+(G<0?-1:1)*z,oe=le;D==="edge"?W=G<0?h+L:h+u-L:W=we+(G<0?-P:P),q=oe,$=[[Q,re],[K,le],[we,oe]]}Z=X?"center":D==="edge"?G>0?"right":"left":G>0?"left":"right"}var Pe=Math.PI,Le=0,Ge=I.get("rotate");if(nt(Ge))Le=Ge*(Pe/180);else if(j==="center")Le=0;else if(Ge==="radial"||Ge===!0){var st=G<0?-H+Pe:-H;Le=st}else if(Ge==="tangential"&&j!=="outside"&&j!=="outer"){var Ue=Math.atan2(G,N);Ue<0&&(Ue=Pe*2+Ue);var Ye=N>0;Ye&&(Ue=Pe+Ue),Le=Ue-Pe}if(a=!!Le,C.x=W,C.y=q,C.rotation=Le,C.setStyle({verticalAlign:"middle"}),X){C.setStyle({align:Z});var qt=C.states.select;qt&&(qt.x+=C.x,qt.y+=C.y)}else{var Ne=C.getBoundingRect().clone();Ne.applyTransform(C.getComputedTransform());var hn=(C.style.margin||0)+2.1;Ne.y-=hn/2,Ne.height+=hn,n.push({label:C,labelLine:E,position:j,len:U,len2:z,minTurnAngle:V.get("minTurnAngle"),maxSurfaceAngle:V.get("maxSurfaceAngle"),surfaceNormal:new je(G,N),linePoints:$,textAlign:Z,labelDistance:P,labelAlignTo:D,edgeDistance:L,bleedMargin:F,rect:Ne,unconstrainedWidth:Ne.width,labelStyleWidth:C.style.width})}_.setTextConfig({inside:X})}}),!a&&t.get("avoidLabelOverlap")&&gbe(n,r,i,l,u,f,h,c);for(var m=0;m<n.length;m++){var g=n[m],y=g.label,x=g.labelLine,A=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign}),A&&(M(y.states,p),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(x){var S=g.linePoints;A||!S?(M(x.states,p),x.ignore=!0):(lW(S,g.minTurnAngle),Vxe(S,g.surfaceNormal,g.maxSurfaceAngle),x.setShape({points:S}),y.__hostTarget.textGuideLineConfig={anchor:new je(S[0][0],S[0][1])})}}}var xbe=function(t){Y(e,t);function e(n,r,i){var a=t.call(this)||this;a.z2=2;var s=new et;return a.setTextContent(s),a.updateData(n,r,i,!0),a}return e.prototype.updateData=function(n,r,i,a){var s=this,o=n.hostModel,l=n.getItemModel(r),u=l.getModel("emphasis"),h=n.getItemLayout(r),c=J(Ql(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle)){s.setShape(c);return}if(a){s.setShape(c);var f=o.getShallow("animationType");o.ecModel.ssr?(Nt(s,{scaleX:0,scaleY:0},o,{dataIndex:r,isFrom:!0}),s.originX=c.cx,s.originY=c.cy):f==="scale"?(s.shape.r=h.r0,Nt(s,{shape:{r:h.r}},o,r)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Nt(s,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},o,r)):(s.shape.endAngle=h.startAngle,it(s,{shape:{endAngle:h.endAngle}},o,r))}else Gi(s),it(s,{shape:c},o,r);s.useStyle(n.getItemVisual(r,"style")),kn(s,l);var p=(h.startAngle+h.endAngle)/2,v=o.get("selectedOffset"),m=Math.cos(p)*v,g=Math.sin(p)*v,y=l.getShallow("cursor");y&&s.attr("cursor",y),this._updateLabel(o,n,r),s.ensureState("emphasis").shape=J({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},Ql(u.getModel("itemStyle"),h)),J(s.ensureState("select"),{x:m,y:g,shape:Ql(l.getModel(["select","itemStyle"]),h)}),J(s.ensureState("blur"),{shape:Ql(l.getModel(["blur","itemStyle"]),h)});var x=s.getTextGuideLine(),A=s.getTextContent();x&&J(x.ensureState("select"),{x:m,y:g}),J(A.ensureState("select"),{x:m,y:g}),Wt(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(n,r,i){var a=this,s=r.getItemModel(i),o=s.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,h=l&&l.opacity;Pn(a,mn(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:h,defaultText:n.getFormattedLabel(i,"normal")||r.getName(i)});var c=a.getTextContent();a.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var f=n.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new or,this.setTextGuideLine(p)),OI(this,FI(s),{stroke:u,opacity:Ca(o.get(["lineStyle","opacity"]),h,1)})}},e}(nr),Abe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return e.prototype.render=function(n,r,i,a){var s=n.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var h=s.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<s.count();++c)h=s.getItemLayout(c);h&&(u=h.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&n.get("showEmptyCircle")){var f=VW(n),p=new nr({shape:J(BW(n,i),f)});p.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}s.diff(o).add(function(v){var m=new xbe(s,v,u);s.setItemGraphicEl(v,m),l.add(m)}).update(function(v,m){var g=o.getItemGraphicEl(m);g.updateData(s,v,u),g.off("click"),l.add(g),s.setItemGraphicEl(v,g)}).remove(function(v){var m=o.getItemGraphicEl(v);Wd(m,n,v)}).execute(),ybe(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(n,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=n[0]-a.cx,o=n[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(St);function Hh(t,e,n){e=ee(e)&&{coordDimensions:e}||J({encodeDefine:t.getEncode()},e);var r=t.getSource(),i=$p(r,e).dimensions,a=new Jn(i,t);return a.initData(r,n),a}var Qp=function(){function t(e,n){this._getDataWithEncodedVisual=e,this._getRawData=n}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var n=this._getRawData();return n.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var n=this._getDataWithEncodedVisual();return n.indexOfName(e)},t.prototype.getItemVisual=function(e,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,n)},t}(),bbe=Qe(),wbe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qp(fe(this.getData,this),fe(this.getRawData,this)),this._defaultLabelLine(n)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Hh(this,{coordDimensions:["value"],encodeDefaulter:Ee(mI,this)})},e.prototype.getDataParams=function(n){var r=this.getData(),i=bbe(r),a=i.seats;if(!a){var s=[];r.each(r.mapDimension("value"),function(l){s.push(l)}),a=i.seats=cpe(s,r.hostModel.get("percentPrecision"))}var o=t.prototype.getDataParams.call(this,n);return o.percent=a[n]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(n){yu(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(kt);function Sbe(t){return{seriesType:t,reset:function(e,n){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),s=r.get(a,i);return!(nt(s)&&!isNaN(s)&&s<0)})}}}function _be(t){t.registerChartView(Abe),t.registerSeriesModel(wbe),lU("pie",t.registerAction),t.registerLayout(Ee(vbe,"pie")),t.registerProcessor(Kp("pie")),t.registerProcessor(Sbe("pie"))}var Tbe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n,r){return Rs(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(kt),GW=4,Cbe=function(){function t(){}return t}(),Ibe=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new Cbe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(n,r){var i=r.points,a=r.size,s=this.symbolProxy,o=s.shape,l=n.getContext?n.getContext():n,u=l&&a[0]<GW,h=this.softClipShape,c;if(u){this._ctx=l;return}for(this._ctx=null,c=this._off;c<i.length;){var f=i[c++],p=i[c++];isNaN(f)||isNaN(p)||h&&!h.contain(f,p)||(o.x=f-a[0]/2,o.y=p-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(n,o,!0))}this.incremental&&(this._off=c,this.notClear=!0)},e.prototype.afterBrush=function(){var n=this.shape,r=n.points,i=n.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<r.length;){var l=r[o++],u=r[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(n,r){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var h=u*2,c=a[h]-o/2,f=a[h+1]-l/2;if(n>=c&&r>=f&&n<=c+o&&r<=f+l)return u}return-1},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(n=i[0],r=i[1],a.contain(n,r)){var s=this.hoverDataIdx=this.findDataIndex(n,r);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.points,a=r.size,s=a[0],o=a[1],l=1/0,u=1/0,h=-1/0,c=-1/0,f=0;f<i.length;){var p=i[f++],v=i[f++];l=Math.min(p,l),h=Math.max(p,h),u=Math.min(v,u),c=Math.max(v,c)}n=this._rect=new De(l-s/2,u-o/2,h-l+s,c-u+o)}return n},e}(Ve),Ebe=function(){function t(){this.group=new Ae}return t.prototype.updateData=function(e,n){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,n)},t.prototype.updateLayout=function(e){var n=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,a=r.startIndex*4*2;n=new Float32Array(n.buffer,a,i)}r.setShape("points",n),r.reset()})},t.prototype.incrementalPrepareUpdate=function(e){this._clear()},t.prototype.incrementalUpdate=function(e,n,r){var i=this._newAdded[0],a=n.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,n,r)}},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new Ibe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},t.prototype._setCommon=function(e,n,r){var i=n.hostModel;r=r||{};var a=n.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=r.clipShape||null,e.symbolProxy=rn(n.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<GW;e.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=n.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=Se(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(h){u.dataIndex=null;var c=e.hoverDataIdx;c>=0&&(u.dataIndex=c+(e.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),kbe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=n.getData(),s=this._updateSymbolDraw(a,n);s.updateData(a,{clipShape:this._getClipShape(n)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(n,r,i){var a=n.getData(),s=this._updateSymbolDraw(a,n);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(n,r,i){this._symbolDraw.incrementalUpdate(n,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=n.end===r.getData().count()},e.prototype.updateTransform=function(n,r,i){var a=n.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=Jp("").reset(n,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},e.prototype._getClipShape=function(n){if(n.get("clip",!0)){var r=n.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},e.prototype._updateSymbolDraw=function(n,r){var i=this._symbolDraw,a=r.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new Ebe:new Xp,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(St),Pbe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(qe),c1=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",tn).models[0]},e.type="cartesian2dAxis",e}(qe);an(c1,Yp);var UW={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},jbe=Me({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},UW),$I=Me({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},UW),Mbe=Me({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},$I),Dbe=ge({logBase:10},$I);const WW={category:jbe,value:$I,time:Mbe,log:Dbe};var Lbe={value:1,category:1,time:1,log:1};function hh(t,e,n,r){M(Lbe,function(i,a){var s=Me(Me({},WW[a],!0),r,!0),o=function(l){Y(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=e+"Axis."+a,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var f=Yd(this),p=f?zh(h):{},v=c.getTheme();Me(h,v.get(a+"Axis")),Me(h,this.getDefaultOption()),h.type=aN(h),f&&Oo(h,p,f)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=r1.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=s,u}(n);t.registerComponentModel(o)}),t.registerSubTypeDefaulter(e+"Axis",aN)}function aN(t){return t.type||(t.data?"category":"value")}var Nbe=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return te(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),gt(this.getAxes(),function(n){return n.scale.type===e})},t.prototype.addAxis=function(e){var n=e.dim;this._axes[n]=e,this._dimList.push(n)},t}(),h1=["x","y"];function sN(t){return t.type==="interval"||t.type==="time"}var zbe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=h1,n}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!sN(n)||!sN(r))){var i=n.getExtent(),a=r.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var h=(o[0]-s[0])/l,c=(o[1]-s[1])/u,f=s[0]-i[0]*h,p=s[1]-a[0]*c,v=this._transform=[h,0,0,c,f,p];this._invTransform=Eh([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},e.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},e.prototype.containZone=function(n,r){var i=this.dataToPoint(n),a=this.dataToPoint(r),s=this.getArea(),o=new De(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(n,r,i){i=i||[];var a=n[0],s=n[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return En(i,n,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(s,r)),i},e.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(n[0]),u=a.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),r},e.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return En(i,n,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(n[0]),r),i[1]=s.coordToData(s.toLocalCoord(n[1]),r),i},e.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},e.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-n,s=Math.min(i[0],i[1])-n,o=Math.max(r[0],r[1])-a+n,l=Math.max(i[0],i[1])-s+n;return new De(a,s,o,l)},e}(Nbe),Rbe=function(t){Y(e,t);function e(n,r,i,a,s){var o=t.call(this,n,r,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},e}(Yi);function f1(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,u=i.dim,h=r.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,v=u==="x"?[c[2]-p,c[3]+p]:[c[0]-p,c[1]+p];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));v[f.onZero]=Math.max(Math.min(m,v[1]),v[0])}a.position=[u==="y"?v[f[l]]:c[0],u==="x"?v[f[l]]:c[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[o],a.labelOffset=s?v[f[o]]-v[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),bn(n.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-y:y,a.z2=1,a}function oN(t){return t.get("coordinateSystem")==="cartesian2d"}function lN(t){var e={xAxisModel:null,yAxisModel:null};return M(e,function(n,r){var i=r.replace(/Model$/,""),a=t.getReferringComponents(i,tn).models[0];e[r]=a}),e}var Zb=Math.log;function $W(t,e,n){var r=Ps.prototype,i=r.getTicks.call(n),a=r.getTicks.call(n,!0),s=i.length-1,o=r.getInterval.call(n),l=XU(t,e),u=l.extent,h=l.fixMin,c=l.fixMax;if(t.type==="log"){var f=Zb(t.base);u=[Zb(u[0])/f,Zb(u[1])/f]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:s,fixMin:h,fixMax:c});var p=r.getExtent.call(t);h&&(u[0]=p[0]),c&&(u[1]=p[1]);var v=r.getInterval.call(t),m=u[0],g=u[1];if(h&&c)v=(g-m)/s;else if(h)for(g=u[0]+v*s;g<u[1]&&isFinite(g)&&isFinite(u[1]);)v=Nb(v),g=u[0]+v*s;else if(c)for(m=u[1]-v*s;m>u[0]&&isFinite(m)&&isFinite(u[0]);)v=Nb(v),m=u[1]-v*s;else{var y=t.getTicks().length-1;y>s&&(v=Nb(v));var x=v*s;g=Math.ceil(u[1]/v)*v,m=$t(g-x),m<0&&u[0]>=0?(m=0,g=$t(x)):g>0&&u[1]<=0&&(g=0,m=-$t(x))}var A=(i[0].value-a[0].value)/o,b=(i[s].value-a[s].value)/o;r.setExtent.call(t,m+v*A,g+v*b),r.setInterval.call(t,v),(A||b)&&r.setNiceExtent.call(t,m+v,g-v)}var Obe=function(){function t(e,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=h1,this._initCartesian(e,n,r),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,n){var r=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=Xe(s),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var f=+l[c],p=s[f],v=p.model,m=p.scale;i1(m)&&v.get("alignTicks")&&v.get("interval")==null?h.push(p):(uh(m,v),i1(m)&&(o=p))}h.length&&(o||(o=h.pop(),uh(o.scale,o.model)),M(h,function(g){$W(g.scale,g.model,o.scale)}))}}i(r.x),i(r.y);var a={};M(r.x,function(s){uN(r,"y",s,a)}),M(r.y,function(s){uN(r,"x",s,a)}),this.resize(this.model,n)},t.prototype.resize=function(e,n,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),s=cn(i,{width:n.getWidth(),height:n.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(M(o,function(u){if(!u.model.get(["axisLabel","inside"])){var h=yxe(u);if(h){var c=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);s[c]-=h[c]+f,u.position==="top"?s.y+=h.height+f:u.position==="left"&&(s.x+=h.width+f)}}}),l()),M(this._coordsList,function(u){u.calcAffineTransform()});function l(){M(o,function(u){var h=u.isHorizontal(),c=h?[0,s.width]:[0,s.height],f=u.inverse?1:0;u.setExtent(c[f],c[1-f]),Fbe(u,h?s.x:s.y)})}},t.prototype.getAxis=function(e,n){var r=this._axesMap[e];if(r!=null)return r[n||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,n){if(e!=null&&n!=null){var r="x"+e+"y"+n;return this._coordsMap[r]}ye(e)&&(n=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===n)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},t.prototype.convertFromPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},t.prototype._findConvertTarget=function(e){var n=e.seriesModel,r=e.xAxisModel||n&&n.getReferringComponents("xAxis",tn).models[0],i=e.yAxisModel||n&&n.getReferringComponents("yAxis",tn).models[0],a=e.gridModel,s=this._coordsList,o,l;if(n)o=n.coordinateSystem,ze(s,o)<0&&(o=null);else if(r&&i)o=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},t.prototype.containPoint=function(e){var n=this._coordsList[0];if(n)return n.containPoint(e)},t.prototype._initCartesian=function(e,n,r){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,M(o.x,function(h,c){M(o.y,function(f,p){var v="x"+c+"y"+p,m=new zbe(v);m.master=i,m.model=e,i._coordsMap[v]=m,i._coordsList.push(m),m.addAxis(h),m.addAxis(f)})});function u(h){return function(c,f){if(Jb(c,e)){var p=c.get("position");h==="x"?p!=="top"&&p!=="bottom"&&(p=s.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=s.left?"right":"left"),s[p]=!0;var v=new Rbe(h,Px(c),[0,0],c.get("type"),p),m=v.type==="category";v.onBand=m&&c.get("boundaryGap"),v.inverse=c.get("inverse"),c.axis=v,v.model=c,v.grid=a,v.index=f,a._axesList.push(v),o[h][f]=v,l[h]++}}}},t.prototype._updateScale=function(e,n){M(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(oN(i)){var a=lN(i),s=a.xAxisModel,o=a.yAxisModel;if(!Jb(s,n)||!Jb(o,n))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),h=l.getAxis("x"),c=l.getAxis("y");r(u,h),r(u,c)}},this);function r(i,a){M(Ry(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},t.prototype.getTooltipAxes=function(e){var n=[],r=[];return M(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);ze(n,a)<0&&n.push(a),ze(r,s)<0&&r.push(s)}),{baseAxes:n,otherAxes:r}},t.create=function(e,n){var r=[];return e.eachComponent("grid",function(i,a){var s=new t(i,e,n);s.name="grid_"+a,s.resize(i,n,!0),i.coordinateSystem=s,r.push(s)}),e.eachSeries(function(i){if(oN(i)){var a=lN(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(s.componentIndex,o.componentIndex)}}),r},t.dimensions=h1,t}();function Jb(t,e){return t.getCoordSysModel()===e}function uN(t,e,n,r){n.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,s=n.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)cN(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&cN(i[u])&&!r[h(i[u])]){a=i[u];break}a&&(r[h(a)]=!0);function h(c){return c.dim+"_"+c.index}}function cN(t){return t&&t.type!=="category"&&t.type!=="time"&&gxe(t)}function Fbe(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return r-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}var xo=Math.PI,Kn=function(){function t(e,n){this.group=new Ae,this.opt=n,this.axisModel=e,ge(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Ae({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return t.prototype.hasBuilder=function(e){return!!hN[e]},t.prototype.add=function(e){hN[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,n,r){var i=o4(n-e),a,s;return Vd(i)?(s=r>0?"top":"bottom",a="center"):Vd(i-xo)?(s=r>0?"bottom":"top",a="center"):(s="middle",i>0&&i<xo?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},t.makeAxisEventDataBase=function(e){var n={componentType:e.mainType,componentIndex:e.componentIndex};return n[e.mainType+"Index"]=e.componentIndex,n},t.isLabelSilent=function(e){var n=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||n&&n.show)},t}(),hN={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=r.transform,o=[a[0],0],l=[a[1],0],u=o[0]>l[0];s&&(En(o,o,s),En(l,l,s));var h=J({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new dn({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});sh(c.shape,c.style.lineWidth),c.anid="line",n.add(c);var f=e.get(["axisLine","symbol"]);if(f!=null){var p=e.get(["axisLine","symbolSize"]);ue(f)&&(f=[f,f]),(ue(p)||nt(p))&&(p=[p,p]);var v=Nu(e.get(["axisLine","symbolOffset"])||0,p),m=p[0],g=p[1];M([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(y,x){if(f[x]!=="none"&&f[x]!=null){var A=rn(f[x],-m/2,-g/2,m,g,h.stroke,!0),b=y.r+y.offset,S=u?l:o;A.attr({rotation:y.rotate,x:S[0]+b*Math.cos(t.rotation),y:S[1]-b*Math.sin(t.rotation),silent:!0,z2:11}),n.add(A)}})}}},axisTickLabel:function(t,e,n,r){var i=Hbe(n,r,e,t),a=Ube(n,r,e,t);if(Vbe(e,a,i),Gbe(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=uW(te(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));fW(s)}},axisName:function(t,e,n,r){var i=bn(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=t.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),h=u[0]>u[1]?-1:1,c=[a==="start"?u[0]-h*l:a==="end"?u[1]+h*l:(u[0]+u[1])/2,dN(a)?t.labelOffset+s*l:0],f,p=e.get("nameRotate");p!=null&&(p=p*xo/180);var v;dN(a)?f=Kn.innerTextLayout(t.rotation,p??t.rotation,s):(f=Bbe(t.rotation,a,p||0,u),v=t.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var m=o.getFont(),g=e.get("nameTruncate",!0)||{},y=g.ellipsis,x=bn(t.nameTruncateMaxWidth,g.maxWidth,v),A=new et({x:c[0],y:c[1],rotation:f.rotation,silent:Kn.isLabelSilent(e),style:Et(o,{text:i,font:m,overflow:"truncate",width:x,ellipsis:y,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Mh({el:A,componentModel:e,itemName:i}),A.__fullText=i,A.anid="name",e.get("triggerEvent")){var b=Kn.makeAxisEventDataBase(e);b.targetType="axisName",b.name=i,Se(A).eventData=b}r.add(A),A.updateTransform(),n.add(A),A.decomposeTransform()}}};function Bbe(t,e,n,r){var i=o4(n-t),a,s,o=r[0]>r[1],l=e==="start"&&!o||e!=="start"&&o;return Vd(i-xo/2)?(s=l?"bottom":"top",a="center"):Vd(i-xo*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<xo*1.5&&i>xo/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function Vbe(t,e,n){if(!ZU(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],u=n[0],h=n[1],c=n[n.length-1],f=n[n.length-2];r===!1?(Yr(a),Yr(u)):fN(a,s)&&(r?(Yr(s),Yr(h)):(Yr(a),Yr(u))),i===!1?(Yr(o),Yr(c)):fN(l,o)&&(i?(Yr(l),Yr(f)):(Yr(o),Yr(c)))}}function Yr(t){t&&(t.ignore=!0)}function fN(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!n||!r)){var i=ex([]);return Du(i,i,-t.rotation),n.applyTransform(fs([],i,t.getLocalTransform())),r.applyTransform(fs([],i,e.getLocalTransform())),n.intersect(r)}}function dN(t){return t==="middle"||t==="center"}function YW(t,e,n,r,i){for(var a=[],s=[],o=[],l=0;l<t.length;l++){var u=t[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=n,e&&(En(s,s,e),En(o,o,e));var h=new dn({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:r,z2:2,autoBatch:!0,silent:!0});sh(h.shape,h.style.lineWidth),h.anid=i+"_"+t[l].tickValue,a.push(h)}return a}function Hbe(t,e,n,r){var i=n.axis,a=n.getModel("axisTick"),s=a.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=i.getTicksCoords(),h=YW(u,e.transform,l,ge(o.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<h.length;c++)t.add(h[c]);return h}}function Gbe(t,e,n,r){var i=n.axis,a=n.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=r*a.get("length"),u=ge(o.getLineStyle(),ge(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),h=0;h<s.length;h++)for(var c=YW(s[h],e.transform,l,u,"minorticks_"+h),f=0;f<c.length;f++)t.add(c[f])}}function Ube(t,e,n,r){var i=n.axis,a=bn(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=n.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),u=(bn(r.labelRotate,s.get("rotate"))||0)*xo/180,h=Kn.innerTextLayout(r.rotation,u,r.labelDirection),c=n.getCategories&&n.getCategories(!0),f=[],p=Kn.isLabelSilent(n),v=n.get("triggerEvent");return M(l,function(m,g){var y=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,x=m.formattedLabel,A=m.rawLabel,b=s;if(c&&c[y]){var S=c[y];ye(S)&&S.textStyle&&(b=new dt(S.textStyle,s,n.ecModel))}var w=b.getTextColor()||n.get(["axisLine","lineStyle","color"]),_=i.dataToCoord(y),T=b.getShallow("align",!0)||h.textAlign,C=_e(b.getShallow("alignMinLabel",!0),T),E=_e(b.getShallow("alignMaxLabel",!0),T),k=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||h.textVerticalAlign,I=_e(b.getShallow("verticalAlignMinLabel",!0),k),j=_e(b.getShallow("verticalAlignMaxLabel",!0),k),P=new et({x:_,y:r.labelOffset+r.labelDirection*o,rotation:h.rotation,silent:p,z2:10+(m.level||0),style:Et(b,{text:x,align:g===0?C:g===l.length-1?E:T,verticalAlign:g===0?I:g===l.length-1?j:k,fill:me(w)?w(i.type==="category"?A:i.type==="value"?y+"":y,g):w})});if(P.anid="label_"+y,v){var D=Kn.makeAxisEventDataBase(n);D.targetType="axisLabel",D.value=A,D.tickIndex=g,i.type==="category"&&(D.dataIndex=y),Se(P).eventData=D}e.add(P),P.updateTransform(),f.push(P),t.add(P),P.decomposeTransform()}),f}}function Wbe(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return $be(n,t,e),n.seriesInvolved&&qbe(n,t),n}function $be(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];M(n.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=np(o.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=o;var h=o.model,c=h.getModel("tooltip",r);if(M(o.getAxes(),Ee(m,!1,null)),o.getTooltipAxes&&r&&c.get("show")){var f=c.get("trigger")==="axis",p=c.get(["axisPointer","type"])==="cross",v=o.getTooltipAxes(c.get(["axisPointer","axis"]));(f||p)&&M(v.baseAxes,Ee(m,p?"cross":!0,f)),p&&M(v.otherAxes,Ee(m,"cross",!1))}function m(g,y,x){var A=x.model.getModel("axisPointer",i),b=A.get("show");if(!(!b||b==="auto"&&!g&&!d1(A))){y==null&&(y=A.get("triggerTooltip")),A=g?Ybe(x,c,i,e,g,y):A;var S=A.get("snap"),w=A.get("triggerEmphasis"),_=np(x.model),T=y||S||x.type==="category",C=t.axesInfo[_]={key:_,axis:x,coordSys:o,axisPointerModel:A,triggerTooltip:y,triggerEmphasis:w,involveSeries:T,snap:S,useHandle:d1(A),seriesModels:[],linkGroup:null};u[_]=C,t.seriesInvolved=t.seriesInvolved||T;var E=Xbe(a,x);if(E!=null){var k=s[E]||(s[E]={axesInfo:{}});k.axesInfo[_]=C,k.mapper=a[E].mapper,C.linkGroup=k}}}})}function Ybe(t,e,n,r,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};M(o,function(f){l[f]=xe(s.get(f))}),l.snap=t.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var h=s.get(["label","show"]);if(u.show=h??!0,!a){var c=l.lineStyle=s.get("crossStyle");c&&ge(u,c.textStyle)}}return t.model.getModel("axisPointer",new dt(l,n,r))}function qbe(t,e){e.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),a=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||n.get(["axisPointer","show"],!0)===!1||M(t.coordSysAxesInfo[np(r.model)],function(s){var o=s.axis;r.getAxis(o.dim)===o&&(s.seriesModels.push(n),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=n.getData().count())})})}function Xbe(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(Kb(a[r+"AxisId"],n.id)||Kb(a[r+"AxisIndex"],n.componentIndex)||Kb(a[r+"AxisName"],n.name))return i}}function Kb(t,e){return t==="all"||ee(t)&&ze(t,e)>=0||t===e}function Zbe(t){var e=YI(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,a=n.get("status"),s=n.get("value");s!=null&&(s=r.parse(s));var o=d1(n);a==null&&(i.status=o?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function YI(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[np(t)]}function Jbe(t){var e=YI(t);return e&&e.axisPointerModel}function d1(t){return!!t.get(["handle","show"])}function np(t){return t.type+"||"+t.id}var pN={},Ou=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){this.axisPointerClass&&Zbe(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},e.prototype.updateAxisPointer=function(n,r,i,a){this._doUpdateAxisPointerClass(n,i,!1)},e.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(n,r){this._disposeAxisPointer(r),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(n,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=Jbe(n);s?(this._axisPointer||(this._axisPointer=new a)).render(n,s,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},e.registerAxisPointerClass=function(n,r){pN[n]=r},e.getAxisPointerClass=function(n){return n&&pN[n]},e.type="axis",e}(Ot),p1=Qe();function qW(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var h=o.length,c=p1(t).splitAreaColors,f=pe(),p=0;if(c)for(var v=0;v<u.length;v++){var m=c.get(u[v].tickValue);if(m!=null){p=(m+(h-1)*v)%h;break}}var g=i.toGlobalCoord(u[0].coord),y=s.getAreaStyle();o=ee(o)?o:[o];for(var v=1;v<u.length;v++){var x=i.toGlobalCoord(u[v].coord),A=void 0,b=void 0,S=void 0,w=void 0;i.isHorizontal()?(A=g,b=l.y,S=x-A,w=l.height,g=A+S):(A=l.x,b=g,S=l.width,w=x-b,g=b+w);var _=u[v-1].tickValue;_!=null&&f.set(_,p),e.add(new Ke({anid:_!=null?"area_"+_:null,shape:{x:A,y:b,width:S,height:w},style:ge({fill:o[p]},y),autoBatch:!0,silent:!0})),p=(p+1)%h}p1(t).splitAreaColors=f}}}function XW(t){p1(t).splitAreaColors=null}var Kbe=["axisLine","axisTickLabel","axisName"],Qbe=["splitArea","splitLine","minorSplitLine"],ZW=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return e.prototype.render=function(n,r,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Ae,this.group.add(this._axisGroup),!!n.get("show")){var o=n.getCoordSysModel(),l=f1(o,n),u=new Kn(n,J({handleAutoShown:function(c){for(var f=o.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(i1(f[p].getOtherAxis(n.axis).scale))return!0;return!1}},l));M(Kbe,u.add,u),this._axisGroup.add(u.getGroup()),M(Qbe,function(c){n.get([c,"show"])&&ewe[c](this,this._axisGroup,n,o)},this);var h=a&&a.type==="changeAxisOrder"&&a.isInitSort;h||Hp(s,this._axisGroup,n),t.prototype.render.call(this,n,r,i,a)}},e.prototype.remove=function(){XW(this)},e.type="cartesianAxis",e}(Ou),ewe={splitLine:function(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=ee(o)?o:[o];for(var l=r.coordinateSystem.getRect(),u=i.isHorizontal(),h=0,c=i.getTicksCoords({tickModel:a}),f=[],p=[],v=s.getLineStyle(),m=0;m<c.length;m++){var g=i.toGlobalCoord(c[m].coord);u?(f[0]=g,f[1]=l.y,p[0]=g,p[1]=l.y+l.height):(f[0]=l.x,f[1]=g,p[0]=l.x+l.width,p[1]=g);var y=h++%o.length,x=c[m].tickValue,A=new dn({anid:x!=null?"line_"+c[m].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:ge({stroke:o[y]},v),silent:!0});sh(A.shape,v.lineWidth),e.add(A)}}},minorSplitLine:function(t,e,n,r){var i=n.axis,a=n.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var h=[],c=[],f=s.getLineStyle(),p=0;p<u.length;p++)for(var v=0;v<u[p].length;v++){var m=i.toGlobalCoord(u[p][v].coord);l?(h[0]=m,h[1]=o.y,c[0]=m,c[1]=o.y+o.height):(h[0]=o.x,h[1]=m,c[0]=o.x+o.width,c[1]=m);var g=new dn({anid:"minor_line_"+u[p][v].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:f,silent:!0});sh(g.shape,f.lineWidth),e.add(g)}},splitArea:function(t,e,n,r){qW(t,e,n,r)}},JW=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="xAxis",e}(ZW),twe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=JW.type,n}return e.type="yAxis",e}(ZW),nwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n}return e.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new Ke({shape:n.coordinateSystem.getRect(),style:ge({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Ot),vN={offset:0};function KW(t){t.registerComponentView(nwe),t.registerComponentModel(Pbe),t.registerCoordinateSystem("cartesian2d",Obe),hh(t,"x",c1,vN),hh(t,"y",c1,vN),t.registerComponentView(JW),t.registerComponentView(twe),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function rwe(t){Fe(KW),t.registerSeriesModel(Tbe),t.registerChartView(kbe),t.registerLayout(Jp("scatter"))}function iwe(t){t.eachSeriesByType("radar",function(e){var n=e.getData(),r=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();M(a,function(s,o){n.each(n.mapDimension(a[o].dim),function(l,u){r[u]=r[u]||[];var h=i.dataToPoint(l,o);r[u][o]=mN(h)?h:gN(i)})}),n.each(function(s){var o=Vfe(r[s],function(l){return mN(l)})||gN(i);r[s].push(o.slice()),n.setItemLayout(s,r[s])})}})}function mN(t){return!isNaN(t[0])&&!isNaN(t[1])}function gN(t){return[t.cx,t.cy]}function awe(t){var e=t.polar;if(e){ee(e)||(e=[e]);var n=[];M(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),t.radar=t.radar||[],ee(t.radar)||(t.radar=[t.radar]),t.radar.push(r)):n.push(r)}),t.polar=n}M(t.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var swe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=n.coordinateSystem,s=this.group,o=n.getData(),l=this._data;function u(f,p){var v=f.getItemVisual(p,"symbol")||"circle";if(v!=="none"){var m=Bh(f.getItemVisual(p,"symbolSize")),g=rn(v,-1,-1,2,2),y=f.getItemVisual(p,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:y*Math.PI/180||0}),g}}function h(f,p,v,m,g,y){v.removeAll();for(var x=0;x<p.length-1;x++){var A=u(m,g);A&&(A.__dimIdx=x,f[x]?(A.setPosition(f[x]),Lu[y?"initProps":"updateProps"](A,{x:p[x][0],y:p[x][1]},n,g)):A.setPosition(p[x]),v.add(A))}}function c(f){return te(f,function(p){return[a.cx,a.cy]})}o.diff(l).add(function(f){var p=o.getItemLayout(f);if(p){var v=new rr,m=new or,g={shape:{points:p}};v.shape.points=c(p),m.shape.points=c(p),Nt(v,g,n,f),Nt(m,g,n,f);var y=new Ae,x=new Ae;y.add(m),y.add(v),y.add(x),h(m.shape.points,p,x,o,f,!0),o.setItemGraphicEl(f,y)}}).update(function(f,p){var v=l.getItemGraphicEl(p),m=v.childAt(0),g=v.childAt(1),y=v.childAt(2),x={shape:{points:o.getItemLayout(f)}};x.shape.points&&(h(m.shape.points,x.shape.points,y,o,f,!1),Gi(g),Gi(m),it(m,x,n),it(g,x,n),o.setItemGraphicEl(f,v))}).remove(function(f){s.remove(l.getItemGraphicEl(f))}).execute(),o.eachItemGraphicEl(function(f,p){var v=o.getItemModel(p),m=f.childAt(0),g=f.childAt(1),y=f.childAt(2),x=o.getItemVisual(p,"style"),A=x.fill;s.add(f),m.useStyle(ge(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:A})),kn(m,v,"lineStyle"),kn(g,v,"areaStyle");var b=v.getModel("areaStyle"),S=b.isEmpty()&&b.parentModel.isEmpty();g.ignore=S,M(["emphasis","select","blur"],function(T){var C=v.getModel([T,"areaStyle"]),E=C.isEmpty()&&C.parentModel.isEmpty();g.ensureState(T).ignore=E&&S}),g.useStyle(ge(b.getAreaStyle(),{fill:A,opacity:.7,decal:x.decal}));var w=v.getModel("emphasis"),_=w.getModel("itemStyle").getItemStyle();y.eachChild(function(T){if(T instanceof Sn){var C=T.style;T.useStyle(J({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},x))}else T.useStyle(x),T.setColor(A),T.style.strokeNoScale=!0;var E=T.ensureState("emphasis");E.style=xe(_);var k=o.getStore().get(o.getDimensionIndex(T.__dimIdx),p);(k==null||isNaN(k))&&(k=""),Pn(T,mn(v),{labelFetcher:o.hostModel,labelDataIndex:p,labelDimIndex:T.__dimIdx,defaultText:k,inheritColor:A,defaultOpacity:x.opacity})}),Wt(f,w.get("focus"),w.get("blurScope"),w.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(St),owe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qp(fe(this.getData,this),fe(this.getRawData,this))},e.prototype.getInitialData=function(n,r){return Hh(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(n,r,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(n),u=l===""?this.name:l,h=ZG(this,n);return gn("section",{header:u,sortBlocks:!0,blocks:te(o,function(c){var f=a.get(a.mapDimension(c.dim),n);return gn("nameValue",{markerType:"subItem",markerColor:h,name:c.name,value:f,sortParam:f})})})},e.prototype.getTooltipPosition=function(n){if(n!=null){for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues(te(i.dimensions,function(u){return r.mapDimension(u)}),n),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(kt),bf=WW.value;function _m(t,e){return ge({show:e},t)}var lwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),f=this.get("triggerEvent"),p=te(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var m=l;v.color!=null&&(m=ge({color:v.color},l));var g=Me(xe(v),{boundaryGap:n,splitNumber:r,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:v.text,showName:u,nameLocation:"end",nameGap:c,nameTextStyle:m,triggerEvent:f},!1);if(ue(h)){var y=g.name;g.name=h.replace("{value}",y??"")}else me(h)&&(g.name=h(g.name,g));var x=new dt(g,null,this.ecModel);return an(x,Yp.prototype),x.mainType="radar",x.componentIndex=this.componentIndex,x},this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Me({lineStyle:{color:"#bbb"}},bf.axisLine),axisLabel:_m(bf.axisLabel,!1),axisTick:_m(bf.axisTick,!1),splitLine:_m(bf.splitLine,!0),splitArea:_m(bf.splitArea,!0),indicator:[]},e}(qe),uwe=["axisLine","axisTickLabel","axisName"],cwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=this.group;a.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},e.prototype._buildAxes=function(n){var r=n.coordinateSystem,i=r.getIndicatorAxes(),a=te(i,function(s){var o=s.model.get("showName")?s.name:"",l=new Kn(s.model,{axisName:o,position:[r.cx,r.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});M(a,function(s){M(uwe,s.add,s),this.group.add(s.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(n){var r=n.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var a=n.get("shape"),s=n.getModel("splitLine"),o=n.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),h=s.get("show"),c=o.get("show"),f=l.get("color"),p=u.get("color"),v=ee(f)?f:[f],m=ee(p)?p:[p],g=[],y=[];function x(D,L,F){var V=F%L.length;return D[V]=D[V]||[],V}if(a==="circle")for(var A=i[0].getTicksCoords(),b=r.cx,S=r.cy,w=0;w<A.length;w++){if(h){var _=x(g,v,w);g[_].push(new zs({shape:{cx:b,cy:S,r:A[w].coord}}))}if(c&&w<A.length-1){var _=x(y,m,w);y[_].push(new cx({shape:{cx:b,cy:S,r0:A[w].coord,r:A[w+1].coord}}))}}else for(var T,C=te(i,function(D,L){var F=D.getTicksCoords();return T=T==null?F.length-1:Math.min(F.length-1,T),te(F,function(V){return r.coordToPoint(V.coord,L)})}),E=[],w=0;w<=T;w++){for(var k=[],I=0;I<i.length;I++)k.push(C[I][w]);if(k[0]&&k.push(k[0].slice()),h){var _=x(g,v,w);g[_].push(new or({shape:{points:k}}))}if(c&&E){var _=x(y,m,w-1);y[_].push(new rr({shape:{points:k.concat(E)}}))}E=k.slice().reverse()}var j=l.getLineStyle(),P=u.getAreaStyle();M(y,function(D,L){this.group.add(ui(D,{style:ge({stroke:"none",fill:m[L%m.length]},P),silent:!0}))},this),M(g,function(D,L){this.group.add(ui(D,{style:ge({fill:"none",stroke:v[L%v.length]},j),silent:!0}))},this)},e.type="radar",e}(Ot),hwe=function(t){Y(e,t);function e(n,r,i){var a=t.call(this,n,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return e}(Yi),fwe=function(){function t(e,n,r){this.dimensions=[],this._model=e,this._indicatorAxes=te(e.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new hwe(s,new Ps);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(e,r)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(e,n){var r=this._indicatorAxes[n];return this.coordToPoint(r.dataToCoord(e),n)},t.prototype.coordToPoint=function(e,n){var r=this._indicatorAxes[n],i=r.angle,a=this.cx+e*Math.cos(i),s=this.cy-e*Math.sin(i);return[a,s]},t.prototype.pointToData=function(e){var n=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(n*n+r*r);n/=i,r/=i;for(var a=Math.atan2(-r,n),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var h=this._indicatorAxes[u],c=Math.abs(a-h.angle);c<s&&(o=h,l=u,s=c)}return[l,+(o&&o.coordToData(i))]},t.prototype.resize=function(e,n){var r=e.get("center"),i=n.getWidth(),a=n.getHeight(),s=Math.min(i,a)/2;this.cx=se(r[0],i),this.cy=se(r[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(ue(o)||nt(o))&&(o=[0,o]),this.r0=se(o[0],s),this.r=se(o[1],s),M(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var h=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),l.angle=h},this)},t.prototype.update=function(e,n){var r=this._indicatorAxes,i=this._model;M(r,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();M(r,function(h){h.scale.unionExtentFromData(u,u.mapDimension(h.dim))})}},this);var a=i.get("splitNumber"),s=new Ps;s.setExtent(0,a),s.setInterval(1),M(r,function(o,l){$W(o.scale,o.model,s)})},t.prototype.convertToPixel=function(e,n,r){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(e,n,r){return console.warn("Not implemented."),null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.create=function(e,n){var r=[];return e.eachComponent("radar",function(i){var a=new t(i,e,n);r.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},t.dimensions=[],t}();function dwe(t){t.registerCoordinateSystem("radar",fwe),t.registerComponentModel(lwe),t.registerComponentView(cwe),t.registerVisual({seriesType:"radar",reset:function(e){var n=e.getData();n.each(function(r){n.setItemVisual(r,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function pwe(t){Fe(dwe),t.registerChartView(swe),t.registerSeriesModel(owe),t.registerLayout(iwe),t.registerProcessor(Kp("radar")),t.registerPreprocessor(awe)}var yN="\0_ec_interaction_mutex";function vwe(t,e,n){var r=qI(t);r[e]=n}function mwe(t,e,n){var r=qI(t),i=r[e];i===n&&(r[e]=null)}function xN(t,e){return!!qI(t)[e]}function qI(t){return t[yN]||(t[yN]={})}Ua({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Jt);var ev=function(t){Y(e,t);function e(n){var r=t.call(this)||this;r._zr=n;var i=fe(r._mousedownHandler,r),a=fe(r._mousemoveHandler,r),s=fe(r._mouseupHandler,r),o=fe(r._mousewheelHandler,r),l=fe(r._pinchHandler,r);return r.enable=function(u,h){this.disable(),this._opt=ge(xe(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(n.on("mousedown",i),n.on("mousemove",a),n.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(n.on("mousewheel",o),n.on("pinch",l))},r.disable=function(){n.off("mousedown",i),n.off("mousemove",a),n.off("mouseup",s),n.off("mousewheel",o),n.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(n){this.pointerChecker=n},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(n){if(!WM(n)){for(var r=n.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=n.offsetX,a=n.offsetY;this.pointerChecker&&this.pointerChecker(n,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!yg("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||xN(this._zr,"globalPan"))){var r=n.offsetX,i=n.offsetY,a=this._x,s=this._y,o=r-a,l=i-s;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Ts(n.event),QW(this,"pan","moveOnMouseMove",n,{dx:o,dy:l,oldX:a,oldY:s,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(n){WM(n)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(n){var r=yg("zoomOnMouseWheel",n,this._opt),i=yg("moveOnMouseWheel",n,this._opt),a=n.wheelDelta,s=Math.abs(a),o=n.offsetX,l=n.offsetY;if(!(a===0||!r&&!i)){if(r){var u=s>3?1.4:s>1?1.2:1.1,h=a>0?u:1/u;Qb(this,"zoom","zoomOnMouseWheel",n,{scale:h,originX:o,originY:l,isAvailableBehavior:null})}if(i){var c=Math.abs(a),f=(a>0?1:-1)*(c>3?.4:c>1?.15:.05);Qb(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(n){if(!xN(this._zr,"globalPan")){var r=n.pinchScale>1?1.1:1/1.1;Qb(this,"zoom",null,n,{scale:r,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},e}(bi);function Qb(t,e,n,r,i){t.pointerChecker&&t.pointerChecker(r,i.originX,i.originY)&&(Ts(r.event),QW(t,e,n,r,i))}function QW(t,e,n,r,i){i.isAvailableBehavior=fe(yg,null,n,r),t.trigger(e,i)}function yg(t,e,n){var r=n[t];return!t||r&&(!ue(r)||e.event[r+"Key"])}function XI(t,e,n){var r=t.target;r.x+=e,r.y+=n,r.dirty()}function ZI(t,e,n,r){var i=t.target,a=t.zoomLimit,s=t.zoom=t.zoom||1;if(s*=e,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var u=s/t.zoom;t.zoom=s,i.x-=(n-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var gwe={axisPointer:1,tooltip:1,brush:1};function Mx(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!gwe.hasOwnProperty(r.mainType)&&i&&i.model!==n}function e6(t){if(ue(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var n=t;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var ew,Hy={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},AN=Xe(Hy),Gy={"alignment-baseline":"textBaseline","stop-color":"stopColor"},bN=Xe(Gy),ywe=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(e,n){n=n||{};var r=e6(e);this._defsUsePending=[];var i=new Ae;this._root=i;var a=[],s=r.getAttribute("viewBox")||"",o=parseFloat(r.getAttribute("width")||n.width),l=parseFloat(r.getAttribute("height")||n.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Sr(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;bwe(this._defs,this._defsUsePending),this._defsUsePending=[];var h,c;if(s){var f=Dx(s);f.length>=4&&(h={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(h&&o!=null&&l!=null&&(c=n6(h,{x:0,y:0,width:o,height:l}),!n.ignoreViewBox)){var p=i;i=new Ae,i.add(p),p.scaleX=p.scaleY=c.scale,p.x=c.x,p.y=c.y}return!n.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new Ke({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:h,viewBoxTransform:c,named:a}},t.prototype._parseNode=function(e,n,r,i,a,s){var o=e.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=n;else{if(!a){var h=ew[o];if(h&&de(ew,o)){l=h.call(this,e,n);var c=e.getAttribute("name");if(c){var f={name:c,namedFrom:null,svgNodeTagLower:o,el:l};r.push(f),o==="g"&&(u=f)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});n.add(l)}}var p=wN[o];if(p&&de(wN,o)){var v=p.call(this,e),m=e.getAttribute("id");m&&(this._defs[m]=v)}}if(l&&l.isGroup)for(var g=e.firstChild;g;)g.nodeType===1?this._parseNode(g,l,r,u,a,s):g.nodeType===3&&s&&this._parseText(g,l),g=g.nextSibling},t.prototype._parseText=function(e,n){var r=new ah({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),xwe(r,n);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=r.getBoundingRect();return this._textX+=o.width,n.add(r),r},t.internalField=function(){ew={g:function(e,n){var r=new Ae;return qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),r},rect:function(e,n){var r=new Ke;return qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,n){var r=new zs;return qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,n){var r=new dn;return qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,n){var r=new aI;return qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,n){var r=e.getAttribute("points"),i;r&&(i=TN(r));var a=new rr({shape:{points:i||[]},silent:!0});return qr(n,a),Sr(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,n){var r=e.getAttribute("points"),i;r&&(i=TN(r));var a=new or({shape:{points:i||[]},silent:!0});return qr(n,a),Sr(e,a,this._defsUsePending,!1,!1),a},image:function(e,n){var r=new Sn;return qr(n,r),Sr(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,n){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new Ae;return qr(n,o),Sr(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,n){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new Ae;return qr(n,o),Sr(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,n){var r=e.getAttribute("d")||"",i=H4(r);return qr(n,i),Sr(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),t}(),wN={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),i=parseInt(t.getAttribute("y2")||"0",10),a=new Vp(e,n,r,i);return SN(t,a),_N(t,a),a},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),i=new q4(e,n,r);return SN(t,i),_N(t,i),i}};function SN(t,e){var n=t.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(e.global=!0)}function _N(t,e){for(var n=t.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var r=n.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var a={};t6(n,a,a);var s=a.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:s})}n=n.nextSibling}}function qr(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),ge(e.__inheritedStyle,t.__inheritedStyle))}function TN(t){for(var e=Dx(t),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),a=parseFloat(e[r+1]);n.push([i,a])}return n}function Sr(t,e,n,r,i){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};t.nodeType===1&&(_we(t,e),t6(t,s,o),r||Twe(t,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=CN(a,"fill",s.fill,n)),s.stroke!=null&&(a.style.stroke=CN(a,"stroke",s.stroke,n)),M(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),M(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=te(Dx(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function xwe(t,e){var n=e.__selfStyle;if(n){var r=n.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),t.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),t.style.textAlign=o)}}var Awe=/^url\(\s*#(.*?)\)/;function CN(t,e,n,r){var i=n&&n.match(Awe);if(i){var a=Ri(i[1]);r.push([t,e,a]);return}return n==="none"&&(n=null),n}function bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r[0].style[r[1]]=t[r[2]]}}var wwe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Dx(t){return t.match(wwe)||[]}var Swe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,tw=Math.PI/180;function _we(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(Swe,function(c,f,p){return r.push(f,p),""});for(var a=r.length-1;a>0;a-=2){var s=r[a],o=r[a-1],l=Dx(s);switch(i=i||Nr(),o){case"translate":La(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":GC(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Du(i,i,-parseFloat(l[0])*tw,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*tw);fs(i,[1,0,u,1,0,0],i);break;case"skewY":var h=Math.tan(parseFloat(l[0])*tw);fs(i,[1,h,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var IN=/([^\s:;]+)\s*:\s*([^:;]+)/g;function t6(t,e,n){var r=t.getAttribute("style");if(r){IN.lastIndex=0;for(var i;(i=IN.exec(r))!=null;){var a=i[1],s=de(Hy,a)?Hy[a]:null;s&&(e[s]=i[2]);var o=de(Gy,a)?Gy[a]:null;o&&(n[o]=i[2])}}}function Twe(t,e,n){for(var r=0;r<AN.length;r++){var i=AN[r],a=t.getAttribute(i);a!=null&&(e[Hy[i]]=a)}for(var r=0;r<bN.length;r++){var i=bN[r],a=t.getAttribute(i);a!=null&&(n[Gy[i]]=a)}}function n6(t,e){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r);return{scale:i,x:-(t.x+t.width/2)*i+(e.x+e.width/2),y:-(t.y+t.height/2)*i+(e.y+e.height/2)}}function Cwe(t,e){var n=new ywe;return n.parse(t,e)}var Iwe=pe(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Ewe=function(){function t(e,n){this.type="geoSVG",this._usedGraphicMap=pe(),this._freedGraphics=[],this._mapName=e,this._parsedXML=e6(n)}return t.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=Pwe(e.named),r=n.regions,i=n.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(e){var n,r;try{n=e&&Cwe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,er(r!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new Ae;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=n.width,s=n.height,o=n.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,h=void 0,c=void 0,f=void 0;if(a!=null?(u=0,c=a):o&&(u=o.x,c=o.width),s!=null?(h=0,f=s):o&&(h=o.y,f=o.height),u==null||h==null){var p=r.getBoundingRect();u==null&&(u=p.x,c=p.width),h==null&&(h=p.y,f=p.height)}l=this._boundingRect=new De(u,h,c,f)}if(o){var v=n6(o,l);r.scaleX=r.scaleY=v.scale,r.x=v.x,r.y=v.y}i.setClipPath(new Ke({shape:l.plain()}));var m=[];return M(n.named,function(g){Iwe.get(g.svgNodeTagLower)!=null&&(m.push(g),kwe(g.el))}),{root:i,boundingRect:l,named:m}},t.prototype.useGraphic=function(e){var n=this._usedGraphicMap,r=n.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(e,r),r)},t.prototype.freeGraphic=function(e){var n=this._usedGraphicMap,r=n.get(e);r&&(n.removeKey(e),this._freedGraphics.push(r))},t}();function kwe(t){t.silent=!1,t.isGroup&&t.traverse(function(e){e.silent=!1})}function Pwe(t){var e=[],n=pe();return M(t,function(r){if(r.namedFrom==null){var i=new _xe(r.name,r.el);e.push(i),n.set(r.name,i)}}),{regions:e,regionsMap:n}}var v1=[126,25],EN="åæµ·è¯¸å²",jl=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Tl=0;Tl<jl.length;Tl++)for(var ic=0;ic<jl[Tl].length;ic++)jl[Tl][ic][0]/=10.5,jl[Tl][ic][1]/=-10.5/.75,jl[Tl][ic][0]+=v1[0],jl[Tl][ic][1]+=v1[1];function jwe(t,e){if(t==="china"){for(var n=0;n<e.length;n++)if(e[n].name===EN)return;e.push(new KU(EN,te(jl,function(r){return{type:"polygon",exterior:r}}),v1))}}var Mwe={åæµ·è¯¸å²:[32,80],å¹¿ä¸:[0,-10],é¦æ¸¯:[10,5],æ¾³é¨:[-10,10],å¤©æ´¥:[5,5]};function Dwe(t,e){if(t==="china"){var n=Mwe[e.name];if(n){var r=e.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/(10.5/.75),e.setCenter(r)}}}var Lwe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Nwe(t,e){t==="china"&&e.name==="å°æ¹¾"&&e.geometries.push({type:"polygon",exterior:Lwe[0]})}var zwe="name",Rwe=function(){function t(e,n,r){this.type="geoJSON",this._parsedMap=pe(),this._mapName=e,this._specialAreas=r,this._geoJSON=Fwe(n)}return t.prototype.load=function(e,n){n=n||zwe;var r=this._parsedMap.get(n);if(!r){var i=this._parseToRegions(n);r=this._parsedMap.set(n,{regions:i,boundingRect:Owe(i)})}var a=pe(),s=[];return M(r.regions,function(o){var l=o.name;e&&de(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:r.boundingRect||new De(0,0,0,0),regionsMap:a}},t.prototype._parseToRegions=function(e){var n=this._mapName,r=this._geoJSON,i;try{i=r?Cxe(r,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return jwe(n,i),M(i,function(a){var s=a.name;Dwe(n,a),Nwe(n,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function Owe(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function Fwe(t){return ue(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var wf=pe();const js={registerMap:function(t,e,n){if(e.svg){var r=new Ewe(t,e.svg);wf.set(t,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?n=e.specialAreas:i=e;var r=new Rwe(t,i,n);wf.set(t,r)}},getGeoResource:function(t){return wf.get(t)},getMapForUser:function(t){var e=wf.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,n){var r=wf.get(t);if(r)return r.load(e,n)}};var JI=["rect","circle","line","ellipse","polygon","polyline","path"],Bwe=pe(JI),Vwe=pe(JI.concat(["g"])),Hwe=pe(JI.concat(["g"])),r6=Qe();function Tm(t){var e=t.getItemStyle(),n=t.get("areaColor");return n!=null&&(e.fill=n),e}function kN(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var i6=function(){function t(e){var n=new Ae;this.uid=Lh("ec_map_draw"),this._controller=new ev(e.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new Ae),n.add(this._svgGroup=new Ae)}return t.prototype.draw=function(e,n,r,i,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&n.eachComponent({mainType:"series",subType:"map"},function(y){!o&&y.getHostGeoModel()===e&&(o=y.getData())});var l=e.coordinateSystem,u=this._regionsGroup,h=this.group,c=l.getTransformInfo(),f=c.raw,p=c.roam,v=!u.childAt(0)||a;v?(h.x=p.x,h.y=p.y,h.scaleX=p.scaleX,h.scaleY=p.scaleY,h.dirty()):it(h,p,e);var m=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,g={api:r,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:m,isGeo:s,transformInfoRaw:f};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(e,n,r),this._updateMapSelectHandler(e,u,r,i)},t.prototype._buildGeoJSON=function(e){var n=this._regionsGroupByName=pe(),r=pe(),i=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,u=l&&l.stream;function h(p,v){return v&&(p=v(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function c(p){for(var v=[],m=!u&&l&&l.project,g=0;g<p.length;++g){var y=h(p[g],m);y&&v.push(y)}return v}function f(p){return{shape:{points:c(p)}}}i.removeAll(),M(e.geo.regions,function(p){var v=p.name,m=n.get(v),g=r.get(v)||{},y=g.dataIdx,x=g.regionModel;m||(m=n.set(v,new Ae),i.add(m),y=o?o.indexOfName(v):null,x=e.isGeo?s.getRegionModel(v):o?o.getItemModel(y):null,r.set(v,{dataIdx:y,regionModel:x}));var A=[],b=[];M(p.geometries,function(_){if(_.type==="polygon"){var T=[_.exterior].concat(_.interiors||[]);u&&(T=NN(T,u)),M(T,function(E){A.push(new rr(f(E)))})}else{var C=_.points;u&&(C=NN(C,u,!0)),M(C,function(E){b.push(new or(f(E)))})}});var S=h(p.getCenter(),l&&l.project);function w(_,T){if(_.length){var C=new sI({culling:!0,segmentIgnoreThreshold:1,shape:{paths:_}});m.add(C),PN(e,C,y,x),jN(e,C,v,x,s,y,S),T&&(kN(C),M(C.states,kN))}}w(A),w(b,!0)}),n.each(function(p,v){var m=r.get(v),g=m.dataIdx,y=m.regionModel;MN(e,p,v,y,s,g),DN(e,p,v,y,s),LN(e,p,v,y,s)},this)},t.prototype._buildSVG=function(e){var n=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var i=this._svgDispatcherMap=pe(),a=!1;M(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,u=e.data,h=s.svgNodeTagLower,c=s.el,f=u?u.indexOfName(o):null,p=l.getRegionModel(o);if(Bwe.get(h)!=null&&c instanceof yi&&PN(e,c,f,p),c instanceof yi&&(c.culling=!0),c.z2EmphasisLift=0,!s.namedFrom&&(Hwe.get(h)!=null&&jN(e,c,o,p,l,f,null),MN(e,c,o,p,l,f),DN(e,c,o,p,l),Vwe.get(h)!=null)){var v=LN(e,c,o,p,l);v==="self"&&(a=!0);var m=i.get(o)||i.set(o,[]);m.push(c)}},this),this._enableBlurEntireSVG(a,e)},t.prototype._enableBlurEntireSVG=function(e,n){if(e&&n.isGeo){var r=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){bu(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(e,n){if(e==null)return[];var r=n.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},t.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},t.prototype._useSVG=function(e){var n=js.getGeoResource(e);if(n&&n.type==="geoSVG"){var r=n.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},t.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var n=js.getGeoResource(e);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(e,n,r){var i=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(e.get("roam")||!1);var o=e.mainType;function l(){var u={type:"geoRoam",componentType:o};return u[o+"Id"]=e.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,XI(s,u.dx,u.dy),r.dispatchAction(J(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,ZI(s,u.scale,u.originX,u.originY),r.dispatchAction(J(l(),{totalZoom:s.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,h,c){return i.containPoint([h,c])&&!Mx(u,r,e)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var n=e.getTextContent();n&&(n.ignore=r6(n).ignore)})},t.prototype._updateMapSelectHandler=function(e,n,r,i){var a=this;n.off("mousedown"),n.off("click"),e.get("selectedMode")&&(n.on("mousedown",function(){a._mouseDownFlag=!0}),n.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},t}();function PN(t,e,n,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),o=r.getModel(["select","itemStyle"]),l=Tm(i),u=Tm(a),h=Tm(o),c=Tm(s),f=t.data;if(f){var p=f.getItemVisual(n,"style"),v=f.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),v&&(l.decal=lh(v,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=h,e.ensureState("blur").style=c,bu(e)}function jN(t,e,n,r,i,a,s){var o=t.data,l=t.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),h=o&&o.getItemLayout(a);if(l||u||h&&h.showLabel){var c=l?n:a,f=void 0;(!o||a>=0)&&(f=i);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Pn(e,mn(r),{labelFetcher:f,labelDataIndex:c,defaultText:n},p);var v=e.getTextContent();if(v&&(r6(v).ignore=v.ignore,e.textConfig&&s)){var m=e.getBoundingRect().clone();e.textConfig.layoutRect=m,e.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function MN(t,e,n,r,i,a){t.data?t.data.setItemGraphicEl(a,e):Se(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function DN(t,e,n,r,i){t.data||Mh({el:e,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function LN(t,e,n,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),s=a.get("focus");return Wt(e,s,a.get("blurScope"),a.get("disabled")),t.isGeo&&Rve(e,i,n),s}function NN(t,e,n){var r=[],i;function a(){i=[]}function s(){i.length&&(r.push(i),i=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!n&&o.polygonStart(),M(t,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!n&&o.polygonEnd(),r}var Gwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===n.id){var o=this._mapDraw;o&&s.add(o.group)}else if(n.needsDrawMap){var o=this._mapDraw||new i6(i);s.add(o.group),o.draw(n,r,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(n,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(n,r,i){var a=n.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var h=u.point,c=u.offset,f=new zs({style:{fill:n.getData().getVisual("style").fill},shape:{cx:h[0]+c*9,cy:h[1],r:3},silent:!0,z2:8+(c?0:Ph+1)});if(!c){var p=n.mainSeries.getData(),v=a.getName(l),m=p.indexOfName(v),g=a.getItemModel(l),y=g.getModel("label"),x=p.getItemGraphicEl(m);Pn(f,mn(g),{labelFetcher:{getFormattedLabel:function(A,b){return n.getFormattedLabel(m,b)}},defaultText:v}),f.disableLabelAnimation=!0,y.get("position")||f.setTextConfig({position:"bottom"}),x.onHoverStateChange=function(A){wy(f,A)}}s.add(f)}}})},e.type="map",e}(St),Uwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},n}return e.prototype.getInitialData=function(n){for(var r=Hh(this,{coordDimensions:["value"],encodeDefaulter:Ee(mI,this)}),i=pe(),a=[],s=0,o=r.count();s<o;s++){var l=r.getName(s);i.set(l,!0)}var u=js.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return M(u.regions,function(h){var c=h.name;i.get(c)||a.push(c)}),r.appendValues([],a),r},e.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(n){var r=this.getData();return r.get(r.mapDimension("value"),n)},e.prototype.getRegionModel=function(n){var r=this.getData();return r.getItemModel(r.indexOfName(n))},e.prototype.formatTooltip=function(n,r,i){for(var a=this.getData(),s=this.getRawValue(n),o=a.getName(n),l=this.seriesGroup,u=[],h=0;h<l.length;h++){var c=l[h].originalData.indexOfName(o),f=a.mapDimension("value");isNaN(l[h].originalData.get(f,c))||u.push(l[h].name)}return gn("section",{header:u.join(", "),noHeader:!u.length,blocks:[gn("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.getLegendIcon=function(n){var r=n.icon||"roundRect",i=rn(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return i.setStyle(n.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(kt);function Wwe(t,e){var n={};return M(t,function(r){r.each(r.mapDimension("value"),function(i,a){var s="ec-"+r.getName(a);n[s]=n[s]||[],isNaN(i)||n[s].push(i)})}),t[0].map(t[0].mapDimension("value"),function(r,i){for(var a="ec-"+t[0].getName(i),s=0,o=1/0,l=-1/0,u=n[a].length,h=0;h<u;h++)o=Math.min(o,n[a][h]),l=Math.max(l,n[a][h]),s+=n[a][h];var c;return e==="min"?c=o:e==="max"?c=l:e==="average"?c=s/u:c=s,u===0?NaN:c})}function $we(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getHostGeoModel(),i=r?"o"+r.id:"i"+n.getMapType();(e[i]=e[i]||[]).push(n)}),M(e,function(n,r){for(var i=Wwe(te(n,function(s){return s.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(var a=0;a<n.length;a++)n[a].seriesGroup=n,n[a].needsDrawMap=a===0&&!n[a].getHostGeoModel(),n[a].setData(i.cloneShallow()),n[a].mainSeries=n[0]})}function Ywe(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getMapType();if(!(n.getHostGeoModel()||e[r])){var i={};M(n.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&t.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var c=l.getName(h),f=o.getRegion(c);if(!(!f||isNaN(u))){var p=i[c]||0,v=o.dataToPoint(f.getCenter());i[c]=p+1,l.setItemLayout(h,{point:v,offset:p})}})});var a=n.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),e[r]=!0}})}var zN=En,tv=function(t){Y(e,t);function e(n){var r=t.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new os,r._rawTransformable=new os,r.name=n,r}return e.prototype.setBoundingRect=function(n,r,i,a){return this._rect=new De(n,r,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(n,r,i,a){this._transformTo(n,r,i,a),this._viewRect=new De(n,r,i,a)},e.prototype._transformTo=function(n,r,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new De(n,r,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(n,r){n&&(this._center=[se(n[0],r.getWidth()),se(n[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(n){n=n||1;var r=this.zoomLimit;r&&(r.max!=null&&(n=Math.min(r.max,n)),r.min!=null&&(n=Math.max(r.min,n))),this._zoom=n,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),r=n.x+n.width/2,i=n.y+n.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=En([],a,n),i=En([],i,n),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var n=this._roamTransformable,r=this._rawTransformable;r.parent=n,n.updateTransform(),r.updateTransform(),HC(this.transform||(this.transform=[]),r.transform||Nr()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Eh(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var n=this._rawTransformable,r=this._roamTransformable,i=new os;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},e.prototype.dataToPoint=function(n,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?zN(i,n,a):$n(i,n)},e.prototype.pointToData=function(n){var r=this.invTransform;return r?zN([],n,r):[n[0],n[1]]},e.prototype.convertToPixel=function(n,r,i){var a=RN(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(n,r,i){var a=RN(r);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},e.dimensions=["x","y"],e}(os);function RN(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var qwe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},a6=["lng","lat"],s6=function(t){Y(e,t);function e(n,r,i){var a=t.call(this,n)||this;a.dimensions=a6,a.type="geo",a._nameCoordMap=pe(),a.map=r;var s=i.projection,o=js.load(r,i.nameMap,i.nameProperty),l=js.getGeoResource(r);a.resourceType=l?l.type:null;var u=a.regions=o.regions,h=qwe[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var c;if(s)for(var f=0;f<u.length;f++){var p=u[f].getBoundingRect(s);c=c||p.clone(),c.union(p)}else c=o.boundingRect;return a.setBoundingRect(c.x,c.y,c.width,c.height),a.aspectScale=s?1:_e(i.aspectScale,h.aspectScale),a._invertLongitute=s?!1:h.invertLongitute,a}return e.prototype._transformTo=function(n,r,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new De(n,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(n){return this._regionsMap.get(n)},e.prototype.getRegionByCoord=function(n){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if(a.type==="geoJSON"&&a.contain(n))return r[i]}},e.prototype.addGeoCoord=function(n,r){this._nameCoordMap.set(n,r)},e.prototype.getGeoCoord=function(n){var r=this._regionsMap.get(n);return this._nameCoordMap.get(n)||r&&r.getCenter()},e.prototype.dataToPoint=function(n,r,i){if(ue(n)&&(n=this.getGeoCoord(n)),n){var a=this.projection;return a&&(n=a.project(n)),n&&this.projectedToPoint(n,r,i)}},e.prototype.pointToData=function(n){var r=this.projection;return r&&(n=r.unproject(n)),n&&this.pointToProjected(n)},e.prototype.pointToProjected=function(n){return t.prototype.pointToData.call(this,n)},e.prototype.projectedToPoint=function(n,r,i){return t.prototype.dataToPoint.call(this,n,r,i)},e.prototype.convertToPixel=function(n,r,i){var a=ON(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(n,r,i){var a=ON(r);return a===this?a.pointToData(i):null},e}(tv);an(s6,tv);function ON(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",tn).models[0]||{}).coordinateSystem:null}const FN=s6;function BN(t,e){var n=t.get("boundingCoords");if(n!=null){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=r[0],o=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var h=function(w,_,T,C){for(var E=T-w,k=C-_,I=0;I<=100;I++){var j=I/100,P=a.project([w+E*j,_+k*j]);po(r,r,P),vo(i,i,P)}};h(s,o,l,o),h(l,o,l,u),h(l,u,s,u),h(s,u,l,o)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var c=this.getBoundingRect(),f=t.get("layoutCenter"),p=t.get("layoutSize"),v=e.getWidth(),m=e.getHeight(),g=c.width/c.height*this.aspectScale,y=!1,x,A;f&&p&&(x=[se(f[0],v),se(f[1],m)],A=se(p,Math.min(v,m)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(A)&&(y=!0));var b;if(y)b={},g>1?(b.width=A,b.height=A/g):(b.height=A,b.width=A*g),b.y=x[1]-b.height/2,b.x=x[0]-b.width/2;else{var S=t.getBoxLayoutParams();S.aspect=g,b=cn(S,{width:v,height:m})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}function Xwe(t,e){M(e.get("geoCoord"),function(n,r){t.addGeoCoord(r,n)})}var Zwe=function(){function t(){this.dimensions=a6}return t.prototype.create=function(e,n){var r=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),u=new FN(l+o,l,J({nameMap:s.get("nameMap")},i(s)));u.zoomLimit=s.get("scaleLimit"),r.push(u),s.coordinateSystem=u,u.model=s,u.resize=BN,u.resize(s,n)}),e.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=r[l]}});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),M(a,function(s,o){var l=te(s,function(h){return h.get("nameMap")}),u=new FN(o,o,J({nameMap:OC(l)},i(s[0])));u.zoomLimit=bn.apply(null,te(s,function(h){return h.get("scaleLimit")})),r.push(u),u.resize=BN,u.resize(s[0],n),M(s,function(h){h.coordinateSystem=u,Xwe(u,h)})}),r},t.prototype.getFilledRegions=function(e,n,r,i){for(var a=(e||[]).slice(),s=pe(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=js.load(n,r,i);return M(l.regions,function(u){var h=u.name;!s.get(h)&&a.push({name:h})}),a},t}(),o6=new Zwe,Jwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r,i){var a=js.getGeoResource(n.map);if(a&&a.type==="geoJSON"){var s=n.itemStyle=n.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(n,i),yu(n,"label",["show"])},e.prototype.optionUpdated=function(){var n=this,r=this.option;r.regions=o6.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Da(r.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new dt(s,n,n.ecModel)),s.selected&&(i[o]=!0)),a},pe()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new dt(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(n,r){var i=this.getRegionModel(n),a=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:n};if(me(a))return s.status=r,a(s);if(ue(a))return a.replace("{a}",n??"")},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.select=function(n){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var a=r.selectedMap||(r.selectedMap={});a[n]=!0}},e.prototype.unSelect=function(n){var r=this.option.selectedMap;r&&(r[n]=!1)},e.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},e.prototype.isSelected=function(n){var r=this.option.selectedMap;return!!(r&&r[n])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(qe);function VN(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function KI(t,e,n,r){var i=t.getZoom(),a=t.getCenter(),s=e.zoom,o=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,t.setCenter(VN(t,o),r)),s!=null){if(n){var l=n.min||0,u=n.max||1/0;s=Math.max(Math.min(i*s,u),l)/i}t.scaleX*=s,t.scaleY*=s;var h=(e.originX-t.x)*(s-1),c=(e.originY-t.y)*(s-1);t.x-=h,t.y-=c,t.updateTransform(),t.setCenter(VN(t,o),r),t.setZoom(s*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var Kwe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return e.prototype.init=function(n,r){this._api=r},e.prototype.render=function(n,r,i,a){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new i6(i));var s=this._mapDraw;s.draw(n,r,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=n.get("silent"),this.group.add(s.group),this.updateSelectStatus(n,r,i)},e.prototype._handleRegionClick=function(n){var r;Zl(n.target,function(i){return(r=Se(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(n,r,i){var a=this;this._mapDraw.group.traverse(function(s){var o=Se(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(Ot);function Qwe(t,e,n){js.registerMap(t,e,n)}function l6(t){t.registerCoordinateSystem("geo",o6),t.registerComponentModel(Jwe),t.registerComponentView(Kwe),t.registerImpl("registerMap",Qwe),t.registerImpl("getMap",function(n){return js.getMapForUser(n)});function e(n,r){r.update="geo:updateSelectStatus",t.registerAction(r,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[n](i.name);var u=l.coordinateSystem;M(u.regions,function(c){s[c.name]=l.isSelected(c.name)||!1});var h=[];M(s,function(c,f){s[f]&&h.push(f)}),o.push({geoIndex:l.componentIndex,name:h})}),{selected:s,allSelected:o,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,r,i){var a=n.componentType||"series";r.eachComponent({mainType:a,query:n},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=KI(o,n,s.get("scaleLimit"),i);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&M(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function eSe(t){Fe(l6),t.registerChartView(Gwe),t.registerSeriesModel(Uwe),t.registerLayout(Ywe),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,$we),lU("map",t.registerAction)}function tSe(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[e],r,i;r=n.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},n.push(o)}}function nSe(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){aSe(t);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=sSe(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)}function rSe(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function HN(t){return arguments.length?t:uSe}function Uf(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function iSe(t,e){return cn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function aSe(t){for(var e=t.children,n=e.length,r=0,i=0;--n>=0;){var a=e[n];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function sSe(t,e,n,r){if(e){for(var i=t,a=t,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,u=a.hierNode.modifier,h=s.hierNode.modifier,c=o.hierNode.modifier;o=nw(o),a=rw(a),o&&a;){i=nw(i),s=rw(s),i.hierNode.ancestor=t;var f=o.hierNode.prelim+c-a.hierNode.prelim-u+r(o,a);f>0&&(lSe(oSe(o,t,n),t,f),u+=f,l+=f),c+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,h+=s.hierNode.modifier}o&&!nw(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=c-l),a&&!rw(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-h,n=t)}return n}function nw(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function rw(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function oSe(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function lSe(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function uSe(t,e){return t.parentNode===e.parentNode?1:2}var cSe=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),hSe=function(t){Y(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new cSe},e.prototype.buildPath=function(n,r){var i=r.childPoints,a=i.length,s=r.parentPoint,o=i[0],l=i[a-1];if(a===1){n.moveTo(s[0],s[1]),n.lineTo(o[0],o[1]);return}var u=r.orient,h=u==="TB"||u==="BT"?0:1,c=1-h,f=se(r.forkPosition,1),p=[];p[h]=s[h],p[c]=s[c]+(l[c]-s[c])*f,n.moveTo(s[0],s[1]),n.lineTo(p[0],p[1]),n.moveTo(o[0],o[1]),p[h]=o[h],n.lineTo(p[0],p[1]),p[h]=l[h],n.lineTo(p[0],p[1]),n.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var m=i[v];n.moveTo(m[0],m[1]),p[h]=m[h],n.lineTo(p[0],p[1])}},e}(Ve),fSe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new Ae,n}return e.prototype.init=function(n,r){this._controller=new ev(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(n,r,i){var a=n.getData(),s=n.layoutInfo,o=this._mainGroup,l=n.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(n,i),this._updateController(n,r,i);var u=this._data;a.diff(u).add(function(h){GN(a,h)&&UN(a,h,null,o,n)}).update(function(h,c){var f=u.getItemGraphicEl(c);if(!GN(a,h)){f&&$N(u,c,f,o,n);return}UN(a,h,f,o,n)}).remove(function(h){var c=u.getItemGraphicEl(h);c&&$N(u,h,c,o,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(h,c){h.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:c})})}),this._data=a},e.prototype._updateViewCoordSys=function(n,r){var i=n.getData(),a=[];i.each(function(c){var f=i.getItemLayout(c);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];ox(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var h=n.coordinateSystem=new tv;h.zoomLimit=n.get("scaleLimit"),h.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),h.setCenter(n.get("center"),r),h.setZoom(n.get("zoom")),this.group.attr({x:h.x,y:h.y,scaleX:h.scaleX,scaleY:h.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(n,r,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(u,h,c){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(h,c)&&!Mx(u,i,n)}),s.enable(n.get("roam")),o.zoomLimit=n.get("scaleLimit"),o.zoom=n.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){XI(o,u.dx,u.dy),i.dispatchAction({seriesId:n.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){ZI(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(n),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(n){var r=n.getData(),i=this._getNodeGlobalScale(n);r.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,s=r.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(St);function GN(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function UN(t,e,n,r,i){var a=!n,s=t.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:"#fff",h=t.tree.root,c=s.parentNode===h?s:s.parentNode||s,f=t.getItemGraphicEl(c.dataIndex),p=c.getLayout(),v=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:p,m=s.getLayout();a?(n=new qp(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.x=v.x,n.y=v.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=m.rawX,n.__radialRawY=m.rawY,r.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,it(n,{x:m.x,y:m.y},i);var g=n.getSymbolPath();if(i.get("layout")==="radial"){var y=h.children[0],x=y.getLayout(),A=y.children.length,b=void 0,S=void 0;if(m.x===x.x&&s.isExpand===!0&&y.children.length){var w={x:(y.children[0].getLayout().x+y.children[A-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[A-1].getLayout().y)/2};b=Math.atan2(w.y-x.y,w.x-x.x),b<0&&(b=Math.PI*2+b),S=w.x<x.x,S&&(b=b-Math.PI)}else b=Math.atan2(m.y-x.y,m.x-x.x),b<0&&(b=Math.PI*2+b),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(S=m.x<x.x,S&&(b=b-Math.PI)):(S=m.x>x.x,S||(b=b-Math.PI));var _=S?"left":"right",T=o.getModel("label"),C=T.get("rotate"),E=C*(Math.PI/180),k=g.getTextContent();k&&(g.setTextConfig({position:T.get("position")||_,rotation:C==null?-b:E,origin:"center"}),k.setStyle("verticalAlign","middle"))}var I=o.get(["emphasis","focus"]),j=I==="relative"?fy(s.getAncestorsIndices(),s.getDescendantIndices()):I==="ancestor"?s.getAncestorsIndices():I==="descendant"?s.getDescendantIndices():null;j&&(Se(n).focus=j),dSe(i,s,h,n,v,p,m,r),n.__edge&&(n.onHoverStateChange=function(P){if(P!=="blur"){var D=s.parentNode&&t.getItemGraphicEl(s.parentNode.dataIndex);D&&D.hoverState===Fp||wy(n.__edge,P)}})}function dSe(t,e,n,r,i,a,s,o){var l=e.getModel(),u=t.get("edgeShape"),h=t.get("layout"),c=t.getOrient(),f=t.get(["lineStyle","curveness"]),p=t.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),m=r.__edge;if(u==="curve")e.parentNode&&e.parentNode!==n&&(m||(m=r.__edge=new Bp({shape:m1(h,c,f,i,i)})),it(m,{shape:m1(h,c,f,a,s)},t));else if(u==="polyline"&&h==="orthogonal"&&e!==n&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var g=e.children,y=[],x=0;x<g.length;x++){var A=g[x].getLayout();y.push([A.x,A.y])}m||(m=r.__edge=new hSe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:c,forkPosition:p}})),it(m,{shape:{parentPoint:[s.x,s.y],childPoints:y}},t)}m&&!(u==="polyline"&&!e.isExpand)&&(m.useStyle(ge({strokeNoScale:!0,fill:null},v)),kn(m,l,"lineStyle"),bu(m),o.add(m))}function WN(t,e,n,r,i){var a=e.tree.root,s=u6(a,t),o=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(t.dataIndex);if(u){var h=e.getItemGraphicEl(o.dataIndex),c=h.__edge,f=u.__edge||(o.isExpand===!1||o.children.length===1?c:void 0),p=r.get("edgeShape"),v=r.get("layout"),m=r.get("orient"),g=r.get(["lineStyle","curveness"]);f&&(p==="curve"?Ro(f,{shape:m1(v,m,g,l,l),style:{opacity:0}},r,{cb:function(){n.remove(f)},removeOpt:i}):p==="polyline"&&r.get("layout")==="orthogonal"&&Ro(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){n.remove(f)},removeOpt:i}))}}function u6(t,e){for(var n=e.parentNode===t?e:e.parentNode||e,r;r=n.getLayout(),r==null;)n=n.parentNode===t?n:n.parentNode||n;return{source:n,sourceLayout:r}}function $N(t,e,n,r,i){var a=t.tree.getNodeByDataIndex(e),s=t.tree.root,o=u6(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Ro(n,{x:o.x+1,y:o.y+1},i,{cb:function(){r.remove(n),t.setItemGraphicEl(e,null)},removeOpt:l}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){WN(u,t,r,i,l)}),WN(a,t,r,i,l)}function m1(t,e,n,r,i){var a,s,o,l,u,h,c,f;if(t==="radial"){u=r.rawX,c=r.rawY,h=i.rawX,f=i.rawY;var p=Uf(u,c),v=Uf(u,c+(f-c)*n),m=Uf(h,f+(c-f)*n),g=Uf(h,f);return{x1:p.x||0,y1:p.y||0,x2:g.x||0,y2:g.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=r.x,c=r.y,h=i.x,f=i.y,(e==="LR"||e==="RL")&&(a=u+(h-u)*n,s=c,o=h+(u-h)*n,l=f),(e==="TB"||e==="BT")&&(a=u,s=c+(f-c)*n,o=h,l=f+(c-f)*n);return{x1:u,y1:c,x2:h,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var vi=Qe();function c6(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,h6(e,n,t),M(n,function(r){M(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Ee(pSe,t))})}),e.wrapMethod("cloneShallow",Ee(mSe,t)),M(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Ee(vSe,t))}),er(n[e.dataType]===e)}function pSe(t,e){if(xSe(this)){var n=J({},vi(this).datas);n[this.dataType]=e,h6(e,n,t)}else QI(e,this.dataType,vi(this).mainData,t);return e}function vSe(t,e){return t.struct&&t.struct.update(),e}function mSe(t,e){return M(vi(e).datas,function(n,r){n!==e&&QI(n.cloneShallow(),r,e,t)}),e}function gSe(t){var e=vi(this).mainData;return t==null||e==null?e:vi(e).datas[t]}function ySe(){var t=vi(this).mainData;return t==null?[{data:t}]:te(Xe(vi(t).datas),function(e){return{type:e,data:vi(t).datas[e]}})}function xSe(t){return vi(t).mainData===t}function h6(t,e,n){vi(t).datas={},M(e,function(r,i){QI(r,i,t,n)})}function QI(t,e,n,r){vi(n).datas[e]=t,vi(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=gSe,t.getLinkedDataAll=ySe}var ASe=function(){function t(e,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=n}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(e,n,r){me(e)&&(r=n,n=e,e=null),e=e||{},ue(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=n.call(r,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,n,r);i==="postorder"&&n.call(r,this)},t.prototype.updateDepthAndHeight=function(e){var n=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>n&&(n=i.height)}this.height=n+1},t.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var n=0,r=this.children,i=r.length;n<i;n++){var a=r[n].getNodeById(e);if(a)return a}},t.prototype.contains=function(e){if(e===this)return!0;for(var n=0,r=this.children,i=r.length;n<i;n++){var a=r[n].contains(e);if(a)return a}},t.prototype.getAncestors=function(e){for(var n=[],r=e?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},t.prototype.getAncestorsIndices=function(){for(var e=[],n=this;n;)e.push(n.dataIndex),n=n.parentNode;return e.reverse(),e},t.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(n){e.push(n.dataIndex)}),e},t.prototype.getValue=function(e){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},t.prototype.setLayout=function(e,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,n)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostTree,r=n.data.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(e,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,n)},t.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,n=0;n<e.length;++n)if(e[n]===this)return n;return-1}return-1},t.prototype.isAncestorOf=function(e){for(var n=e.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},t.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},t}(),eE=function(){function t(e){this.type="tree",this._nodes=[],this.hostModel=e}return t.prototype.eachNode=function(e,n,r){this.root.eachNode(e,n,r)},t.prototype.getNodeByDataIndex=function(e){var n=this.data.getRawIndex(e);return this._nodes[n]},t.prototype.getNodeById=function(e){return this.root.getNodeById(e)},t.prototype.update=function(){for(var e=this.data,n=this._nodes,r=0,i=n.length;r<i;r++)n[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)n[e.getRawIndex(r)].dataIndex=r},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var i=new t(n),a=[],s=1;o(e);function o(h,c){var f=h.value;s=Math.max(s,ee(f)?f.length:1),a.push(h);var p=new ASe(un(h.name,""),i);c?bSe(p,c):i.root=p,i._nodes.push(p);var v=h.children;if(v)for(var m=0;m<v.length;m++)o(v[m],p)}i.root.updateDepthAndHeight(0);var l=$p(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new Jn(l,n);return u.initData(a),r&&r(u),c6({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},t}();function bSe(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}function rp(t,e,n){if(t&&ze(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(ue(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=t.targetNodeId;if(a!=null&&(i=r.getNodeById(a)))return{node:i}}}function f6(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()}function tE(t,e){var n=f6(t);return ze(n,e)>=0}function Lx(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}var wSe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return e.prototype.getInitialData=function(n){var r={name:n.name,children:n.data},i=n.leaves||{},a=new dt(i,this,this.ecModel),s=eE.createTree(r,this,o);function o(c){c.wrapMethod("getItemModel",function(f,p){var v=s.getNodeByDataIndex(p);return v&&v.children.length&&v.isExpand||(f.parentModel=a),f})}var l=0;s.eachNode("preorder",function(c){c.depth>l&&(l=c.depth)});var u=n.expandAndCollapse,h=u&&n.initialTreeDepth>=0?n.initialTreeDepth:l;return s.root.eachNode("preorder",function(c){var f=c.hostTree.data.getRawDataItem(c.dataIndex);c.isExpand=f&&f.collapsed!=null?!f.collapsed:c.depth<=h}),s.data},e.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.formatTooltip=function(n,r,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(n),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return gn("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=Lx(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(kt);function SSe(t,e,n){for(var r=[t],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)r.push(s[o])}for(;a=i.pop();)e(a,n)}function Sf(t,e){for(var n=[t],r;r=n.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)n.push(i[a])}}function _Se(t,e){t.eachSeriesByType("tree",function(n){TSe(n,e)})}function TSe(t,e){var n=iSe(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,a=0,s=null;r==="radial"?(i=2*Math.PI,a=Math.min(n.height,n.width)/2,s=HN(function(A,b){return(A.parentNode===b.parentNode?1:2)/A.depth})):(i=n.width,a=n.height,s=HN());var o=t.getData().tree.root,l=o.children[0];if(l){tSe(o),SSe(l,nSe,s),o.hierNode.modifier=-l.hierNode.prelim,Sf(l,rSe);var u=l,h=l,c=l;Sf(l,function(A){var b=A.getLayout().x;b<u.getLayout().x&&(u=A),b>h.getLayout().x&&(h=A),A.depth>c.depth&&(c=A)});var f=u===h?1:s(u,h)/2,p=f-u.getLayout().x,v=0,m=0,g=0,y=0;if(r==="radial")v=i/(h.getLayout().x+f+p),m=a/(c.depth-1||1),Sf(l,function(A){g=(A.getLayout().x+p)*v,y=(A.depth-1)*m;var b=Uf(g,y);A.setLayout({x:b.x,y:b.y,rawX:g,rawY:y},!0)});else{var x=t.getOrient();x==="RL"||x==="LR"?(m=a/(h.getLayout().x+f+p),v=i/(c.depth-1||1),Sf(l,function(A){y=(A.getLayout().x+p)*m,g=x==="LR"?(A.depth-1)*v:i-(A.depth-1)*v,A.setLayout({x:g,y},!0)})):(x==="TB"||x==="BT")&&(v=i/(h.getLayout().x+f+p),m=a/(c.depth-1||1),Sf(l,function(A){g=(A.getLayout().x+p)*v,y=x==="TB"?(A.depth-1)*m:a-(A.depth-1)*m,A.setLayout({x:g,y},!0)}))}}}function CSe(t){t.eachSeriesByType("tree",function(e){var n=e.getData(),r=n.tree;r.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=n.ensureUniqueItemVisual(i.dataIndex,"style");J(o,s)})})}function ISe(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,a=r.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,n,r){n.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=KI(a,e,void 0,r);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function ESe(t){t.registerChartView(fSe),t.registerSeriesModel(wSe),t.registerLayout(_Se),t.registerVisual(CSe),ISe(t)}var YN=["treemapZoomToNode","treemapRender","treemapMove"];function kSe(t){for(var e=0;e<YN.length;e++)t.registerAction({type:YN[e],update:"updateView"},Jt);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=rp(n,o,a);if(l){var u=a.getViewRoot();u&&(n.direction=tE(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function d6(t){var e=t.getData(),n=e.tree,r={};n.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=W_(t.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",s)})}var PSe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return e.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};p6(i);var a=n.levels||[],s=this.designatedVisualItemStyle={},o=new dt({itemStyle:s},this,r);a=n.levels=jSe(a,r);var l=te(a||[],function(c){return new dt(c,o,r)},this),u=eE.createTree(i,this,h);function h(c){c.wrapMethod("getItemModel",function(f,p){var v=u.getNodeByDataIndex(p),m=v?l[v.depth]:null;return f.parentModel=m||o,f})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(n,r,i){var a=this.getData(),s=this.getRawValue(n),o=a.getName(n);return gn("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=Lx(i,this),r.treePathInfo=r.treeAncestors,r},e.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},J(this.layoutInfo,n)},e.prototype.mapIdToIndex=function(n){var r=this._idIndexMap;r||(r=this._idIndexMap=pe(),this._idIndexMapCount=0);var i=r.get(n);return i==null&&r.set(n,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){d6(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â¶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(kt);function p6(t){var e=0;M(t.children,function(r){p6(r);var i=r.value;ee(i)&&(i=i[0]),e+=i});var n=t.value;ee(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=e),n<0&&(n=0),ee(t.value)?t.value[0]=n:t.value=n}function jSe(t,e){var n=bt(e.get("color")),r=bt(e.get(["aria","decal","decals"]));if(n){t=t||[];var i,a;M(t,function(o){var l=new dt(o),u=l.get("color"),h=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||h&&h!=="none")&&(a=!0)});var s=t[0]||(t[0]={});return i||(s.color=n.slice()),!a&&r&&(s.decal=r.slice()),t}}var MSe=8,qN=8,iw=5,DSe=function(){function t(e){this.group=new Ae,e.add(this.group)}return t.prototype.render=function(e,n,r,i){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!r)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),h=l.getModel(["itemStyle","textStyle"]),c={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,c,u),this._renderContent(e,c,o,l,u,h,i),Ax(s,c.pos,c.box)}},t.prototype._prepare=function(e,n,r){for(var i=e;i;i=i.parentNode){var a=un(i.getModel().get("name"),""),s=r.getTextRect(a),o=Math.max(s.width+MSe*2,n.emptyItemWidth);n.totalWidth+=o+qN,n.renderList.push({node:i,text:a,width:o})}},t.prototype._renderContent=function(e,n,r,i,a,s,o){for(var l=0,u=n.emptyItemWidth,h=e.get(["breadcrumb","height"]),c=Gme(n.pos,n.box),f=n.totalWidth,p=n.renderList,v=i.getModel("itemStyle").getItemStyle(),m=p.length-1;m>=0;m--){var g=p[m],y=g.node,x=g.width,A=g.text;f>c.width&&(f-=x-u,x=u,A=null);var b=new rr({shape:{points:LSe(l,0,x,h,m===p.length-1,m===0)},style:ge(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new et({style:Et(a,{text:A})}),textConfig:{position:"inside"},z2:Ph*1e4,onclick:Ee(o,y)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=Et(s,{text:A}),b.ensureState("emphasis").style=v,Wt(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),NSe(b,e,y),l+=x+qN}},t.prototype.remove=function(){this.group.removeAll()},t}();function LSe(t,e,n,r,i,a){var s=[[i?t:t-iw,e],[t+n,e],[t+n,e+r],[i?t:t-iw,e+r]];return!a&&s.splice(2,0,[t+n+iw,e+r/2]),!i&&s.push([t,e+r/2]),s}function NSe(t,e,n){Se(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Lx(n,e)}}var zSe=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(e,n,r,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:n,duration:r,delay:i,easing:a}),!0)},t.prototype.finished=function(e){return this._finishedCallback=e,this},t.prototype.start=function(){for(var e=this,n=this._storage.length,r=function(){n--,n<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:r,aborted:r})}return this},t}();function RSe(){return new zSe}var g1=Ae,XN=Ke,ZN=3,JN="label",KN="upperLabel",OSe=Ph*10,FSe=Ph*2,BSe=Ph*3,Ml=Au([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),QN=function(t){var e=Ml(t);return e.stroke=e.fill=e.lineWidth=null,e},Uy=Qe(),VSe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage=_f(),n}return e.prototype.render=function(n,r,i,a){var s=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(ze(s,n)<0)){this.seriesModel=n,this.api=i,this.ecModel=r;var o=["treemapZoomToNode","treemapRootToNode"],l=rp(a,o,n),u=a&&a.type,h=n.layoutInfo,c=!this._oldTree,f=this._storage,p=u==="treemapRootToNode"&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(h),m=n.get("animation"),g=this._doRender(v,n,p);m&&!c&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,g,n,p):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(n,i,l)}},e.prototype._giveContainerGroup=function(n){var r=this._containerGroup;return r||(r=this._containerGroup=new g1,this._initEvents(r),this.group.add(r)),r.x=n.x,r.y=n.y,r},e.prototype._doRender=function(n,r,i){var a=r.getData().tree,s=this._oldTree,o=_f(),l=_f(),u=this._storage,h=[];function c(x,A,b,S){return HSe(r,l,u,i,o,h,x,A,b,S)}m(a.root?[a.root]:[],s&&s.root?[s.root]:[],n,a===s||!s,0);var f=g(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===p.width&&v.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:f,renderFinally:y};function m(x,A,b,S,w){S?(A=x,M(x,function(C,E){!C.isRemoved()&&T(E,E)})):new ks(A,x,_,_).add(T).update(T).remove(Ee(T,null)).execute();function _(C){return C.getId()}function T(C,E){var k=C!=null?x[C]:null,I=E!=null?A[E]:null,j=c(k,I,b,w);j&&m(k&&k.viewChildren||[],I&&I.viewChildren||[],j,S,w+1)}}function g(x){var A=_f();return x&&M(x,function(b,S){var w=A[S];M(b,function(_){_&&(w.push(_),Uy(_).willDelete=!0)})}),A}function y(){M(f,function(x){M(x,function(A){A.parent&&A.parent.remove(A)})}),M(h,function(x){x.invisible=!0,x.dirty()})}},e.prototype._doAnimation=function(n,r,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(me(s)?0:s)||0,u=(me(o)?null:o)||"cubicOut",h=RSe();M(r.willDeleteEls,function(c,f){M(c,function(p,v){if(!p.invisible){var m=p.parent,g,y=Uy(m);if(a&&a.direction==="drillDown")g=m===a.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var x=0,A=0;y.willDelete||(x=y.nodeWidth/2,A=y.nodeHeight/2),g=f==="nodeGroup"?{x,y:A,style:{opacity:0}}:{shape:{x,y:A,width:0,height:0},style:{opacity:0}}}g&&h.add(p,g,l,0,u)}})}),M(this._storage,function(c,f){M(c,function(p,v){var m=r.lastsForAnimation[f][v],g={};m&&(p instanceof Ae?m.oldX!=null&&(g.x=p.x,g.y=p.y,p.x=m.oldX,p.y=m.oldY):(m.oldShape&&(g.shape=J({},p.shape),p.setShape(m.oldShape)),m.fadein?(p.setStyle("opacity",0),g.style={opacity:1}):p.style.opacity!==1&&(g.style={opacity:1})),h.add(p,g,l,0,u))})},this),this._state="animating",h.finished(fe(function(){this._state="ready",r.renderFinally()},this)).start()},e.prototype._resetController=function(n){var r=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),r||(r=this._controller=new ev(n.getZr()),r.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",fe(this._onPan,this)),r.on("zoom",fe(this._onZoom,this)));var a=new De(0,0,n.getWidth(),n.getHeight());r.setPointerChecker(function(s,o,l){return a.contain(o,l)})},e.prototype._clearController=function(){var n=this._controller;this._controllerHost=null,n&&(n.dispose(),n=null)},e.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>ZN||Math.abs(n.dy)>ZN)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n.dx,y:i.y+n.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(n){var r=n.originX,i=n.originY,a=n.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new De(o.x,o.y,o.width,o.height),u=null,h=this._controllerHost;u=h.zoomLimit;var c=h.zoom=h.zoom||1;if(c*=a,u){var f=u.min||0,p=u.max||1/0;c=Math.max(Math.min(p,c),f)}var v=c/h.zoom;h.zoom=c;var m=this.seriesModel.layoutInfo;r-=m.x,i-=m.y;var g=Nr();La(g,g,[-r,-i]),GC(g,g,[v,v]),La(g,g,[r,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(n){var r=this;n.on("click",function(i){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(a){var s=r.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)r._rootToNode(s);else if(a==="zoomToNode")r._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&Ey(u,h)}}}}},this)},e.prototype._renderBreadcrumb=function(n,r,i){var a=this;i||(i=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new DSe(this.group))).render(n,r,i.node,function(s){a._state!=="animating"&&(tE(n.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=_f(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},e.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},e.prototype.findTarget=function(n,r){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(n,r),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e}(St);function _f(){return{nodeGroup:[],background:[],content:[]}}function HSe(t,e,n,r,i,a,s,o,l,u){if(!s)return;var h=s.getLayout(),c=t.getData(),f=s.getModel();if(c.setItemGraphicEl(s.dataIndex,null),!h||!h.isInView)return;var p=h.width,v=h.height,m=h.borderWidth,g=h.invisible,y=s.getRawIndex(),x=o&&o.getRawIndex(),A=s.viewChildren,b=h.upperHeight,S=A&&A.length,w=f.getModel("itemStyle"),_=f.getModel(["emphasis","itemStyle"]),T=f.getModel(["blur","itemStyle"]),C=f.getModel(["select","itemStyle"]),E=w.get("borderRadius")||0,k=W("nodeGroup",g1);if(!k)return;if(l.add(k),k.x=h.x||0,k.y=h.y||0,k.markRedraw(),Uy(k).nodeWidth=p,Uy(k).nodeHeight=v,h.isAboveViewRoot)return k;var I=W("background",XN,u,FSe);I&&U(k,I,S&&h.upperLabelHeight);var j=f.getModel("emphasis"),P=j.get("focus"),D=j.get("blurScope"),L=j.get("disabled"),F=P==="ancestor"?s.getAncestorsIndices():P==="descendant"?s.getDescendantIndices():P;if(S)Ud(k)&&ql(k,!1),I&&(ql(I,!L),c.setItemGraphicEl(s.dataIndex,I),R_(I,F,D));else{var V=W("content",XN,u,BSe);V&&z(k,V),I.disableMorphing=!0,I&&Ud(I)&&ql(I,!1),ql(k,!L),c.setItemGraphicEl(s.dataIndex,k),R_(k,F,D)}return k;function U(Z,X,Q){var re=Se(X);if(re.dataIndex=s.dataIndex,re.seriesIndex=t.seriesIndex,X.setShape({x:0,y:0,width:p,height:v,r:E}),g)H(X);else{X.invisible=!1;var K=s.getVisual("style"),le=K.stroke,we=QN(w);we.fill=le;var oe=Ml(_);oe.fill=_.get("borderColor");var Pe=Ml(T);Pe.fill=T.get("borderColor");var Le=Ml(C);if(Le.fill=C.get("borderColor"),Q){var Ge=p-2*m;G(X,le,K.opacity,{x:m,y:0,width:Ge,height:b})}else X.removeTextContent();X.setStyle(we),X.ensureState("emphasis").style=oe,X.ensureState("blur").style=Pe,X.ensureState("select").style=Le,bu(X)}Z.add(X)}function z(Z,X){var Q=Se(X);Q.dataIndex=s.dataIndex,Q.seriesIndex=t.seriesIndex;var re=Math.max(p-2*m,0),K=Math.max(v-2*m,0);if(X.culling=!0,X.setShape({x:m,y:m,width:re,height:K,r:E}),g)H(X);else{X.invisible=!1;var le=s.getVisual("style"),we=le.fill,oe=QN(w);oe.fill=we,oe.decal=le.decal;var Pe=Ml(_),Le=Ml(T),Ge=Ml(C);G(X,we,le.opacity,null),X.setStyle(oe),X.ensureState("emphasis").style=Pe,X.ensureState("blur").style=Le,X.ensureState("select").style=Ge,bu(X)}Z.add(X)}function H(Z){!Z.invisible&&a.push(Z)}function G(Z,X,Q,re){var K=f.getModel(re?KN:JN),le=un(f.get("name"),null),we=K.getShallow("show");Pn(Z,mn(f,re?KN:JN),{defaultText:we?le:null,inheritColor:X,defaultOpacity:Q,labelFetcher:t,labelDataIndex:s.dataIndex});var oe=Z.getTextContent();if(oe){var Pe=oe.style,Le=BC(Pe.padding||0);re&&(Z.setTextConfig({layoutRect:re}),oe.disableLabelLayout=!0),oe.beforeUpdate=function(){var st=Math.max((re?re.width:Z.shape.width)-Le[1]-Le[3],0),Ue=Math.max((re?re.height:Z.shape.height)-Le[0]-Le[2],0);(Pe.width!==st||Pe.height!==Ue)&&oe.setStyle({width:st,height:Ue})},Pe.truncateMinChar=2,Pe.lineOverflow="truncate",N(Pe,re,h);var Ge=oe.getState("emphasis");N(Ge?Ge.style:null,re,h)}}function N(Z,X,Q){var re=Z?Z.text:null;if(!X&&Q.isLeafRoot&&re!=null){var K=t.get("drillDownIcon",!0);Z.text=K?K+" "+re:re}}function W(Z,X,Q,re){var K=x!=null&&n[Z][x],le=i[Z];return K?(n[Z][x]=null,q(le,K)):g||(K=new X,K instanceof yi&&(K.z2=GSe(Q,re)),$(le,K)),e[Z][y]=K}function q(Z,X){var Q=Z[y]={};X instanceof g1?(Q.oldX=X.x,Q.oldY=X.y):Q.oldShape=J({},X.shape)}function $(Z,X){var Q=Z[y]={},re=s.parentNode,K=X instanceof Ae;if(re&&(!r||r.direction==="drillDown")){var le=0,we=0,oe=i.background[re.getRawIndex()];!r&&oe&&oe.oldShape&&(le=oe.oldShape.width,we=oe.oldShape.height),K?(Q.oldX=0,Q.oldY=we):Q.oldShape={x:le,y:we,width:0,height:0}}Q.fadein=!K}}function GSe(t,e){return t*OSe+e}var ip=M,USe=ye,Wy=-1,vn=function(){function t(e){var n=e.mappingMethod,r=e.type,i=this.option=xe(e);this.type=r,this.mappingMethod=n,this._normalizeData=YSe[n];var a=t.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],n==="piecewise"?(aw(i),WSe(i)):n==="category"?i.categories?$Se(i):aw(i,!0):(er(n!=="linear"||i.dataExtent),aw(i))}return t.prototype.mapValueToVisual=function(e){var n=this._normalizeData(e);return this._normalizedToVisual(n,e)},t.prototype.getNormalizer=function(){return fe(this._normalizeData,this)},t.listVisualTypes=function(){return Xe(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(e,n,r){ye(e)?M(e,n,r):n.call(r,e)},t.mapVisual=function(e,n,r){var i,a=ee(e)?[]:ye(e)?{}:(i=!0,null);return t.eachVisual(e,function(s,o){var l=n.call(r,s,o);i?a=l:a[o]=l}),a},t.retrieveVisuals=function(e){var n={},r;return e&&ip(t.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(n[a]=e[a],r=!0)}),r?n:null},t.prepareVisualTypes=function(e){if(ee(e))e=e.slice();else if(USe(e)){var n=[];ip(e,function(r,i){n.push(i)}),e=n}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},t.dependsOn=function(e,n){return n==="color"?!!(e&&e.indexOf(n)===0):e===n},t.findPieceIndex=function(e,n,r){for(var i,a=1/0,s=0,o=n.length;s<o;s++){var l=n[s].value;if(l!=null){if(l===e||ue(l)&&l===e+"")return s;r&&f(l,s)}}for(var s=0,o=n.length;s<o;s++){var u=n[s],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Im(c[1],e,h[1]))return s}else if(h[1]===1/0){if(Im(c[0],h[0],e))return s}else if(Im(c[0],h[0],e)&&Im(c[1],e,h[1]))return s;r&&f(h[0],s),r&&f(h[1],s)}}if(r)return e===1/0?n.length-1:e===-1/0?0:i;function f(p,v){var m=Math.abs(p-e);m<a&&(a=m,i=v)}},t.visualHandlers={color:{applyVisual:Tf("color"),getColorMapper:function(){var e=this.option;return fe(e.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),Wf.call(this,n)}:function(n,r,i){var a=!!i;return!r&&(n=this._normalizeData(n)),i=FA(n,e.parsedVisual,i),a?i:ds(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return ds(FA(e,this.option.parsedVisual),"rgba")},category:Wf,piecewise:function(e,n){var r=x1.call(this,n);return r==null&&(r=ds(FA(e,this.option.parsedVisual),"rgba")),r},fixed:Dl}},colorHue:Cm(function(e,n){return sd(e,n)}),colorSaturation:Cm(function(e,n){return sd(e,null,n)}),colorLightness:Cm(function(e,n){return sd(e,null,null,n)}),colorAlpha:Cm(function(e,n){return my(e,n)}),decal:{applyVisual:Tf("decal"),_normalizedToVisual:{linear:null,category:Wf,piecewise:null,fixed:null}},opacity:{applyVisual:Tf("opacity"),_normalizedToVisual:y1([0,1])},liftZ:{applyVisual:Tf("liftZ"),_normalizedToVisual:{linear:Dl,category:Dl,piecewise:Dl,fixed:Dl}},symbol:{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:ez,category:Wf,piecewise:function(e,n){var r=x1.call(this,n);return r==null&&(r=ez.call(this,e)),r},fixed:Dl}},symbolSize:{applyVisual:Tf("symbolSize"),_normalizedToVisual:y1([0,1])}},t}();function WSe(t){var e=t.pieceList;t.hasSpecialVisual=!1,M(e,function(n,r){n.originIndex=r,n.visual!=null&&(t.hasSpecialVisual=!0)})}function $Se(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(ip(e,function(s,o){n[s]=o}),!ee(r)){var i=[];ye(r)?ip(r,function(s,o){var l=n[o];i[l??Wy]=s}):i[Wy]=r,r=v6(t,i)}for(var a=e.length-1;a>=0;a--)r[a]==null&&(delete n[e[a]],e.pop())}function aw(t,e){var n=t.visual,r=[];ye(n)?ip(n,function(a){r.push(a)}):n!=null&&r.push(n);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(t.type)&&(r[1]=r[0]),v6(t,r)}function Cm(t){return{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("color",t(n("color"),i))},_normalizedToVisual:y1([0,1])}}function ez(t){var e=this.option.visual;return e[Math.round(vt(t,[0,1],[0,e.length-1],!0))]||{}}function Tf(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function Wf(t){var e=this.option.visual;return e[this.option.loop&&t!==Wy?t%e.length:t]}function Dl(){return this.option.visual[0]}function y1(t){return{linear:function(e){return vt(e,t,this.option.visual,!0)},category:Wf,piecewise:function(e,n){var r=x1.call(this,n);return r==null&&(r=vt(e,t,this.option.visual,!0)),r},fixed:Dl}}function x1(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=vn.findPieceIndex(t,n),i=n[r];if(i&&i.visual)return i.visual[this.type]}}function v6(t,e){return t.visual=e,t.type==="color"&&(t.parsedVisual=te(e,function(n){var r=zr(n);return r||[0,0,0,1]})),e}var YSe={linear:function(t){return vt(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=vn.findPieceIndex(t,e,!0);if(n!=null)return vt(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e??Wy},fixed:Jt};function Im(t,e,n){return t?e<=n:e<n}var qSe="itemStyle",m6=Qe();const XSe={seriesType:"treemap",reset:function(t){var e=t.getData().tree,n=e.root;n.isRemoved()||g6(n,{},t.getViewRoot().getAncestors(),t)}};function g6(t,e,n,r){var i=t.getModel(),a=t.getLayout(),s=t.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(qSe),l=ZSe(o,e,r),u=s.ensureUniqueItemVisual(t.dataIndex,"style"),h=o.get("borderColor"),c=o.get("borderColorSaturation"),f;c!=null&&(f=tz(l),h=JSe(c,f)),u.stroke=h;var p=t.viewChildren;if(!p||!p.length)f=tz(l),u.fill=f;else{var v=KSe(t,i,a,o,l,p);M(p,function(m,g){if(m.depth>=n.length||m===n[m.depth]){var y=QSe(i,l,m,g,v,r);g6(m,y,n,r)}})}}}function ZSe(t,e,n){var r=J({},e),i=n.designatedVisualItemStyle;return M(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var s=t.get(a);i[a]=null,s!=null&&(r[a]=s)}),r}function tz(t){var e=sw(t,"color");if(e){var n=sw(t,"colorAlpha"),r=sw(t,"colorSaturation");return r&&(e=sd(e,null,null,r)),n&&(e=my(e,n)),e}}function JSe(t,e){return e!=null?sd(e,null,null,t):null}function sw(t,e){var n=t[e];if(n!=null&&n!=="none")return n}function KSe(t,e,n,r,i,a){if(!(!a||!a.length)){var s=ow(e,"color")||i.color!=null&&i.color!=="none"&&(ow(e,"colorAlpha")||ow(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var h=e.get("colorMappingBy"),c={type:s.name,dataExtent:u,visual:s.range};c.type==="color"&&(h==="index"||h==="id")?(c.mappingMethod="category",c.loop=!0):c.mappingMethod="linear";var f=new vn(c);return m6(f).drColorMappingBy=h,f}}}function ow(t,e){var n=t.get(e);return ee(n)&&n.length?{name:e,range:n}:null}function QSe(t,e,n,r,i,a){var s=J({},e);if(i){var o=i.type,l=o==="color"&&m6(i).drColorMappingBy,u=l==="index"?r:l==="id"?a.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var ap=Math.max,$y=Math.min,nz=bn,nE=M,y6=["itemStyle","borderWidth"],e_e=["itemStyle","gapWidth"],t_e=["upperLabel","show"],n_e=["upperLabel","height"];const r_e={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),a=n.getHeight(),s=t.option,o=cn(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=s.size||[],u=se(nz(o.width,l[0]),i),h=se(nz(o.height,l[1]),a),c=r&&r.type,f=["treemapZoomToNode","treemapRootToNode"],p=rp(r,f,t),v=c==="treemapRender"||c==="treemapMove"?r.rootRect:null,m=t.getViewRoot(),g=f6(m);if(c!=="treemapMove"){var y=c==="treemapZoomToNode"?u_e(t,p,m,u,h):v?[v.width,v.height]:[u,h],x=s.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var A={squareRatio:s.squareRatio,sort:x,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var b={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};m.setLayout(b),x6(m,A,!1,0),b=m.getLayout(),nE(g,function(w,_){var T=(g[_+1]||m).getValue();w.setLayout(J({dataExtent:[T,T],borderWidth:0,upperHeight:0},b))})}var S=t.getData().tree.root;S.setLayout(c_e(o,v,p),!0),t.setLayoutInfo(o),A6(S,new De(-o.x,-o.y,i,a),g,m,0)}};function x6(t,e,n,r){var i,a;if(!t.isRemoved()){var s=t.getLayout();i=s.width,a=s.height;var o=t.getModel(),l=o.get(y6),u=o.get(e_e)/2,h=b6(o),c=Math.max(l,h),f=l-u,p=c-u;t.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0),i=ap(i-2*f,0),a=ap(a-f-p,0);var v=i*a,m=i_e(t,o,v,e,n,r);if(m.length){var g={x:f,y:p,width:i,height:a},y=$y(i,a),x=1/0,A=[];A.area=0;for(var b=0,S=m.length;b<S;){var w=m[b];A.push(w),A.area+=w.getLayout().area;var _=l_e(A,y,e.squareRatio);_<=x?(b++,x=_):(A.area-=A.pop().getLayout().area,rz(A,y,g,u,!1),y=$y(g.width,g.height),A.length=A.area=0,x=1/0)}if(A.length&&rz(A,y,g,u,!0),!n){var T=o.get("childrenVisibleMin");T!=null&&v<T&&(n=!0)}for(var b=0,S=m.length;b<S;b++)x6(m[b],e,n,r+1)}}}function i_e(t,e,n,r,i,a){var s=t.children||[],o=r.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=r.leafDepth!=null&&r.leafDepth<=a;if(i&&!l)return t.viewChildren=[];s=gt(s,function(p){return!p.isRemoved()}),s_e(s,o);var u=o_e(e,s,o);if(u.sum===0)return t.viewChildren=[];if(u.sum=a_e(e,n,u.sum,o,s),u.sum===0)return t.viewChildren=[];for(var h=0,c=s.length;h<c;h++){var f=s[h].getValue()/u.sum*n;s[h].setLayout({area:f})}return l&&(s.length&&t.setLayout({isLeafRoot:!0},!0),s.length=0),t.viewChildren=s,t.setLayout({dataExtent:u.dataExtent},!0),s}function a_e(t,e,n,r,i){if(!r)return n;for(var a=t.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[r==="asc"?s-l-1:l].getValue();u/n*e<a&&(o=l,n-=u)}return r==="asc"?i.splice(0,s-o):i.splice(o,s-o),n}function s_e(t,e){return e&&t.sort(function(n,r){var i=e==="asc"?n.getValue()-r.getValue():r.getValue()-n.getValue();return i===0?e==="asc"?n.dataIndex-r.dataIndex:r.dataIndex-n.dataIndex:i}),t}function o_e(t,e,n){for(var r=0,i=0,a=e.length;i<a;i++)r+=e[i].getValue();var s=t.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&n?(o=[e[e.length-1].getValue(),e[0].getValue()],n==="asc"&&o.reverse()):(o=[1/0,-1/0],nE(e,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:r,dataExtent:o}}function l_e(t,e,n){for(var r=0,i=1/0,a=0,s=void 0,o=t.length;a<o;a++)s=t[a].getLayout().area,s&&(s<i&&(i=s),s>r&&(r=s));var l=t.area*t.area,u=e*e*n;return l?ap(u*r/l,l/(u*i)):1/0}function rz(t,e,n,r,i){var a=e===n.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=n[o[a]],h=e?t.area/e:0;(i||h>n[l[s]])&&(h=n[l[s]]);for(var c=0,f=t.length;c<f;c++){var p=t[c],v={},m=h?p.getLayout().area/h:0,g=v[l[s]]=ap(h-2*r,0),y=n[o[a]]+n[l[a]]-u,x=c===f-1||y<m?y:m,A=v[l[a]]=ap(x-2*r,0);v[o[s]]=n[o[s]]+$y(r,g/2),v[o[a]]=u+$y(r,A/2),u+=x,p.setLayout(v,!0)}n[o[s]]+=h,n[l[s]]-=h}function u_e(t,e,n,r,i){var a=(e||{}).node,s=[r,i];if(!a||a===n)return s;for(var o,l=r*i,u=l*t.option.zoomToNodeRatio;o=a.parentNode;){for(var h=0,c=o.children,f=0,p=c.length;f<p;f++)h+=c[f].getValue();var v=a.getValue();if(v===0)return s;u*=h/v;var m=o.getModel(),g=m.get(y6),y=Math.max(g,b6(m));u+=4*g*g+(3*g+y)*Math.pow(u,.5),u>vD&&(u=vD),a=o}u<l&&(u=l);var x=Math.pow(u/l,.5);return[r*x,i*x]}function c_e(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,a=i.getLayout();if(!a)return r;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:t.width/2-s[0],y:t.height/2-s[1]}}function A6(t,e,n,r,i){var a=t.getLayout(),s=n[i],o=s&&s===t;if(!(s&&!o||i===n.length&&t!==r)){t.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new De(e.x-a.x,e.y-a.y,e.width,e.height);nE(t.viewChildren||[],function(u){A6(u,l,n,r,i+1)})}}function b6(t){return t.get(t_e)?t.get(n_e):0}function h_e(t){t.registerSeriesModel(PSe),t.registerChartView(VSe),t.registerVisual(XSe),t.registerLayout(r_e),kSe(t)}function f_e(t){var e=t.findComponents({mainType:"legend"});!e||!e.length||t.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),i=n.getGraph(),a=i.data,s=r.mapArray(r.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){nt(u)&&(u=s[u]);for(var h=0;h<e.length;h++)if(!e[h].isSelected(u))return!1}return!0})})}function d_e(t){var e={};t.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),i=n.getData(),a={};r.each(function(s){var o=r.getName(s);a["ec-"+o]=s;var l=r.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=n.getColorFromPalette(o,e)),r.setItemVisual(s,"style",u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++){var f=l.getShallow(h[c],!0);f!=null&&r.setItemVisual(s,h[c],f)}}),r.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){ue(l)&&(l=a["ec-"+l]);var u=r.getItemVisual(l,"style"),h=i.ensureUniqueItemVisual(s,"style");J(h,u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++)i.setItemVisual(s,c[f],r.getItemVisual(l,c[f]))}})})}function Em(t){return t instanceof Array||(t=[t,t]),t}function p_e(t){t.eachSeriesByType("graph",function(e){var n=e.getGraph(),r=e.getEdgeData(),i=Em(e.get("edgeSymbol")),a=Em(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",e.getModel("lineStyle").getLineStyle()),r.each(function(s){var o=r.getItemModel(s),l=n.getEdgeByIndex(s),u=Em(o.getShallow("symbol",!0)),h=Em(o.getShallow("symbolSize",!0)),c=o.getModel("lineStyle").getLineStyle(),f=r.ensureUniqueItemVisual(s,"style");switch(J(f,c),f.stroke){case"source":{var p=l.node1.getVisual("style");f.stroke=p&&p.fill;break}case"target":{var p=l.node2.getVisual("style");f.stroke=p&&p.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])})})}var A1="-->",Nx=function(t){return t.get("autoCurveness")||null},w6=function(t,e){var n=Nx(t),r=20,i=[];if(nt(n))r=n;else if(ee(n)){t.__curvenessList=n;return}e>r&&(r=e);var a=r%2?r+2:r+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));t.__curvenessList=i},sp=function(t,e,n){var r=[t.id,t.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[n.uid,r,i].join(A1)},S6=function(t){var e=t.split(A1);return[e[0],e[2],e[1]].join(A1)},v_e=function(t,e){var n=sp(t.node1,t.node2,e);return e.__edgeMap[n]},m_e=function(t,e){var n=b1(sp(t.node1,t.node2,e),e),r=b1(sp(t.node2,t.node1,e),e);return n+r},b1=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function g_e(t){Nx(t)&&(t.__curvenessList=[],t.__edgeMap={},w6(t))}function y_e(t,e,n,r){if(Nx(n)){var i=sp(t,e,n),a=n.__edgeMap,s=a[S6(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}function rE(t,e,n,r){var i=Nx(e),a=ee(i);if(!i)return null;var s=v_e(t,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===n){o=l;break}var u=m_e(t,e);w6(e,u),t.lineStyle=t.lineStyle||{};var h=sp(t.node1,t.node2,e),c=e.__curvenessList,f=a||u%2?0:1;if(s.isForward)return c[f+o];var p=S6(h),v=b1(p,e),m=c[o+v+f];return r?a?i&&i[0]===0?(v+f)%2?m:-m:((v%2?0:1)+f)%2?m:-m:(v+f)%2?m:-m:c[o+v+f]}function _6(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view")){var n=t.getGraph();n.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),iE(n,t)}}function iE(t,e){t.eachEdge(function(n,r){var i=Ca(n.getModel().get(["lineStyle","curveness"]),-rE(n,e,r,!0),0),a=hs(n.node1.getLayout()),s=hs(n.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),n.setLayout(o)})}function x_e(t,e){t.eachSeriesByType("graph",function(n){var r=n.get("layout"),i=n.coordinateSystem;if(i&&i.type!=="view"){var a=n.getData(),s=[];M(i.dimensions,function(f){s=s.concat(a.mapDimensionsAll(f))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,h=0;h<s.length;h++){var c=a.get(s[h],o);isNaN(c)||(u=!0),l.push(c)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}iE(a.graph,n)}else(!r||r==="none")&&_6(n)})}function $f(t){var e=t.coordinateSystem;if(e.type!=="view")return 1;var n=t.option.nodeScaleRatio,r=e.scaleX,i=e.getZoom(),a=(i-1)*n+1;return a/r}function Yf(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var iz=Math.PI,lw=[];function aE(t,e,n,r){var i=t.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=t.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,h=Math.min(a.width,a.height)/2,c=s.count();if(s.setLayout({cx:l,cy:u}),!!c){if(n){var f=i.pointToData(r),p=f[0],v=f[1],m=[p-l,v-u];Ih(m,m),ig(m,m,h),n.setLayout([l+m[0],u+m[1]],!0);var g=t.get(["circular","rotateLabel"]);T6(n,g,l,u)}A_e[e](t,o,s,h,l,u,c),o.eachEdge(function(y,x){var A=Ca(y.getModel().get(["lineStyle","curveness"]),rE(y,t,x),0),b=hs(y.node1.getLayout()),S=hs(y.node2.getLayout()),w,_=(b[0]+S[0])/2,T=(b[1]+S[1])/2;+A&&(A*=3,w=[l*A+_*(1-A),u*A+T*(1-A)]),y.setLayout([b,S,w])})}}}var A_e={value:function(t,e,n,r,i,a,s){var o=0,l=n.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(h){var c=h.getValue("value"),f=u*(l?c:1)/2;o+=f,h.setLayout([r*Math.cos(o)+i,r*Math.sin(o)+a]),o+=f})},symbolSize:function(t,e,n,r,i,a,s){var o=0;lw.length=s;var l=$f(t);e.eachNode(function(c){var f=Yf(c);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var p=Math.asin(f/2/r);isNaN(p)&&(p=iz/2),lw[c.dataIndex]=p,o+=p*2});var u=(2*iz-o)/s/2,h=0;e.eachNode(function(c){var f=u+lw[c.dataIndex];h+=f,(!c.getLayout()||!c.getLayout().fixed)&&c.setLayout([r*Math.cos(h)+i,r*Math.sin(h)+a]),h+=f})}};function T6(t,e,n,r){var i=t.getGraphicEl();if(i){var a=t.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(e){var l=t.getLayout(),u=Math.atan2(l[1]-r,l[0]-n);u<0&&(u=Math.PI*2+u);var h=l[0]<n;h&&(u=u-Math.PI);var c=h?"left":"right";o.setTextConfig({rotation:-u,position:c,origin:"center"});var f=o.ensureState("emphasis");J(f.textConfig||(f.textConfig={}),{position:c})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function b_e(t){t.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&aE(e,"symbolSize")})}var ac=l_;function w_e(t,e,n){for(var r=t,i=e,a=n.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=n.gravity==null?.1:n.gravity,h=0;h<r.length;h++){var c=r[h];c.p||(c.p=Mu(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),c.pp=hs(c.p),c.edges=null}var f=n.friction==null?.6:n.friction,p=f,v,m;return{warmUp:function(){p=f*.8},setFixed:function(g){r[g].fixed=!0},setUnfixed:function(g){r[g].fixed=!1},beforeStep:function(g){v=g},afterStep:function(g){m=g},step:function(g){v&&v(r,i);for(var y=[],x=r.length,A=0;A<i.length;A++){var b=i[A];if(!b.ignoreForceLayout){var S=b.n1,w=b.n2;$l(y,w.p,S.p);var _=u_(y)-b.d,T=w.w/(S.w+w.w);isNaN(T)&&(T=0),Ih(y,y),!S.fixed&&ac(S.p,S.p,y,T*_*p),!w.fixed&&ac(w.p,w.p,y,-(1-T)*_*p)}}for(var A=0;A<x;A++){var C=r[A];C.fixed||($l(y,l,C.p),ac(C.p,C.p,y,u*p))}for(var A=0;A<x;A++)for(var S=r[A],E=A+1;E<x;E++){var w=r[E];$l(y,w.p,S.p);var _=u_(y);_===0&&(qfe(y,Math.random()-.5,Math.random()-.5),_=1);var k=(S.rep+w.rep)/_/_;!S.fixed&&ac(S.pp,S.pp,y,k),!w.fixed&&ac(w.pp,w.pp,y,-k)}for(var I=[],A=0;A<x;A++){var C=r[A];C.fixed||($l(I,C.p,C.pp),ac(C.p,C.p,I,p),$n(C.pp,C.p))}p=p*.992;var j=p<.01;m&&m(r,i,j),g&&g(j)}}}function S_e(t){t.eachSeriesByType("graph",function(e){var n=e.coordinateSystem;if(!(n&&n.type!=="view"))if(e.get("layout")==="force"){var r=e.preservedPoints||{},i=e.getGraph(),a=i.data,s=i.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(A){var b=a.getId(A);a.setItemLayout(A,r[b]||[NaN,NaN])}):!l||l==="none"?_6(e):l==="circular"&&aE(e,"value");var u=a.getDataExtent("value"),h=s.getDataExtent("value"),c=o.get("repulsion"),f=o.get("edgeLength"),p=ee(c)?c:[c,c],v=ee(f)?f:[f,f];v=[v[1],v[0]];var m=a.mapArray("value",function(A,b){var S=a.getItemLayout(b),w=vt(A,u,p);return isNaN(w)&&(w=(p[0]+p[1])/2),{w,rep:w,fixed:a.getItemModel(b).get("fixed"),p:!S||isNaN(S[0])||isNaN(S[1])?null:S}}),g=s.mapArray("value",function(A,b){var S=i.getEdgeByIndex(b),w=vt(A,h,v);isNaN(w)&&(w=(v[0]+v[1])/2);var _=S.getModel(),T=Ca(S.getModel().get(["lineStyle","curveness"]),-rE(S,e,b,!0),0);return{n1:m[S.node1.dataIndex],n2:m[S.node2.dataIndex],d:w,curveness:T,ignoreForceLayout:_.get("ignoreForceLayout")}}),y=n.getBoundingRect(),x=w_e(m,g,{rect:y,gravity:o.get("gravity"),friction:o.get("friction")});x.beforeStep(function(A,b){for(var S=0,w=A.length;S<w;S++)A[S].fixed&&$n(A[S].p,i.getNodeByIndex(S).getLayout())}),x.afterStep(function(A,b,S){for(var w=0,_=A.length;w<_;w++)A[w].fixed||i.getNodeByIndex(w).setLayout(A[w].p),r[a.getId(w)]=A[w].p;for(var w=0,_=b.length;w<_;w++){var T=b[w],C=i.getEdgeByIndex(w),E=T.n1.p,k=T.n2.p,I=C.getLayout();I=I?I.slice():[],I[0]=I[0]||[],I[1]=I[1]||[],$n(I[0],E),$n(I[1],k),+T.curveness&&(I[2]=[(E[0]+k[0])/2-(E[1]-k[1])*T.curveness,(E[1]+k[1])/2-(k[0]-E[0])*T.curveness]),C.setLayout(I)}}),e.forceLayout=x,e.preservedPoints=r,x.step()}else e.forceLayout=null})}function __e(t,e,n){var r=J(t.getBoxLayoutParams(),{aspect:n});return cn(r,{width:e.getWidth(),height:e.getHeight()})}function T_e(t,e){var n=[];return t.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||i==="view"){var a=r.getData(),s=a.mapArray(function(g){var y=a.getItemModel(g);return[+y.get("x"),+y.get("y")]}),o=[],l=[];ox(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),h=__e(r,e,u);isNaN(u)&&(o=[h.x,h.y],l=[h.x+h.width,h.y+h.height]);var c=l[0]-o[0],f=l[1]-o[1],p=h.width,v=h.height,m=r.coordinateSystem=new tv;m.zoomLimit=r.get("scaleLimit"),m.setBoundingRect(o[0],o[1],c,f),m.setViewRect(h.x,h.y,p,v),m.setCenter(r.get("center"),e),m.setZoom(r.get("zoom")),n.push(m)}}),n}var az=dn.prototype,uw=Bp.prototype,C6=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(C6);function cw(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var C_e=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-line",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new C6},e.prototype.buildPath=function(n,r){cw(r)?az.buildPath.call(this,n,r):uw.buildPath.call(this,n,r)},e.prototype.pointAt=function(n){return cw(this.shape)?az.pointAt.call(this,n):uw.pointAt.call(this,n)},e.prototype.tangentAt=function(n){var r=this.shape,i=cw(r)?[r.x2-r.x1,r.y2-r.y1]:uw.tangentAt.call(this,n);return Ih(i,i)},e}(Ve),hw=["fromSymbol","toSymbol"];function sz(t){return"_"+t+"Type"}function oz(t,e,n){var r=e.getItemVisual(n,t);if(!r||r==="none")return r;var i=e.getItemVisual(n,t+"Size"),a=e.getItemVisual(n,t+"Rotate"),s=e.getItemVisual(n,t+"Offset"),o=e.getItemVisual(n,t+"KeepAspect"),l=Bh(i),u=Nu(s||0,l);return r+l+u+(a||"")+(o||"")}function lz(t,e,n){var r=e.getItemVisual(n,t);if(!(!r||r==="none")){var i=e.getItemVisual(n,t+"Size"),a=e.getItemVisual(n,t+"Rotate"),s=e.getItemVisual(n,t+"Offset"),o=e.getItemVisual(n,t+"KeepAspect"),l=Bh(i),u=Nu(s||0,l),h=rn(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return h.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,h.name=t,h}}function I_e(t){var e=new C_e({name:"line",subPixelOptimize:!0});return w1(e.shape,t),e}function w1(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var sE=function(t){Y(e,t);function e(n,r,i){var a=t.call(this)||this;return a._createLine(n,r,i),a}return e.prototype._createLine=function(n,r,i){var a=n.hostModel,s=n.getItemLayout(r),o=I_e(s);o.shape.percent=0,Nt(o,{shape:{percent:1}},a,r),this.add(o),M(hw,function(l){var u=lz(l,n,r);this.add(u),this[sz(l)]=oz(l,n,r)},this),this._updateCommonStl(n,r,i)},e.prototype.updateData=function(n,r,i){var a=n.hostModel,s=this.childOfName("line"),o=n.getItemLayout(r),l={shape:{}};w1(l.shape,o),it(s,l,a,r),M(hw,function(u){var h=oz(u,n,r),c=sz(u);if(this[c]!==h){this.remove(this.childOfName(u));var f=lz(u,n,r);this.add(f)}this[c]=h},this),this._updateCommonStl(n,r,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(n,r,i){var a=n.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,h=i&&i.labelStatesModels,c=i&&i.emphasisDisabled,f=i&&i.focus,p=i&&i.blurScope;if(!i||n.hasItemOption){var v=n.getItemModel(r),m=v.getModel("emphasis");o=m.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),c=m.get("disabled"),f=m.get("focus"),p=m.get("blurScope"),h=mn(v)}var g=n.getItemVisual(r,"style"),y=g.stroke;s.useStyle(g),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,M(hw,function(w){var _=this.childOfName(w);if(_){_.setColor(y),_.style.opacity=g.opacity;for(var T=0;T<tr.length;T++){var C=tr[T],E=s.getState(C);if(E){var k=E.style||{},I=_.ensureState(C),j=I.style||(I.style={});k.stroke!=null&&(j[_.__isEmptyBrush?"stroke":"fill"]=k.stroke),k.opacity!=null&&(j.opacity=k.opacity)}}_.markRedraw()}},this);var x=a.getRawValue(r);Pn(this,h,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(w,_){return a.getFormattedLabel(w,_,n.dataType)}},inheritColor:y||"#000",defaultOpacity:g.opacity,defaultText:(x==null?n.getName(r):isFinite(x)?$t(x):x)+""});var A=this.getTextContent();if(A){var b=h.normal;A.__align=A.style.align,A.__verticalAlign=A.style.verticalAlign,A.__position=b.get("position")||"middle";var S=b.get("distance");ee(S)||(S=[S,S]),A.__labelDistance=S}this.setTextConfig({position:null,local:!0,inside:!1}),Wt(this,f,p,c)},e.prototype.highlight=function(){Is(this)},e.prototype.downplay=function(){Es(this)},e.prototype.updateLayout=function(n,r){this.setLinePoints(n.getItemLayout(r))},e.prototype.setLinePoints=function(n){var r=this.childOfName("line");w1(r.shape,n),r.dirty()},e.prototype.beforeUpdate=function(){var n=this,r=n.childOfName("fromSymbol"),i=n.childOfName("toSymbol"),a=n.getTextContent();if(!r&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=n.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,h=l.pointAt(0),c=l.pointAt(u),f=$l([],c,h);Ih(f,f);function p(E,k){var I=E.__specifiedRotation;if(I==null){var j=l.tangentAt(k);E.attr("rotation",(k===1?-1:1)*Math.PI/2-Math.atan2(j[1],j[0]))}else E.attr("rotation",I)}if(r&&(r.setPosition(h),p(r,0),r.scaleX=r.scaleY=s*u,r.markRedraw()),i&&(i.setPosition(c),p(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,m=void 0,g=a.__labelDistance,y=g[0]*s,x=g[1]*s,A=u/2,b=l.tangentAt(A),S=[b[1],-b[0]],w=l.pointAt(A);S[1]>0&&(S[0]=-S[0],S[1]=-S[1]);var _=b[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var T=-Math.atan2(b[1],b[0]);c[0]<h[0]&&(T=Math.PI+T),a.rotation=T}var C=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":C=-x,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":C=x,m="top";break;default:C=0,m="middle"}switch(a.__position){case"end":a.x=f[0]*y+c[0],a.y=f[1]*x+c[1],v=f[0]>.8?"left":f[0]<-.8?"right":"center",m=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*y+h[0],a.y=-f[1]*x+h[1],v=f[0]>.8?"right":f[0]<-.8?"left":"center",m=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*_+h[0],a.y=h[1]+C,v=b[0]<0?"right":"left",a.originX=-y*_,a.originY=-C;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=w[0],a.y=w[1]+C,v="center",a.originY=-C;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*_+c[0],a.y=c[1]+C,v=b[0]>=0?"right":"left",a.originX=y*_,a.originY=-C;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||v})}},e}(Ae),oE=function(){function t(e){this.group=new Ae,this._LineCtor=e||sE}return t.prototype.updateData=function(e){var n=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=e,a||i.removeAll();var s=uz(e);e.diff(a).add(function(o){n._doAdd(e,o,s)}).update(function(o,l){n._doUpdate(a,e,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},t.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(n,r){n.updateLayout(e,r)},this)},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=uz(e),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,n){this._progressiveEls=[];function r(o){!o.isGroup&&!E_e(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=n.getItemLayout(i);if(fw(a)){var s=new this._LineCtor(n,i,this._seriesScope);s.traverse(r),this.group.add(s),n.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(e){Xo(this._progressiveEls||this.group,e)},t.prototype._doAdd=function(e,n,r){var i=e.getItemLayout(n);if(fw(i)){var a=new this._LineCtor(e,n,r);e.setItemGraphicEl(n,a),this.group.add(a)}},t.prototype._doUpdate=function(e,n,r,i,a){var s=e.getItemGraphicEl(r);if(!fw(n.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(n,i,a):s=new this._LineCtor(n,i,a),n.setItemGraphicEl(i,s),this.group.add(s)},t}();function E_e(t){return t.animators&&t.animators.length>0}function uz(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:mn(e)}}function cz(t){return isNaN(t[0])||isNaN(t[1])}function fw(t){return t&&!cz(t[0])&&!cz(t[1])}var dw=[],pw=[],vw=[],sc=An,mw=su,hz=Math.abs;function fz(t,e,n){for(var r=t[0],i=t[1],a=t[2],s=1/0,o,l=n*n,u=.1,h=.1;h<=.9;h+=.1){dw[0]=sc(r[0],i[0],a[0],h),dw[1]=sc(r[1],i[1],a[1],h);var c=hz(mw(dw,e)-l);c<s&&(s=c,o=h)}for(var f=0;f<32;f++){var p=o+u;pw[0]=sc(r[0],i[0],a[0],o),pw[1]=sc(r[1],i[1],a[1],o),vw[0]=sc(r[0],i[0],a[0],p),vw[1]=sc(r[1],i[1],a[1],p);var c=mw(pw,e)-l;if(hz(c)<.01)break;var v=mw(vw,e)-l;u/=2,c<0?v>=0?o=o+u:o=o-u:v>=0?o=o-u:o=o+u}return o}function gw(t,e){var n=[],r=Od,i=[[],[],[]],a=[[],[]],s=[];e/=2,t.eachEdge(function(o,l){var u=o.getLayout(),h=o.getVisual("fromSymbol"),c=o.getVisual("toSymbol");u.__original||(u.__original=[hs(u[0]),hs(u[1])],u[2]&&u.__original.push(hs(u[2])));var f=u.__original;if(u[2]!=null){if($n(i[0],f[0]),$n(i[1],f[2]),$n(i[2],f[1]),h&&h!=="none"){var p=Yf(o.node1),v=fz(i,f[0],p*e);r(i[0][0],i[1][0],i[2][0],v,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],v,n),i[0][1]=n[3],i[1][1]=n[4]}if(c&&c!=="none"){var p=Yf(o.node2),v=fz(i,f[1],p*e);r(i[0][0],i[1][0],i[2][0],v,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],v,n),i[1][1]=n[1],i[2][1]=n[2]}$n(u[0],i[0]),$n(u[1],i[2]),$n(u[2],i[1])}else{if($n(a[0],f[0]),$n(a[1],f[1]),$l(s,a[1],a[0]),Ih(s,s),h&&h!=="none"){var p=Yf(o.node1);l_(a[0],a[0],s,p*e)}if(c&&c!=="none"){var p=Yf(o.node2);l_(a[1],a[1],s,-p*e)}$n(u[0],a[0]),$n(u[1],a[1])}})}function dz(t){return t.type==="view"}var k_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){var i=new Xp,a=new oE,s=this.group;this._controller=new ev(r.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(n,r,i){var a=this,s=n.coordinateSystem;this._model=n;var o=this._symbolDraw,l=this._lineDraw,u=this.group;if(dz(s)){var h={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?u.attr(h):it(u,h,n)}gw(n.getGraph(),$f(n));var c=n.getData();o.updateData(c);var f=n.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(n,r,i),clearTimeout(this._layoutTimeout);var p=n.forceLayout,v=n.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,v);var m=n.get("layout");c.graph.eachNode(function(A){var b=A.dataIndex,S=A.getGraphicEl(),w=A.getModel();if(S){S.off("drag").off("dragend");var _=w.get("draggable");_&&S.on("drag",function(C){switch(m){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,v),p.setFixed(b),c.setItemLayout(b,[S.x,S.y]);break;case"circular":c.setItemLayout(b,[S.x,S.y]),A.setLayout({fixed:!0},!0),aE(n,"symbolSize",A,[C.offsetX,C.offsetY]),a.updateLayout(n);break;case"none":default:c.setItemLayout(b,[S.x,S.y]),iE(n.getGraph(),n),a.updateLayout(n);break}}).on("dragend",function(){p&&p.setUnfixed(b)}),S.setDraggable(_,!!w.get("cursor"));var T=w.get(["emphasis","focus"]);T==="adjacency"&&(Se(S).focus=A.getAdjacentDataIndices())}}),c.graph.eachEdge(function(A){var b=A.getGraphicEl(),S=A.getModel().get(["emphasis","focus"]);b&&S==="adjacency"&&(Se(b).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var g=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),y=c.getLayout("cx"),x=c.getLayout("cy");c.graph.eachNode(function(A){T6(A,g,y,x)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(n,r){var i=this;(function a(){n.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(r?i._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(n,r,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;if(s.setPointerChecker(function(u,h,c){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(h,c)&&!Mx(u,i,n)}),!dz(n.coordinateSystem)){s.disable();return}s.enable(n.get("roam")),o.zoomLimit=n.get("scaleLimit"),o.zoom=n.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){XI(o,u.dx,u.dy),i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){ZI(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),gw(n.getGraph(),$f(n)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var n=this._model,r=n.getData(),i=$f(n);r.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(n){gw(n.getGraph(),$f(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(St);function oc(t){return"_EC_"+t}var P_e=function(){function t(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,n){e=e==null?""+n:""+e;var r=this._nodesMap;if(!r[oc(e)]){var i=new Ll(e,n);return i.hostGraph=this,this.nodes.push(i),r[oc(e)]=i,i}},t.prototype.getNodeByIndex=function(e){var n=this.data.getRawIndex(e);return this.nodes[n]},t.prototype.getNodeById=function(e){return this._nodesMap[oc(e)]},t.prototype.addEdge=function(e,n,r){var i=this._nodesMap,a=this._edgesMap;if(nt(e)&&(e=this.nodes[e]),nt(n)&&(n=this.nodes[n]),e instanceof Ll||(e=i[oc(e)]),n instanceof Ll||(n=i[oc(n)]),!(!e||!n)){var s=e.id+"-"+n.id,o=new I6(e,n,r);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),n.inEdges.push(o)),e.edges.push(o),e!==n&&n.edges.push(o),this.edges.push(o),a[s]=o,o}},t.prototype.getEdgeByIndex=function(e){var n=this.edgeData.getRawIndex(e);return this.edges[n]},t.prototype.getEdge=function(e,n){e instanceof Ll&&(e=e.id),n instanceof Ll&&(n=n.id);var r=this._edgesMap;return this._directed?r[e+"-"+n]:r[e+"-"+n]||r[n+"-"+e]},t.prototype.eachNode=function(e,n){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&e.call(n,r[a],a)},t.prototype.eachEdge=function(e,n){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&e.call(n,r[a],a)},t.prototype.breadthFirstTraverse=function(e,n,r,i){if(n instanceof Ll||(n=this._nodesMap[oc(n)]),!!n){for(var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(i,n,null))for(var o=[n];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var h=u[s],c=h.node1===l?h.node2:h.node1;if(!c.__visited){if(e.call(i,c,l))return;o.push(c),c.__visited=!0}}}},t.prototype.update=function(){for(var e=this.data,n=this.edgeData,r=this.nodes,i=this.edges,a=0,s=r.length;a<s;a++)r[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)r[e.getRawIndex(a)].dataIndex=a;n.filterSelf(function(o){var l=i[n.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=n.count();a<s;a++)i[n.getRawIndex(a)].dataIndex=a},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(var i=0;i<r.length;i++){var a=r[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},t}(),Ll=function(){function t(e,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=n??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},t.prototype.getTrajectoryDataIndices=function(){for(var e=pe(),n=pe(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var a=[i.node1],s=[i.node2],o=0;o<a.length;){var l=a[o];o++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(o=0;o<s.length;){var h=s[o];o++,n.set(h.dataIndex,!0);for(var u=0;u<h.outEdges.length;u++)e.set(h.outEdges[u].dataIndex,!0),s.push(h.outEdges[u].node2)}}}return{edge:e.keys(),node:n.keys()}},t}(),I6=function(){function t(e,n,r){this.dataIndex=-1,this.node1=e,this.node2=n,this.dataIndex=r??-1}return t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var e=pe(),n=pe();e.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],a=0;a<r.length;){var s=r[a];a++,n.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)e.set(s.inEdges[o].dataIndex,!0),r.push(s.inEdges[o].node1)}for(a=0;a<i.length;){var l=i[a];a++,n.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)e.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:e.keys(),node:n.keys()}},t}();function E6(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}an(Ll,E6("hostGraph","data"));an(I6,E6("hostGraph","edgeData"));function k6(t,e,n,r,i){for(var a=new P_e(r),s=0;s<t.length;s++)a.addNode(bn(t[s].id,t[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<e.length;s++){var h=e[s],c=h.source,f=h.target;a.addEdge(c,f,u)&&(l.push(h),o.push(bn(un(h.id,null),c+" > "+f)),u++)}var p=n.get("coordinateSystem"),v;if(p==="cartesian2d"||p==="polar")v=Rs(t,n);else{var m=Up.get(p),g=m?m.dimensions||[]:[];ze(g,"value")<0&&g.concat(["value"]);var y=$p(t,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;v=new Jn(y,n),v.initData(t)}var x=new Jn(["value"],n);return x.initData(l,o),i&&i(v,x),c6({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var j_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new Qp(i,i),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},e.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(n){t.prototype.mergeDefaultAndTheme.apply(this,arguments),yu(n,"edgeLabel",["show"])},e.prototype.getInitialData=function(n,r){var i=n.edges||n.links||[],a=n.data||n.nodes||[],s=this;if(a&&i){g_e(this);var o=k6(a,i,this,!0,l);return M(o.edges,function(u){y_e(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,h){u.wrapMethod("getItemModel",function(v){var m=s._categoriesModels,g=v.getShallow("category"),y=m[g];return y&&(y.parentModel=v.parentModel,v.parentModel=y),v});var c=dt.prototype.getModel;function f(v,m){var g=c.call(this,v,m);return g.resolveParentPath=p,g}h.wrapMethod("getItemModel",function(v){return v.resolveParentPath=p,v.getModel=f,v});function p(v){if(v&&(v[0]==="label"||v[1]==="label")){var m=v.slice();return v[0]==="label"?m[0]="edgeLabel":v[1]==="label"&&(m[1]="edgeLabel"),m}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(n,r,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(n,i),o=a.graph.getEdgeByIndex(n),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),h=[];return l!=null&&h.push(l),u!=null&&h.push(u),gn("nameValue",{name:h.join(" > "),value:s.value,noValue:s.value==null})}var c=KG({series:this,dataIndex:n,multipleSeries:r});return c},e.prototype._updateCategoriesData=function(){var n=te(this.option.categories||[],function(i){return i.value!=null?i:J({value:0},i)}),r=new Jn(["value"],this);r.initData(n),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(kt),M_e={type:"graphRoam",event:"graphRoam",update:"none"};function D_e(t){t.registerChartView(k_e),t.registerSeriesModel(j_e),t.registerProcessor(f_e),t.registerVisual(d_e),t.registerVisual(p_e),t.registerLayout(x_e),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,b_e),t.registerLayout(S_e),t.registerCoordinateSystem("graphView",{dimensions:tv.dimensions,create:T_e}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Jt),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Jt),t.registerAction(M_e,function(e,n,r){n.eachComponent({mainType:"series",query:e},function(i){var a=i.coordinateSystem,s=KI(a,e,void 0,r);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var L_e=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),N_e=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new L_e},e.prototype.buildPath=function(n,r){var i=Math.cos,a=Math.sin,s=r.r,o=r.width,l=r.angle,u=r.x-i(l)*o*(o>=s/3?1:2),h=r.y-a(l)*o*(o>=s/3?1:2);l=r.angle-Math.PI/2,n.moveTo(u,h),n.lineTo(r.x+i(l)*o,r.y+a(l)*o),n.lineTo(r.x+i(r.angle)*s,r.y+a(r.angle)*s),n.lineTo(r.x-i(l)*o,r.y-a(l)*o),n.lineTo(u,h)},e}(Ve);function z_e(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),a=Math.min(r,i),s=se(n[0],e.getWidth()),o=se(n[1],e.getHeight()),l=se(t.get("radius"),a/2);return{cx:s,cy:o,r:l}}function km(t,e){var n=t==null?"":t+"";return e&&(ue(e)?n=e.replace("{value}",n):me(e)&&(n=e(t))),n}var R_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){this.group.removeAll();var a=n.get(["axisLine","lineStyle","color"]),s=z_e(n,i);this._renderMain(n,r,i,a,s),this._data=n.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(n,r,i,a,s){var o=this.group,l=n.get("clockwise"),u=-n.get("startAngle")/180*Math.PI,h=-n.get("endAngle")/180*Math.PI,c=n.getModel("axisLine"),f=c.get("roundCap"),p=f?Vy:nr,v=c.get("show"),m=c.getModel("lineStyle"),g=m.get("width"),y=[u,h];KC(y,!l),u=y[0],h=y[1];for(var x=h-u,A=u,b=[],S=0;v&&S<a.length;S++){var w=Math.min(Math.max(a[S][0],0),1);h=u+x*w;var _=new p({shape:{startAngle:A,endAngle:h,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-g,r:s.r},silent:!0});_.setStyle({fill:a[S][1]}),_.setStyle(m.getLineStyle(["color","width"])),b.push(_),A=h}b.reverse(),M(b,function(C){return o.add(C)});var T=function(C){if(C<=0)return a[0][1];var E;for(E=0;E<a.length;E++)if(a[E][0]>=C&&(E===0?0:a[E-1][0])<C)return a[E][1];return a[E-1][1]};this._renderTicks(n,r,i,T,s,u,h,l,g),this._renderTitleAndDetail(n,r,i,T,s),this._renderAnchor(n,s),this._renderPointer(n,r,i,T,s,u,h,l,g)},e.prototype._renderTicks=function(n,r,i,a,s,o,l,u,h){for(var c=this.group,f=s.cx,p=s.cy,v=s.r,m=+n.get("min"),g=+n.get("max"),y=n.getModel("splitLine"),x=n.getModel("axisTick"),A=n.getModel("axisLabel"),b=n.get("splitNumber"),S=x.get("splitNumber"),w=se(y.get("length"),v),_=se(x.get("length"),v),T=o,C=(l-o)/b,E=C/S,k=y.getModel("lineStyle").getLineStyle(),I=x.getModel("lineStyle").getLineStyle(),j=y.get("distance"),P,D,L=0;L<=b;L++){if(P=Math.cos(T),D=Math.sin(T),y.get("show")){var F=j?j+h:h,V=new dn({shape:{x1:P*(v-F)+f,y1:D*(v-F)+p,x2:P*(v-w-F)+f,y2:D*(v-w-F)+p},style:k,silent:!0});k.stroke==="auto"&&V.setStyle({stroke:a(L/b)}),c.add(V)}if(A.get("show")){var F=A.get("distance")+j,U=km($t(L/b*(g-m)+m),A.get("formatter")),z=a(L/b),H=P*(v-w-F)+f,G=D*(v-w-F)+p,N=A.get("rotate"),W=0;N==="radial"?(W=-T+2*Math.PI,W>Math.PI/2&&(W+=Math.PI)):N==="tangential"?W=-T-Math.PI/2:nt(N)&&(W=N*Math.PI/180),W===0?c.add(new et({style:Et(A,{text:U,x:H,y:G,verticalAlign:D<-.8?"top":D>.8?"bottom":"middle",align:P<-.4?"left":P>.4?"right":"center"},{inheritColor:z}),silent:!0})):c.add(new et({style:Et(A,{text:U,x:H,y:G,verticalAlign:"middle",align:"center"},{inheritColor:z}),silent:!0,originX:H,originY:G,rotation:W}))}if(x.get("show")&&L!==b){var F=x.get("distance");F=F?F+h:h;for(var q=0;q<=S;q++){P=Math.cos(T),D=Math.sin(T);var $=new dn({shape:{x1:P*(v-F)+f,y1:D*(v-F)+p,x2:P*(v-_-F)+f,y2:D*(v-_-F)+p},silent:!0,style:I});I.stroke==="auto"&&$.setStyle({stroke:a((L+q/S)/b)}),c.add($),T+=E}T-=E}else T+=C}},e.prototype._renderPointer=function(n,r,i,a,s,o,l,u,h){var c=this.group,f=this._data,p=this._progressEls,v=[],m=n.get(["pointer","show"]),g=n.getModel("progress"),y=g.get("show"),x=n.getData(),A=x.mapDimension("value"),b=+n.get("min"),S=+n.get("max"),w=[b,S],_=[o,l];function T(E,k){var I=x.getItemModel(E),j=I.getModel("pointer"),P=se(j.get("width"),s.r),D=se(j.get("length"),s.r),L=n.get(["pointer","icon"]),F=j.get("offsetCenter"),V=se(F[0],s.r),U=se(F[1],s.r),z=j.get("keepAspect"),H;return L?H=rn(L,V-P/2,U-D,P,D,null,z):H=new N_e({shape:{angle:-Math.PI/2,width:P,r:D,x:V,y:U}}),H.rotation=-(k+Math.PI/2),H.x=s.cx,H.y=s.cy,H}function C(E,k){var I=g.get("roundCap"),j=I?Vy:nr,P=g.get("overlap"),D=P?g.get("width"):h/x.count(),L=P?s.r-D:s.r-(E+1)*D,F=P?s.r:s.r-E*D,V=new j({shape:{startAngle:o,endAngle:k,cx:s.cx,cy:s.cy,clockwise:u,r0:L,r:F}});return P&&(V.z2=S-x.get(A,E)%S),V}(y||m)&&(x.diff(f).add(function(E){var k=x.get(A,E);if(m){var I=T(E,o);Nt(I,{rotation:-((isNaN(+k)?_[0]:vt(k,w,_,!0))+Math.PI/2)},n),c.add(I),x.setItemGraphicEl(E,I)}if(y){var j=C(E,o),P=g.get("clip");Nt(j,{shape:{endAngle:vt(k,w,_,P)}},n),c.add(j),L_(n.seriesIndex,x.dataType,E,j),v[E]=j}}).update(function(E,k){var I=x.get(A,E);if(m){var j=f.getItemGraphicEl(k),P=j?j.rotation:o,D=T(E,P);D.rotation=P,it(D,{rotation:-((isNaN(+I)?_[0]:vt(I,w,_,!0))+Math.PI/2)},n),c.add(D),x.setItemGraphicEl(E,D)}if(y){var L=p[k],F=L?L.shape.endAngle:o,V=C(E,F),U=g.get("clip");it(V,{shape:{endAngle:vt(I,w,_,U)}},n),c.add(V),L_(n.seriesIndex,x.dataType,E,V),v[E]=V}}).execute(),x.each(function(E){var k=x.getItemModel(E),I=k.getModel("emphasis"),j=I.get("focus"),P=I.get("blurScope"),D=I.get("disabled");if(m){var L=x.getItemGraphicEl(E),F=x.getItemVisual(E,"style"),V=F.fill;if(L instanceof Sn){var U=L.style;L.useStyle(J({image:U.image,x:U.x,y:U.y,width:U.width,height:U.height},F))}else L.useStyle(F),L.type!=="pointer"&&L.setColor(V);L.setStyle(k.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",a(vt(x.get(A,E),w,[0,1],!0))),L.z2EmphasisLift=0,kn(L,k),Wt(L,j,P,D)}if(y){var z=v[E];z.useStyle(x.getItemVisual(E,"style")),z.setStyle(k.getModel(["progress","itemStyle"]).getItemStyle()),z.z2EmphasisLift=0,kn(z,k),Wt(z,j,P,D)}}),this._progressEls=v)},e.prototype._renderAnchor=function(n,r){var i=n.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),h=rn(o,r.cx-s/2+se(l[0],r.r),r.cy-s/2+se(l[1],r.r),s,s,null,u);h.z2=i.get("showAbove")?1:0,h.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(h)}},e.prototype._renderTitleAndDetail=function(n,r,i,a,s){var o=this,l=n.getData(),u=l.mapDimension("value"),h=+n.get("min"),c=+n.get("max"),f=new Ae,p=[],v=[],m=n.isAnimationEnabled(),g=n.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){p[y]=new et({silent:!0}),v[y]=new et({silent:!0})}).update(function(y,x){p[y]=o._titleEls[x],v[y]=o._detailEls[x]}).execute(),l.each(function(y){var x=l.getItemModel(y),A=l.get(u,y),b=new Ae,S=a(vt(A,[h,c],[0,1],!0)),w=x.getModel("title");if(w.get("show")){var _=w.get("offsetCenter"),T=s.cx+se(_[0],s.r),C=s.cy+se(_[1],s.r),E=p[y];E.attr({z2:g?0:2,style:Et(w,{x:T,y:C,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:S})}),b.add(E)}var k=x.getModel("detail");if(k.get("show")){var I=k.get("offsetCenter"),j=s.cx+se(I[0],s.r),P=s.cy+se(I[1],s.r),D=se(k.get("width"),s.r),L=se(k.get("height"),s.r),F=n.get(["progress","show"])?l.getItemVisual(y,"style").fill:S,E=v[y],V=k.get("formatter");E.attr({z2:g?0:2,style:Et(k,{x:j,y:P,text:km(A,V),width:isNaN(D)?null:D,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:F})}),nG(E,{normal:k},A,function(z){return km(z,V)}),m&&rG(E,y,l,n,{getFormattedLabel:function(z,H,G,N,W,q){return km(q?q.interpolatedValue:A,V)}}),b.add(E)}f.add(b)}),this.group.add(f),this._titleEls=p,this._detailEls=v},e.type="gauge",e}(St),O_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return e.prototype.getInitialData=function(n,r){return Hh(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(kt);function F_e(t){t.registerChartView(R_e),t.registerSeriesModel(O_e)}var B_e=["itemStyle","opacity"],V_e=function(t){Y(e,t);function e(n,r){var i=t.call(this)||this,a=i,s=new or,o=new et;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(n,r,!0),i}return e.prototype.updateData=function(n,r,i){var a=this,s=n.hostModel,o=n.getItemModel(r),l=n.getItemLayout(r),u=o.getModel("emphasis"),h=o.get(B_e);h=h??1,i||Gi(a),a.useStyle(n.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Nt(a,{style:{opacity:h}},s,r)):it(a,{style:{opacity:h},shape:{points:l.points}},s,r),kn(a,o),this._updateLabel(n,r),Wt(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(n,r){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=n.hostModel,l=n.getItemModel(r),u=n.getItemLayout(r),h=u.label,c=n.getItemVisual(r,"style"),f=c.fill;Pn(s,mn(l),{labelFetcher:n.hostModel,labelDataIndex:r,defaultOpacity:c.opacity,defaultText:n.getName(r)},{normal:{align:h.textAlign,verticalAlign:h.verticalAlign}}),i.setTextConfig({local:!0,inside:!!h.inside,insideStroke:f,outsideFill:f});var p=h.linePoints;a.setShape({points:p}),i.textGuideLineConfig={anchor:p?new je(p[0][0],p[0][1]):null},it(s,{style:{x:h.x,y:h.y}},o,r),s.attr({rotation:h.rotation,originX:h.x,originY:h.y,z2:10}),OI(i,FI(l),{stroke:f})},e}(rr),H_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return e.prototype.render=function(n,r,i){var a=n.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new V_e(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var h=s.getItemGraphicEl(u);h.updateData(a,l),o.add(h),a.setItemGraphicEl(l,h)}).remove(function(l){var u=s.getItemGraphicEl(l);Wd(u,n,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(St),G_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qp(fe(this.getData,this),fe(this.getRawData,this)),this._defaultLabelLine(n)},e.prototype.getInitialData=function(n,r){return Hh(this,{coordDimensions:["value"],encodeDefaulter:Ee(mI,this)})},e.prototype._defaultLabelLine=function(n){yu(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},e.prototype.getDataParams=function(n){var r=this.getData(),i=t.prototype.getDataParams.call(this,n),a=r.mapDimension("value"),s=r.getSum(a);return i.percent=s?+(r.get(a,n)/s*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(kt);function U_e(t,e){return cn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function W_e(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,function(l){return l}),i=[],a=e==="ascending",s=0,o=t.count();s<o;s++)i[s]=s;return me(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?r[l]-r[u]:r[u]-r[l]}),i}function $_e(t){var e=t.hostModel,n=e.get("orient");t.each(function(r){var i=t.getItemModel(r),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=t.getItemLayout(r),u=l.points,h=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",c,f,p,v;if(h)s==="insideLeft"?(f=(u[0][0]+u[3][0])/2+5,p=(u[0][1]+u[3][1])/2,c="left"):s==="insideRight"?(f=(u[1][0]+u[2][0])/2-5,p=(u[1][1]+u[2][1])/2,c="right"):(f=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,p=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,c="center"),v=[[f,p],[f,p]];else{var m=void 0,g=void 0,y=void 0,x=void 0,A=o.get("length");s==="left"?(m=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,y=m-A,f=y-5,c="right"):s==="right"?(m=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,y=m+A,f=y+5,c="left"):s==="top"?(m=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,x=g-A,p=x-5,c="center"):s==="bottom"?(m=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,x=g+A,p=x+5,c="center"):s==="rightTop"?(m=n==="horizontal"?u[3][0]:u[1][0],g=n==="horizontal"?u[3][1]:u[1][1],n==="horizontal"?(x=g-A,p=x-5,c="center"):(y=m+A,f=y+5,c="top")):s==="rightBottom"?(m=u[2][0],g=u[2][1],n==="horizontal"?(x=g+A,p=x+5,c="center"):(y=m+A,f=y+5,c="bottom")):s==="leftTop"?(m=u[0][0],g=n==="horizontal"?u[0][1]:u[1][1],n==="horizontal"?(x=g-A,p=x-5,c="center"):(y=m-A,f=y-5,c="right")):s==="leftBottom"?(m=n==="horizontal"?u[1][0]:u[3][0],g=n==="horizontal"?u[1][1]:u[2][1],n==="horizontal"?(x=g+A,p=x+5,c="center"):(y=m-A,f=y-5,c="right")):(m=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,n==="horizontal"?(x=g+A,p=x+5,c="center"):(y=m+A,f=y+5,c="left")),n==="horizontal"?(y=m,f=y):(x=g,p=x),v=[[m,g],[y,x]]}l.label={linePoints:v,x:f,y:p,verticalAlign:"middle",textAlign:c,inside:h}})}function Y_e(t,e){t.eachSeriesByType("funnel",function(n){var r=n.getData(),i=r.mapDimension("value"),a=n.get("sort"),s=U_e(n,e),o=n.get("orient"),l=s.width,u=s.height,h=W_e(r,a),c=s.x,f=s.y,p=o==="horizontal"?[se(n.get("minSize"),u),se(n.get("maxSize"),u)]:[se(n.get("minSize"),l),se(n.get("maxSize"),l)],v=r.getDataExtent(i),m=n.get("min"),g=n.get("max");m==null&&(m=Math.min(v[0],0)),g==null&&(g=v[1]);var y=n.get("funnelAlign"),x=n.get("gap"),A=o==="horizontal"?l:u,b=(A-x*(r.count()-1))/r.count(),S=function(P,D){if(o==="horizontal"){var L=r.get(i,P)||0,F=vt(L,[m,g],p,!0),V=void 0;switch(y){case"top":V=f;break;case"center":V=f+(u-F)/2;break;case"bottom":V=f+(u-F);break}return[[D,V],[D,V+F]]}var U=r.get(i,P)||0,z=vt(U,[m,g],p,!0),H;switch(y){case"left":H=c;break;case"center":H=c+(l-z)/2;break;case"right":H=c+l-z;break}return[[H,D],[H+z,D]]};a==="ascending"&&(b=-b,x=-x,o==="horizontal"?c+=l:f+=u,h=h.reverse());for(var w=0;w<h.length;w++){var _=h[w],T=h[w+1],C=r.getItemModel(_);if(o==="horizontal"){var E=C.get(["itemStyle","width"]);E==null?E=b:(E=se(E,l),a==="ascending"&&(E=-E));var k=S(_,c),I=S(T,c+E);c+=E+x,r.setItemLayout(_,{points:k.concat(I.slice().reverse())})}else{var j=C.get(["itemStyle","height"]);j==null?j=b:(j=se(j,u),a==="ascending"&&(j=-j));var k=S(_,f),I=S(T,f+j);f+=j+x,r.setItemLayout(_,{points:k.concat(I.slice().reverse())})}}$_e(r)})}function q_e(t){t.registerChartView(H_e),t.registerSeriesModel(G_e),t.registerLayout(Y_e),t.registerProcessor(Kp("funnel"))}var X_e=.3,Z_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new Ae,n._initialized=!1,n}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(n,r,i,a){this._progressiveEls=null;var s=this._dataGroup,o=n.getData(),l=this._data,u=n.coordinateSystem,h=u.dimensions,c=vz(n);o.diff(l).add(f).update(p).remove(v).execute();function f(g){var y=pz(o,s,g,h,u);yw(y,o,g,c)}function p(g,y){var x=l.getItemGraphicEl(y),A=P6(o,g,h,u);o.setItemGraphicEl(g,x),it(x,{shape:{points:A}},n,g),Gi(x),yw(x,o,g,c)}function v(g){var y=l.getItemGraphicEl(g);s.remove(y)}if(!this._initialized){this._initialized=!0;var m=J_e(u,n,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(m)}this._data=o},e.prototype.incrementalPrepareRender=function(n,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(n,r,i){for(var a=r.getData(),s=r.coordinateSystem,o=s.dimensions,l=vz(r),u=this._progressiveEls=[],h=n.start;h<n.end;h++){var c=pz(a,this._dataGroup,h,o,s);c.incremental=!0,yw(c,a,h,l),u.push(c)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(St);function J_e(t,e,n){var r=t.model,i=t.getRect(),a=new Ke({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=r.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Nt(a,{shape:{width:i.width,height:i.height}},e,n),a}function P6(t,e,n,r){for(var i=[],a=0;a<n.length;a++){var s=n[a],o=t.get(t.mapDimension(s),e);K_e(o,r.getAxis(s).type)||i.push(r.dataToPoint(o,s))}return i}function pz(t,e,n,r,i){var a=P6(t,n,r,i),s=new or({shape:{points:a},z2:10});return e.add(s),t.setItemGraphicEl(n,s),s}function vz(t){var e=t.get("smooth",!0);return e===!0&&(e=X_e),e=Cs(e),Rd(e)&&(e=0),{smooth:e}}function yw(t,e,n,r){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var i=e.getItemModel(n),a=i.getModel("emphasis");kn(t,i,"lineStyle"),Wt(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function K_e(t,e){return e==="category"?t==null:t==null||isNaN(t)}var Q_e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return e.prototype.getInitialData=function(n,r){return Rs(null,this,{useEncodeDefaulter:fe(e1e,null,this)})},e.prototype.getRawIndicesByActiveState=function(n){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(s,o){n===s&&a.push(i.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(kt);function e1e(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return M(e.dimensions,function(r){var i=t1e(r);n[r]=i}),n}}function t1e(t){return+t.replace("dim","")}var n1e=["lineStyle","opacity"],r1e={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(i,a){n.eachActiveState(a,function(s,o){var l=r[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(n1e,!0);u!=null&&(l=u)}var h=a.ensureUniqueItemVisual(o,"style");h.opacity=l},i.start,i.end)}}}};function i1e(t){a1e(t),s1e(t)}function a1e(t){if(!t.parallel){var e=!1;M(t.series,function(n){n&&n.type==="parallel"&&(e=!0)}),e&&(t.parallel=[{}])}}function s1e(t){var e=bt(t.parallelAxis);M(e,function(n){if(ye(n)){var r=n.parallelIndex||0,i=bt(t.parallel)[r];i&&i.parallelAxisDefault&&Me(n,i.parallelAxisDefault,!1)}})}var o1e=5,l1e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){this._model=n,this._api=i,this._handlers||(this._handlers={},M(u1e,function(a,s){i.getZr().on(s,this._handlers[s]=fe(a,this))},this)),Fh(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(n,r){Xd(this,"_throttledDispatchExpand"),M(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},e.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(J({type:"parallelAxisExpand"},n))},e.type="parallel",e}(Ot),u1e={mousedown:function(t){xw(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(xw(this,"click")&&e){var n=[t.offsetX,t.offsetY],r=Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2);if(r>o1e)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!xw(this,"mousemove"))){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function xw(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var c1e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(n){var r=this.option;n&&Me(r,n,!0),this._initDimensions()},e.prototype.contains=function(n,r){var i=n.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(n){M(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){n.hasOwnProperty(r)&&(this.option[r]=n[r])},this)},e.prototype._initDimensions=function(){var n=this.dimensions=[],r=this.parallelAxisIndex=[],i=gt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);M(i,function(a){n.push("dim"+a.get("dim")),r.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(qe),h1e=function(t){Y(e,t);function e(n,r,i,a,s){var o=t.call(this,n,r,i)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(Yi);function Fu(t,e,n,r,i,a){t=t||0;var s=n[1]-n[0];if(i!=null&&(i=lc(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),r==="all"){var o=Math.abs(e[1]-e[0]);o=lc(o,[0,s]),i=a=lc(o,[i,a]),r=0}e[0]=lc(e[0],n),e[1]=lc(e[1],n);var l=Aw(e,r);e[r]+=t;var u=i||0,h=n.slice();l.sign<0?h[0]+=u:h[1]-=u,e[r]=lc(e[r],h);var c;return c=Aw(e,r),i!=null&&(c.sign!==l.sign||c.span<i)&&(e[1-r]=e[r]+l.sign*i),c=Aw(e,r),a!=null&&c.span>a&&(e[1-r]=e[r]+c.sign*a),e}function Aw(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function lc(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var bw=M,j6=Math.min,M6=Math.max,mz=Math.floor,f1e=Math.ceil,gz=$t,d1e=Math.PI,p1e=function(){function t(e,n,r){this.type="parallel",this._axesMap=pe(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,n,r)}return t.prototype._init=function(e,n,r){var i=e.dimensions,a=e.parallelAxisIndex;bw(i,function(s,o){var l=a[o],u=n.getComponent("parallelAxis",l),h=this._axesMap.set(s,new h1e(s,Px(u),[0,0],u.get("type"),l)),c=h.type==="category";h.onBand=c&&u.get("boundaryGap"),h.inverse=u.get("inverse"),u.axis=h,h.model=u,h.coordinateSystem=u.coordinateSystem=this},this)},t.prototype.update=function(e,n){this._updateAxesFromSeries(this._model,e)},t.prototype.containPoint=function(e){var n=this._makeLayoutInfo(),r=n.axisBase,i=n.layoutBase,a=n.pixelDimIndex,s=e[1-a],o=e[a];return s>=r&&s<=r+n.axisLength&&o>=i&&o<=i+n.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(e,n){n.eachSeries(function(r){if(e.contains(r,n)){var i=r.getData();bw(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),uh(s.scale,s.model)},this)}},this)},t.prototype.resize=function(e,n){this._rect=cn(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var e=this._model,n=this._rect,r=["x","y"],i=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=n[i[s]],l=[0,o],u=this.dimensions.length,h=Pm(e.get("axisExpandWidth"),l),c=Pm(e.get("axisExpandCount")||0,[0,u]),f=e.get("axisExpandable")&&u>3&&u>c&&c>1&&h>0&&o>0,p=e.get("axisExpandWindow"),v;if(p)v=Pm(p[1]-p[0],l),p[1]=p[0]+v;else{v=Pm(h*(c-1),l);var m=e.get("axisExpandCenter")||mz(u/2);p=[h*m-v/2],p[1]=p[0]+v}var g=(o-v)/(u-c);g<3&&(g=0);var y=[mz(gz(p[0]/h,1))+1,f1e(gz(p[1]/h,1))-1],x=g/h*p[0];return{layout:a,pixelDimIndex:s,layoutBase:n[r[s]],layoutLength:o,axisBase:n[r[1-s]],axisLength:n[i[1-s]],axisExpandable:f,axisExpandWidth:h,axisCollapseWidth:g,axisExpandWindow:p,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:x}},t.prototype._layoutAxes=function(){var e=this._rect,n=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;n.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),bw(r,function(s,o){var l=(i.axisExpandable?m1e:v1e)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},h={horizontal:d1e/2,vertical:0},c=[u[a].x+e.x,u[a].y+e.y],f=h[a],p=Nr();Du(p,p,f),La(p,p,c),this._axesLayout[s]={position:c,rotation:f,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(e){return this._axesMap.get(e)},t.prototype.dataToPoint=function(e,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(e),n)},t.prototype.eachActiveState=function(e,n,r,i){r==null&&(r=0),i==null&&(i=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];M(s,function(g){o.push(e.mapDimension(g)),l.push(a.get(g).model)});for(var u=this.hasAxisBrushed(),h=r;h<i;h++){var c=void 0;if(!u)c="normal";else{c="active";for(var f=e.getValues(o,h),p=0,v=s.length;p<v;p++){var m=l[p].getActiveState(f[p]);if(m==="inactive"){c="inactive";break}}}n(c,h)}},t.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,n=this._axesMap,r=!1,i=0,a=e.length;i<a;i++)n.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},t.prototype.axisCoordToPoint=function(e,n){var r=this._axesLayout[n];return Bi([e,0],r.transform)},t.prototype.getAxisLayout=function(e){return xe(this._axesLayout[e])},t.prototype.getSlidedAxisExpandWindow=function(e){var n=this._makeLayoutInfo(),r=n.pixelDimIndex,i=n.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var o=e[r]-n.layoutBase-n.axisExpandWindow0Pos,l,u="slide",h=n.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),f=c[0]!=null;if(h)f&&h&&o<a*c[0]?(u="jump",l=o-a*c[2]):f&&h&&o>a*(1-c[0])?(u="jump",l=o-a*(1-c[2])):(l=o-a*c[1])>=0&&(l=o-a*(1-c[1]))<=0&&(l=0),l*=n.axisExpandWidth/h,l?Fu(l,i,s,"all"):u="none";else{var p=i[1]-i[0],v=s[1]*o/p;i=[M6(0,v-p/2)],i[1]=j6(s[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:u}},t}();function Pm(t,e){return j6(M6(t,e[0]),e[1])}function v1e(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function m1e(t,e){var n=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,u=!1,h;return t<s[0]?(o=t*a,h=a):t<=s[1]?(o=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],l=r,u=!0):(o=n-(i-1-t)*a,h=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:h}}function g1e(t,e){var n=[];return t.eachComponent("parallel",function(r,i){var a=new p1e(r,t,e);a.name="parallel_"+i,a.resize(r,e),r.coordinateSystem=a,a.model=r,n.push(a)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",tn).models[0];r.coordinateSystem=i.coordinateSystem}}),n}var y1e={create:g1e},S1=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return e.prototype.getAreaSelectStyle=function(){return Au([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(n){var r=this.activeIntervals=xe(n);if(r)for(var i=r.length-1;i>=0;i--)di(r[i])},e.prototype.getActiveState=function(n){var r=this.activeIntervals;if(!r.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=n&&n<=i[1])return"active"}else for(var a=0,s=r.length;a<s;a++)if(r[a][0]<=n&&n<=r[a][1])return"active";return"inactive"},e}(qe);an(S1,Yp);var Su=!0,op=Math.min,fh=Math.max,x1e=Math.pow,A1e=1e4,b1e=6,w1e=6,yz="globalPan",S1e={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_1e={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},xz={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},T1e=0,lE=function(t){Y(e,t);function e(n){var r=t.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new Ae,r._uid="brushController_"+T1e++,M(M1e,function(i,a){this._handlers[a]=fe(i,this)},r),r}return e.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},e.prototype._doEnableBrush=function(n){var r=this._zr;this._enableGlobalPan||vwe(r,yz,this._uid),M(this._handlers,function(i,a){r.on(a,i)}),this._brushType=n.brushType,this._brushOption=Me(xe(xz),n,!0)},e.prototype._doDisableBrush=function(){var n=this._zr;mwe(n,yz,this._uid),M(this._handlers,function(r,i){n.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(n){if(n&&n.length){var r=this._panels={};M(n,function(i){r[i.panelId]=xe(i)})}else this._panels=null;return this},e.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(n){n=te(n,function(f){return Me(xe(xz),f,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new ks(i,n,u,l).add(h).update(h).remove(c).execute(),this;function l(f,p){return(f.id!=null?f.id:r+p)+"-"+f.brushType}function u(f,p){return l(f.__brushOption,p)}function h(f,p){var v=n[f];if(p!=null&&i[p]===o)a[f]=i[p];else{var m=a[f]=p!=null?(i[p].__brushOption=v,i[p]):L6(s,D6(s,v));uE(s,m)}}function c(f){i[f]!==o&&s.group.remove(i[f])}},e.prototype.unmount=function(){return this.enableBrush(!1),_1(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(bi);function D6(t,e){var n=zx[e.brushType].createCover(t,e);return n.__brushOption=e,z6(n,e),t.group.add(n),n}function L6(t,e){var n=cE(e);return n.endCreating&&(n.endCreating(t,e),z6(e,e.__brushOption)),e}function N6(t,e){var n=e.__brushOption;cE(e).updateCoverShape(t,e,n.range,n)}function z6(t,e){var n=e.z;n==null&&(n=A1e),t.traverse(function(r){r.z=n,r.z2=n})}function uE(t,e){cE(e).updateCommon(t,e),N6(t,e)}function cE(t){return zx[t.__brushOption.brushType]}function hE(t,e,n){var r=t._panels;if(!r)return Su;var i,a=t._transform;return M(r,function(s){s.isTargetByCursor(e,n,a)&&(i=s)}),i}function R6(t,e){var n=t._panels;if(!n)return Su;var r=e.__brushOption.panelId;return r!=null?n[r]:Su}function _1(t){var e=t._covers,n=e.length;return M(e,function(r){t.group.remove(r)},t),e.length=0,!!n}function _u(t,e){var n=te(t._covers,function(r){var i=r.__brushOption,a=xe(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function C1e(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],a=n[1]-r[1],s=x1e(i*i+a*a,.5);return s>b1e}function O6(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function F6(t,e,n,r){var i=new Ae;return i.add(new Ke({name:"main",style:fE(n),silent:!0,draggable:!0,cursor:"move",drift:Ee(Az,t,e,i,["n","s","w","e"]),ondragend:Ee(_u,e,{isEnd:!0})})),M(r,function(a){i.add(new Ke({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Ee(Az,t,e,i,a),ondragend:Ee(_u,e,{isEnd:!0})}))}),i}function B6(t,e,n,r){var i=r.brushStyle.lineWidth||0,a=fh(i,w1e),s=n[0][0],o=n[1][0],l=s-i/2,u=o-i/2,h=n[0][1],c=n[1][1],f=h-a+i/2,p=c-a+i/2,v=h-s,m=c-o,g=v+i,y=m+i;Ja(t,e,"main",s,o,v,m),r.transformable&&(Ja(t,e,"w",l,u,a,y),Ja(t,e,"e",f,u,a,y),Ja(t,e,"n",l,u,g,a),Ja(t,e,"s",l,p,g,a),Ja(t,e,"nw",l,u,a,a),Ja(t,e,"ne",f,u,a,a),Ja(t,e,"sw",l,p,a,a),Ja(t,e,"se",f,p,a,a))}function T1(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(fE(n)),i.attr({silent:!r,cursor:r?"move":"default"}),M([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?C1(t,a[0]):E1e(t,a);s&&s.attr({silent:!r,invisible:!r,cursor:r?_1e[o]+"-resize":null})})}function Ja(t,e,n,r,i,a,s){var o=e.childOfName(n);o&&o.setShape(P1e(dE(t,e,[[r,i],[r+a,i+s]])))}function fE(t){return ge({strokeNoScale:!0},t.brushStyle)}function V6(t,e,n,r){var i=[op(t,n),op(e,r)],a=[fh(t,n),fh(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function I1e(t){return hu(t.group)}function C1(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=dx(n[e],I1e(t));return r[i]}function E1e(t,e){var n=[C1(t,e[0]),C1(t,e[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function Az(t,e,n,r,i,a){var s=n.__brushOption,o=t.toRectRange(s.range),l=H6(e,i,a);M(r,function(u){var h=S1e[u];o[h[0]][h[1]]+=l[h[0]]}),s.range=t.fromRectRange(V6(o[0][0],o[1][0],o[0][1],o[1][1])),uE(e,n),_u(e,{isEnd:!1})}function k1e(t,e,n,r){var i=e.__brushOption.range,a=H6(t,n,r);M(i,function(s){s[0]+=a[0],s[1]+=a[1]}),uE(t,e),_u(t,{isEnd:!1})}function H6(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function dE(t,e,n){var r=R6(t,e);return r&&r!==Su?r.clipPath(n,t._transform):xe(n)}function P1e(t){var e=op(t[0][0],t[1][0]),n=op(t[0][1],t[1][1]),r=fh(t[0][0],t[1][0]),i=fh(t[0][1],t[1][1]);return{x:e,y:n,width:r-e,height:i-n}}function j1e(t,e,n){if(!(!t._brushType||D1e(t,e.offsetX,e.offsetY))){var r=t._zr,i=t._covers,a=hE(t,e,n);if(!t._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Su||o.panelId===a.panelId)&&zx[o.brushType].contain(i[s],n[0],n[1]))return}a&&r.setCursorStyle("crosshair")}}function I1(t){var e=t.event;e.preventDefault&&e.preventDefault()}function E1(t,e,n){return t.childOfName("main").contain(e,n)}function G6(t,e,n,r){var i=t._creatingCover,a=t._creatingPanel,s=t._brushOption,o;if(t._track.push(n.slice()),C1e(t)||i){if(a&&!i){s.brushMode==="single"&&_1(t);var l=xe(s);l.brushType=bz(l.brushType,a),l.panelId=a===Su?null:a.panelId,i=t._creatingCover=D6(t,l),t._covers.push(i)}if(i){var u=zx[bz(t._brushType,a)],h=i.__brushOption;h.range=u.getCreatingRange(dE(t,i,t._track)),r&&(L6(t,i),u.updateCommon(t,i)),N6(t,i),o={isEnd:r}}}else r&&s.brushMode==="single"&&s.removeOnClick&&hE(t,e,n)&&_1(t)&&(o={isEnd:r,removeOnClick:!0});return o}function bz(t,e){return t==="auto"?e.defaultBrushType:t}var M1e={mousedown:function(t){if(this._dragging)wz(this,t);else if(!t.target||!t.target.draggable){I1(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=hE(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(j1e(this,t,r),this._dragging){I1(t);var i=G6(this,t,r,!1);i&&_u(this,i)}},mouseup:function(t){wz(this,t)}};function wz(t,e){if(t._dragging){I1(e);var n=e.offsetX,r=e.offsetY,i=t.group.transformCoordToLocal(n,r),a=G6(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&_u(t,a)}}function D1e(t,e,n){var r=t._zr;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var zx={lineX:Sz(0),lineY:Sz(1),rect:{createCover:function(t,e){function n(r){return r}return F6({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=O6(t);return V6(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){B6(t,e,n,r)},updateCommon:T1,contain:E1},polygon:{createCover:function(t,e){var n=new Ae;return n.add(new or({name:"main",style:fE(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new rr({name:"main",draggable:!0,drift:Ee(k1e,t,e),ondragend:Ee(_u,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:dE(t,e,n)})},updateCommon:T1,contain:E1}};function Sz(t){return{createCover:function(e,n){return F6({toRectRange:function(r){var i=[r,[0,100]];return t&&i.reverse(),i},fromRectRange:function(r){return r[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=O6(e),r=op(n[0][t],n[1][t]),i=fh(n[0][t],n[1][t]);return[r,i]},updateCoverShape:function(e,n,r,i){var a,s=R6(e,n);if(s!==Su&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(t);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-t]]}var l=[r,a];t&&l.reverse(),B6(e,n,l,i)},updateCommon:T1,contain:E1}}function U6(t){return t=pE(t),function(e){return Q4(e,t)}}function W6(t,e){return t=pE(t),function(n){var r=e??n,i=r?t.width:t.height,a=r?t.x:t.y;return[a,a+(i||0)]}}function $6(t,e,n){var r=pE(t);return function(i,a){return r.contain(a[0],a[1])&&!Mx(i,e,n)}}function pE(t){return De.create(t)}var L1e=["axisLine","axisTickLabel","axisName"],N1e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){t.prototype.init.apply(this,arguments),(this._brushController=new lE(r.getZr())).on("brush",fe(this._onBrush,this))},e.prototype.render=function(n,r,i,a){if(!z1e(n,r,a)){this.axisModel=n,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Ae,this.group.add(this._axisGroup),!!n.get("show")){var o=O1e(n,r),l=o.coordinateSystem,u=n.getAreaSelectStyle(),h=u.width,c=n.axis.dim,f=l.getAxisLayout(c),p=J({strokeContainThreshold:h},f),v=new Kn(n,p);M(L1e,v.add,v),this._axisGroup.add(v.getGroup()),this._refreshBrushController(p,u,n,o,h,i),Hp(s,this._axisGroup,n)}}},e.prototype._refreshBrushController=function(n,r,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,Math.abs(u)*.1),c=De.create({x:l[0],y:-s/2,width:u,height:s});c.x-=h,c.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:U6(c),isTargetByCursor:$6(c,o,a),getLinearBrushOtherExtent:W6(c,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(R1e(i))},e.prototype._onBrush=function(n){var r=n.areas,i=this.axisModel,a=i.axis,s=te(r,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(Ot);function z1e(t,e,n){return n&&n.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}function R1e(t){var e=t.axis;return te(t.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(n[0],!0),e.dataToCoord(n[1],!0)]}})}function O1e(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var F1e={type:"axisAreaSelect",event:"axisAreaSelected"};function B1e(t){t.registerAction(F1e,function(e,n){n.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,n){n.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var V1e={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Y6(t){t.registerComponentView(l1e),t.registerComponentModel(c1e),t.registerCoordinateSystem("parallel",y1e),t.registerPreprocessor(i1e),t.registerComponentModel(S1),t.registerComponentView(N1e),hh(t,"parallel",S1,V1e),B1e(t)}function H1e(t){Fe(Y6),t.registerChartView(Z_e),t.registerSeriesModel(Q_e),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,r1e)}var G1e=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),U1e=function(t){Y(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new G1e},e.prototype.buildPath=function(n,r){var i=r.extent;n.moveTo(r.x1,r.y1),n.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(n.lineTo(r.x2+i,r.y2),n.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(n.lineTo(r.x2,r.y2+i),n.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),n.closePath()},e.prototype.highlight=function(){Is(this)},e.prototype.downplay=function(){Es(this)},e}(Ve),W1e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return e.prototype.render=function(n,r,i){var a=this,s=n.getGraph(),o=this.group,l=n.layoutInfo,u=l.width,h=l.height,c=n.getData(),f=n.getData("edge"),p=n.get("orient");this._model=n,o.removeAll(),o.x=l.x,o.y=l.y,s.eachEdge(function(v){var m=new U1e,g=Se(m);g.dataIndex=v.dataIndex,g.seriesIndex=n.seriesIndex,g.dataType="edge";var y=v.getModel(),x=y.getModel("lineStyle"),A=x.get("curveness"),b=v.node1.getLayout(),S=v.node1.getModel(),w=S.get("localX"),_=S.get("localY"),T=v.node2.getLayout(),C=v.node2.getModel(),E=C.get("localX"),k=C.get("localY"),I=v.getLayout(),j,P,D,L,F,V,U,z;m.shape.extent=Math.max(1,I.dy),m.shape.orient=p,p==="vertical"?(j=(w!=null?w*u:b.x)+I.sy,P=(_!=null?_*h:b.y)+b.dy,D=(E!=null?E*u:T.x)+I.ty,L=k!=null?k*h:T.y,F=j,V=P*(1-A)+L*A,U=D,z=P*A+L*(1-A)):(j=(w!=null?w*u:b.x)+b.dx,P=(_!=null?_*h:b.y)+I.sy,D=E!=null?E*u:T.x,L=(k!=null?k*h:T.y)+I.ty,F=j*(1-A)+D*A,V=P,U=j*A+D*(1-A),z=L),m.setShape({x1:j,y1:P,x2:D,y2:L,cpx1:F,cpy1:V,cpx2:U,cpy2:z}),m.useStyle(x.getItemStyle()),_z(m.style,p,v);var H=""+y.get("value"),G=mn(y,"edgeLabel");Pn(m,G,{labelFetcher:{getFormattedLabel:function(q,$,Z,X,Q,re){return n.getFormattedLabel(q,$,"edge",X,Ca(Q,G.normal&&G.normal.get("formatter"),H),re)}},labelDataIndex:v.dataIndex,defaultText:H}),m.setTextConfig({position:"inside"});var N=y.getModel("emphasis");kn(m,y,"lineStyle",function(q){var $=q.getItemStyle();return _z($,p,v),$}),o.add(m),f.setItemGraphicEl(v.dataIndex,m);var W=N.get("focus");Wt(m,W==="adjacency"?v.getAdjacentDataIndices():W==="trajectory"?v.getTrajectoryDataIndices():W,N.get("blurScope"),N.get("disabled"))}),s.eachNode(function(v){var m=v.getLayout(),g=v.getModel(),y=g.get("localX"),x=g.get("localY"),A=g.getModel("emphasis"),b=g.get(["itemStyle","borderRadius"])||0,S=new Ke({shape:{x:y!=null?y*u:m.x,y:x!=null?x*h:m.y,width:m.dx,height:m.dy,r:b},style:g.getModel("itemStyle").getItemStyle(),z2:10});Pn(S,mn(g),{labelFetcher:{getFormattedLabel:function(_,T){return n.getFormattedLabel(_,T,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),S.disableLabelAnimation=!0,S.setStyle("fill",v.getVisual("color")),S.setStyle("decal",v.getVisual("style").decal),kn(S,g),o.add(S),c.setItemGraphicEl(v.dataIndex,S),Se(S).dataType="node";var w=A.get("focus");Wt(S,w==="adjacency"?v.getAdjacentDataIndices():w==="trajectory"?v.getTrajectoryDataIndices():w,A.get("blurScope"),A.get("disabled"))}),c.eachItemGraphicEl(function(v,m){var g=c.getItemModel(m);g.get("draggable")&&(v.drift=function(y,x){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=x,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:c.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/h})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&n.isAnimationEnabled()&&o.setClipPath($1e(o.getBoundingRect(),n,function(){o.removeClipPath()})),this._data=n.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(St);function _z(t,e,n){switch(t.fill){case"source":t.fill=n.node1.getVisual("color"),t.decal=n.node1.getVisual("style").decal;break;case"target":t.fill=n.node2.getVisual("color"),t.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),i=n.node2.getVisual("color");ue(r)&&ue(i)&&(t.fill=new Vp(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function $1e(t,e,n){var r=new Ke({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Nt(r,{shape:{width:t.width+20}},e,n),r}var Y1e=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){var i=n.edges||n.links,a=n.data||n.nodes,s=n.levels;this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new dt(s[l],this,r));if(a&&i){var u=k6(a,i,this,!0,h);return u.data}function h(c,f){c.wrapMethod("getItemModel",function(p,v){var m=p.parentModel,g=m.getData().getItemLayout(v);if(g){var y=g.depth,x=m.levelModels[y];x&&(p.parentModel=x)}return p}),f.wrapMethod("getItemModel",function(p,v){var m=p.parentModel,g=m.getGraph().getEdgeByIndex(v),y=g.node1.getLayout();if(y){var x=y.depth,A=m.levelModels[x];A&&(p.parentModel=A)}return p})}},e.prototype.setNodePosition=function(n,r){var i=this.option.data||this.option.nodes,a=i[n];a.localX=r[0],a.localY=r[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(n,r,i){function a(p){return isNaN(p)||p==null}if(i==="edge"){var s=this.getDataParams(n,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return gn("nameValue",{name:u,value:l,noValue:a(l)})}else{var h=this.getGraph().getNodeByIndex(n),c=h.getLayout().value,f=this.getDataParams(n,i).data.name;return gn("nameValue",{name:f!=null?f+"":null,value:c,noValue:a(c)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(n,r){var i=t.prototype.getDataParams.call(this,n,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(n),s=a.getLayout().value;i.value=s}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(kt);function q1e(t,e){t.eachSeriesByType("sankey",function(n){var r=n.get("nodeWidth"),i=n.get("nodeGap"),a=X1e(n,e);n.layoutInfo=a;var s=a.width,o=a.height,l=n.getGraph(),u=l.nodes,h=l.edges;J1e(u);var c=gt(u,function(m){return m.getLayout().value===0}),f=c.length!==0?0:n.get("layoutIterations"),p=n.get("orient"),v=n.get("nodeAlign");Z1e(u,h,r,i,s,o,f,p,v)})}function X1e(t,e){return cn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Z1e(t,e,n,r,i,a,s,o,l){K1e(t,e,n,i,a,o,l),nTe(t,e,a,i,r,s,o),hTe(t,o)}function J1e(t){M(t,function(e){var n=Eo(e.outEdges,Yy),r=Eo(e.inEdges,Yy),i=e.getValue()||0,a=Math.max(n,r,i);e.setLayout({value:a},!0)})}function K1e(t,e,n,r,i,a,s){for(var o=[],l=[],u=[],h=[],c=0,f=0;f<e.length;f++)o[f]=1;for(var f=0;f<t.length;f++)l[f]=t[f].inEdges.length,l[f]===0&&u.push(t[f]);for(var p=-1;u.length;){for(var v=0;v<u.length;v++){var m=u[v],g=m.hostGraph.data.getRawDataItem(m.dataIndex),y=g.depth!=null&&g.depth>=0;y&&g.depth>p&&(p=g.depth),m.setLayout({depth:y?g.depth:c},!0),a==="vertical"?m.setLayout({dy:n},!0):m.setLayout({dx:n},!0);for(var x=0;x<m.outEdges.length;x++){var A=m.outEdges[x],b=e.indexOf(A);o[b]=0;var S=A.node2,w=t.indexOf(S);--l[w]===0&&h.indexOf(S)<0&&h.push(S)}}++c,u=h,h=[]}for(var f=0;f<o.length;f++)if(o[f]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var _=p>c-1?p:c-1;s&&s!=="left"&&Q1e(t,s,a,_);var T=a==="vertical"?(i-n)/_:(r-n)/_;tTe(t,T,a)}function q6(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function Q1e(t,e,n,r){if(e==="right"){for(var i=[],a=t,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var h=l.inEdges[u];i.indexOf(h.node1)<0&&i.push(h.node1)}}a=i,i=[],++s}M(t,function(c){q6(c)||c.setLayout({depth:Math.max(0,r-c.getLayout().skNodeHeight)},!0)})}else e==="justify"&&eTe(t,r)}function eTe(t,e){M(t,function(n){!q6(n)&&!n.outEdges.length&&n.setLayout({depth:e},!0)})}function tTe(t,e,n){M(t,function(r){var i=r.getLayout().depth*e;n==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function nTe(t,e,n,r,i,a,s){var o=rTe(t,s);iTe(o,e,n,r,i,s),ww(o,i,n,r,s);for(var l=1;a>0;a--)l*=.99,aTe(o,l,s),ww(o,i,n,r,s),cTe(o,l,s),ww(o,i,n,r,s)}function rTe(t,e){var n=[],r=e==="vertical"?"y":"x",i=P_(t,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,s){return a-s}),M(i.keys,function(a){n.push(i.buckets.get(a))}),n}function iTe(t,e,n,r,i,a){var s=1/0;M(t,function(o){var l=o.length,u=0;M(o,function(c){u+=c.getLayout().value});var h=a==="vertical"?(r-(l-1)*i)/u:(n-(l-1)*i)/u;h<s&&(s=h)}),M(t,function(o){M(o,function(l,u){var h=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:h},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:h},!0))})}),M(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function ww(t,e,n,r,i){var a=i==="vertical"?"x":"y";M(t,function(s){s.sort(function(m,g){return m.getLayout()[a]-g.getLayout()[a]});for(var o,l,u,h=0,c=s.length,f=i==="vertical"?"dx":"dy",p=0;p<c;p++)l=s[p],u=h-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),h=l.getLayout()[a]+l.getLayout()[f]+e;var v=i==="vertical"?r:n;if(u=h-e-v,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),h=o;for(var p=c-2;p>=0;--p)l=s[p],u=l.getLayout()[a]+l.getLayout()[f]+e-h,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),h=l.getLayout()[a]}})}function aTe(t,e,n){M(t.slice().reverse(),function(r){M(r,function(i){if(i.outEdges.length){var a=Eo(i.outEdges,sTe,n)/Eo(i.outEdges,Yy);if(isNaN(a)){var s=i.outEdges.length;a=s?Eo(i.outEdges,oTe,n)/s:0}if(n==="vertical"){var o=i.getLayout().x+(a-Bo(i,n))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-Bo(i,n))*e;i.setLayout({y:l},!0)}}})})}function sTe(t,e){return Bo(t.node2,e)*t.getValue()}function oTe(t,e){return Bo(t.node2,e)}function lTe(t,e){return Bo(t.node1,e)*t.getValue()}function uTe(t,e){return Bo(t.node1,e)}function Bo(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Yy(t){return t.getValue()}function Eo(t,e,n){for(var r=0,i=t.length,a=-1;++a<i;){var s=+e(t[a],n);isNaN(s)||(r+=s)}return r}function cTe(t,e,n){M(t,function(r){M(r,function(i){if(i.inEdges.length){var a=Eo(i.inEdges,lTe,n)/Eo(i.inEdges,Yy);if(isNaN(a)){var s=i.inEdges.length;a=s?Eo(i.inEdges,uTe,n)/s:0}if(n==="vertical"){var o=i.getLayout().x+(a-Bo(i,n))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-Bo(i,n))*e;i.setLayout({y:l},!0)}}})})}function hTe(t,e){var n=e==="vertical"?"x":"y";M(t,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[n]-a.node2.getLayout()[n]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[n]-a.node1.getLayout()[n]})}),M(t,function(r){var i=0,a=0;M(r.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),M(r.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function fTe(t){t.eachSeriesByType("sankey",function(e){var n=e.getGraph(),r=n.nodes,i=n.edges;if(r.length){var a=1/0,s=-1/0;M(r,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),M(r,function(o){var l=new vn({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),u=l.mapValueToVisual(o.getLayout().value),h=o.getModel().get(["itemStyle","color"]);h!=null?(o.setVisual("color",h),o.setVisual("style",{fill:h})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&M(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function dTe(t){t.registerChartView(W1e),t.registerSeriesModel(Y1e),t.registerLayout(q1e),t.registerVisual(fTe),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var X6=function(){function t(){}return t.prototype.getInitialData=function(e,n){var r,i=n.getComponent("xAxis",this.get("xAxisIndex")),a=n.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",r=i.getOrdinalMeta(),l=!0):o==="category"?(e.layout="vertical",r=a.getOrdinalMeta(),l=!0):e.layout=e.layout||"horizontal";var u=["x","y"],h=e.layout==="horizontal"?0:1,c=this._baseAxisDim=u[h],f=u[1-h],p=[i,a],v=p[h].get("type"),m=p[1-h].get("type"),g=e.data;if(g&&l){var y=[];M(g,function(b,S){var w;ee(b)?(w=b.slice(),b.unshift(S)):ee(b.value)?(w=J({},b),w.value=w.value.slice(),b.value.unshift(S)):w=b,y.push(w)}),e.data=y}var x=this.defaultValueDimensions,A=[{name:c,type:zy(v),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:zy(m),dimsDef:x.slice()}];return Hh(this,{coordDimensions:A,dimensionsCount:x.length+1,encodeDefaulter:Ee(TG,A,this)})},t.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},t}(),Z6=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(kt);an(Z6,X6,!0);var pTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=n.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=n.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var h=a.getItemLayout(u),c=Tz(h,a,u,l,!0);a.setItemGraphicEl(u,c),s.add(c)}}).update(function(u,h){var c=o.getItemGraphicEl(h);if(!a.hasValue(u)){s.remove(c);return}var f=a.getItemLayout(u);c?(Gi(c),J6(f,c,a,u)):c=Tz(f,a,u,l),s.add(c),a.setItemGraphicEl(u,c)}).remove(function(u){var h=o.getItemGraphicEl(u);h&&s.remove(h)}).execute(),this._data=a},e.prototype.remove=function(n){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},e.type="boxplot",e}(St),vTe=function(){function t(){}return t}(),mTe=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new vTe},e.prototype.buildPath=function(n,r){var i=r.points,a=0;for(n.moveTo(i[a][0],i[a][1]),a++;a<4;a++)n.lineTo(i[a][0],i[a][1]);for(n.closePath();a<i.length;a++)n.moveTo(i[a][0],i[a][1]),a++,n.lineTo(i[a][0],i[a][1])},e}(Ve);function Tz(t,e,n,r,i){var a=t.ends,s=new mTe({shape:{points:i?gTe(a,r,t):a}});return J6(t,s,e,n,i),s}function J6(t,e,n,r,i){var a=n.hostModel,s=Lu[i?"initProps":"updateProps"];s(e,{shape:{points:t.ends}},a,r),e.useStyle(n.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=n.getItemModel(r),l=o.getModel("emphasis");kn(e,o),Wt(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function gTe(t,e,n){return te(t,function(r){return r=r.slice(),r[e]=n.initBaseline,r})}var yd=M;function yTe(t){var e=xTe(t);yd(e,function(n){var r=n.seriesModels;r.length&&(ATe(n),yd(r,function(i,a){bTe(i,n.boxOffsetList[a],n.boxWidthList[a])}))})}function xTe(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=ze(n,i);a<0&&(a=n.length,n[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(r)}),e}function ATe(t){var e=t.axis,n=t.seriesModels,r=n.length,i=t.boxWidthList=[],a=t.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;yd(n,function(v){l=Math.max(l,v.getData().count())});var u=e.getExtent();o=Math.abs(u[1]-u[0])/l}yd(n,function(v){var m=v.get("boxWidth");ee(m)||(m=[m,m]),s.push([se(m[0],o)||0,se(m[1],o)||0])});var h=o*.8-2,c=h/r*.3,f=(h-c*(r-1))/r,p=f/2-h/2;yd(n,function(v,m){a.push(p),p+=c+f,i.push(Math.min(Math.max(f,s[m][0]),s[m][1]))})}function bTe(t,e,n){var r=t.coordinateSystem,i=t.getData(),a=n/2,s=t.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),h=i.mapDimensionsAll(l[o]);if(u==null||h.length<5)return;for(var c=0;c<i.count();c++){var f=i.get(u,c),p=A(f,h[2],c),v=A(f,h[0],c),m=A(f,h[1],c),g=A(f,h[3],c),y=A(f,h[4],c),x=[];b(x,m,!1),b(x,g,!0),x.push(v,m,y,g),S(x,v),S(x,y),S(x,p),i.setItemLayout(c,{initBaseline:p[o],ends:x})}function A(w,_,T){var C=i.get(_,T),E=[];E[s]=w,E[o]=C;var k;return isNaN(w)||isNaN(C)?k=[NaN,NaN]:(k=r.dataToPoint(E),k[s]+=e),k}function b(w,_,T){var C=_.slice(),E=_.slice();C[s]+=a,E[s]-=a,T?w.push(C,E):w.push(E,C)}function S(w,_){var T=_.slice(),C=_.slice();T[s]-=a,C[s]+=a,w.push(T,C)}}function wTe(t,e){e=e||{};for(var n=[],r=[],i=e.boundIQR,a=i==="none"||i===0,s=0;s<t.length;s++){var o=di(t[s].slice()),l=JA(o,.25),u=JA(o,.5),h=JA(o,.75),c=o[0],f=o[o.length-1],p=(i??1.5)*(h-l),v=a?c:Math.max(c,l-p),m=a?f:Math.min(f,h+p),g=e.itemNameFormatter,y=me(g)?g({value:s}):ue(g)?g.replace("{value}",s+""):s+"";n.push([y,v,l,u,h,m]);for(var x=0;x<o.length;x++){var A=o[x];if(A<v||A>m){var b=[y,A];r.push(b)}}}return{boxData:n,outliers:r}}var STe={type:"echarts:boxplot",transform:function(e){var n=e.upstream;if(n.sourceFormat!==Fn){var r="";ut(r)}var i=wTe(n.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function _Te(t){t.registerSeriesModel(Z6),t.registerChartView(pTe),t.registerLayout(yTe),t.registerTransform(STe)}var TTe=["color","borderColor"],CTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},e.prototype.incrementalPrepareRender=function(n,r,i){this._clear(),this._updateDrawMode(n)},e.prototype.incrementalRender=function(n,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,r):this._incrementalRenderNormal(n,r)},e.prototype.eachRendered=function(n){Xo(this._progressiveEls||this.group,n)},e.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(n){var r=n.getData(),i=this._data,a=this.group,s=r.getLayout("isSimpleBox"),o=n.get("clip",!0),l=n.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),r.diff(i).add(function(h){if(r.hasValue(h)){var c=r.getItemLayout(h);if(o&&Cz(u,c))return;var f=Sw(c,h,!0);Nt(f,{shape:{points:c.ends}},n,h),_w(f,r,h,s),a.add(f),r.setItemGraphicEl(h,f)}}).update(function(h,c){var f=i.getItemGraphicEl(c);if(!r.hasValue(h)){a.remove(f);return}var p=r.getItemLayout(h);if(o&&Cz(u,p)){a.remove(f);return}f?(it(f,{shape:{points:p.ends}},n,h),Gi(f)):f=Sw(p),_w(f,r,h,s),a.add(f),r.setItemGraphicEl(h,f)}).remove(function(h){var c=i.getItemGraphicEl(h);c&&a.remove(c)}).execute(),this._data=r},e.prototype._renderLarge=function(n){this._clear(),Iz(n,this.group);var r=n.get("clip",!0)?Zp(n.coordinateSystem,!1,n):null;r?this.group.setClipPath(r):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(n,r){for(var i=r.getData(),a=i.getLayout("isSimpleBox"),s;(s=n.next())!=null;){var o=i.getItemLayout(s),l=Sw(o);_w(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(n,r){Iz(r,this.group,this._progressiveEls,!0)},e.prototype.remove=function(n){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(St),ITe=function(){function t(){}return t}(),ETe=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="normalCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new ITe},e.prototype.buildPath=function(n,r){var i=r.points;this.__simpleBox?(n.moveTo(i[4][0],i[4][1]),n.lineTo(i[6][0],i[6][1])):(n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]),n.lineTo(i[2][0],i[2][1]),n.lineTo(i[3][0],i[3][1]),n.closePath(),n.moveTo(i[4][0],i[4][1]),n.lineTo(i[5][0],i[5][1]),n.moveTo(i[6][0],i[6][1]),n.lineTo(i[7][0],i[7][1]))},e}(Ve);function Sw(t,e,n){var r=t.ends;return new ETe({shape:{points:n?kTe(r,t):r},z2:100})}function Cz(t,e){for(var n=!0,r=0;r<e.ends.length;r++)if(t.contain(e.ends[r][0],e.ends[r][1])){n=!1;break}return n}function _w(t,e,n,r){var i=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=r,kn(t,i)}function kTe(t,e){return te(t,function(n){return n=n.slice(),n[1]=e.initBaseline,n})}var PTe=function(){function t(){}return t}(),Tw=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r.type="largeCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new PTe},e.prototype.buildPath=function(n,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];n.moveTo(s,i[a++]),n.lineTo(s,i[a++])}else a+=3},e}(Ve);function Iz(t,e,n,r){var i=t.getData(),a=i.getLayout("largePoints"),s=new Tw({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new Tw({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new Tw({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),Cw(1,s,t),Cw(-1,o,t),Cw(0,l,t),r&&(s.incremental=!0,o.incremental=!0),n&&n.push(s,o)}function Cw(t,e,n,r){var i=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]);t===0&&(i=n.get(["itemStyle","borderColorDoji"]));var a=n.getModel("itemStyle").getItemStyle(TTe);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var K6=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(n,r,i){var a=r.getItemLayout(n);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(kt);an(K6,X6,!0);function jTe(t){!t||!ee(t.series)||M(t.series,function(e){ye(e)&&e.type==="k"&&(e.type="candlestick")})}var MTe=["itemStyle","borderColor"],DTe=["itemStyle","borderColor0"],LTe=["itemStyle","borderColorDoji"],NTe=["itemStyle","color"],zTe=["itemStyle","color0"],RTe={seriesType:"candlestick",plan:Oh(),performRawSeries:!0,reset:function(t,e){function n(a,s){return s.get(a>0?NTe:zTe)}function r(a,s){return s.get(a===0?LTe:a>0?MTe:DTe)}if(!e.isSeriesFiltered(t)){var i=t.pipelineContext.large;return!i&&{progress:function(a,s){for(var o;(o=a.next())!=null;){var l=s.getItemModel(o),u=s.getItemLayout(o).sign,h=l.getItemStyle();h.fill=n(u,l),h.stroke=r(u,l)||h.fill;var c=s.ensureUniqueItemVisual(o,"style");J(c,h)}}}}}},OTe={seriesType:"candlestick",plan:Oh(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=FTe(t,n),i=0,a=1,s=["x","y"],o=n.getDimensionIndex(n.mapDimension(s[i])),l=te(n.mapDimensionsAll(s[a]),n.getDimensionIndex,n),u=l[0],h=l[1],c=l[2],f=l[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),o<0||l.length<4)return;return{progress:t.pipelineContext.large?v:p};function p(m,g){for(var y,x=g.getStore();(y=m.next())!=null;){var A=x.get(o,y),b=x.get(u,y),S=x.get(h,y),w=x.get(c,y),_=x.get(f,y),T=Math.min(b,S),C=Math.max(b,S),E=F(T,A),k=F(C,A),I=F(w,A),j=F(_,A),P=[];V(P,k,0),V(P,E,1),P.push(z(j),z(k),z(I),z(E));var D=g.getItemModel(y),L=!!D.get(["itemStyle","borderColorDoji"]);g.setItemLayout(y,{sign:Ez(x,y,b,S,h,L),initBaseline:b>S?k[a]:E[a],ends:P,brushRect:U(w,_,A)})}function F(H,G){var N=[];return N[i]=G,N[a]=H,isNaN(G)||isNaN(H)?[NaN,NaN]:e.dataToPoint(N)}function V(H,G,N){var W=G.slice(),q=G.slice();W[i]=dg(W[i]+r/2,1,!1),q[i]=dg(q[i]-r/2,1,!0),N?H.push(W,q):H.push(q,W)}function U(H,G,N){var W=F(H,N),q=F(G,N);return W[i]-=r/2,q[i]-=r/2,{x:W[0],y:W[1],width:r,height:q[1]-W[1]}}function z(H){return H[i]=dg(H[i],1),H}}function v(m,g){for(var y=ya(m.count*4),x=0,A,b=[],S=[],w,_=g.getStore(),T=!!t.get(["itemStyle","borderColorDoji"]);(w=m.next())!=null;){var C=_.get(o,w),E=_.get(u,w),k=_.get(h,w),I=_.get(c,w),j=_.get(f,w);if(isNaN(C)||isNaN(I)||isNaN(j)){y[x++]=NaN,x+=3;continue}y[x++]=Ez(_,w,E,k,h,T),b[i]=C,b[a]=I,A=e.dataToPoint(b,null,S),y[x++]=A?A[0]:NaN,y[x++]=A?A[1]:NaN,b[a]=j,A=e.dataToPoint(b,null,S),y[x++]=A?A[1]:NaN}g.setLayout("largePoints",y)}}};function Ez(t,e,n,r,i,a){var s;return n>r?s=-1:n<r?s=1:s=a?0:e>0?t.get(i,e-1)<=r?1:-1:1,s}function FTe(t,e){var n=t.getBaseAxis(),r,i=n.type==="category"?n.getBandWidth():(r=n.getExtent(),Math.abs(r[1]-r[0])/e.count()),a=se(_e(t.get("barMaxWidth"),i),i),s=se(_e(t.get("barMinWidth"),1),i),o=t.get("barWidth");return o!=null?se(o,i):Math.max(Math.min(i/2,a),s)}function BTe(t){t.registerChartView(CTe),t.registerSeriesModel(K6),t.registerPreprocessor(jTe),t.registerVisual(RTe),t.registerLayout(OTe)}function kz(t,e){var n=e.rippleEffectColor||e.color;t.eachChild(function(r){r.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?n:null,fill:e.brushType==="fill"?n:null}})})}var VTe=function(t){Y(e,t);function e(n,r){var i=t.call(this)||this,a=new qp(n,r),s=new Ae;return i.add(a),i.add(s),i.updateData(n,r),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(n){for(var r=n.symbolType,i=n.color,a=n.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=rn(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*n.period+n.effectOffset;l.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(n.period,{opacity:0}).delay(u).start(),s.add(l)}kz(s,n)},e.prototype.updateEffectAnimation=function(n){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(r[o]!==n[o]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}kz(i,n)},e.prototype.highlight=function(){Is(this)},e.prototype.downplay=function(){Es(this)},e.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},e.prototype.updateData=function(n,r){var i=this,a=n.hostModel;this.childAt(0).updateData(n,r);var s=this.childAt(1),o=n.getItemModel(r),l=n.getItemVisual(r,"symbol"),u=Bh(n.getItemVisual(r,"symbolSize")),h=n.getItemVisual(r,"style"),c=h&&h.fill,f=o.getModel("emphasis");s.setScale(u),s.traverse(function(g){g.setStyle("fill",c)});var p=Nu(n.getItemVisual(r,"symbolOffset"),u);p&&(s.x=p[0],s.y=p[1]);var v=n.getItemVisual(r,"symbolRotate");s.rotation=(v||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=o.get(["rippleEffect","scale"]),m.brushType=o.get(["rippleEffect","brushType"]),m.period=o.get(["rippleEffect","period"])*1e3,m.effectOffset=r/n.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=c,m.rippleEffectColor=o.get(["rippleEffect","color"]),m.rippleNumber=o.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?m.showEffectOn!=="render"&&i.startEffectAnimation(m):g==="normal"&&m.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=m,Wt(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},e.prototype.fadeOut=function(n){n&&n()},e}(Ae),HTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){this._symbolDraw=new Xp(VTe)},e.prototype.render=function(n,r,i){var a=n.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(n)}),this.group.add(s.group)},e.prototype._getClipShape=function(n){var r=n.coordinateSystem,i=r&&r.getArea&&r.getArea();return n.get("clip",!0)?i:null},e.prototype.updateTransform=function(n,r,i){var a=n.getData();this.group.dirty();var s=Jp("").reset(n,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(n){var r=n.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=cde(r.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(St),GTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n,r){return Rs(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(kt);function UTe(t){t.registerChartView(HTe),t.registerSeriesModel(GTe),t.registerLayout(Jp("effectScatter"))}var Q6=function(t){Y(e,t);function e(n,r,i){var a=t.call(this)||this;return a.add(a.createLine(n,r,i)),a._updateEffectSymbol(n,r),a}return e.prototype.createLine=function(n,r,i){return new sE(n,r,i)},e.prototype._updateEffectSymbol=function(n,r){var i=n.getItemModel(r),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");ee(s)||(s=[s,s]);var l=n.getItemVisual(r,"style"),u=a.get("color")||l&&l.stroke,h=this.childAt(1);this._symbolType!==o&&(this.remove(h),h=rn(o,-.5,-.5,1,1,u),h.z2=100,h.culling=!0,this.add(h)),h&&(h.setStyle("shadowColor",u),h.setStyle(a.getItemStyle(["color"])),h.scaleX=s[0],h.scaleY=s[1],h.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(n,a,r))},e.prototype._updateEffectAnimation=function(n,r,i){var a=this.childAt(1);if(a){var s=n.getItemLayout(i),o=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),h=r.get("constantSpeed"),c=bn(r.get("delay"),function(p){return p/n.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),h>0&&(o=this._getLineLength(a)/h*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var f=void 0;me(c)?f=c(i):f=c,a.__t>0&&(f=-o*a.__t),this._animateSymbol(a,o,f,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(n,r,i,a,s){if(r>0){n.__t=0;var o=this,l=n.animate("",a).when(s?r*2:r,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(n)});a||l.done(function(){o.remove(n)}),l.start()}},e.prototype._getLineLength=function(n){return fo(n.__p1,n.__cp1)+fo(n.__cp1,n.__p2)},e.prototype._updateAnimationPoints=function(n,r){n.__p1=r[0],n.__p2=r[1],n.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},e.prototype.updateData=function(n,r,i){this.childAt(0).updateData(n,r,i),this._updateEffectSymbol(n,r)},e.prototype._updateSymbolPosition=function(n){var r=n.__p1,i=n.__p2,a=n.__cp1,s=n.__t<1?n.__t:2-n.__t,o=[n.x,n.y],l=o.slice(),u=An,h=v_;o[0]=u(r[0],a[0],i[0],s),o[1]=u(r[1],a[1],i[1],s);var c=n.__t<1?h(r[0],a[0],i[0],s):h(i[0],a[0],r[0],1-s),f=n.__t<1?h(r[1],a[1],i[1],s):h(i[1],a[1],r[1],1-s);n.rotation=-Math.atan2(f,c)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=fo(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):n.__lastT===1?n.scaleY=2*fo(r,o):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=o[0],n.y=o[1]},e.prototype.updateLayout=function(n,r){this.childAt(0).updateLayout(n,r);var i=n.getItemModel(r).getModel("effect");this._updateEffectAnimation(n,i,r)},e}(Ae),e9=function(t){Y(e,t);function e(n,r,i){var a=t.call(this)||this;return a._createPolyline(n,r,i),a}return e.prototype._createPolyline=function(n,r,i){var a=n.getItemLayout(r),s=new or({shape:{points:a}});this.add(s),this._updateCommonStl(n,r,i)},e.prototype.updateData=function(n,r,i){var a=n.hostModel,s=this.childAt(0),o={shape:{points:n.getItemLayout(r)}};it(s,o,a,r),this._updateCommonStl(n,r,i)},e.prototype._updateCommonStl=function(n,r,i){var a=this.childAt(0),s=n.getItemModel(r),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,h=i&&i.emphasisDisabled;if(!i||n.hasItemOption){var c=s.getModel("emphasis");o=c.getModel("lineStyle").getLineStyle(),h=c.get("disabled"),l=c.get("focus"),u=c.get("blurScope")}a.useStyle(n.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var f=a.ensureState("emphasis");f.style=o,Wt(this,l,u,h)},e.prototype.updateLayout=function(n,r){var i=this.childAt(0);i.setShape("points",n.getItemLayout(r))},e}(Ae),WTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return e.prototype.createLine=function(n,r,i){return new e9(n,r,i)},e.prototype._updateAnimationPoints=function(n,r){this._points=r;for(var i=[0],a=0,s=1;s<r.length;s++){var o=r[s-1],l=r[s];a+=fo(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(n){var r=n.__t<1?n.__t:2-n.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=r);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>r);l++);l=Math.min(l-1,s-2)}var h=(r-a[l])/(a[l+1]-a[l]),c=i[l],f=i[l+1];n.x=c[0]*(1-h)+h*f[0],n.y=c[1]*(1-h)+h*f[1];var p=n.__t<1?f[0]-c[0]:c[0]-f[0],v=n.__t<1?f[1]-c[1]:c[1]-f[1];n.rotation=-Math.atan2(v,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,n.ignore=!1}},e}(Q6),$Te=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),YTe=function(t){Y(e,t);function e(n){var r=t.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new $Te},e.prototype.buildPath=function(n,r){var i=r.segs,a=r.curveness,s;if(r.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){n.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)n.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],h=i[s++],c=i[s++],f=i[s++];if(n.moveTo(u,h),a>0){var p=(u+c)/2-(h-f)*a,v=(h+f)/2-(c-u)*a;n.quadraticCurveTo(p,v,c,f)}else n.lineTo(c,f)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(n,r){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var h=a[u++];if(h>0)for(var c=a[u++],f=a[u++],p=1;p<h;p++){var v=a[u++],m=a[u++];if(so(c,f,v,m,o,n,r))return l}l++}else for(var l=0,u=0;u<a.length;){var c=a[u++],f=a[u++],v=a[u++],m=a[u++];if(s>0){var g=(c+v)/2-(f-m)*s,y=(f+m)/2-(v-c)*s;if(S4(c,f,g,y,v,m,o,n,r))return l}else if(so(c,f,v,m,o,n,r))return l;l++}return-1},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(n=i[0],r=i[1],a.contain(n,r)){var s=this.hoverDataIdx=this.findDataIndex(n,r);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var h=i[u++],c=i[u++];a=Math.min(h,a),o=Math.max(h,o),s=Math.min(c,s),l=Math.max(c,l)}n=this._rect=new De(a,s,o,l)}return n},e}(Ve),qTe=function(){function t(){this.group=new Ae}return t.prototype.updateData=function(e){this._clear();var n=this._create();n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e)},t.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(e,n){var r=this._newAdded[0],i=n.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),r.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,n),l.__startIndex=e.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new YTe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},t.prototype._setCommon=function(e,n,r){var i=n.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=n.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=Se(e);s.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),t9={seriesType:"lines",plan:Oh(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,a){var s=[];if(r){var o=void 0,l=i.end-i.start;if(n){for(var u=0,h=i.start;h<i.end;h++)u+=t.getLineCoordsCount(h);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var c=0,f=[],h=i.start;h<i.end;h++){var p=t.getLineCoords(h,s);n&&(o[c++]=p);for(var v=0;v<p;v++)f=e.dataToPoint(s[v],!1,f),o[c++]=f[0],o[c++]=f[1]}a.setLayout("linesPoints",o)}else for(var h=i.start;h<i.end;h++){var m=a.getItemModel(h),p=t.getLineCoords(h,s),g=[];if(n)for(var y=0;y<p;y++)g.push(e.dataToPoint(s[y]));else{g[0]=e.dataToPoint(s[0]),g[1]=e.dataToPoint(s[1]);var x=m.get(["lineStyle","curveness"]);+x&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*x,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*x])}a.setItemLayout(h,g)}}}}}},XTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=n.getData(),s=this._updateLineDraw(a,n),o=n.get("zlevel"),l=n.get(["effect","trailLength"]),u=i.getZr(),h=u.painter.getType()==="svg";h||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!h&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&l>0&&(h||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var c=n.get("clip",!0)&&Zp(n.coordinateSystem,!1,n);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(n,r,i){var a=n.getData(),s=this._updateLineDraw(a,n);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(n,r,i){this._lineDraw.incrementalUpdate(n,r.getData()),this._finished=n.end===r.getData().count()},e.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},e.prototype.updateTransform=function(n,r,i){var a=n.getData(),s=n.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=t9.reset(n,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(n,r){var i=this._lineDraw,a=this._showEffect(r),s=!!r.get("polyline"),o=r.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new qTe:new oE(s?a?WTe:e9:a?Q6:sE),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(n){return!!n.get(["effect","show"])},e.prototype._clearLayer=function(n){var r=n.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(n,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},e.prototype.dispose=function(n,r){this.remove(n,r)},e.type="lines",e}(St),ZTe=typeof Uint32Array>"u"?Array:Uint32Array,JTe=typeof Float64Array>"u"?Array:Float64Array;function Pz(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=te(e,function(n){var r=[n[0].coord,n[1].coord],i={coords:r};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),OC([i,n[0],n[1]])}))}var KTe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return e.prototype.init=function(n){n.data=n.data||[],Pz(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(n){if(Pz(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(n){var r=this._processFlatCoordsArray(n.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=fy(this._flatCoords,r.flatCoords),this._flatCoordsOffset=fy(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),n.data=new Float32Array(r.count)),this.getRawData().appendData(n.data)},e.prototype._getCoordsFromItemModel=function(n){var r=this.getData().getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},e.prototype.getLineCoords=function(n,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[n*2],a=this._flatCoordsOffset[n*2+1],s=0;s<a;s++)r[s]=r[s]||[],r[s][0]=this._flatCoords[i+s*2],r[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(n),s=0;s<o.length;s++)r[s]=r[s]||[],r[s][0]=o[s][0],r[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(n){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),nt(n[0])){for(var i=n.length,a=new ZTe(i),s=new JTe(i),o=0,l=0,u=0,h=0;h<i;){u++;var c=n[h++];a[l++]=o+r,a[l++]=c;for(var f=0;f<c;f++){var p=n[h++],v=n[h++];s[o++]=p,s[o++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},e.prototype.getInitialData=function(n,r){var i=new Jn(["value"],this);return i.hasItemOption=!1,i.initData(n.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(n,r,i){var a=this.getData(),s=a.getItemModel(n),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),h=[];return l!=null&&h.push(l),u!=null&&h.push(u),gn("nameValue",{name:h.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var n=this.getModel("effect"),r=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&r>0?r+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(kt);function jm(t){return t instanceof Array||(t=[t,t]),t}var QTe={seriesType:"lines",reset:function(t){var e=jm(t.get("symbol")),n=jm(t.get("symbolSize")),r=t.getData();r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]);function i(a,s){var o=a.getItemModel(s),l=jm(o.getShallow("symbol",!0)),u=jm(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?i:null}}};function eCe(t){t.registerChartView(XTe),t.registerSeriesModel(KTe),t.registerLayout(t9),t.registerVisual(QTe)}var tCe=256,nCe=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=No.createCanvas();this.canvas=e}return t.prototype.update=function(e,n,r,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,f=c.getContext("2d"),p=e.length;c.width=n,c.height=r;for(var v=0;v<p;++v){var m=e[v],g=m[0],y=m[1],x=m[2],A=i(x);f.globalAlpha=A,f.drawImage(o,g-h,y-h)}if(!c.width||!c.height)return c;for(var b=f.getImageData(0,0,c.width,c.height),S=b.data,w=0,_=S.length,T=this.minOpacity,C=this.maxOpacity,E=C-T;w<_;){var A=S[w+3]/256,k=Math.floor(A*(tCe-1))*4;if(A>0){var I=s(A)?l:u;A>0&&(A=A*E+T),S[w++]=I[k],S[w++]=I[k+1],S[w++]=I[k+2],S[w++]=I[k+3]*A*256}else w+=4}return f.putImageData(b,0,0),c},t.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=No.createCanvas()),n=this.pointSize+this.blurSize,r=n*2;e.width=r,e.height=r;var i=e.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-n,n,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},t.prototype._getGradient=function(e,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[n](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},t}();function rCe(t,e,n){var r=t[1]-t[0];e=te(e,function(s){return{interval:[(s.interval[0]-t[0])/r,(s.interval[1]-t[0])/r]}});var i=e.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&n[o]}}function iCe(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(r){return r>=e[0]&&r<=e[1]}}function jz(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var aCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a;r.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===n&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=n.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(n,i,0,n.getData().count()):jz(s)&&this._renderOnGeo(s,n,a,i)},e.prototype.incrementalPrepareRender=function(n,r,i){this.group.removeAll()},e.prototype.incrementalRender=function(n,r,i,a){var s=r.coordinateSystem;s&&(jz(s)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,n.start,n.end,!0)))},e.prototype.eachRendered=function(n){Xo(this._progressiveEls||this.group,n)},e.prototype._renderOnCartesianAndCalendar=function(n,r,i,a,s){var o=n.coordinateSystem,l=Ru(o,"cartesian2d"),u,h,c,f;if(l){var p=o.getAxis("x"),v=o.getAxis("y");u=p.getBandWidth()+.5,h=v.getBandWidth()+.5,c=p.scale.getExtent(),f=v.scale.getExtent()}for(var m=this.group,g=n.getData(),y=n.getModel(["emphasis","itemStyle"]).getItemStyle(),x=n.getModel(["blur","itemStyle"]).getItemStyle(),A=n.getModel(["select","itemStyle"]).getItemStyle(),b=n.get(["itemStyle","borderRadius"]),S=mn(n),w=n.getModel("emphasis"),_=w.get("focus"),T=w.get("blurScope"),C=w.get("disabled"),E=l?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],k=i;k<a;k++){var I=void 0,j=g.getItemVisual(k,"style");if(l){var P=g.get(E[0],k),D=g.get(E[1],k);if(isNaN(g.get(E[2],k))||isNaN(P)||isNaN(D)||P<c[0]||P>c[1]||D<f[0]||D>f[1])continue;var L=o.dataToPoint([P,D]);I=new Ke({shape:{x:L[0]-u/2,y:L[1]-h/2,width:u,height:h},style:j})}else{if(isNaN(g.get(E[1],k)))continue;I=new Ke({z2:1,shape:o.dataToRect([g.get(E[0],k)]).contentShape,style:j})}if(g.hasItemOption){var F=g.getItemModel(k),V=F.getModel("emphasis");y=V.getModel("itemStyle").getItemStyle(),x=F.getModel(["blur","itemStyle"]).getItemStyle(),A=F.getModel(["select","itemStyle"]).getItemStyle(),b=F.get(["itemStyle","borderRadius"]),_=V.get("focus"),T=V.get("blurScope"),C=V.get("disabled"),S=mn(F)}I.shape.r=b;var U=n.getRawValue(k),z="-";U&&U[2]!=null&&(z=U[2]+""),Pn(I,S,{labelFetcher:n,labelDataIndex:k,defaultOpacity:j.opacity,defaultText:z}),I.ensureState("emphasis").style=y,I.ensureState("blur").style=x,I.ensureState("select").style=A,Wt(I,_,T,C),I.incremental=s,s&&(I.states.emphasis.hoverLayer=!0),m.add(I),g.setItemGraphicEl(k,I),this._progressiveEls&&this._progressiveEls.push(I)}},e.prototype._renderOnGeo=function(n,r,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new nCe;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var h=n.getViewRect().clone(),c=n.getRoamTransform();h.applyTransform(c);var f=Math.max(h.x,0),p=Math.max(h.y,0),v=Math.min(h.width+h.x,a.getWidth()),m=Math.min(h.height+h.y,a.getHeight()),g=v-f,y=m-p,x=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],A=l.mapArray(x,function(_,T,C){var E=n.dataToPoint([_,T]);return E[0]-=f,E[1]-=p,E.push(C),E}),b=i.getExtent(),S=i.type==="visualMap.continuous"?iCe(b,i.option.range):rCe(b,i.getPieceList(),i.option.selected);u.update(A,g,y,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},S);var w=new Sn({style:{width:g,height:y,x:f,y:p,image:u.canvas},silent:!0});this.group.add(w)},e.type="heatmap",e}(St),sCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){return Rs(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var n=Up.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(kt);function oCe(t){t.registerChartView(aCe),t.registerSeriesModel(sCe)}var lCe=["itemStyle","borderWidth"],Mz=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Iw=new zs,uCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=this.group,s=n.getData(),o=this._data,l=n.coordinateSystem,u=l.getBaseAxis(),h=u.isHorizontal(),c=l.master.getRect(),f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:n,coordSys:l,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:h,valueDim:Mz[+h],categoryDim:Mz[1-+h]};s.diff(o).add(function(v){if(s.hasValue(v)){var m=Lz(s,v),g=Dz(s,v,m,f),y=Nz(s,f,g);s.setItemGraphicEl(v,y),a.add(y),Rz(y,f,g)}}).update(function(v,m){var g=o.getItemGraphicEl(m);if(!s.hasValue(v)){a.remove(g);return}var y=Lz(s,v),x=Dz(s,v,y,f),A=o9(s,x);g&&A!==g.__pictorialShapeStr&&(a.remove(g),s.setItemGraphicEl(v,null),g=null),g?mCe(g,f,x):g=Nz(s,f,x,!0),s.setItemGraphicEl(v,g),g.__pictorialSymbolMeta=x,a.add(g),Rz(g,f,x)}).remove(function(v){var m=o.getItemGraphicEl(v);m&&zz(o,v,m.__pictorialSymbolMeta.animationModel,m)}).execute();var p=n.get("clip",!0)?Zp(n.coordinateSystem,!1,n):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(n,r){var i=this.group,a=this._data;n.get("animation")?a&&a.eachItemGraphicEl(function(s){zz(a,Se(s).dataIndex,n,s)}):i.removeAll()},e.type="pictorialBar",e}(St);function Dz(t,e,n,r){var i=t.getItemLayout(e),a=n.get("symbolRepeat"),s=n.get("symbolClip"),o=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),u=(l||0)*Math.PI/180||0,h=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),f={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:h,rotation:u,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};cCe(n,a,i,r,f),hCe(t,e,i,a,s,f.boundingLength,f.pxSign,h,r,f),fCe(n,f.symbolScale,u,r,f);var p=f.symbolSize,v=Nu(n.get("symbolOffset"),p);return dCe(n,p,i,a,s,v,o,f.valueLineWidth,f.boundingLength,f.repeatCutLength,r,f),f}function cCe(t,e,n,r,i){var a=r.valueDim,s=t.get("symbolBoundingData"),o=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(n[a.wh]<=0),h;if(ee(s)){var c=[Ew(o,s[0])-l,Ew(o,s[1])-l];c[1]<c[0]&&c.reverse(),h=c[u]}else s!=null?h=Ew(o,s)-l:e?h=r.coordSysExtent[a.index][u]-l:h=n[a.wh];i.boundingLength=h,e&&(i.repeatCutLength=n[a.wh]),i.pxSign=h>0?1:-1}function Ew(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function hCe(t,e,n,r,i,a,s,o,l,u){var h=l.valueDim,c=l.categoryDim,f=Math.abs(n[c.wh]),p=t.getItemVisual(e,"symbolSize"),v;ee(p)?v=p.slice():p==null?v=["100%","100%"]:v=[p,p],v[c.index]=se(v[c.index],f),v[h.index]=se(v[h.index],r?f:Math.abs(a)),u.symbolSize=v;var m=u.symbolScale=[v[0]/o,v[1]/o];m[h.index]*=(l.isHorizontal?-1:1)*s}function fCe(t,e,n,r,i){var a=t.get(lCe)||0;a&&(Iw.attr({scaleX:e[0],scaleY:e[1],rotation:n}),Iw.updateTransform(),a/=Iw.getLineScale(),a*=e[r.valueDim.index]),i.valueLineWidth=a||0}function dCe(t,e,n,r,i,a,s,o,l,u,h,c){var f=h.categoryDim,p=h.valueDim,v=c.pxSign,m=Math.max(e[p.index]+o,0),g=m;if(r){var y=Math.abs(l),x=bn(t.get("symbolMargin"),"15%")+"",A=!1;x.lastIndexOf("!")===x.length-1&&(A=!0,x=x.slice(0,x.length-1));var b=se(x,e[p.index]),S=Math.max(m+b*2,0),w=A?0:b*2,_=u4(r),T=_?r:Oz((y+w)/S),C=y-T*m;b=C/2/(A?T:Math.max(T-1,1)),S=m+b*2,w=A?0:b*2,!_&&r!=="fixed"&&(T=u?Oz((Math.abs(u)+w)/S):0),g=T*S-w,c.repeatTimes=T,c.symbolMargin=b}var E=v*(g/2),k=c.pathPosition=[];k[f.index]=n[f.wh]/2,k[p.index]=s==="start"?E:s==="end"?l-E:l/2,a&&(k[0]+=a[0],k[1]+=a[1]);var I=c.bundlePosition=[];I[f.index]=n[f.xy],I[p.index]=n[p.xy];var j=c.barRectShape=J({},n);j[p.wh]=v*Math.max(Math.abs(n[p.wh]),Math.abs(k[p.index]+E)),j[f.wh]=n[f.wh];var P=c.clipShape={};P[f.xy]=-n[f.xy],P[f.wh]=h.ecSize[f.wh],P[p.xy]=0,P[p.wh]=n[p.wh]}function n9(t){var e=t.symbolPatternSize,n=rn(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function r9(t,e,n,r){var i=t.__pictorialBundle,a=n.symbolSize,s=n.valueLineWidth,o=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,h=0,c=a[e.valueDim.index]+s+n.symbolMargin*2;for(vE(t,function(m){m.__pictorialAnimationIndex=h,m.__pictorialRepeatTimes=u,h<u?Uc(m,null,v(h),n,r):Uc(m,null,{scaleX:0,scaleY:0},n,r,function(){i.remove(m)}),h++});h<u;h++){var f=n9(n);f.__pictorialAnimationIndex=h,f.__pictorialRepeatTimes=u,i.add(f);var p=v(h);Uc(f,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,r)}function v(m){var g=o.slice(),y=n.pxSign,x=m;return(n.symbolRepeatDirection==="start"?y>0:y<0)&&(x=u-1-m),g[l.index]=c*(x-u/2+.5)+o[l.index],{x:g[0],y:g[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function i9(t,e,n,r){var i=t.__pictorialBundle,a=t.__pictorialMainPath;a?Uc(a,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(a=t.__pictorialMainPath=n9(n),i.add(a),Uc(a,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function a9(t,e,n){var r=J({},e.barRectShape),i=t.__pictorialBarRect;i?Uc(i,null,{shape:r},e,n):(i=t.__pictorialBarRect=new Ke({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,t.add(i))}function s9(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,a=J({},n.clipShape),s=e.valueDim,o=n.animationModel,l=n.dataIndex;if(i)it(i,{shape:a},o,l);else{a[s.wh]=0,i=new Ke({shape:a}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var u={};u[s.wh]=n.clipShape[s.wh],Lu[r?"updateProps":"initProps"](i,{shape:u},o,l)}}}function Lz(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=pCe,n.isAnimationEnabled=vCe,n}function pCe(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function vCe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Nz(t,e,n,r){var i=new Ae,a=new Ae;return i.add(a),i.__pictorialBundle=a,a.x=n.bundlePosition[0],a.y=n.bundlePosition[1],n.symbolRepeat?r9(i,e,n):i9(i,e,n),a9(i,n,r),s9(i,e,n,r),i.__pictorialShapeStr=o9(t,n),i.__pictorialSymbolMeta=n,i}function mCe(t,e,n){var r=n.animationModel,i=n.dataIndex,a=t.__pictorialBundle;it(a,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?r9(t,e,n,!0):i9(t,e,n,!0),a9(t,n,!0),s9(t,e,n,!0)}function zz(t,e,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];vE(r,function(s){a.push(s)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),M(a,function(s){Ro(s,{scaleX:0,scaleY:0},n,e,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(e,null)}function o9(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function vE(t,e,n){M(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&e.call(n,r)})}function Uc(t,e,n,r,i,a){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&Lu[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,a)}function Rz(t,e,n){var r=n.dataIndex,i=n.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),h=a.get("focus"),c=a.get("blurScope"),f=a.get("scale");vE(t,function(m){if(m instanceof Sn){var g=m.style;m.useStyle(J({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},n.style))}else m.useStyle(n.style);var y=m.ensureState("emphasis");y.style=s,f&&(y.scaleX=m.scaleX*1.1,y.scaleY=m.scaleY*1.1),m.ensureState("blur").style=o,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=n.z2});var p=e.valueDim.posDesc[+(n.boundingLength>0)],v=t.__pictorialBarRect;v.ignoreClip=!0,Pn(v,mn(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:ch(e.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),Wt(t,h,c,a.get("disabled"))}function Oz(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var gCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return e.prototype.getInitialData=function(n){return n.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Zo(tp.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(tp);function yCe(t){t.registerChartView(uCe),t.registerSeriesModel(gCe),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Ee(GU,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,UU("pictorialBar"))}var xCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return e.prototype.render=function(n,r,i){var a=n.getData(),s=this,o=this.group,l=n.getLayerSeries(),u=a.getLayout("layoutInfo"),h=u.rect,c=u.boundaryGap;o.x=0,o.y=h.y+c[0];function f(g){return g.name}var p=new ks(this._layersSeries||[],l,f,f),v=[];p.add(fe(m,this,"add")).update(fe(m,this,"update")).remove(fe(m,this,"remove")).execute();function m(g,y,x){var A=s._layers;if(g==="remove"){o.remove(A[y]);return}for(var b=[],S=[],w,_=l[y].indices,T=0;T<_.length;T++){var C=a.getItemLayout(_[T]),E=C.x,k=C.y0,I=C.y;b.push(E,k),S.push(E,k+I),w=a.getItemVisual(_[T],"style")}var j,P=a.getItemLayout(_[0]),D=n.getModel("label"),L=D.get("margin"),F=n.getModel("emphasis");if(g==="add"){var V=v[y]=new Ae;j=new MW({shape:{points:b,stackedOnPoints:S,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),V.add(j),o.add(V),n.isAnimationEnabled()&&j.setClipPath(ACe(j.getBoundingRect(),n,function(){j.removeClipPath()}))}else{var V=A[x];j=V.childAt(0),o.add(V),v[y]=V,it(j,{shape:{points:b,stackedOnPoints:S}},n),Gi(j)}Pn(j,mn(n),{labelDataIndex:_[T-1],defaultText:a.getName(_[T-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),j.setTextConfig({position:null,local:!0});var U=j.getTextContent();U&&(U.x=P.x-L,U.y=P.y0+P.y/2),j.useStyle(w),a.setItemGraphicEl(y,j),kn(j,n),Wt(j,F.get("focus"),F.get("blurScope"),F.get("disabled"))}this._layersSeries=l,this._layers=v},e.type="themeRiver",e}(St);function ACe(t,e,n){var r=new Ke({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Nt(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),r}var kw=2,bCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Qp(fe(this.getData,this),fe(this.getRawData,this))},e.prototype.fixData=function(n){var r=n.length,i={},a=P_(n,function(f){return i.hasOwnProperty(f[0]+"")||(i[f[0]+""]=-1),f[2]}),s=[];a.buckets.each(function(f,p){s.push({name:p,dataList:f})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,h=0;h<s[l].dataList.length;++h){var c=s[l].dataList[h][0]+"";i[c]=l}for(var c in i)i.hasOwnProperty(c)&&i[c]!==l&&(i[c]=l,n[r]=[c,0,u],r++)}return n},e.prototype.getInitialData=function(n,r){for(var i=this.getReferringComponents("singleAxis",tn).models[0],a=i.get("type"),s=gt(n.data,function(v){return v[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=pe(),h=0,c=0;c<o.length;++c)l.push(o[c][kw]),u.get(o[c][kw])||(u.set(o[c][kw],h),h++);var f=$p(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:zy(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new Jn(f,this);return p.initData(o),p},e.prototype.getLayerSeries=function(){for(var n=this.getData(),r=n.count(),i=[],a=0;a<r;++a)i[a]=a;var s=n.mapDimension("single"),o=P_(i,function(u){return n.get("name",u)}),l=[];return o.buckets.each(function(u,h){u.sort(function(c,f){return n.get(s,c)-n.get(s,f)}),l.push({name:h,indices:u})}),l},e.prototype.getAxisTooltipData=function(n,r,i){ee(n)||(n=n?[n]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,h=0;h<l;++h){for(var c=Number.MAX_VALUE,f=-1,p=s[h].indices.length,v=0;v<p;++v){var m=a.get(n[0],s[h].indices[v]),g=Math.abs(m-r);g<=c&&(u=m,c=g,f=s[h].indices[v])}o.push(f)}return{dataIndices:o,nestestValue:u}},e.prototype.formatTooltip=function(n,r,i){var a=this.getData(),s=a.getName(n),o=a.get(a.mapDimension("value"),n);return gn("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(kt);function wCe(t,e){t.eachSeriesByType("themeRiver",function(n){var r=n.getData(),i=n.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=n.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=se(o[0],s.height),o[1]=se(o[1],s.height);var u=s.height-o[0]-o[1];Fz(r,n,u)}else{o[0]=se(o[0],s.width),o[1]=se(o[1],s.width);var h=s.width-o[0]-o[1];Fz(r,n,h)}r.setLayout("layoutInfo",a)})}function Fz(t,e,n){if(t.count())for(var r=e.coordinateSystem,i=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),o=te(i,function(g){return te(g.indices,function(y){var x=r.dataToPoint(t.get(a,y));return x[1]=t.get(s,y),x})}),l=SCe(o),u=l.y0,h=n/l.max,c=i.length,f=i[0].indices.length,p,v=0;v<f;++v){p=u[v]*h,t.setItemLayout(i[0].indices[v],{layerIndex:0,x:o[0][v][0],y0:p,y:o[0][v][1]*h});for(var m=1;m<c;++m)p+=o[m-1][v][1]*h,t.setItemLayout(i[m].indices[v],{layerIndex:m,x:o[m][v][0],y0:p,y:o[m][v][1]*h})}}function SCe(t){for(var e=t.length,n=t[0].length,r=[],i=[],a=0,s=0;s<n;++s){for(var o=0,l=0;l<e;++l)o+=t[l][s][1];o>a&&(a=o),r.push(o)}for(var u=0;u<n;++u)i[u]=(a-r[u])/2;a=0;for(var h=0;h<n;++h){var c=r[h]+i[h];c>a&&(a=c)}return{y0:i,max:a}}function _Ce(t){t.registerChartView(xCe),t.registerSeriesModel(bCe),t.registerLayout(wCe),t.registerProcessor(Kp("themeRiver"))}var TCe=2,CCe=4,Bz=function(t){Y(e,t);function e(n,r,i,a){var s=t.call(this)||this;s.z2=TCe,s.textConfig={inside:!0},Se(s).seriesIndex=r.seriesIndex;var o=new et({z2:CCe,silent:n.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,n,r,i,a),s}return e.prototype.updateData=function(n,r,i,a,s){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;Se(o).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),h=r.getLayout(),c=J({},h);c.label=null;var f=r.getVisual("style");f.lineJoin="bevel";var p=r.getVisual("decal");p&&(f.decal=lh(p,s));var v=Ql(l.getModel("itemStyle"),c,!0);J(c,v),M(tr,function(x){var A=o.ensureState(x),b=l.getModel([x,"itemStyle"]);A.style=b.getItemStyle();var S=Ql(b,c);S&&(A.shape=S)}),n?(o.setShape(c),o.shape.r=h.r0,Nt(o,{shape:{r:h.r}},i,r.dataIndex)):(it(o,{shape:c},i),Gi(o)),o.useStyle(f),this._updateLabel(i);var m=l.getShallow("cursor");m&&o.attr("cursor",m),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var g=u.get("focus"),y=g==="ancestor"?r.getAncestorsIndices():g==="descendant"?r.getDescendantIndices():g;Wt(this,y,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(n){var r=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),h=Math.sin(l),c=this,f=c.getTextContent(),p=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(v!=null&&Math.abs(o)<v);f.ignore=!m,M(Gd,function(y){var x=y==="normal"?i.getModel("label"):i.getModel([y,"label"]),A=y==="normal",b=A?f:f.ensureState(y),S=n.getFormattedLabel(p,y);A&&(S=S||r.node.name),b.style=Et(x,{},null,y!=="normal",!0),S&&(b.style.text=S);var w=x.get("show");w!=null&&!A&&(b.ignore=!w);var _=g(x,"position"),T=A?c:c.states[y],C=T.style.fill;T.textConfig={outsideFill:x.get("color")==="inherit"?C:null,inside:_!=="outside"};var E,k=g(x,"distance")||0,I=g(x,"align"),j=g(x,"rotate"),P=Math.PI*.5,D=Math.PI*1.5,L=Dr(j==="tangential"?Math.PI/2-l:l),F=L>P&&!Vd(L-P)&&L<D;_==="outside"?(E=s.r+k,I=F?"right":"left"):!I||I==="center"?(o===2*Math.PI&&s.r0===0?E=0:E=(s.r+s.r0)/2,I="center"):I==="left"?(E=s.r0+k,I=F?"right":"left"):I==="right"&&(E=s.r-k,I=F?"left":"right"),b.style.align=I,b.style.verticalAlign=g(x,"verticalAlign")||"middle",b.x=E*u+s.cx,b.y=E*h+s.cy;var V=0;j==="radial"?V=Dr(-l)+(F?Math.PI:0):j==="tangential"?V=Dr(Math.PI/2-l)+(F?Math.PI:0):nt(j)&&(V=j*Math.PI/180),b.rotation=Dr(V)});function g(y,x){var A=y.get(x);return A??a.get(x)}f.dirtyStyle()},e}(nr),k1="sunburstRootToNode",Vz="sunburstHighlight",ICe="sunburstUnhighlight";function ECe(t){t.registerAction({type:k1,update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(i,a){var s=rp(e,[k1],i);if(s){var o=i.getViewRoot();o&&(e.direction=tE(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),t.registerAction({type:Vz,update:"none"},function(e,n,r){e=J({},e),n.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var s=rp(e,[Vz],a);s&&(e.dataIndex=s.node.dataIndex)}r.dispatchAction(J(e,{type:"highlight"}))}),t.registerAction({type:ICe,update:"updateView"},function(e,n,r){e=J({},e),r.dispatchAction(J(e,{type:"downplay"}))})}var kCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){var s=this;this.seriesModel=n,this.api=i,this.ecModel=r;var o=n.getData(),l=o.tree.root,u=n.getViewRoot(),h=this.group,c=n.get("renderLabelForZeroData"),f=[];u.eachNode(function(x){f.push(x)});var p=this._oldChildren||[];v(f,p),y(l,u),this._initEvents(),this._oldChildren=f;function v(x,A){if(x.length===0&&A.length===0)return;new ks(A,x,b,b).add(S).update(S).remove(Ee(S,null)).execute();function b(w){return w.getId()}function S(w,_){var T=w==null?null:x[w],C=_==null?null:A[_];m(T,C)}}function m(x,A){if(!c&&x&&!x.getValue()&&(x=null),x!==l&&A!==l){if(A&&A.piece)x?(A.piece.updateData(!1,x,n,r,i),o.setItemGraphicEl(x.dataIndex,A.piece)):g(A);else if(x){var b=new Bz(x,n,r,i);h.add(b),o.setItemGraphicEl(x.dataIndex,b)}}}function g(x){x&&x.piece&&(h.remove(x.piece),x.piece=null)}function y(x,A){A.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,x,n,r,i):(s.virtualPiece=new Bz(x,n,r,i),h.add(s.virtualPiece)),A.piece.off("click"),s.virtualPiece.on("click",function(b){s._rootToNode(A.parentNode)})):s.virtualPiece&&(h.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,a=n.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===r.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")n._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var h=l.get("target",!0)||"_blank";Ey(u,h)}}i=!0}})})},e.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:k1,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},e.prototype.containPoint=function(n,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=n[0]-a.cx,o=n[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e}(St),PCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return e.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};l9(i);var a=this._levelModels=te(n.levels||[],function(l){return new dt(l,this,r)},this),s=eE.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,h){var c=s.getNodeByDataIndex(h),f=a[c.depth];return f&&(u.parentModel=f),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treePathInfo=Lx(i,this),r},e.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){d6(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(kt);function l9(t){var e=0;M(t.children,function(r){l9(r);var i=r.value;ee(i)&&(i=i[0]),e+=i});var n=t.value;ee(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=e),n<0&&(n=0),ee(t.value)?t.value[0]=n:t.value=n}var Hz=Math.PI/180;function jCe(t,e,n){e.eachSeriesByType(t,function(r){var i=r.get("center"),a=r.get("radius");ee(a)||(a=[0,a]),ee(i)||(i=[i,i]);var s=n.getWidth(),o=n.getHeight(),l=Math.min(s,o),u=se(i[0],s),h=se(i[1],o),c=se(a[0],l/2),f=se(a[1],l/2),p=-r.get("startAngle")*Hz,v=r.get("minAngle")*Hz,m=r.getData().tree.root,g=r.getViewRoot(),y=g.depth,x=r.get("sort");x!=null&&u9(g,x);var A=0;M(g.children,function(L){!isNaN(L.getValue())&&A++});var b=g.getValue(),S=Math.PI/(b||A)*2,w=g.depth>0,_=g.height-(w?-1:1),T=(f-c)/(_||1),C=r.get("clockwise"),E=r.get("stillShowZeroSum"),k=C?1:-1,I=function(L,F){if(L){var V=F;if(L!==m){var U=L.getValue(),z=b===0&&E?S:U*S;z<v&&(z=v),V=F+k*z;var H=L.depth-y-(w?-1:1),G=c+T*H,N=c+T*(H+1),W=r.getLevelModel(L);if(W){var q=W.get("r0",!0),$=W.get("r",!0),Z=W.get("radius",!0);Z!=null&&(q=Z[0],$=Z[1]),q!=null&&(G=se(q,l/2)),$!=null&&(N=se($,l/2))}L.setLayout({angle:z,startAngle:F,endAngle:V,clockwise:C,cx:u,cy:h,r0:G,r:N})}if(L.children&&L.children.length){var X=0;M(L.children,function(Q){X+=I(Q,F+X)})}return V-F}};if(w){var j=c,P=c+T,D=Math.PI*2;m.setLayout({angle:D,startAngle:p,endAngle:p+D,clockwise:C,cx:u,cy:h,r0:j,r:P})}I(g,p)})}function u9(t,e){var n=t.children||[];t.children=MCe(n,e),n.length&&M(t.children,function(r){u9(r,e)})}function MCe(t,e){if(me(e)){var n=te(t,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return n.sort(function(i,a){return e(i.params,a.params)}),te(n,function(i){return t[i.index]})}else{var r=e==="asc";return t.sort(function(i,a){var s=(i.getValue()-a.getValue())*(r?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(r?-1:1):s})}}function DCe(t){var e={};function n(r,i,a){for(var s=r;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",e);return r.depth>1&&ue(o)&&(o=y_(o,(r.depth-1)/(a-1)*.5)),o}t.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=n(s,r,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");J(u,l)})})}function LCe(t){t.registerChartView(kCe),t.registerSeriesModel(PCe),t.registerLayout(Ee(jCe,"sunburst")),t.registerProcessor(Ee(Kp,"sunburst")),t.registerVisual(DCe),ECe(t)}var Gz={color:"fill",borderColor:"stroke"},NCe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},ps=Qe(),zCe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(n,r){return Rs(null,this)},e.prototype.getDataParams=function(n,r,i){var a=t.prototype.getDataParams.call(this,n,r);return i&&(a.info=ps(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(kt);function RCe(t,e){return e=e||[0,0],te(["x","y"],function(n,r){var i=this.getAxis(n),a=e[r],s=t[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function OCe(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(n){return t.dataToPoint(n)},size:fe(RCe,t)}}}function FCe(t,e){return e=e||[0,0],te([0,1],function(n){var r=e[n],i=t[n]/2,a=[],s=[];return a[n]=r-i,s[n]=r+i,a[1-n]=s[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(s)[n])},this)}function BCe(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(n){return t.dataToPoint(n)},size:fe(FCe,t)}}}function VCe(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function HCe(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(n){return t.dataToPoint(n)},size:fe(VCe,t)}}}function GCe(t,e){return e=e||[0,0],te(["Radius","Angle"],function(n,r){var i="get"+n+"Axis",a=this[i](),s=e[r],o=t[r]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return n==="Angle"&&(l=l*Math.PI/180),l},this)}function UCe(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),s=n.dataToAngle(i[1]),o=t.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:fe(GCe,t)}}}function WCe(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(r,i){return t.dataToPoint(r,i)}}}}function c9(t,e,n,r){return t&&(t.legacy||t.legacy!==!1&&!n&&!r&&e!=="tspan"&&(e==="text"||de(t,"text")))}function h9(t,e,n){var r=t,i,a,s;if(e==="text")s=r;else{s={},de(r,"text")&&(s.text=r.text),de(r,"rich")&&(s.rich=r.rich),de(r,"textFill")&&(s.fill=r.textFill),de(r,"textStroke")&&(s.stroke=r.textStroke),de(r,"fontFamily")&&(s.fontFamily=r.fontFamily),de(r,"fontSize")&&(s.fontSize=r.fontSize),de(r,"fontStyle")&&(s.fontStyle=r.fontStyle),de(r,"fontWeight")&&(s.fontWeight=r.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=de(r,"textPosition");n?i.position=o?r.textPosition:"inside":o&&(i.position=r.textPosition),de(r,"textPosition")&&(i.position=r.textPosition),de(r,"textOffset")&&(i.offset=r.textOffset),de(r,"textRotation")&&(i.rotation=r.textRotation),de(r,"textDistance")&&(i.distance=r.textDistance)}return Uz(s,t),M(s.rich,function(l){Uz(l,l)}),{textConfig:i,textContent:a}}function Uz(t,e){e&&(e.font=e.textFont||e.font,de(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),de(e,"textAlign")&&(t.align=e.textAlign),de(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),de(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),de(e,"textWidth")&&(t.width=e.textWidth),de(e,"textHeight")&&(t.height=e.textHeight),de(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),de(e,"textPadding")&&(t.padding=e.textPadding),de(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),de(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),de(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),de(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),de(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),de(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),de(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Wz(t,e,n){var r=t;r.textPosition=r.textPosition||n.position||"inside",n.offset!=null&&(r.textOffset=n.offset),n.rotation!=null&&(r.textRotation=n.rotation),n.distance!=null&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,a=t.fill||"#000";$z(r,e);var s=r.textFill==null;return i?s&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(s&&(r.textFill=t.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=e.text,r.rich=e.rich,M(e.rich,function(o){$z(o,o)}),r}function $z(t,e){e&&(de(e,"fill")&&(t.textFill=e.fill),de(e,"stroke")&&(t.textStroke=e.fill),de(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),de(e,"font")&&(t.font=e.font),de(e,"fontStyle")&&(t.fontStyle=e.fontStyle),de(e,"fontWeight")&&(t.fontWeight=e.fontWeight),de(e,"fontSize")&&(t.fontSize=e.fontSize),de(e,"fontFamily")&&(t.fontFamily=e.fontFamily),de(e,"align")&&(t.textAlign=e.align),de(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),de(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),de(e,"width")&&(t.textWidth=e.width),de(e,"height")&&(t.textHeight=e.height),de(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),de(e,"padding")&&(t.textPadding=e.padding),de(e,"borderColor")&&(t.textBorderColor=e.borderColor),de(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),de(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),de(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),de(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),de(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),de(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),de(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),de(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),de(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),de(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var f9={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Yz=Xe(f9);Da(Na,function(t,e){return t[e]=1,t},{});Na.join(", ");var qy=["","style","shape","extra"],dh=Qe();function mE(t,e,n,r,i){var a=t+"Animation",s=jh(t,r,i)||{},o=dh(e).userDuring;return s.duration>0&&(s.during=o?fe(ZCe,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=t),J(s,n[a]),s}function xg(t,e,n,r){r=r||{};var i=r.dataIndex,a=r.isInit,s=r.clearStyle,o=n.isAnimationEnabled(),l=dh(t),u=e.style;l.userDuring=e.during;var h={},c={};if(KCe(t,e,c),Xz("shape",e,c),Xz("extra",e,c),!a&&o&&(JCe(t,e,h),qz("shape",t,e,h),qz("extra",t,e,h),QCe(t,e,u,h)),c.style=u,$Ce(t,c,s),qCe(t,e),o)if(a){var f={};M(qy,function(v){var m=v?e[v]:e;m&&m.enterFrom&&(v&&(f[v]=f[v]||{}),J(v?f[v]:f,m.enterFrom))});var p=mE("enter",t,e,n,i);p.duration>0&&t.animateFrom(f,p)}else YCe(t,e,i||0,n,h);d9(t,e),u?t.dirty():t.markRedraw()}function d9(t,e){for(var n=dh(t).leaveToProps,r=0;r<qy.length;r++){var i=qy[r],a=i?e[i]:e;a&&a.leaveTo&&(n||(n=dh(t).leaveToProps={}),i&&(n[i]=n[i]||{}),J(i?n[i]:n,a.leaveTo))}}function Rx(t,e,n,r){if(t){var i=t.parent,a=dh(t).leaveToProps;if(a){var s=mE("update",t,e,n,0);s.done=function(){i.remove(t)},t.animateTo(a,s)}else i.remove(t)}}function pu(t){return t==="all"}function $Ce(t,e,n){var r=e.style;if(!t.isGroup&&r){if(n){t.useStyle({});for(var i=t.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(t.style)}}t.setStyle(r)}e&&(e.style=null,e&&t.attr(e),e.style=r)}function YCe(t,e,n,r,i){if(i){var a=mE("update",t,e,r,n);a.duration>0&&t.animateFrom(i,a)}}function qCe(t,e){de(e,"silent")&&(t.silent=e.silent),de(e,"ignore")&&(t.ignore=e.ignore),t instanceof yi&&de(e,"invisible")&&(t.invisible=e.invisible),t instanceof Ve&&de(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var ia={},XCe={setTransform:function(t,e){return ia.el[t]=e,this},getTransform:function(t){return ia.el[t]},setShape:function(t,e){var n=ia.el,r=n.shape||(n.shape={});return r[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=ia.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=ia.el,r=n.style;return r&&(r[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=ia.el.style;if(e)return e[t]},setExtra:function(t,e){var n=ia.el.extra||(ia.el.extra={});return n[t]=e,this},getExtra:function(t){var e=ia.el.extra;if(e)return e[t]}};function ZCe(){var t=this,e=t.el;if(e){var n=dh(e).userDuring,r=t.userDuring;if(n!==r){t.el=t.userDuring=null;return}ia.el=e,r(XCe)}}function qz(t,e,n,r){var i=n[t];if(i){var a=e[t],s;if(a){var o=n.transition,l=i.transition;if(l)if(!s&&(s=r[t]={}),pu(l))J(s,a);else for(var u=bt(l),h=0;h<u.length;h++){var c=u[h],f=a[c];s[c]=f}else if(pu(o)||ze(o,t)>=0){!s&&(s=r[t]={});for(var p=Xe(a),h=0;h<p.length;h++){var c=p[h],f=a[c];eIe(i[c],f)&&(s[c]=f)}}}}}function Xz(t,e,n){var r=e[t];if(r)for(var i=n[t]={},a=Xe(r),s=0;s<a.length;s++){var o=a[s];i[o]=od(r[o])}}function JCe(t,e,n){for(var r=e.transition,i=pu(r)?Na:bt(r||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=t[s];n[s]=o}}}function KCe(t,e,n){for(var r=0;r<Yz.length;r++){var i=Yz[r],a=f9[i],s=e[i];s&&(n[a[0]]=s[0],n[a[1]]=s[1])}for(var r=0;r<Na.length;r++){var o=Na[r];e[o]!=null&&(n[o]=e[o])}}function QCe(t,e,n,r){if(n){var i=t.style,a;if(i){var s=n.transition,o=e.transition;if(s&&!pu(s)){var l=bt(s);!a&&(a=r.style={});for(var u=0;u<l.length;u++){var h=l[u],c=i[h];a[h]=c}}else if(t.getAnimationStyleProps&&(pu(o)||pu(s)||ze(o,"style")>=0)){var f=t.getAnimationStyleProps(),p=f?f.style:null;if(p){!a&&(a=r.style={});for(var v=Xe(n),u=0;u<v.length;u++){var h=v[u];if(p[h]){var c=i[h];a[h]=c}}}}}}}function eIe(t,e){return On(t)?t!==e:t!=null&&isFinite(t)}var p9=Qe(),tIe=["percent","easing","shape","style","extra"];function v9(t){t.stopAnimation("keyframe"),t.attr(p9(t))}function Xy(t,e,n){if(!(!n.isAnimationEnabled()||!e)){if(ee(e)){M(e,function(o){Xy(t,o,n)});return}var r=e.keyframes,i=e.duration;if(n&&i==null){var a=jh("enter",n,0);i=a&&a.duration}if(!(!r||!i)){var s=p9(t);M(qy,function(o){if(!(o&&!t[o])){var l;r.sort(function(u,h){return u.percent-h.percent}),M(r,function(u){var h=t.animators,c=o?u[o]:u;if(c){var f=Xe(c);if(o||(f=gt(f,function(m){return ze(tIe,m)<0})),!!f.length){l||(l=t.animate(o,e.loop,!0),l.scope="keyframe");for(var p=0;p<h.length;p++)h[p]!==l&&h[p].targetName===l.targetName&&h[p].stopTracks(f);o&&(s[o]=s[o]||{});var v=o?s[o]:s;M(f,function(m){v[m]=((o?t[o]:t)||{})[m]}),l.whenWithKeys(i*u.percent,c,f,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var vs="emphasis",Ao="normal",gE="blur",yE="select",Vo=[Ao,vs,gE,yE],Pw={normal:["itemStyle"],emphasis:[vs,"itemStyle"],blur:[gE,"itemStyle"],select:[yE,"itemStyle"]},jw={normal:["label"],emphasis:[vs,"label"],blur:[gE,"label"],select:[yE,"label"]},nIe=["x","y"],rIe="e\0\0",Xr={normal:{},emphasis:{},blur:{},select:{}},iIe={cartesian2d:OCe,geo:BCe,single:HCe,polar:UCe,calendar:WCe};function P1(t){return t instanceof Ve}function j1(t){return t instanceof yi}function aIe(t,e){e.copyTransform(t),j1(e)&&j1(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,P1(e)&&P1(t)&&e.setShape(t.shape))}var sIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){this._progressiveEls=null;var s=this._data,o=n.getData(),l=this.group,u=Zz(n,o,r,i);s||l.removeAll(),o.diff(s).add(function(c){Mw(i,null,c,u(c,a),n,l,o)}).remove(function(c){var f=s.getItemGraphicEl(c);f&&Rx(f,ps(f).option,n)}).update(function(c,f){var p=s.getItemGraphicEl(f);Mw(i,p,c,u(c,a),n,l,o)}).execute();var h=n.get("clip",!0)?Zp(n.coordinateSystem,!1,n):null;h?l.setClipPath(h):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(n,r,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(n,r,i,a,s){var o=r.getData(),l=Zz(r,o,i,a),u=this._progressiveEls=[];function h(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var c=n.start;c<n.end;c++){var f=Mw(null,null,c,l(c,s),r,this.group,o);f&&(f.traverse(h),u.push(f))}},e.prototype.eachRendered=function(n){Xo(this._progressiveEls||this.group,n)},e.prototype.filterForExposedEvent=function(n,r,i,a){var s=r.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},e.type="custom",e}(St);function xE(t){var e=t.type,n;if(e==="path"){var r=t.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=y9(r);n=fx(a,null,i,r.layout||"center"),ps(n).customPathData=a}else if(e==="image")n=new Sn({}),ps(n).customImagePath=t.style.image;else if(e==="text")n=new et({});else if(e==="group")n=new Ae;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=lI(e);if(!s){var o="";ut(o)}n=new s}return ps(n).customGraphicType=e,n.name=t.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function AE(t,e,n,r,i,a,s){v9(e);var o=i&&i.normal.cfg;o&&e.setTextConfig(o),r&&r.transition==null&&(r.transition=nIe);var l=r&&r.style;if(l){if(e.type==="text"){var u=l;de(u,"textFill")&&(u.fill=u.textFill),de(u,"textStroke")&&(u.stroke=u.textStroke)}var h=void 0,c=P1(e)?l.decal:null;t&&c&&(c.dirty=!0,h=lh(c,t)),l.__decalPattern=h}if(j1(e)&&l){var h=l.__decalPattern;h&&(l.decal=h)}xg(e,r,a,{dataIndex:n,isInit:s,clearStyle:!0}),Xy(e,r.keyframeAnimation,a)}function m9(t,e,n,r,i){var a=e.isGroup?null:e,s=i&&i[t].cfg;if(a){var o=a.ensureState(t);if(r===!1){var l=a.getState(t);l&&(l.style=null)}else o.style=r||null;s&&(o.textConfig=s),bu(a)}}function oIe(t,e,n){if(!t.isGroup){var r=t,i=n.currentZ,a=n.currentZLevel;r.z=i,r.zlevel=a;var s=e.z2;s!=null&&(r.z2=s||0);for(var o=0;o<Vo.length;o++)lIe(r,e,Vo[o])}}function lIe(t,e,n){var r=n===Ao,i=r?e:Zy(e,n),a=i?i.z2:null,s;a!=null&&(s=r?t:t.ensureState(n),s.z2=a||0)}function Zz(t,e,n,r){var i=t.get("renderItem"),a=t.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):iIe[a.type](a));for(var o=ge({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:b,style:w,ordinalRawValue:S,styleEmphasis:_,visual:E,barLayout:k,currentSeriesIndices:I,font:j},s.api||{}),l={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:uIe(t.getData())},u,h,c={},f={},p={},v={},m=0;m<Vo.length;m++){var g=Vo[m];p[g]=t.getModel(Pw[g]),v[g]=t.getModel(jw[g])}function y(P){return P===u?h||(h=e.getItemModel(P)):e.getItemModel(P)}function x(P,D){return e.hasItemOption?P===u?c[D]||(c[D]=y(P).getModel(Pw[D])):y(P).getModel(Pw[D]):p[D]}function A(P,D){return e.hasItemOption?P===u?f[D]||(f[D]=y(P).getModel(jw[D])):y(P).getModel(jw[D]):v[D]}return function(P,D){return u=P,h=null,c={},f={},i&&i(ge({dataIndexInside:P,dataIndex:e.getRawIndex(P),actionType:D?D.type:null},l),o)};function b(P,D){return D==null&&(D=u),e.getStore().get(e.getDimensionIndex(P||0),D)}function S(P,D){D==null&&(D=u),P=P||0;var L=e.getDimensionInfo(P);if(!L){var F=e.getDimensionIndex(P);return F>=0?e.getStore().get(F,D):void 0}var V=e.get(L.name,D),U=L&&L.ordinalMeta;return U?U.categories[V]:V}function w(P,D){D==null&&(D=u);var L=e.getItemVisual(D,"style"),F=L&&L.fill,V=L&&L.opacity,U=x(D,Ao).getItemStyle();F!=null&&(U.fill=F),V!=null&&(U.opacity=V);var z={inheritColor:ue(F)?F:"#000"},H=A(D,Ao),G=Et(H,null,z,!1,!0);G.text=H.getShallow("show")?_e(t.getFormattedLabel(D,Ao),ch(e,D)):null;var N=Cy(H,z,!1);return C(P,U),U=Wz(U,G,N),P&&T(U,P),U.legacy=!0,U}function _(P,D){D==null&&(D=u);var L=x(D,vs).getItemStyle(),F=A(D,vs),V=Et(F,null,null,!0,!0);V.text=F.getShallow("show")?Ca(t.getFormattedLabel(D,vs),t.getFormattedLabel(D,Ao),ch(e,D)):null;var U=Cy(F,null,!0);return C(P,L),L=Wz(L,V,U),P&&T(L,P),L.legacy=!0,L}function T(P,D){for(var L in D)de(D,L)&&(P[L]=D[L])}function C(P,D){P&&(P.textFill&&(D.textFill=P.textFill),P.textPosition&&(D.textPosition=P.textPosition))}function E(P,D){if(D==null&&(D=u),de(Gz,P)){var L=e.getItemVisual(D,"style");return L?L[Gz[P]]:null}if(de(NCe,P))return e.getItemVisual(D,P)}function k(P){if(a.type==="cartesian2d"){var D=a.getBaseAxis();return K0e(ge({axis:D},P))}}function I(){return n.getCurrentSeriesIndices()}function j(P){return uI(P,n)}}function uIe(t){var e={};return M(t.dimensions,function(n){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim,a=e[i]=e[i]||[];a[r.coordDimIndex]=t.getDimensionIndex(n)}}),e}function Mw(t,e,n,r,i,a,s){if(!r){a.remove(e);return}var o=bE(t,e,n,r,i,a);return o&&s.setItemGraphicEl(n,o),o&&Wt(o,r.focus,r.blurScope,r.emphasisDisabled),o}function bE(t,e,n,r,i,a){var s=-1,o=e;e&&g9(e,r,i)&&(s=ze(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=xE(r),o&&aIe(o,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Xr.normal.cfg=Xr.normal.conOpt=Xr.emphasis.cfg=Xr.emphasis.conOpt=Xr.blur.cfg=Xr.blur.conOpt=Xr.select.cfg=Xr.select.conOpt=null,Xr.isLegacy=!1,hIe(u,n,r,i,l,Xr),cIe(u,n,r,i,l),AE(t,u,n,r,Xr,i,l),de(r,"info")&&(ps(u).info=r.info);for(var h=0;h<Vo.length;h++){var c=Vo[h];if(c!==Ao){var f=Zy(r,c),p=wE(r,f,c);m9(c,u,f,p,Xr)}}return oIe(u,r,i),r.type==="group"&&fIe(t,u,n,r,i),s>=0?a.replaceAt(u,s):a.add(u),u}function g9(t,e,n){var r=ps(t),i=e.type,a=e.shape,s=e.style;return n.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&mIe(a)&&y9(a)!==r.customPathData||i==="image"&&de(s,"image")&&s.image!==r.customImagePath}function cIe(t,e,n,r,i){var a=n.clipPath;if(a===!1)t&&t.getClipPath()&&t.removeClipPath();else if(a){var s=t.getClipPath();s&&g9(s,a,r)&&(s=null),s||(s=xE(a),t.setClipPath(s)),AE(null,s,e,a,null,r,i)}}function hIe(t,e,n,r,i,a){if(!t.isGroup){Jz(n,null,a),Jz(n,vs,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var h=t.getTextContent();if(s===!1)h&&t.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},h?h.clearStates():(h=xE(s),t.setTextContent(h)),AE(null,h,e,s,null,r,i);for(var c=s&&s.style,f=0;f<Vo.length;f++){var p=Vo[f];if(p!==Ao){var v=a[p].conOpt;m9(p,h,v,wE(s,v,p),null)}}c?h.dirty():h.markRedraw()}}}}function Jz(t,e,n){var r=e?Zy(t,e):t,i=e?wE(t,r,vs):t.style,a=t.type,s=r?r.textConfig:null,o=t.textContent,l=o?e?Zy(o,e):o:null;if(i&&(n.isLegacy||c9(i,a,!!s,!!l))){n.isLegacy=!0;var u=h9(i,a,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var h=l;!h.type&&(h.type="text")}var c=e?n[e]:n.normal;c.cfg=s,c.conOpt=l}function Zy(t,e){return e?t?t[e]:null:t}function wE(t,e,n){var r=e&&e.style;return r==null&&n===vs&&t&&(r=t.styleEmphasis),r}function fIe(t,e,n,r,i){var a=r.children,s=a?a.length:0,o=r.$mergeChildren,l=o==="byName"||r.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){pIe({api:t,oldChildren:e.children()||[],newChildren:a||[],dataIndex:n,seriesModel:i,group:e});return}u&&e.removeAll();for(var h=0;h<s;h++){var c=a[h],f=e.childAt(h);c?(c.ignore==null&&(c.ignore=!1),bE(t,f,n,c,i,e)):f.ignore=!0}for(var p=e.childCount()-1;p>=h;p--){var v=e.childAt(p);dIe(e,v,i)}}}function dIe(t,e,n){e&&Rx(e,ps(t).option,n)}function pIe(t){new ks(t.oldChildren,t.newChildren,Kz,Kz,t).add(Qz).update(Qz).remove(vIe).execute()}function Kz(t,e){var n=t&&t.name;return n??rIe+e}function Qz(t,e){var n=this.context,r=t!=null?n.newChildren[t]:null,i=e!=null?n.oldChildren[e]:null;bE(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function vIe(t){var e=this.context,n=e.oldChildren[t];n&&Rx(n,ps(n).option,e.seriesModel)}function y9(t){return t&&(t.pathData||t.d)}function mIe(t){return t&&(de(t,"pathData")||de(t,"d"))}function gIe(t){t.registerChartView(sIe),t.registerSeriesModel(zCe)}var Vl=Qe(),eR=xe,Dw=fe,SE=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,n,r,i){var a=n.get("value"),s=n.get("status");if(this._axisModel=e,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,e,n,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(e,n);if(!o)o=this._group=new Ae,this.createPointerEl(o,u,e,n),this.createLabelEl(o,u,e,n),r.getZr().add(o);else{var f=Ee(tR,n,c);this.updatePointerEl(o,u,f),this.updateLabelEl(o,u,f,n)}rR(o,n,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,n){var r=n.get("animation"),i=e.axis,a=i.type==="category",s=n.get("snap");if(!s&&!a)return!1;if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=YI(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return r===!0},t.prototype.makeElOption=function(e,n,r,i,a){},t.prototype.createPointerEl=function(e,n,r,i){var a=n.pointer;if(a){var s=Vl(e).pointerEl=new Lu[a.type](eR(n.pointer));e.add(s)}},t.prototype.createLabelEl=function(e,n,r,i){if(n.label){var a=Vl(e).labelEl=new et(eR(n.label));e.add(a),nR(a,i)}},t.prototype.updatePointerEl=function(e,n,r){var i=Vl(e).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(e,n,r,i){var a=Vl(e).labelEl;a&&(a.setStyle(n.label.style),r(a,{x:n.label.x,y:n.label.y}),nR(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=n.getModel("handle"),s=n.get("status");if(!a.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=Gp(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Ts(u.event)},onmousedown:Dw(this._onHandleDragMove,this,0,0),drift:Dw(this._onHandleDragMove,this),ondragend:Dw(this._onHandleDragEnd,this)}),r.add(i)),rR(i,n,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ee(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Fh(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},t.prototype._moveHandleToValue=function(e,n){tR(this._axisPointerModel,!n&&this._moveAnimation,this._handle,Lw(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(Lw(r),[e,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(Lw(i)),Vl(r).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var n=e.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),Xd(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,n,r){return r=r||0,{x:e[r],y:e[1-r],width:n[r],height:n[1-r]}},t}();function tR(t,e,n,r){x9(Vl(n).lastProp,r)||(Vl(n).lastProp=r,e?it(n,r,t):(n.stopAnimation(),n.attr(r)))}function x9(t,e){if(ye(t)&&ye(e)){var n=!0;return M(e,function(r,i){n=n&&x9(t[i],r)}),!!n}else return t===e}function nR(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Lw(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function rR(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=n)})}function _E(t){var e=t.get("type"),n=t.getModel(e+"Style"),r;return e==="line"?(r=n.getLineStyle(),r.fill=null):e==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function A9(t,e,n,r,i){var a=n.get("value"),s=b9(a,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),o=n.getModel("label"),l=Nh(o.get("padding")||0),u=o.getFont(),h=Rp(s,u),c=i.position,f=h.width+l[1]+l[3],p=h.height+l[0]+l[2],v=i.align;v==="right"&&(c[0]-=f),v==="center"&&(c[0]-=f/2);var m=i.verticalAlign;m==="bottom"&&(c[1]-=p),m==="middle"&&(c[1]-=p/2),yIe(c,f,p,r);var g=o.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),t.label={x:c[0],y:c[1],style:Et(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function yIe(t,e,n,r){var i=r.getWidth(),a=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function b9(t,e,n,r,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),s=i.formatter;if(s){var o={value:zI(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};M(r,function(l){var u=n.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&o.seriesData.push(c)}),ue(s)?a=s.replace("{value}",a):me(s)&&(a=s(o))}return a}function TE(t,e,n){var r=Nr();return Du(r,r,n.rotation),La(r,r,n.position),Bi([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function w9(t,e,n,r,i,a){var s=Kn.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),A9(e,r,i,a,{position:TE(r.axis,t,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function CE(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function S9(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function iR(t,e,n,r,i,a){return{cx:t,cy:e,r0:n,r,startAngle:i,endAngle:a,clockwise:!0}}var xIe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),h=aR(l,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(r,!0));if(u&&u!=="none"){var f=_E(a),p=AIe[u](o,c,h);p.style=f,n.graphicKey=p.type,n.pointer=p}var v=f1(l.model,i);w9(r,n,v,i,a,s)},e.prototype.getHandleTransform=function(n,r,i){var a=f1(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=TE(r.axis,n,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=aR(o,s).getOtherAxis(s).getGlobalExtent(),h=s.dim==="x"?0:1,c=[n.x,n.y];c[h]+=r[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var f=(u[1]+u[0])/2,p=[f,f];p[h]=c[h];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:n.rotation,cursorPoint:p,tooltipOption:v[h]}},e}(SE);function aR(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var AIe={line:function(t,e,n){var r=CE([e,n[0]],[e,n[1]],sR(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:S9([e-r/2,n[0]],[r,i],sR(t))}}};function sR(t){return t.dim==="x"?0:1}var bIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(qe),ls=Qe(),wIe=M;function _9(t,e,n){if(!We.node){var r=e.getZr();ls(r).records||(ls(r).records={}),SIe(r,e);var i=ls(r).records[t]||(ls(r).records[t]={});i.handler=n}}function SIe(t,e){if(ls(t).initialized)return;ls(t).initialized=!0,n("click",Ee(oR,"click")),n("mousemove",Ee(oR,"mousemove")),n("globalout",TIe);function n(r,i){t.on(r,function(a){var s=CIe(e);wIe(ls(t).records,function(o){o&&i(o,a,s.dispatchAction)}),_Ie(s.pendings,e)})}}function _Ie(t,e){var n=t.showTip.length,r=t.hideTip.length,i;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function TIe(t,e,n){t.handler("leave",null,n)}function oR(t,e,n,r){e.handler(t,n,r)}function CIe(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function M1(t,e){if(!We.node){var n=e.getZr(),r=(ls(n).records||{})[t];r&&(ls(n).records[t]=null)}}var IIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=r.getComponent("tooltip"),s=n.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";_9("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(n,r){M1("axisPointer",r)},e.prototype.dispose=function(n,r){M1("axisPointer",r)},e.type="axisPointer",e}(Ot);function T9(t,e){var n=[],r=t.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),s=xu(a,t);if(s==null||s<0||ee(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=h.dim,f=u.dim,p=c==="x"||c==="radius"?1:0,v=a.mapDimension(f),m=[];m[p]=a.get(v,s),m[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),s),n=l.dataToPoint(m)||[]}else n=l.dataToPoint(a.getValues(te(l.dimensions,function(y){return a.mapDimension(y)}),s))||[];else if(o){var g=o.getBoundingRect().clone();g.applyTransform(o.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:o}}var lR=Qe();function EIe(t,e,n){var r=t.currTrigger,i=[t.x,t.y],a=t,s=t.dispatchAction||fe(n.dispatchAction,n),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){Ag(i)&&(i=T9({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=Ag(i),u=a.axesInfo,h=o.axesInfo,c=r==="leave"||Ag(i),f={},p={},v={list:[],map:{}},m={showPointer:Ee(PIe,p),showTooltip:Ee(jIe,v)};M(o.coordSysMap,function(y,x){var A=l||y.containPoint(i);M(o.coordSysAxesInfo[x],function(b,S){var w=b.axis,_=NIe(u,b);if(!c&&A&&(!u||_)){var T=_&&_.value;T==null&&!l&&(T=w.pointToData(i)),T!=null&&uR(b,T,m,!1,f)}})});var g={};return M(h,function(y,x){var A=y.linkGroup;A&&!p[x]&&M(A.axesInfo,function(b,S){var w=p[S];if(b!==y&&w){var _=w.value;A.mapper&&(_=y.axis.scale.parse(A.mapper(_,cR(b),cR(y)))),g[y.key]=_}})}),M(g,function(y,x){uR(h[x],y,m,!0,f)}),MIe(p,h,f),DIe(v,i,t,s),LIe(h,s,n),f}}function uR(t,e,n,r,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){n.showPointer(t,e);return}var s=kIe(e,t),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&J(i,o[0]),!r&&t.snap&&a.containData(l)&&l!=null&&(e=l),n.showPointer(t,e,o),n.showTooltip(t,s,l)}}function kIe(t,e){var n=e.axis,r=n.dim,i=t,a=[],s=Number.MAX_VALUE,o=-1;return M(e.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(r),c,f;if(l.getAxisTooltipData){var p=l.getAxisTooltipData(h,t,n);f=p.dataIndices,c=p.nestestValue}else{if(f=l.getData().indicesOfNearest(h[0],t,n.type==="category"?.5:null),!f.length)return;c=l.getData().get(h[0],f[0])}if(!(c==null||!isFinite(c))){var v=t-c,m=Math.abs(v);m<=s&&((m<s||v>=0&&o<0)&&(s=m,o=v,i=c,a.length=0),M(f,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function PIe(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function jIe(t,e,n,r){var i=n.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=np(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function MIe(t,e,n){var r=n.axesInfo=[];M(e,function(i,a){var s=i.axisPointerModel.option,o=t[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function DIe(t,e,n,r){if(Ag(e)||!t.list.length){r({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function LIe(t,e,n){var r=n.getZr(),i="axisPointerLastHighlights",a=lR(r)[i]||{},s=lR(r)[i]={};M(t,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&M(c.seriesDataIndices,function(f){var p=f.seriesIndex+" | "+f.dataIndex;s[p]=f})});var o=[],l=[];M(a,function(u,h){!s[h]&&l.push(u)}),M(s,function(u,h){!a[h]&&o.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function NIe(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function cR(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function Ag(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function nv(t){Ou.registerAxisPointerClass("CartesianAxisPointer",xIe),t.registerComponentModel(bIe),t.registerComponentView(IIe),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var n=e.axisPointer.link;n&&!ee(n)&&(e.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,n){e.getComponent("axisPointer").coordSysAxesInfo=Wbe(e,n)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},EIe)}function zIe(t){Fe(KW),Fe(nv)}var RIe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),h=u.getExtent(),c=o.dataToCoord(r),f=a.get("type");if(f&&f!=="none"){var p=_E(a),v=FIe[f](o,l,c,h);v.style=p,n.graphicKey=v.type,n.pointer=v}var m=a.get(["label","margin"]),g=OIe(r,i,a,l,m);A9(n,i,a,s,g)},e}(SE);function OIe(t,e,n,r,i){var a=e.axis,s=a.dataToCoord(t),o=r.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,h,c;if(a.dim==="radius"){var f=Nr();Du(f,f,o),La(f,f,[r.cx,r.cy]),u=Bi([s,-i],f);var p=e.getModel("axisLabel").get("rotate")||0,v=Kn.innerTextLayout(o,p*Math.PI/180,-1);h=v.textAlign,c=v.textVerticalAlign}else{var m=l[1];u=r.coordToPoint([m+i,s]);var g=r.cx,y=r.cy;h=Math.abs(u[0]-g)/m<.3?"center":u[0]>g?"left":"right",c=Math.abs(u[1]-y)/m<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:h,verticalAlign:c}}var FIe={line:function(t,e,n,r){return t.dim==="angle"?{type:"Line",shape:CE(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth()),a=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:iR(e.cx,e.cy,r[0],r[1],(-n-i/2)*a,(-n+i/2)*a)}:{type:"Sector",shape:iR(e.cx,e.cy,n-i/2,n+i/2,0,Math.PI*2)}}},BIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.findAxisModel=function(n){var r,i=this.ecModel;return i.eachComponent(n,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(qe),IE=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",tn).models[0]},e.type="polarAxis",e}(qe);an(IE,Yp);var VIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="angleAxis",e}(IE),HIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="radiusAxis",e}(IE),EE=function(t){Y(e,t);function e(n,r){return t.call(this,"radius",n,r)||this}return e.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},e}(Yi);EE.prototype.dataToRadius=Yi.prototype.dataToCoord;EE.prototype.radiusToData=Yi.prototype.coordToData;var GIe=Qe(),kE=function(t){Y(e,t);function e(n,r){return t.call(this,"angle",n,r||[0,360])||this}return e.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var n=this,r=n.getLabelModel(),i=n.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=n.dataToCoord(o+1)-n.dataToCoord(o),u=Math.abs(l),h=Rp(o==null?"":o+"",r.getFont(),"center","top"),c=Math.max(h.height,7),f=c/u;isNaN(f)&&(f=1/0);var p=Math.max(0,Math.floor(f)),v=GIe(n.model),m=v.lastAutoInterval,g=v.lastTickCount;return m!=null&&g!=null&&Math.abs(m-p)<=1&&Math.abs(g-s)<=1&&m>p?p=m:(v.lastTickCount=s,v.lastAutoInterval=p),p},e}(Yi);kE.prototype.dataToAngle=Yi.prototype.dataToCoord;kE.prototype.angleToData=Yi.prototype.coordToData;var C9=["radius","angle"],UIe=function(){function t(e){this.dimensions=C9,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new EE,this._angleAxis=new kE,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(e){var n=this.pointToCoord(e);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},t.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},t.prototype.getAxis=function(e){var n="_"+e+"Axis";return this[n]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(e){var n=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&n.push(r),i.scale.type===e&&n.push(i),n},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(e){var n=this._angleAxis;return e===n?this._radiusAxis:n},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(e){var n=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},t.prototype.dataToPoint=function(e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],n),this._angleAxis.dataToAngle(e[1],n)])},t.prototype.pointToData=function(e,n){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],n),this._angleAxis.angleToData(r[1],n)]},t.prototype.pointToCoord=function(e){var n=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(n*n+r*r);n/=l,r/=l;for(var u=Math.atan2(-r,n)/Math.PI*180,h=u<s?1:-1;u<s||u>o;)u+=h*360;return[l,u]},t.prototype.coordToPoint=function(e){var n=e[0],r=e[1]/180*Math.PI,i=Math.cos(r)*n+this.cx,a=-Math.sin(r)*n+this.cy;return[i,a]},t.prototype.getArea=function(){var e=this.getAngleAxis(),n=this.getRadiusAxis(),r=n.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(s,o){var l=s-this.cx,u=o-this.cy,h=l*l+u*u-1e-4,c=this.r,f=this.r0;return h<=c*c&&h>=f*f}}},t.prototype.convertToPixel=function(e,n,r){var i=hR(n);return i===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var i=hR(n);return i===this?this.pointToData(r):null},t}();function hR(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}const WIe=UIe;function $Ie(t,e,n){var r=e.get("center"),i=n.getWidth(),a=n.getHeight();t.cx=se(r[0],i),t.cy=se(r[1],a);var s=t.getRadiusAxis(),o=Math.min(i,a)/2,l=e.get("radius");l==null?l=[0,"100%"]:ee(l)||(l=[0,l]);var u=[se(l[0],o),se(l[1],o)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}function YIe(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(o){if(o.coordinateSystem===n){var l=o.getData();M(Ry(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),M(Ry(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),uh(r.scale,r.model),uh(i.scale,i.model),r.type==="category"&&!r.onBand){var a=r.getExtent(),s=360/r.scale.count();r.inverse?a[1]+=s:a[1]-=s,r.setExtent(a[0],a[1])}}function qIe(t){return t.mainType==="angleAxis"}function fR(t,e){var n;if(t.type=e.get("type"),t.scale=Px(e),t.onBand=e.get("boundaryGap")&&t.type==="category",t.inverse=e.get("inverse"),qIe(e)){t.inverse=t.inverse!==e.get("clockwise");var r=e.get("startAngle"),i=(n=e.get("endAngle"))!==null&&n!==void 0?n:r+(t.inverse?-360:360);t.setExtent(r,i)}e.axis=t,t.model=e}var XIe={dimensions:C9,create:function(t,e){var n=[];return t.eachComponent("polar",function(r,i){var a=new WIe(i+"");a.update=YIe;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");fR(s,l),fR(o,u),$Ie(a,r,e),n.push(a),r.coordinateSystem=a,a.model=r}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",tn).models[0];r.coordinateSystem=i.coordinateSystem}}),n}},ZIe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Mm(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function Dm(t){var e=t.getRadiusAxis();return e.inverse?0:1}function dR(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var JIe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return e.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var i=n.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=te(i.getViewLabels(),function(h){h=xe(h);var c=i.scale,f=c.type==="ordinal"?c.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=i.dataToCoord(f),h});dR(u),dR(o),M(ZIe,function(h){n.get([h,"show"])&&(!i.scale.isBlank()||h==="axisLine")&&KIe[h](this.group,n,a,o,l,s,u)},this)}},e.type="angleAxis",e}(Ou),KIe={axisLine:function(t,e,n,r,i,a){var s=e.getModel(["axisLine","lineStyle"]),o=n.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),h=Dm(n),c=h?0:1,f,p=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[c]===0?f=new Lu[p]({shape:{cx:n.cx,cy:n.cy,r:a[h],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):f=new cx({shape:{cx:n.cx,cy:n.cy,r:a[h],r0:a[c]},style:s.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,t.add(f)},axisTick:function(t,e,n,r,i,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[Dm(n)],u=te(r,function(h){return new dn({shape:Mm(n,[l,l+o],h.coord)})});t.add(ui(u,{style:ge(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,r,i,a){if(i.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[Dm(n)],h=[],c=0;c<i.length;c++)for(var f=0;f<i[c].length;f++)h.push(new dn({shape:Mm(n,[u,u+l],i[c][f].coord)}));t.add(ui(h,{style:ge(o.getModel("lineStyle").getLineStyle(),ge(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,r,i,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),h=e.get("triggerEvent");M(s,function(c,f){var p=l,v=c.tickValue,m=a[Dm(n)],g=n.coordToPoint([m+u,c.coord]),y=n.cx,x=n.cy,A=Math.abs(g[0]-y)/m<.3?"center":g[0]>y?"left":"right",b=Math.abs(g[1]-x)/m<.3?"middle":g[1]>x?"top":"bottom";if(o&&o[v]){var S=o[v];ye(S)&&S.textStyle&&(p=new dt(S.textStyle,l,l.ecModel))}var w=new et({silent:Kn.isLabelSilent(e),style:Et(p,{x:g[0],y:g[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:c.formattedLabel,align:A,verticalAlign:b})});if(t.add(w),h){var _=Kn.makeAxisEventDataBase(e);_.targetType="axisLabel",_.value=c.rawLabel,Se(w).eventData=_}},this)},splitLine:function(t,e,n,r,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=0;c<r.length;c++){var f=u++%l.length;h[f]=h[f]||[],h[f].push(new dn({shape:Mm(n,a,r[c].coord)}))}for(var c=0;c<h.length;c++)t.add(ui(h[c],{style:ge({stroke:l[c%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,r,i,a){if(i.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var h=0;h<i[u].length;h++)l.push(new dn({shape:Mm(n,a,i[u][h].coord)}));t.add(ui(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,r,i,a){if(r.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=Math.PI/180,f=-r[0].coord*c,p=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),m=e.get("clockwise"),g=1,y=r.length;g<=y;g++){var x=g===y?r[0].coord:r[g].coord,A=u++%l.length;h[A]=h[A]||[],h[A].push(new nr({shape:{cx:n.cx,cy:n.cy,r0:p,r:v,startAngle:f,endAngle:-x*c,clockwise:m},silent:!0})),f=-x*c}for(var g=0;g<h.length;g++)t.add(ui(h[g],{style:ge({fill:l[g%l.length]},o.getAreaStyle()),silent:!0}))}}},QIe=["axisLine","axisTickLabel","axisName"],eEe=["splitLine","splitArea","minorSplitLine"],tEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return e.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var i=this._axisGroup,a=this._axisGroup=new Ae;this.group.add(a);var s=n.axis,o=s.polar,l=o.getAngleAxis(),u=s.getTicksCoords(),h=s.getMinorTicksCoords(),c=l.getExtent()[0],f=s.getExtent(),p=rEe(o,n,c),v=new Kn(n,p);M(QIe,v.add,v),a.add(v.getGroup()),Hp(i,a,n),M(eEe,function(m){n.get([m,"show"])&&!s.scale.isBlank()&&nEe[m](this.group,n,o,c,f,u,h)},this)}},e.type="radiusAxis",e}(Ou),nEe={splitLine:function(t,e,n,r,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,h=n.getAngleAxis(),c=Math.PI/180,f=h.getExtent(),p=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],m=0;m<a.length;m++){var g=u++%l.length;v[g]=v[g]||[],v[g].push(new Lu[p]({shape:{cx:n.cx,cy:n.cy,r:Math.max(a[m].coord,0),startAngle:-f[0]*c,endAngle:-f[1]*c,clockwise:h.inverse}}))}for(var m=0;m<v.length;m++)t.add(ui(v[m],{style:ge({stroke:l[m%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,r,i,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],h=0;h<s.length;h++)for(var c=0;c<s[h].length;c++)u.push(new zs({shape:{cx:n.cx,cy:n.cy,r:s[h][c].coord}}));t.add(ui(u,{style:ge({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,r,i,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var h=[],c=a[0].coord,f=1;f<a.length;f++){var p=u++%l.length;h[p]=h[p]||[],h[p].push(new nr({shape:{cx:n.cx,cy:n.cy,r0:c,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),c=a[f].coord}for(var f=0;f<h.length;f++)t.add(ui(h[f],{style:ge({fill:l[f%l.length]},o.getAreaStyle()),silent:!0}))}}};function rEe(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function I9(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function E9(t,e){return e.dim+t.model.componentIndex}function iEe(t,e,n){var r={},i=aEe(gt(e.getSeriesByType(t),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=E9(o,l),h=I9(a),c=i[u][h],f=c.offset,p=c.width,v=o.getOtherAxis(l),m=a.coordinateSystem.cx,g=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,x=a.get("barMinAngle")||0;r[h]=r[h]||[];for(var A=s.mapDimension(v.dim),b=s.mapDimension(l.dim),S=Fo(s,A),w=l.dim!=="radius"||!a.get("roundCap",!0),_=v.model,T=_.get("startValue"),C=v.dataToCoord(T||0),E=0,k=s.count();E<k;E++){var I=s.get(A,E),j=s.get(b,E),P=I>=0?"p":"n",D=C;S&&(r[h][j]||(r[h][j]={p:C,n:C}),D=r[h][j][P]);var L=void 0,F=void 0,V=void 0,U=void 0;if(v.dim==="radius"){var z=v.dataToCoord(I)-C,H=l.dataToCoord(j);Math.abs(z)<y&&(z=(z<0?-1:1)*y),L=D,F=D+z,V=H-f,U=V-p,S&&(r[h][j][P]=F)}else{var G=v.dataToCoord(I,w)-C,N=l.dataToCoord(j);Math.abs(G)<x&&(G=(G<0?-1:1)*x),L=N+f,F=L+p,V=D,U=D+G,S&&(r[h][j][P]=U)}s.setItemLayout(E,{cx:m,cy:g,r0:L,r:F,startAngle:-V*Math.PI/180,endAngle:-U*Math.PI/180,clockwise:V>=U})}}})}function aEe(t){var e={};M(t,function(r,i){var a=r.getData(),s=r.coordinateSystem,o=s.getBaseAxis(),l=E9(s,o),u=o.getExtent(),h=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),c=e[l]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=c.stacks;e[l]=c;var p=I9(r);f[p]||c.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var v=se(r.get("barWidth"),h),m=se(r.get("barMaxWidth"),h),g=r.get("barGap"),y=r.get("barCategoryGap");v&&!f[p].width&&(v=Math.min(c.remainedWidth,v),f[p].width=v,c.remainedWidth-=v),m&&(f[p].maxWidth=m),g!=null&&(c.gap=g),y!=null&&(c.categoryGap=y)});var n={};return M(e,function(r,i){n[i]={};var a=r.stacks,s=r.bandWidth,o=se(r.categoryGap,s),l=se(r.gap,1),u=r.remainedWidth,h=r.autoWidthCount,c=(u-o)/(h+(h-1)*l);c=Math.max(c,0),M(a,function(m,g){var y=m.maxWidth;y&&y<c&&(y=Math.min(y,u),m.width&&(y=Math.min(y,m.width)),u-=y,m.width=y,h--)}),c=(u-o)/(h+(h-1)*l),c=Math.max(c,0);var f=0,p;M(a,function(m,g){m.width||(m.width=c),p=m,f+=m.width*(1+l)}),p&&(f-=p.width*l);var v=-f/2;M(a,function(m,g){n[i][g]=n[i][g]||{offset:v,width:m.width},v+=m.width*(1+l)})}),n}var sEe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},oEe={splitNumber:5},lEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="polar",e}(Ot);function uEe(t){Fe(nv),Ou.registerAxisPointerClass("PolarAxisPointer",RIe),t.registerCoordinateSystem("polar",XIe),t.registerComponentModel(BIe),t.registerComponentView(lEe),hh(t,"angle",VIe,sEe),hh(t,"radius",HIe,oEe),t.registerComponentView(JIe),t.registerComponentView(tEe),t.registerLayout(Ee(iEe,"bar"))}function D1(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,i={},a=r.position,s=r.orient,o=n.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var h={horizontal:0,vertical:1};i.rotation=Math.PI/2*h[s];var c={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=c[a],t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),bn(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var f=e.rotate;return f==null&&(f=t.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-f:f,i.z2=1,i}var cEe=["axisLine","axisTickLabel","axisName"],hEe=["splitArea","splitLine"],fEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return e.prototype.render=function(n,r,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new Ae;var l=D1(n),u=new Kn(n,l);M(cEe,u.add,u),s.add(this._axisGroup),s.add(u.getGroup()),M(hEe,function(h){n.get([h,"show"])&&dEe[h](this,this.group,this._axisGroup,n)},this),Hp(o,this._axisGroup,n),t.prototype.render.call(this,n,r,i,a)},e.prototype.remove=function(){XW(this)},e.type="singleAxis",e}(Ou),dEe={splitLine:function(t,e,n,r){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=s.get("width"),u=r.coordinateSystem.getRect(),h=i.isHorizontal(),c=[],f=0,p=i.getTicksCoords({tickModel:a}),v=[],m=[],g=0;g<p.length;++g){var y=i.toGlobalCoord(p[g].coord);h?(v[0]=y,v[1]=u.y,m[0]=y,m[1]=u.y+u.height):(v[0]=u.x,v[1]=y,m[0]=u.x+u.width,m[1]=y);var x=new dn({shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},silent:!0});sh(x.shape,l);var A=f++%o.length;c[A]=c[A]||[],c[A].push(x)}for(var b=s.getLineStyle(["color"]),g=0;g<c.length;++g)e.add(ui(c[g],{style:ge({stroke:o[g%o.length]},b),silent:!0}))}},splitArea:function(t,e,n,r){qW(t,n,r,r)}},bg=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(qe);an(bg,Yp.prototype);var pEe=function(t){Y(e,t);function e(n,r,i,a,s){var o=t.call(this,n,r,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.pointToData=function(n,r){return this.coordinateSystem.pointToData(n)[0]},e}(Yi),k9=["single"],vEe=function(){function t(e,n,r){this.type="single",this.dimension="single",this.dimensions=k9,this.axisPointerEnabled=!0,this.model=e,this._init(e,n,r)}return t.prototype._init=function(e,n,r){var i=this.dimension,a=new pEe(i,Px(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},t.prototype.update=function(e,n){e.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();M(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),uh(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(e,n){this._rect=cn({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var e=this._rect,n=this._axis,r=n.isHorizontal(),i=r?[0,e.width]:[0,e.height],a=n.inverse?1:0;n.setExtent(i[a],i[1-a]),this._updateAxisTransform(n,r?e.x:e.y)},t.prototype._updateAxisTransform=function(e,n){var r=e.getExtent(),i=r[0]+r[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+n}:function(s){return i-s+n},e.toLocalCoord=a?function(s){return s-n}:function(s){return i-s+n}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(e){var n=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=n.y&&e[1]<=n.y+n.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=n.y&&e[0]<=n.y+n.height},t.prototype.pointToData=function(e){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(e[n.orient==="horizontal"?0:1]))]},t.prototype.dataToPoint=function(e){var n=this.getAxis(),r=this.getRect(),i=[],a=n.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[a]=n.toGlobalCoord(n.dataToCoord(+e)),i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2,i},t.prototype.convertToPixel=function(e,n,r){var i=pR(n);return i===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var i=pR(n);return i===this?this.pointToData(r):null},t}();function pR(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}function mEe(t,e){var n=[];return t.eachComponent("singleAxis",function(r,i){var a=new vEe(r,t,e);a.name="single_"+i,a.resize(r,e),r.coordinateSystem=a,n.push(a)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",tn).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),n}var gEe={create:mEe,dimensions:k9},vR=["x","y"],yEe=["width","height"],xEe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,a,s){var o=i.axis,l=o.coordinateSystem,u=Nw(l,1-Jy(o)),h=l.dataToPoint(r)[0],c=a.get("type");if(c&&c!=="none"){var f=_E(a),p=AEe[c](o,h,u);p.style=f,n.graphicKey=p.type,n.pointer=p}var v=D1(i);w9(r,n,v,i,a,s)},e.prototype.getHandleTransform=function(n,r,i){var a=D1(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=TE(r.axis,n,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,a){var s=i.axis,o=s.coordinateSystem,l=Jy(s),u=Nw(o,l),h=[n.x,n.y];h[l]+=r[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var c=Nw(o,1-l),f=(c[1]+c[0])/2,p=[f,f];return p[l]=h[l],{x:h[0],y:h[1],rotation:n.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},e}(SE),AEe={line:function(t,e,n){var r=CE([e,n[0]],[e,n[1]],Jy(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=t.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:S9([e-r/2,n[0]],[r,i],Jy(t))}}};function Jy(t){return t.isHorizontal()?0:1}function Nw(t,e){var n=t.getRect();return[n[vR[e]],n[vR[e]]+n[yEe[e]]]}var bEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="single",e}(Ot);function wEe(t){Fe(nv),Ou.registerAxisPointerClass("SingleAxisPointer",xEe),t.registerComponentView(bEe),t.registerComponentView(fEe),t.registerComponentModel(bg),hh(t,"single",bg,bg.defaultOption),t.registerCoordinateSystem("single",gEe)}var SEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r,i){var a=zh(n);t.prototype.init.apply(this,arguments),mR(n,a)},e.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),mR(this.option,n)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(qe);function mR(t,e){var n=t.cellSize,r;ee(n)?r=n:r=t.cellSize=[n,n],r.length===1&&(r[1]=r[0]);var i=te([0,1],function(a){return Ume(e,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});Oo(t,e,{type:"box",ignoreSize:i})}var _Ee=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var a=this.group;a.removeAll();var s=n.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=r.getLocaleModel();this._renderDayRect(n,o,a),this._renderLines(n,o,l,a),this._renderYearText(n,o,l,a),this._renderMonthText(n,u,l,a),this._renderWeekText(n,u,o,l,a)},e.prototype._renderDayRect=function(n,r,i){for(var a=n.coordinateSystem,s=n.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var h=a.dataToRect([u],!1).tl,c=new Ke({shape:{x:h[0],y:h[1],width:o,height:l},cursor:"default",style:s});i.add(c)}},e.prototype._renderLines=function(n,r,i,a){var s=this,o=n.coordinateSystem,l=n.getModel(["splitLine","lineStyle"]).getLineStyle(),u=n.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=r.start,f=0;c.time<=r.end.time;f++){v(c.formatedDate),f===0&&(c=o.getDateInfo(r.start.y+"-"+r.start.m));var p=c.date;p.setMonth(p.getMonth()+1),c=o.getDateInfo(p)}v(o.getNextNDay(r.end.time,1).formatedDate);function v(m){s._firstDayOfMonth.push(o.getDateInfo(m)),s._firstDayPoints.push(o.dataToRect([m],!1).tl);var g=s._getLinePointsOfOneWeek(n,m,i);s._tlpoints.push(g[0]),s._blpoints.push(g[g.length-1]),u&&s._drawSplitline(g,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,h,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,h,i),l,a)},e.prototype._getEdgesPoints=function(n,r,i){var a=[n[0].slice(),n[n.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-r/2,a[1][s]=a[1][s]+r/2,a},e.prototype._drawSplitline=function(n,r,i){var a=new or({z2:20,shape:{points:n},style:r});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(n,r,i){for(var a=n.coordinateSystem,s=a.getDateInfo(r),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),h=a.dataToRect([u.time],!1);o[2*u.day]=h.tl,o[2*u.day+1]=h[i==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(n,r){return ue(n)&&n?Vme(n,r):me(n)?n(r):r.nameMap},e.prototype._yearTextPositionControl=function(n,r,i,a,s){var o=r[0],l=r[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var h=0;return(a==="left"||a==="right")&&(h=Math.PI/2),{rotation:h,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(n,r,i,a){var s=n.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,f=i==="horizontal"?0:1,p={top:[h,u[f][1]],bottom:[h,u[1-f][1]],left:[u[1-f][0],c],right:[u[f][0],c]},v=r.start.y;+r.end.y>+r.start.y&&(v=v+"-"+r.end.y);var m=s.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:v},y=this._formatterLabel(m,g),x=new et({z2:30,style:Et(s,{text:y})});x.attr(this._yearTextPositionControl(x,p[l],i,l,o)),a.add(x)}},e.prototype._monthTextPositionControl=function(n,r,i,a,s){var o="left",l="top",u=n[0],h=n[1];return i==="horizontal"?(h=h+s,r&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,r&&(l="middle"),a==="start"&&(o="right")),{x:u,y:h,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(n,r,i,a){var s=n.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),h=s.get("align"),c=[this._tlpoints,this._blpoints];(!o||ue(o))&&(o&&(r=H_(o)||r),o=r.get(["time","monthAbbr"])||[]);var f=u==="start"?0:1,p=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=h==="center",m=0;m<c[f].length-1;m++){var g=c[f][m].slice(),y=this._firstDayOfMonth[m];if(v){var x=this._firstDayPoints[m];g[p]=(x[p]+c[0][m+1][p])/2}var A=s.get("formatter"),b=o[+y.m-1],S={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:b},w=this._formatterLabel(A,S),_=new et({z2:30,style:J(Et(s,{text:w}),this._monthTextPositionControl(g,v,i,u,l))});a.add(_)}}},e.prototype._weekTextPositionControl=function(n,r,i,a,s){var o="center",l="middle",u=n[0],h=n[1],c=i==="start";return r==="horizontal"?(u=u+a+(c?1:-1)*s[0]/2,o=c?"right":"left"):(h=h+a+(c?1:-1)*s[1]/2,l=c?"bottom":"top"),{x:u,y:h,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(n,r,i,a,s){var o=n.getModel("dayLabel");if(o.get("show")){var l=n.coordinateSystem,u=o.get("position"),h=o.get("nameMap"),c=o.get("margin"),f=l.getFirstDayOfWeek();if(!h||ue(h)){h&&(r=H_(h)||r);var p=r.get(["time","dayOfWeekShort"]);h=p||te(r.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];c=se(c,Math.min(m[1],m[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,c=-c);for(var g=0;g<7;g++){var y=l.getNextNDay(v,g),x=l.dataToRect([y.time],!1).center,A=g;A=Math.abs((g+f)%7);var b=new et({z2:30,style:J(Et(o,{text:h[A]}),this._weekTextPositionControl(x,a,u,c,m))});s.add(b)}}},e.type="calendar",e}(Ot),zw=864e5,TEe=function(){function t(e,n,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(e){e=za(e);var n=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:n+"",m:i,d:s,day:o,time:e.getTime(),formatedDate:n+"-"+i+"-"+s,date:e}},t.prototype.getNextNDay=function(e,n){return n=n||0,n===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+n),this.getDateInfo(e))},t.prototype.update=function(e,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[r,7]:[7,r];M([0,1],function(c){h(a,c)&&(s[i[c]]=a[c]*o[c])});var l={width:n.getWidth(),height:n.getHeight()},u=this._rect=cn(s,l);M([0,1],function(c){h(a,c)||(a[c]=u[i[c]]/o[c])});function h(c,f){return c[f]!=null&&c[f]!=="auto"}this._sw=a[0],this._sh=a[1]},t.prototype.dataToPoint=function(e,n){ee(e)&&(e=e[0]),n==null&&(n=!0);var r=this.getDateInfo(e),i=this._rangeInfo,a=r.formatedDate;if(n&&!(r.time>=i.start.time&&r.time<i.end.time+zw))return[NaN,NaN];var s=r.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},t.prototype.pointToData=function(e){var n=this.pointToDate(e);return n&&n.time},t.prototype.dataToRect=function(e,n){var r=this.dataToPoint(e,n);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},t.prototype.pointToDate=function(e){var n=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,n-1,i):this._getDateByWeeksAndDay(n,r-1,i)},t.prototype.convertToPixel=function(e,n,r){var i=gR(n);return i===this?i.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var i=gR(n);return i===this?i.pointToData(r):null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var e=this._model.get("range"),n;if(ee(e)&&e.length===1&&(e=e[0]),ee(e))n=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(n=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);n=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(n=[r,r])}if(!n)return e;var o=this._getRangeInfo(n);return o.start.time>o.end.time&&n.reverse(),n},t.prototype._getRangeInfo=function(e){var n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;n[0].time>n[1].time&&(r=!0,n.reverse());var i=Math.floor(n[1].time/zw)-Math.floor(n[0].time/zw)+1,a=new Date(n[0].time),s=a.getDate(),o=n[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-n[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-n[1].time)*u>0;)i-=u,a.setDate(l-u);var h=Math.floor((i+n[0].day+6)/7),c=r?-h+1:h-1;return r&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:h,nthWeek:c,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(e,n,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&n<i.fweek||e===i.weeks&&n>i.lweek)return null;var a=(e-1)*7-i.fweek+n,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},t.create=function(e,n){var r=[];return e.eachComponent("calendar",function(i){var a=new t(i);r.push(a),i.coordinateSystem=a}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},t.dimensions=["time","value"],t}();function gR(t){var e=t.calendarModel,n=t.seriesModel,r=e?e.coordinateSystem:n?n.coordinateSystem:null;return r}function CEe(t){t.registerComponentModel(SEe),t.registerComponentView(_Ee),t.registerCoordinateSystem("calendar",TEe)}function IEe(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function yR(t,e){var n;return M(e,function(r){t[r]!=null&&t[r]!=="auto"&&(n=!0)}),n}function EEe(t,e,n){var r=J({},n),i=t[e],a=n.$action||"merge";a==="merge"?i?(Me(i,r,!0),Oo(i,r,{ignoreSize:!0}),AG(n,i),Lm(n,i),Lm(n,i,"shape"),Lm(n,i,"style"),Lm(n,i,"extra"),n.clipPath=i.clipPath):t[e]=r:a==="replace"?t[e]=r:a==="remove"&&i&&(t[e]=null)}var P9=["transition","enterFrom","leaveTo"],kEe=P9.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Lm(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),!(!t||!e))for(var r=n?P9:kEe,i=0;i<r.length;i++){var a=r[i];t[a]==null&&e[a]!=null&&(t[a]=e[a])}}function PEe(t,e){if(t&&(t.hv=e.hv=[yR(e,["left","right"]),yR(e,["top","bottom"])],t.type==="group")){var n=t,r=e;n.width==null&&(n.width=r.width=0),n.height==null&&(n.height=r.height=0)}}var jEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return e.prototype.mergeOption=function(n,r){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,n,r),this.option.elements=i},e.prototype.optionUpdated=function(n,r){var i=this.option,a=(r?i:n).elements,s=i.elements=r?[]:i.elements,o=[];this._flatten(a,o,null);var l=p4(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];M(l,function(h,c){var f=h.newOption;f&&(u.push(f),IEe(h,f),EEe(s,c,f),PEe(s[c],f))},this),i.elements=gt(s,function(h){return h&&delete h.$action,h!=null})},e.prototype._flatten=function(n,r,i){M(n,function(a){if(a){i&&(a.parentOption=i),r.push(a);var s=a.children;s&&s.length&&this._flatten(s,r,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},e.type="graphic",e.defaultOption={elements:[]},e}(qe),xR={path:null,compoundPath:null,group:Ae,image:Sn,text:et},ni=Qe(),MEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){this._elMap=pe()},e.prototype.render=function(n,r,i){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,i)},e.prototype._updateElements=function(n){var r=n.useElOptionsToUpdate();if(r){var i=this._elMap,a=this.group,s=n.get("z"),o=n.get("zlevel");M(r,function(l){var u=un(l.id,null),h=u!=null?i.get(u):null,c=un(l.parentId,null),f=c!=null?i.get(c):a,p=l.type,v=l.style;p==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var m=l.textContent,g=l.textConfig;if(v&&c9(v,p,!!g,!!m)){var y=h9(v,p,!0);!g&&y.textConfig&&(g=l.textConfig=y.textConfig),!m&&y.textContent&&(m=y.textContent)}var x=DEe(l),A=l.$action||"merge",b=A==="merge",S=A==="replace";if(b){var w=!h,_=h;w?_=AR(u,f,l.type,i):(_&&(ni(_).isNew=!1),v9(_)),_&&(xg(_,x,n,{isInit:w}),bR(_,l,s,o))}else if(S){wg(h,l,i,n);var T=AR(u,f,l.type,i);T&&(xg(T,x,n,{isInit:!0}),bR(T,l,s,o))}else A==="remove"&&(d9(h,l),wg(h,l,i,n));var C=i.get(u);if(C&&m)if(b){var E=C.getTextContent();E?E.attr(m):C.setTextContent(new et(m))}else S&&C.setTextContent(new et(m));if(C){var k=l.clipPath;if(k){var I=k.type,j=void 0,w=!1;if(b){var P=C.getClipPath();w=!P||ni(P).type!==I,j=w?L1(I):P}else S&&(w=!0,j=L1(I));C.setClipPath(j),xg(j,k,n,{isInit:w}),Xy(j,k.keyframeAnimation,n)}var D=ni(C);C.setTextConfig(g),D.option=l,LEe(C,n,l),Mh({el:C,componentModel:n,itemName:C.name,itemTooltipOption:l.tooltip}),Xy(C,l.keyframeAnimation,n)}})}},e.prototype._relocate=function(n,r){for(var i=n.option.elements,a=this.group,s=this._elMap,o=r.getWidth(),l=r.getHeight(),u=["x","y"],h=0;h<i.length;h++){var c=i[h],f=un(c.id,null),p=f!=null?s.get(f):null;if(!(!p||!p.isGroup)){var v=p.parent,m=v===a,g=ni(p),y=ni(v);g.width=se(g.option.width,m?o:y.width)||0,g.height=se(g.option.height,m?l:y.height)||0}}for(var h=i.length-1;h>=0;h--){var c=i[h],f=un(c.id,null),p=f!=null?s.get(f):null;if(p){var v=p.parent,y=ni(v),x=v===a?{width:o,height:l}:{width:y.width,height:y.height},A={},b=Ax(p,c,x,null,{hv:c.hv,boundingMode:c.bounding},A);if(!ni(p).isNew&&b){for(var S=c.transition,w={},_=0;_<u.length;_++){var T=u[_],C=A[T];S&&(pu(S)||ze(S,T)>=0)?w[T]=C:p[T]=C}it(p,w,n,0)}else p.attr(A)}}},e.prototype._clear=function(){var n=this,r=this._elMap;r.each(function(i){wg(i,ni(i).option,r,n._lastGraphicModel)}),this._elMap=pe()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(Ot);function L1(t){var e=de(xR,t)?xR[t]:lI(t),n=new e({});return ni(n).type=t,n}function AR(t,e,n,r){var i=L1(n);return e.add(i),r.set(t,i),ni(i).id=t,ni(i).isNew=!0,i}function wg(t,e,n,r){var i=t&&t.parent;i&&(t.type==="group"&&t.traverse(function(a){wg(a,e,n,r)}),Rx(t,e,r),n.removeKey(ni(t).id))}function bR(t,e,n,r){t.isGroup||M([["cursor",yi.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(i){var a=i[0];de(e,a)?t[a]=_e(e[a],i[1]):t[a]==null&&(t[a]=i[1])}),M(Xe(e),function(i){if(i.indexOf("on")===0){var a=e[i];t[i]=me(a)?a:null}}),de(e,"draggable")&&(t.draggable=e.draggable),e.name!=null&&(t.name=e.name),e.id!=null&&(t.id=e.id)}function DEe(t){return t=J({},t),M(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(xG),function(e){delete t[e]}),t}function LEe(t,e,n){var r=Se(t).eventData;!t.silent&&!t.ignore&&!r&&(r=Se(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),r&&(r.info=n.info)}function NEe(t){t.registerComponentModel(jEe),t.registerComponentView(MEe),t.registerPreprocessor(function(e){var n=e.graphic;ee(n)?!n[0]||!n[0].elements?e.graphic=[{elements:n}]:e.graphic=[e.graphic[0]]:n&&!n.elements&&(e.graphic=[{elements:[n]}])})}var wR=["x","y","radius","angle","single"],zEe=["cartesian2d","polar","singleAxis"];function REe(t){var e=t.get("coordinateSystem");return ze(zEe,e)>=0}function bo(t){return t+"Axis"}function OEe(t,e){var n=pe(),r=[],i=pe();t.eachComponent({mainType:"dataZoom",query:e},function(h){i.get(h.uid)||o(h)});var a;do a=!1,t.eachComponent("dataZoom",s);while(a);function s(h){!i.get(h.uid)&&l(h)&&(o(h),a=!0)}function o(h){i.set(h.uid,!0),r.push(h),u(h)}function l(h){var c=!1;return h.eachTargetAxis(function(f,p){var v=n.get(f);v&&v[p]&&(c=!0)}),c}function u(h){h.eachTargetAxis(function(c,f){(n.get(c)||n.set(c,[]))[f]=!0})}return r}function j9(t){var e=t.ecModel,n={infoList:[],infoMap:pe()};return t.eachTargetAxis(function(r,i){var a=e.getComponent(bo(r),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=n.infoMap.get(o);l||(l={model:s,axisModels:[]},n.infoList.push(l),n.infoMap.set(o,l)),l.axisModels.push(a)}}}),n}var Rw=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t}(),lp=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return e.prototype.init=function(n,r,i){var a=SR(n);this.settledOption=a,this.mergeDefaultAndTheme(n,i),this._doInit(a)},e.prototype.mergeOption=function(n){var r=SR(n);Me(this.option,n,!0),Me(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var i=this.settledOption;M([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=pe(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return M(wR,function(i){var a=this.getReferringComponents(bo(i),Cpe);if(a.specified){r=!0;var s=new Rw;M(a.models,function(o){s.add(o.componentIndex)}),n.set(i,s)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(n,r){var i=this.ecModel,a=!0;if(a){var s=r==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===r}});l(o,"single")}function l(u,h){var c=u[0];if(c){var f=new Rw;if(f.add(c.componentIndex),n.set(h,f),a=!1,h==="x"||h==="y"){var p=c.getReferringComponents("grid",tn).models[0];p&&M(u,function(v){c.componentIndex!==v.componentIndex&&p===v.getReferringComponents("grid",tn).models[0]&&f.add(v.componentIndex)})}}}a&&M(wR,function(u){if(a){var h=i.findComponents({mainType:bo(u),filter:function(f){return f.get("type",!0)==="category"}});if(h[0]){var c=new Rw;c.add(h[0].componentIndex),n.set(u,c),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(n){var r=this._rangePropMode,i=this.get("rangeMode");M([["start","startValue"],["end","endValue"]],function(a,s){var o=n[a[0]]!=null,l=n[a[1]]!=null;o&&!l?r[s]="percent":!o&&l?r[s]="value":i?r[s]=i[s]:o&&(r[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,i){n==null&&(n=this.ecModel.getComponent(bo(r),i))},this),n},e.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(i,a){M(i.indexList,function(s){n.call(r,a,s)})})},e.prototype.getAxisProxy=function(n,r){var i=this.getAxisModel(n,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(n,r){var i=this._targetAxisInfoMap.get(n);if(i&&i.indexMap[r])return this.ecModel.getComponent(bo(n),r)},e.prototype.setRawRange=function(n){var r=this.option,i=this.settledOption;M([["start","startValue"],["end","endValue"]],function(a){(n[a[0]]!=null||n[a[1]]!=null)&&(r[a[0]]=i[a[0]]=n[a[0]],r[a[1]]=i[a[1]]=n[a[1]])},this),this._updateRangeUse(n)},e.prototype.setCalculatedRange=function(n){var r=this.option;M(["start","startValue","end","endValue"],function(i){r[i]=n[i]})},e.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},e.prototype.getValueRange=function(n,r){if(n==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(qe);function SR(t){var e={};return M(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var FEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.select",e}(lp),PE=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,a){this.dataZoomModel=n,this.ecModel=r,this.api=i},e.type="dataZoom",e}(Ot),BEe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.select",e}(PE),gc=M,_R=di,VEe=function(){function t(e,n,r,i){this._dimName=e,this._axisIndex=n,this.ecModel=i,this._dataZoomModel=r}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(n){if(REe(n)){var r=bo(this._dimName),i=n.getReferringComponents(r,tn).models[0];i&&this._axisIndex===i.componentIndex&&e.push(n)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return xe(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var n=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;gc(["start","end"],function(f,p){var v=e[f],m=e[f+"Value"];a[p]==="percent"?(v==null&&(v=s[p]),m=i.parse(vt(v,s,n))):(u=!0,m=m==null?n[p]:i.parse(m),v=vt(m,n,s)),l[p]=m==null||isNaN(m)?n[p]:m,o[p]=v==null||isNaN(v)?s[p]:v}),_R(l),_R(o);var h=this._minMaxSpan;u?c(l,o,n,s,!1):c(o,l,s,n,!0);function c(f,p,v,m,g){var y=g?"Span":"ValueSpan";Fu(0,f,v,"all",h["min"+y],h["max"+y]);for(var x=0;x<2;x++)p[x]=vt(f[x],v,m,!0),g&&(p[x]=i.parse(p[x]))}return{valueWindow:l,percentWindow:o}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=HEe(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,n){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;gc(i,function(l){var u=l.getData(),h=u.mapDimensionsAll(r);if(h.length){if(a==="weakFilter"){var c=u.getStore(),f=te(h,function(p){return u.getDimensionIndex(p)},u);u.filterSelf(function(p){for(var v,m,g,y=0;y<h.length;y++){var x=c.get(f[y],p),A=!isNaN(x),b=x<s[0],S=x>s[1];if(A&&!b&&!S)return!0;A&&(g=!0),b&&(v=!0),S&&(m=!0)}return g&&v&&m})}else gc(h,function(p){if(a==="empty")l.setData(u=u.map(p,function(m){return o(m)?m:NaN}));else{var v={};v[p]=s,u.selectRange(v)}});gc(h,function(p){u.setApproximateExtent(s,p)})}});function o(l){return l>=s[0]&&l<=s[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;gc(["min","max"],function(i){var a=n.get(i+"Span"),s=n.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=vt(r[0]+s,r,[0,100],!0):a!=null&&(s=vt(a,[0,100],r,!0)-r[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var i=s4(r,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;n[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),n[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},t}();function HEe(t,e,n){var r=[1/0,-1/0];gc(n,function(s){Axe(r,s.getData(),e)});var i=t.getAxisModel(),a=qU(i.axis.scale,i,r).calculate();return[a.min,a.max]}var GEe={getTargetSeries:function(t){function e(i){t.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=t.getComponent(bo(s),o);i(s,o,l,a)})})}e(function(i,a,s,o){s.__dzAxisProxy=null});var n=[];e(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new VEe(i,a,o,t),n.push(s.__dzAxisProxy))});var r=pe();return M(n,function(i){M(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(t,e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).reset(n)}),n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).filterData(n,e)})}),t.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();n.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function UEe(t){t.registerAction("dataZoom",function(e,n){var r=OEe(n,e);M(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var TR=!1;function jE(t){TR||(TR=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,GEe),UEe(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function WEe(t){t.registerComponentModel(FEe),t.registerComponentView(BEe),jE(t)}var oi=function(){function t(){}return t}(),M9={};function yc(t,e){M9[t]=e}function D9(t){return M9[t]}var $Ee=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;M(this.option.feature,function(r,i){var a=D9(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(n)),Me(r,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(qe);function YEe(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},s=cn(r,a,i);fu(e.get("orient"),t,e.get("itemGap"),s.width,s.height),Ax(t,r,a,i)}function L9(t,e){var n=Nh(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new Ke({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}var qEe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i,a){var s=this.group;if(s.removeAll(),!n.get("show"))return;var o=+n.get("itemSize"),l=n.get("orient")==="vertical",u=n.get("feature")||{},h=this._features||(this._features={}),c=[];M(u,function(v,m){c.push(m)}),new ks(this._featureNames||[],c).add(f).update(f).remove(Ee(f,null)).execute(),this._featureNames=c;function f(v,m){var g=c[v],y=c[m],x=u[g],A=new dt(x,n,n.ecModel),b;if(a&&a.newTitle!=null&&a.featureName===g&&(x.title=a.newTitle),g&&!y){if(XEe(g))b={onclick:A.option.onclick,featureName:g};else{var S=D9(g);if(!S)return;b=new S}h[g]=b}else if(b=h[y],!b)return;b.uid=Lh("toolbox-feature"),b.model=A,b.ecModel=r,b.api=i;var w=b instanceof oi;if(!g&&y){w&&b.dispose&&b.dispose(r,i);return}if(!A.get("show")||w&&b.unusable){w&&b.remove&&b.remove(r,i);return}p(A,b,g),A.setIconStatus=function(_,T){var C=this.option,E=this.iconPaths;C.iconStatus=C.iconStatus||{},C.iconStatus[_]=T,E[_]&&(T==="emphasis"?Is:Es)(E[_])},b instanceof oi&&b.render&&b.render(A,r,i,a)}function p(v,m,g){var y=v.getModel("iconStyle"),x=v.getModel(["emphasis","iconStyle"]),A=m instanceof oi&&m.getIcons?m.getIcons():v.get("icon"),b=v.get("title")||{},S,w;ue(A)?(S={},S[g]=A):S=A,ue(b)?(w={},w[g]=b):w=b;var _=v.iconPaths={};M(S,function(T,C){var E=Gp(T,{},{x:-o/2,y:-o/2,width:o,height:o});E.setStyle(y.getItemStyle());var k=E.ensureState("emphasis");k.style=x.getItemStyle();var I=new et({style:{text:w[C],align:x.get("textAlign"),borderRadius:x.get("textBorderRadius"),padding:x.get("textPadding"),fill:null,font:uI({fontStyle:x.get("textFontStyle"),fontFamily:x.get("textFontFamily"),fontSize:x.get("textFontSize"),fontWeight:x.get("textFontWeight")},r)},ignore:!0});E.setTextContent(I),Mh({el:E,componentModel:n,itemName:C,formatterParamsExtra:{title:w[C]}}),E.__title=w[C],E.on("mouseover",function(){var j=x.getItemStyle(),P=l?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";I.setStyle({fill:x.get("textFill")||j.fill||j.stroke||"#000",backgroundColor:x.get("textBackgroundColor")}),E.setTextConfig({position:x.get("textPosition")||P}),I.ignore=!n.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",C])!=="emphasis"&&i.leaveEmphasis(this),I.hide()}),(v.get(["iconStatus",C])==="emphasis"?Is:Es)(E),s.add(E),E.on("click",fe(m.onclick,m,r,i,C)),_[C]=E})}YEe(s,n,i),s.add(L9(s.getBoundingRect(),n)),l||s.eachChild(function(v){var m=v.__title,g=v.ensureState("emphasis"),y=g.textConfig||(g.textConfig={}),x=v.getTextContent(),A=x&&x.ensureState("emphasis");if(A&&!me(A)&&m){var b=A.style||(A.style={}),S=Rp(m,et.makeFont(b)),w=v.x+s.x,_=v.y+s.y+o,T=!1;_+S.height>i.getHeight()&&(y.position="top",T=!0);var C=T?-5-S.height:o+10;w+S.width/2>i.getWidth()?(y.position=["100%",C],b.align="right"):w-S.width/2<0&&(y.position=[0,C],b.align="left")}})},e.prototype.updateView=function(n,r,i,a){M(this._features,function(s){s instanceof oi&&s.updateView&&s.updateView(s.model,r,i,a)})},e.prototype.remove=function(n,r){M(this._features,function(i){i instanceof oi&&i.remove&&i.remove(n,r)}),this.group.removeAll()},e.prototype.dispose=function(n,r){M(this._features,function(i){i instanceof oi&&i.dispose&&i.dispose(n,r)})},e.type="toolbox",e}(Ot);function XEe(t){return t.indexOf("my")===0}var ZEe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){var i=this.model,a=i.get("name")||n.get("title.0.text")||"echarts",s=r.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=We.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var h=document.createElement("a");h.download=a+"."+o,h.target="_blank",h.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||s){var f=l.split(","),p=f[0].indexOf("base64")>-1,v=s?decodeURIComponent(f[1]):f[1];p&&(v=window.atob(v));var m=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var g=v.length,y=new Uint8Array(g);g--;)y[g]=v.charCodeAt(g);var x=new Blob([y]);window.navigator.msSaveOrOpenBlob(x,m)}else{var A=document.createElement("iframe");document.body.appendChild(A);var b=A.contentWindow,S=b.document;S.open("image/svg+xml","replace"),S.write(v),S.close(),b.focus(),S.execCommand("SaveAs",!0,m),document.body.removeChild(A)}}else{var w=i.get("lang"),_='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',T=window.open();T.document.write(_),T.document.title=a}},e.getDefaultOption=function(n){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(oi),CR="__ec_magicType_stack__",JEe=[["line","bar"],["stack"]],KEe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var n=this.model,r=n.get("icon"),i={};return M(n.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},e.getDefaultOption=function(n){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(n,r,i){var a=this.model,s=a.get(["seriesIndex",i]);if(IR[i]){var o={series:[]},l=function(c){var f=c.subType,p=c.id,v=IR[i](f,p,c,a);v&&(ge(v,c.option),o.series.push(v));var m=c.coordinateSystem;if(m&&m.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=m.getAxesByScale("ordinal")[0];if(g){var y=g.dim,x=y+"Axis",A=c.getReferringComponents(x,tn).models[0],b=A.componentIndex;o[x]=o[x]||[];for(var S=0;S<=b;S++)o[x][b]=o[x][b]||{};o[x][b].boundaryGap=i==="bar"}}};M(JEe,function(c){ze(c,i)>=0&&M(c,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),n.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,h=i;i==="stack"&&(u=Me({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(h="tiled")),r.dispatchAction({type:"changeMagicType",currentType:h,newOption:o,newTitle:u,featureName:"magicType"})}},e}(oi),IR={line:function(t,e,n,r){if(t==="bar")return Me({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if(t==="line")return Me({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var i=n.get("stack")===CR;if(t==="line"||t==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),Me({id:e,stack:i?"":CR},r.get(["option","stack"])||{},!0)}};Ua({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var Ox=new Array(60).join("-"),ph="	";function QEe(t){var e={},n=[],r=[];return t.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},r.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(i)}else n.push(i)}else n.push(i)}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}function eke(t){var e=[];return M(t,function(n,r){var i=n.categoryAxis,a=n.valueAxis,s=a.dim,o=[" "].concat(te(n.series,function(p){return p.name})),l=[i.model.getCategories()];M(n.series,function(p){var v=p.getRawData();l.push(p.getRawData().mapArray(v.mapDimension(s),function(m){return m}))});for(var u=[o.join(ph)],h=0;h<l[0].length;h++){for(var c=[],f=0;f<l.length;f++)c.push(l[f][h]);u.push(c.join(ph))}e.push(u.join(`
`))}),e.join(`

`+Ox+`

`)}function tke(t){return te(t,function(e){var n=e.getRawData(),r=[e.name],i=[];return n.each(n.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=n.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];r.push((o?o+ph:"")+i.join(ph))}),r.join(`
`)}).join(`

`+Ox+`

`)}function nke(t){var e=QEe(t);return{value:gt([eke(e.seriesGroupByCategoryAxis),tke(e.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+Ox+`

`),meta:e.meta}}function Ky(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function rke(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(ph)>=0)return!0}var N1=new RegExp("["+ph+"]+","g");function ike(t){for(var e=t.split(/\n+/g),n=Ky(e.shift()).split(N1),r=[],i=te(n,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=Ky(e[a]).split(N1);r.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:r}}function ake(t){for(var e=t.split(/\n+/g),n=Ky(e.shift()),r=[],i=0;i<e.length;i++){var a=Ky(e[i]);if(a){var s=a.split(N1),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),r[i]={name:o,value:[]},l=r[i].value):l=r[i]=[];for(var h=0;h<s.length;h++)l.push(+s[h]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:n,data:r}}function ske(t,e){var n=t.split(new RegExp(`
*`+Ox+`
*`,"g")),r={series:[]};return M(n,function(i,a){if(rke(i)){var s=ike(i),o=e[a],l=o.axisDim+"Axis";o&&(r[l]=r[l]||[],r[l][o.axisIndex]={data:s.categories},r.series=r.series.concat(s.series))}else{var s=ake(i);r.series.push(s)}}),r}var oke=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="overflow:auto";var c=a.get("optionToContent"),f=a.get("contentToOption"),p=nke(n);if(me(c)){var v=c(r.getOption());ue(v)?u.innerHTML=v:ih(v)&&u.appendChild(v)}else{h.readOnly=a.get("readOnly");var m=h.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),h.value=p.value,u.appendChild(h)}var g=p.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",A=document.createElement("div"),b=document.createElement("div");x+=";background-color:"+a.get("buttonColor"),x+=";color:"+a.get("buttonTextColor");var S=this;function w(){i.removeChild(s),S._dom=null}p_(A,"click",w),p_(b,"click",function(){if(f==null&&c!=null||f!=null&&c==null){w();return}var _;try{me(f)?_=f(u,r.getOption()):_=ske(h.value,g)}catch(T){throw w(),new Error("Data view format error "+T)}_&&r.dispatchAction({type:"changeDataView",newOption:_}),w()}),A.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=A.style.cssText=x,!a.get("readOnly")&&y.appendChild(b),y.appendChild(A),s.appendChild(o),s.appendChild(u),s.appendChild(y),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},e.prototype.remove=function(n,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(n,r){this.remove(n,r)},e.getDefaultOption=function(n){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(oi);function lke(t,e){return te(t,function(n,r){var i=e&&e[r];if(ye(i)&&!ee(i)){var a=ye(n)&&!ee(n);a||(n={value:n});var s=i.name!=null&&n.name==null;return n=ge(n,i),s&&delete n.name,n}else return n})}Ua({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];M(t.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)n.push(J({type:"scatter"},r));else{var a=i.get("data");n.push({name:r.name,data:lke(r.data,a)})}}),e.mergeOption(ge({series:n},t.newOption))});var N9=M,z9=Qe();function uke(t,e){var n=ME(t);N9(e,function(r,i){for(var a=n.length-1;a>=0;a--){var s=n[a];if(s[i])break}if(a<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();n[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),n.push(e)}function cke(t){var e=ME(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return N9(n,function(i,a){for(var s=e.length-1;s>=0;s--)if(i=e[s][a],i){r[a]=i;break}}),r}function hke(t){z9(t).snapshots=null}function fke(t){return ME(t).length}function ME(t){var e=z9(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var dke=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){hke(n),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(n){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(oi);Ua({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var pke=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],DE=function(){function t(e,n,r){var i=this;this._targetInfoList=[];var a=ER(n,e);M(vke,function(s,o){(!r||!r.include||ze(r.include,o)>=0)&&s(a,i._targetInfoList)})}return t.prototype.setOutputRanges=function(e,n){return this.matchOutputRanges(e,n,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var s=Ow[r.brushType](0,a,i);r.__rangeOffset={offset:MR[r.brushType](s.values,r.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,n,r){M(e,function(i){var a=this.findTargetInfo(i,n);a&&a!==!0&&M(a.coordSyses,function(s){var o=Ow[i.brushType](1,s,i.range,!0);r(i,o.values,s,n)})},this)},t.prototype.setInputRanges=function(e,n){M(e,function(r){var i=this.findTargetInfo(r,n);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=Ow[r.brushType](0,i.coordSys,r.coordRange),s=r.__rangeOffset;r.range=s?MR[r.brushType](a.values,s.offset,mke(a.xyMinMax,s.xyMinMax)):a.values}},this)},t.prototype.makePanelOpts=function(e,n){return te(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:U6(i),isTargetByCursor:$6(i,e,r.coordSysModel),getLinearBrushOtherExtent:W6(i)}})},t.prototype.controlSeries=function(e,n,r){var i=this.findTargetInfo(e,r);return i===!0||i&&ze(i.coordSyses,n.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,n){for(var r=this._targetInfoList,i=ER(n,e),a=0;a<r.length;a++){var s=r[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<kR.length;l++)if(kR[l](i,s))return s}return!0},t}();function z1(t){return t[0]>t[1]&&t.reverse(),t}function ER(t,e){return ud(t,e,{includeMainTypes:pke})}var vke={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,a=pe(),s={},o={};!n&&!r&&!i||(M(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),M(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),M(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,h=[];M(u.getCartesians(),function(c,f){(ze(n,c.getAxis("x").model)>=0||ze(r,c.getAxis("y").model)>=0)&&h.push(c)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:PR.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(t,e){M(t.geoModels,function(n){var r=n.coordinateSystem;e.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:PR.geo})})}},kR=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],PR={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(hu(t)),e}},Ow={lineX:Ee(jR,0),lineY:Ee(jR,1),rect:function(t,e,n,r){var i=t?e.pointToData([n[0][0],n[1][0]],r):e.dataToPoint([n[0][0],n[1][0]],r),a=t?e.pointToData([n[0][1],n[1][1]],r):e.dataToPoint([n[0][1],n[1][1]],r),s=[z1([i[0],a[0]]),z1([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(t,e,n,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=te(n,function(s){var o=t?e.pointToData(s,r):e.dataToPoint(s,r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function jR(t,e,n,r){var i=n.getAxis(["x","y"][t]),a=z1(te([0,1],function(o){return e?i.coordToData(i.toLocalCoord(r[o]),!0):i.toGlobalCoord(i.dataToCoord(r[o]))})),s=[];return s[t]=a,s[1-t]=[NaN,NaN],{values:a,xyMinMax:s}}var MR={lineX:Ee(DR,0),lineY:Ee(DR,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return te(t,function(r,i){return[r[0]-n[0]*e[i][0],r[1]-n[1]*e[i][1]]})}};function DR(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function mke(t,e){var n=LR(t),r=LR(e),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function LR(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var R1=M,gke=bpe("toolbox-dataZoom_"),yke=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i,a){this._brushController||(this._brushController=new lE(i.getZr()),this._brushController.on("brush",fe(this._onBrush,this)).mount()),bke(n,r,this,a,i),Ake(n,r)},e.prototype.onclick=function(n,r,i){xke[i].call(this)},e.prototype.remove=function(n,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(n,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(n){var r=n.areas;if(!n.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new DE(LE(this.model),a,{include:["grid"]});s.matchOutputRanges(r,a,function(u,h,c){if(c.type==="cartesian2d"){var f=u.brushType;f==="rect"?(o("x",c,h[0]),o("y",c,h[1])):o({lineX:"x",lineY:"y"}[f],c,h)}}),uke(a,i),this._dispatchZoomAction(i);function o(u,h,c){var f=h.getAxis(u),p=f.model,v=l(u,p,a),m=v.findRepresentativeAxisProxy(p).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(c=Fu(0,c.slice(),f.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:c[0],endValue:c[1]})}function l(u,h,c){var f;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var v=p.getAxisModel(u,h.componentIndex);v&&(f=p)}),f}},e.prototype._dispatchZoomAction=function(n){var r=[];R1(n,function(i,a){r.push(xe(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(n){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(oi),xke={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(cke(this.ecModel))}};function LE(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Ake(t,e){t.setIconStatus("back",fke(e)>1?"emphasis":"normal")}function bke(t,e,n,r,i){var a=n._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var s=new DE(LE(t),e,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}Zme("dataZoom",function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(!e||e.get(n)==null)return;var r=e.getModel(n),i=[],a=LE(r),s=ud(t,a);R1(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),R1(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,h){var c=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:gke+u+c};f[h]=c,i.push(f)}return i});function wke(t){t.registerComponentModel($Ee),t.registerComponentView(qEe),yc("saveAsImage",ZEe),yc("magicType",KEe),yc("dataView",oke),yc("dataZoom",yke),yc("restore",dke),Fe(WEe)}var Ske=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(qe);function R9(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function O9(t){if(We.domSupported){for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}}var F9=O9(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_ke=O9(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function B9(t,e){if(!t)return e;e=gG(e,!0);var n=t.indexOf(e);return t=n===-1?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function Tke(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?n[e]:null}var Cke=B9(_ke,"transition"),NE=B9(F9,"transform"),Ike="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(We.transform3dSupported?"will-change:transform;":"");function Eke(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function kke(t,e,n){if(!ue(n)||n==="inside")return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=wu(e);var a=Eke(n),s=Math.max(Math.round(i)*1.5,6),o="",l=NE+":",u;ze(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=s+i,f=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),p=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-c)/2)*100)/100;o+=";"+a+":-"+p+"px";var v=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+r+";"];return'<div style="'+m.join("")+'"></div>'}function Pke(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,i="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,i+=We.transformSupported?","+NE+r:",left"+r+",top"+r),Cke+":"+i}function NR(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!We.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=We.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return n?"top:0;left:0;"+NE+":"+s+";":[["top",0],["left",0],[F9,s]]}function jke(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(n*3/2)+"px");var i=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,o=t.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+s+"px "+o+"px "+a+"px "+i),M(["decoration","align"],function(l){var u=t.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function Mke(t,e,n){var r=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),s=t.get("shadowBlur"),o=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),h=t.getModel("textStyle"),c=JG(t,"html"),f=l+"px "+u+"px "+s+"px "+o;return r.push("box-shadow:"+f),e&&i&&r.push(Pke(i,n)),a&&r.push("background-color:"+a),M(["width","color","radius"],function(p){var v="border-"+p,m=gG(v),g=t.get(m);g!=null&&r.push(v+":"+g+(p==="color"?"":"px"))}),r.push(jke(h)),c!=null&&r.push("padding:"+Nh(c).join("px ")+"px"),r.join(";")+";"}function zR(t,e,n,r,i){var a=e&&e.painter;if(n){var s=a&&a.getViewportRoot();s&&Qfe(t,s,n,r,i)}else{t[0]=r,t[1]=i;var o=a&&a.getViewportRootOffset();o&&(t[0]+=o.offsetLeft,t[1]+=o.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Dke=function(){function t(e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,We.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),a=n.appendTo,s=a&&(ue(a)?document.querySelector(a):ih(a)?a:me(a)&&a(e.getDom()));zR(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(r),this._api=e,this._container=s;var o=this;r.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,h=i.painter.getViewportRoot();Qr(h,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var n=this._api.getDom(),r=Tke(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=Ike+Mke(e,!this._firstShow,this._longHide)+NR(a[0],a[1],!0)+("border-color:"+wu(n)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,n,r,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(ue(a)&&r.get("trigger")==="item"&&!R9(r)&&(o=kke(r,i,a)),ue(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ee(e)||(e=[e]);for(var l=0;l<e.length;l++)ih(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,n){var r=this._styleCoord;if(zR(r,this._zr,this._container,e,n),r[0]!=null&&r[1]!=null){var i=this.el.style,a=NR(r[0],r[1]);M(a,function(s){i[s[0]]=s[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var e=this,n=this.el.style;n.visibility="hidden",n.opacity="0",We.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(fe(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),Lke=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),OR(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,n,r,i,a){var s=this;ye(e)&&ut(""),this.el&&this._zr.remove(this.el);var o=r.getModel("textStyle");this.el=new et({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:JG(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),M(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=r.get(u)}),M(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,n=this.el.getBoundingRect(),r=RR(e.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},t.prototype.moveTo=function(e,n){var r=this.el;if(r){var i=this._styleCoord;OR(i,this._zr,e,n),e=i[0],n=i[1];var a=r.style,s=to(a.borderWidth||0),o=RR(a);r.x=e+s+o.left,r.y=n+s+o.top,r.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(fe(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function to(t){return Math.max(0,t)}function RR(t){var e=to(t.shadowBlur||0),n=to(t.shadowOffsetX||0),r=to(t.shadowOffsetY||0);return{left:to(e-n),right:to(e+n),top:to(e-r),bottom:to(e+r)}}function OR(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Nke=new Ke({shape:{x:-1,y:-1,width:2,height:2}}),zke=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){if(!(We.node||!r.getDom())){var i=n.getComponent("tooltip"),a=this._renderMode=Epe(i.get("renderMode"));this._tooltipContent=a==="richText"?new Lke(r):new Dke(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(n,r,i){if(!(We.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(n),a.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?Fh(this,"_updatePosition",50,"fixRate"):Xd(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");_9("itemTooltip",this._api,fe(function(i,a,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,a=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(n,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(n,r,i,a){if(!(a.from===this.uid||We.node||!i.getDom())){var s=FR(a,i);this._ticket="";var o=a.dataByCoordSys,l=Bke(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var h=Nke;h.x=a.x,h.y=a.y,h.update(),Se(h).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:h},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,a))return;var c=T9(a,r),f=c.point[0],p=c.point[1];f!=null&&p!=null&&this._tryShow({offsetX:f,offsetY:p,target:c.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(n,r,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(FR(a,i))},e.prototype._manuallyAxisShowTip=function(n,r,i,a){var s=a.seriesIndex,o=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=r.getSeriesByIndex(s);if(u){var h=u.getData(),c=Cf([h.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(n,r){var i=n.target,a=this._tooltipModel;if(a){this._lastX=n.offsetX,this._lastY=n.offsetY;var s=n.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,n);else if(i){var o=Se(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Zl(i,function(h){if(Se(h).dataIndex!=null)return l=h,!0;if(Se(h).tooltipConfig!=null)return u=h,!0},!0),l?this._showSeriesItemTooltip(n,l,r):u?this._showComponentItemTooltip(n,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=fe(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],o=Cf([r.tooltipOption],a),l=this._renderMode,u=[],h=gn("section",{blocks:[],noHeader:!0}),c=[],f=new Sb;M(n,function(x){M(x.dataByAxis,function(A){var b=i.getComponent(A.axisDim+"Axis",A.axisIndex),S=A.value;if(!(!b||S==null)){var w=b9(S,b.axis,i,A.seriesDataIndices,A.valueLabelOpt),_=gn("section",{header:w,noHeader:!Ri(w),sortBlocks:!0,blocks:[]});h.blocks.push(_),M(A.seriesDataIndices,function(T){var C=i.getSeriesByIndex(T.seriesIndex),E=T.dataIndexInside,k=C.getDataParams(E);if(!(k.dataIndex<0)){k.axisDim=A.axisDim,k.axisIndex=A.axisIndex,k.axisType=A.axisType,k.axisId=A.axisId,k.axisValue=zI(b.axis,{value:S}),k.axisValueLabel=w,k.marker=f.makeTooltipMarker("item",wu(k.color),l);var I=_2(C.formatTooltip(E,!0,null)),j=I.frag;if(j){var P=Cf([C],a).get("valueFormatter");_.blocks.push(P?J({valueFormatter:P},j):j)}I.text&&c.push(I.text),u.push(k)}})}})}),h.blocks.reverse(),c.reverse();var p=r.position,v=o.get("order"),m=P2(h,f,l,v,i.get("useUTC"),o.get("textStyle"));m&&c.unshift(m);var g=l==="richText"?`

`:"<br/>",y=c.join(g);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(o,p,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,y,u,Math.random()+"",s[0],s[1],p,null,f)})},e.prototype._showSeriesItemTooltip=function(n,r,i){var a=this._ecModel,s=Se(r),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,h=s.dataIndex,c=s.dataType,f=u.getData(c),p=this._renderMode,v=n.positionDefault,m=Cf([f.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),g=m.get("trigger");if(!(g!=null&&g!=="item")){var y=u.getDataParams(h,c),x=new Sb;y.marker=x.makeTooltipMarker("item",wu(y.color),p);var A=_2(u.formatTooltip(h,!1,c)),b=m.get("order"),S=m.get("valueFormatter"),w=A.frag,_=w?P2(S?J({valueFormatter:S},w):w,x,p,b,a.get("useUTC"),m.get("textStyle")):A.text,T="item_"+u.name+"_"+h;this._showOrMove(m,function(){this._showTooltipContent(m,_,y,T,n.offsetX,n.offsetY,n.position,n.target,x)}),i({type:"showTip",dataIndexInside:h,dataIndex:f.getRawIndex(h),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(n,r,i){var a=this._renderMode==="html",s=Se(r),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(ue(l)){var h=l;l={content:h,formatter:h},u=!0}u&&a&&l.content&&(l=xe(l),l.content=pr(l.content));var c=[l],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&c.push(f),c.push({formatter:l.content});var p=n.positionDefault,v=Cf(c,this._tooltipModel,p?{position:p}:null),m=v.get("content"),g=Math.random()+"",y=new Sb;this._showOrMove(v,function(){var x=xe(v.get("formatterParams")||{});this._showTooltipContent(v,m,x,g,n.offsetX,n.offsetY,n.position,r,y)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(n,r,i,a,s,o,l,u,h){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var c=this._tooltipContent;c.setEnterable(n.get("enterable"));var f=n.get("formatter");l=l||n.get("position");var p=r,v=this._getNearestPoint([s,o],i,n.get("trigger"),n.get("borderColor")),m=v.color;if(f)if(ue(f)){var g=n.ecModel.get("useUTC"),y=ee(i)?i[0]:i,x=y&&y.axisType&&y.axisType.indexOf("time")>=0;p=f,x&&(p=vx(y.axisValue,p,g)),p=yG(p,i,!0)}else if(me(f)){var A=fe(function(b,S){b===this._ticket&&(c.setContent(S,h,n,m,l),this._updatePosition(n,l,s,o,c,i,u))},this);this._ticket=a,p=f(i,a,A)}else p=f;c.setContent(p,h,n,m,l),c.show(n,m),this._updatePosition(n,l,s,o,c,i,u)}},e.prototype._getNearestPoint=function(n,r,i,a){if(i==="axis"||ee(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ee(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(n,r,i,a,s,o,l){var u=this._api.getWidth(),h=this._api.getHeight();r=r||n.get("position");var c=s.getSize(),f=n.get("align"),p=n.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),me(r)&&(r=r([i,a],o,s.el,v,{viewSize:[u,h],contentSize:c.slice()})),ee(r))i=se(r[0],u),a=se(r[1],h);else if(ye(r)){var m=r;m.width=c[0],m.height=c[1];var g=cn(m,{width:u,height:h});i=g.x,a=g.y,f=null,p=null}else if(ue(r)&&l){var y=Fke(r,v,c,n.get("borderWidth"));i=y[0],a=y[1]}else{var y=Rke(i,a,s,u,h,f?null:20,p?null:20);i=y[0],a=y[1]}if(f&&(i-=BR(f)?c[0]/2:f==="right"?c[0]:0),p&&(a-=BR(p)?c[1]/2:p==="bottom"?c[1]:0),R9(n)){var y=Oke(i,a,s,u,h);i=y[0],a=y[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===n.length;return s&&M(i,function(o,l){var u=o.dataByAxis||[],h=n[l]||{},c=h.dataByAxis||[];s=s&&u.length===c.length,s&&M(u,function(f,p){var v=c[p]||{},m=f.seriesDataIndices||[],g=v.seriesDataIndices||[];s=s&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&m.length===g.length,s&&M(m,function(y,x){var A=g[x];s=s&&y.seriesIndex===A.seriesIndex&&y.dataIndex===A.dataIndex}),a&&M(f.seriesDataIndices,function(y){var x=y.seriesIndex,A=r[x],b=a[x];A&&b&&b.data!==A.data&&(s=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!s},e.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},e.prototype.dispose=function(n,r){We.node||!r.getDom()||(Xd(this,"_updatePosition"),this._tooltipContent.dispose(),M1("itemTooltip",r))},e.type="tooltip",e}(Ot);function Cf(t,e,n){var r=e.ecModel,i;n?(i=new dt(n,r,r),i=new dt(e.option,i,r)):i=e;for(var a=t.length-1;a>=0;a--){var s=t[a];s&&(s instanceof dt&&(s=s.get("tooltip",!0)),ue(s)&&(s={formatter:s}),s&&(i=new dt(s,i,r)))}return i}function FR(t,e){return t.dispatchAction||fe(e.dispatchAction,e)}function Rke(t,e,n,r,i,a,s){var o=n.getSize(),l=o[0],u=o[1];return a!=null&&(t+l+a+2>r?t-=l+a:t+=a),s!=null&&(e+u+s>i?e-=u+s:e+=s),[t,e]}function Oke(t,e,n,r,i){var a=n.getSize(),s=a[0],o=a[1];return t=Math.min(t+s,r)-s,e=Math.min(e+o,i)-o,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Fke(t,e,n,r){var i=n[0],a=n[1],s=Math.ceil(Math.SQRT2*r)+8,o=0,l=0,u=e.width,h=e.height;switch(t){case"inside":o=e.x+u/2-i/2,l=e.y+h/2-a/2;break;case"top":o=e.x+u/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+u/2-i/2,l=e.y+h+s;break;case"left":o=e.x-i-s,l=e.y+h/2-a/2;break;case"right":o=e.x+u+s,l=e.y+h/2-a/2}return[o,l]}function BR(t){return t==="center"||t==="middle"}function Bke(t,e,n){var r=XC(t).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=Op(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=n.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var h=Se(u).tooltipConfig;if(h&&h.name===t.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function Vke(t){Fe(nv),t.registerComponentModel(Ske),t.registerComponentView(zke),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Jt),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Jt)}var Hke=["rect","polygon","keep","clear"];function Gke(t,e){var n=bt(t?t.brush:[]);if(n.length){var r=[];M(n,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=t&&t.toolbox;ee(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,r),Uke(o),e&&!o.length&&o.push.apply(o,Hke)}}function Uke(t){var e={};M(t,function(n){e[n]=1}),t.length=0,M(e,function(n,r){t.push(r)})}var VR=M;function HR(t){if(t){for(var e in t)if(t.hasOwnProperty(e))return!0}}function O1(t,e,n){var r={};return VR(e,function(a){var s=r[a]=i();VR(t[a],function(o,l){if(vn.isValidType(l)){var u={type:l,visual:o};n&&n(u,a),s[l]=new vn(u),l==="opacity"&&(u=xe(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new vn(u))}})}),r;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function V9(t,e,n){var r;M(n,function(i){e.hasOwnProperty(i)&&HR(e[i])&&(r=!0)}),r&&M(n,function(i){e.hasOwnProperty(i)&&HR(e[i])?t[i]=xe(e[i]):delete t[i]})}function Wke(t,e,n,r,i,a){var s={};M(t,function(c){var f=vn.prepareVisualTypes(e[c]);s[c]=f});var o;function l(c){return TI(n,o,c)}function u(c,f){oU(n,o,c,f)}n.each(h);function h(c,f){o=c;var p=n.getRawDataItem(o);if(!(p&&p.visualMap===!1))for(var v=r.call(i,c),m=e[v],g=s[v],y=0,x=g.length;y<x;y++){var A=g[y];m[A]&&m[A].applyVisual(c,l,u)}}}function $ke(t,e,n,r){var i={};return M(t,function(a){var s=vn.prepareVisualTypes(e[a]);i[a]=s}),{progress:function(s,o){var l;r!=null&&(l=o.getDimensionIndex(r));function u(S){return TI(o,c,S)}function h(S,w){oU(o,c,S,w)}for(var c,f=o.getStore();(c=s.next())!=null;){var p=o.getRawDataItem(c);if(!(p&&p.visualMap===!1))for(var v=r!=null?f.get(l,c):c,m=n(v),g=e[m],y=i[m],x=0,A=y.length;x<A;x++){var b=y[x];g[b]&&g[b].applyVisual(v,u,h)}}}}}function Yke(t){var e=t.brushType,n={point:function(r){return GR[e].point(r,n,t)},rect:function(r){return GR[e].rect(r,n,t)}};return n}var GR={lineX:UR(0),lineY:UR(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Fl(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,a=t.y,s=t.width,o=t.height,l=r[0];if(Fl(r,i,a)||Fl(r,i+s,a)||Fl(r,i,a+o)||Fl(r,i+s,a+o)||De.create(t).contain(l[0],l[1])||Bf(i,a,i+s,a,r)||Bf(i,a,i,a+o,r)||Bf(i+s,a,i+s,a+o,r)||Bf(i,a+o,i+s,a+o,r))return!0}}};function UR(t){var e=["x","y"],n=["width","height"];return{point:function(r,i,a){if(r){var s=a.range,o=r[t];return If(o,s)}},rect:function(r,i,a){if(r){var s=a.range,o=[r[e[t]],r[e[t]]+r[n[t]]];return o[1]<o[0]&&o.reverse(),If(o[0],s)||If(o[1],s)||If(s[0],o)||If(s[1],o)}}}}function If(t,e){return e[0]<=t&&t<=e[1]}var WR=["inBrush","outOfBrush"],Fw="__ecBrushSelect",F1="__ecInBrushSelectEvent";function H9(t){t.eachComponent({mainType:"brush"},function(e){var n=e.brushTargetManager=new DE(e.option,t);n.setInputRanges(e.areas,t)})}function qke(t,e,n){var r=[],i,a;t.eachComponent({mainType:"brush"},function(s){n&&n.type==="takeGlobalCursor"&&s.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),H9(t),t.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:xe(s.areas),selected:[]};r.push(l);var u=s.option,h=u.brushLink,c=[],f=[],p=[],v=!1;o||(i=u.throttleType,a=u.throttleDelay);var m=te(s.areas,function(S){var w=Kke[S.brushType],_=ge({boundingRect:w?w(S):void 0},S);return _.selectors=Yke(_),_}),g=O1(s.option,WR,function(S){S.mappingMethod="fixed"});ee(h)&&M(h,function(S){c[S]=1});function y(S){return h==="all"||!!c[S]}function x(S){return!!S.length}t.eachSeries(function(S,w){var _=p[w]=[];S.subType==="parallel"?A(S,w):b(S,w,_)});function A(S,w){var _=S.coordinateSystem;v=v||_.hasAxisBrushed(),y(w)&&_.eachActiveState(S.getData(),function(T,C){T==="active"&&(f[C]=1)})}function b(S,w,_){if(!(!S.brushSelector||Jke(s,w))&&(M(m,function(C){s.brushTargetManager.controlSeries(C,S,t)&&_.push(C),v=v||x(_)}),y(w)&&x(_))){var T=S.getData();T.each(function(C){$R(S,_,T,C)&&(f[C]=1)})}}t.eachSeries(function(S,w){var _={seriesId:S.id,seriesIndex:w,seriesName:S.name,dataIndex:[]};l.selected.push(_);var T=p[w],C=S.getData(),E=y(w)?function(k){return f[k]?(_.dataIndex.push(C.getRawIndex(k)),"inBrush"):"outOfBrush"}:function(k){return $R(S,T,C,k)?(_.dataIndex.push(C.getRawIndex(k)),"inBrush"):"outOfBrush"};(y(w)?v:x(T))&&Wke(WR,g,C,E)})}),Xke(e,i,a,r,n)}function Xke(t,e,n,r,i){if(i){var a=t.getZr();if(!a[F1]){a[Fw]||(a[Fw]=Zke);var s=Fh(a,Fw,n,e);s(t,r)}}}function Zke(t,e){if(!t.isDisposed()){var n=t.getZr();n[F1]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[F1]=!1}}function $R(t,e,n,r){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(t.brushSelector(r,n,s.selectors,s))return!0}}function Jke(t,e){var n=t.option.seriesIndex;return n!=null&&n!=="all"&&(ee(n)?ze(n,e)<0:e!==n)}var Kke={rect:function(t){return YR(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=n[r];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&YR(e)}};function YR(t){return new De(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var Qke=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){this.ecModel=n,this.api=r,this.model,(this._brushController=new lE(r.getZr())).on("brush",fe(this._onBrush,this)).mount()},e.prototype.render=function(n,r,i,a){this.model=n,this._updateController(n,r,i,a)},e.prototype.updateTransform=function(n,r,i,a){H9(r),this._updateController(n,r,i,a)},e.prototype.updateVisual=function(n,r,i,a){this.updateTransform(n,r,i,a)},e.prototype.updateView=function(n,r,i,a){this._updateController(n,r,i,a)},e.prototype._updateController=function(n,r,i,a){(!a||a.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(i)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(n){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:xe(i),$from:r}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:xe(i),$from:r})},e.type="brush",e}(Ot),ePe="#ddd",tPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return e.prototype.optionUpdated=function(n,r){var i=this.option;!r&&V9(i,n,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:ePe},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(n){n&&(this.areas=te(n,function(r){return qR(this.option,r)},this))},e.prototype.setBrushOption=function(n){this.brushOption=qR(this.option,n),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(qe);function qR(t,e){return Me({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new dt(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var nPe=["rect","polygon","lineX","lineY","keep","clear"],rPe=function(t){Y(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){var a,s,o;r.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,M(n.get("type",!0),function(l){n.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(n,r,i){this.render(n,r,i)},e.prototype.getIcons=function(){var n=this.model,r=n.get("icon",!0),i={};return M(n.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},e.prototype.onclick=function(n,r,i){var a=this._brushType,s=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(n){var r={show:!0,type:nPe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return r},e}(oi);function iPe(t){t.registerComponentView(Qke),t.registerComponentModel(tPe),t.registerPreprocessor(Gke),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,qke),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,n){n.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Jt),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Jt),yc("brush",rPe)}var aPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(qe),sPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){if(this.group.removeAll(),!!n.get("show")){var a=this.group,s=n.getModel("textStyle"),o=n.getModel("subtextStyle"),l=n.get("textAlign"),u=_e(n.get("textBaseline"),n.get("textVerticalAlign")),h=new et({style:Et(s,{text:n.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),f=n.get("subtext"),p=new et({style:Et(o,{text:f,fill:o.getTextColor(),y:c.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=n.get("link"),m=n.get("sublink"),g=n.get("triggerEvent",!0);h.silent=!v&&!g,p.silent=!m&&!g,v&&h.on("click",function(){Ey(v,"_"+n.get("target"))}),m&&p.on("click",function(){Ey(m,"_"+n.get("subtarget"))}),Se(h).eventData=Se(p).eventData=g?{componentType:"title",componentIndex:n.componentIndex}:null,a.add(h),f&&a.add(p);var y=a.getBoundingRect(),x=n.getBoxLayoutParams();x.width=y.width,x.height=y.height;var A=cn(x,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?A.x+=A.width:l==="center"&&(A.x+=A.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?A.y+=A.height:u==="middle"&&(A.y+=A.height/2),u=u||"top"),a.x=A.x,a.y=A.y,a.markRedraw();var b={align:l,verticalAlign:u};h.setStyle(b),p.setStyle(b),y=a.getBoundingRect();var S=A.margin,w=n.getItemStyle(["color","opacity"]);w.fill=n.get("backgroundColor");var _=new Ke({shape:{x:y.x-S[3],y:y.y-S[0],width:y.width+S[1]+S[3],height:y.height+S[0]+S[2],r:n.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});a.add(_)}},e.type="title",e}(Ot);function oPe(t){t.registerComponentModel(aPe),t.registerComponentView(sPe)}var XR=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._initData()},e.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var r=this._data.count();this.option.loop?n=(n%r+r)%r:(n>=r&&(n=r-1),n<0&&(n=0)),this.option.currentIndex=n},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(n){this.option.autoPlay=!!n},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var n=this.option,r=n.data||[],i=n.axisType,a=this._names=[],s;i==="category"?(s=[],M(r,function(u,h){var c=un(kh(u),""),f;ye(u)?(f=xe(u),f.value=h):f=h,s.push(f),a.push(c)})):s=r;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Jn([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(qe),G9=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="timeline.slider",e.defaultOption=Zo(XR.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(XR);an(G9,Sx.prototype);var lPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="timeline",e}(Ot),uPe=function(t){Y(e,t);function e(n,r,i,a){var s=t.call(this,n,r,i)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Yi),Bw=Math.PI,ZR=Qe(),cPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){this.api=r},e.prototype.render=function(n,r,i){if(this.model=n,this.api=i,this.ecModel=r,this.group.removeAll(),n.get("show",!0)){var a=this._layout(n,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,n);n.formatTooltip=function(u){var h=l.scale.getLabel({value:u});return gn("nameValue",{noName:!0,value:h})},M(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,n)},this),this._renderAxisLabel(a,o,l,n),this._position(a,n)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(n,r){var i=n.get(["label","position"]),a=n.get("orient"),s=fPe(n,r),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<r.getHeight()/2?"-":"+":s.x+s.width/2<r.getWidth()/2?"+":"-":ue(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:Bw/2},c=a==="vertical"?s.height:s.width,f=n.getModel("controlStyle"),p=f.get("show",!0),v=p?f.get("itemSize"):0,m=p?f.get("itemGap"):0,g=v+m,y=n.get(["label","rotate"])||0;y=y*Bw/180;var x,A,b,S=f.get("position",!0),w=p&&f.get("showPlayBtn",!0),_=p&&f.get("showPrevBtn",!0),T=p&&f.get("showNextBtn",!0),C=0,E=c;S==="left"||S==="bottom"?(w&&(x=[0,0],C+=g),_&&(A=[C,0],C+=g),T&&(b=[E-v,0],E-=g)):(w&&(x=[E-v,0],E-=g),_&&(A=[0,0],C+=g),T&&(b=[E-v,0],E-=g));var k=[C,E];return n.get("inverse")&&k.reverse(),{viewRect:s,mainLength:c,orient:a,rotation:h[a],labelRotation:y,labelPosOpt:o,labelAlign:n.get(["label","align"])||l[a],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||u[a],playPosition:x,prevBtnPosition:A,nextBtnPosition:b,axisExtent:k,controlSize:v,controlGap:m}},e.prototype._position=function(n,r){var i=this._mainGroup,a=this._labelGroup,s=n.viewRect;if(n.orient==="vertical"){var o=Nr(),l=s.x,u=s.y+s.height;La(o,o,[-l,-u]),Du(o,o,-Bw/2),La(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var h=x(s),c=x(i.getBoundingRect()),f=x(a.getBoundingRect()),p=[i.x,i.y],v=[a.x,a.y];v[0]=p[0]=h[0][0];var m=n.labelPosOpt;if(m==null||ue(m)){var g=m==="+"?0:1;A(p,c,h,1,g),A(v,f,h,1,1-g)}else{var g=m>=0?0:1;A(p,c,h,1,g),v[1]=p[1]+m}i.setPosition(p),a.setPosition(v),i.rotation=a.rotation=n.rotation,y(i),y(a);function y(b){b.originX=h[0][0]-b.x,b.originY=h[1][0]-b.y}function x(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function A(b,S,w,_,T){b[_]+=w[_][T]-S[_][T]}},e.prototype._createAxis=function(n,r){var i=r.getData(),a=r.get("axisType"),s=hPe(r,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new uPe("value",s,n.axisExtent,a);return l.model=r,l},e.prototype._createGroup=function(n){var r=this[n]=new Ae;return this.group.add(r),r},e.prototype._renderAxisLine=function(n,r,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new dn({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:J({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(o);var l=this._progressLine=new dn({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:ge({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(n,r,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],M(l,function(u){var h=i.dataToCoord(u.value),c=o.getItemModel(u.value),f=c.getModel("itemStyle"),p=c.getModel(["emphasis","itemStyle"]),v=c.getModel(["progress","itemStyle"]),m={x:h,y:0,onclick:fe(s._changeTimeline,s,u.value)},g=JR(c,f,r,m);g.ensureState("emphasis").style=p.getItemStyle(),g.ensureState("progress").style=v.getItemStyle(),cu(g);var y=Se(g);c.get("tooltip")?(y.dataIndex=u.value,y.dataModel=a):y.dataIndex=y.dataModel=null,s._tickSymbols.push(g)})},e.prototype._renderAxisLabel=function(n,r,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],M(u,function(h){var c=h.tickValue,f=l.getItemModel(c),p=f.getModel("label"),v=f.getModel(["emphasis","label"]),m=f.getModel(["progress","label"]),g=i.dataToCoord(h.tickValue),y=new et({x:g,y:0,rotation:n.labelRotation-n.rotation,onclick:fe(s._changeTimeline,s,c),silent:!1,style:Et(p,{text:h.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});y.ensureState("emphasis").style=Et(v),y.ensureState("progress").style=Et(m),r.add(y),cu(y),ZR(y).dataIndex=c,s._tickLabels.push(y)})}},e.prototype._renderControl=function(n,r,i,a){var s=n.controlSize,o=n.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),h=a.getPlayState(),c=a.get("inverse",!0);f(n.nextBtnPosition,"next",fe(this._changeTimeline,this,c?"-":"+")),f(n.prevBtnPosition,"prev",fe(this._changeTimeline,this,c?"+":"-")),f(n.playPosition,h?"stop":"play",fe(this._handlePlayClick,this,!h),!0);function f(p,v,m,g){if(p){var y=Hi(_e(a.get(["controlStyle",v+"BtnSize"]),s),s),x=[0,-y/2,y,y],A=dPe(a,v+"Icon",x,{x:p[0],y:p[1],originX:s/2,originY:0,rotation:g?-o:0,rectHover:!0,style:l,onclick:m});A.ensureState("emphasis").style=u,r.add(A),cu(A)}}},e.prototype._renderCurrentPointer=function(n,r,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,h={onCreate:function(c){c.draggable=!0,c.drift=fe(u._handlePointerDrag,u),c.ondragend=fe(u._handlePointerDragend,u),KR(c,u._progressLine,o,i,a,!0)},onUpdate:function(c){KR(c,u._progressLine,o,i,a)}};this._currentPointer=JR(l,l,this._mainGroup,{},this._currentPointer,h)},e.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},e.prototype._handlePointerDrag=function(n,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},e.prototype._pointerChangeTimeline=function(n,r){var i=this._toAxisCoord(n)[0],a=this._axis,s=di(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=n.model;n._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(n){var r=this._mainGroup.getLocalTransform();return Bi(n,r,!0)},e.prototype._findNearestTick=function(n){var r=this.model.getData(),i=1/0,a,s=this._axis;return r.each(["value"],function(o,l){var u=s.dataToCoord(o),h=Math.abs(u-n);h<i&&(i=h,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(n){var r=this.model.getCurrentIndex();n==="+"?n=r+1:n==="-"&&(n=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},e.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<n);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",ZR(i[a]).dataIndex<=n)},e.type="timeline.slider",e}(lPe);function hPe(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new kx({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new LI({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Ps}}function fPe(t,e){return cn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function dPe(t,e,n,r){var i=r.style,a=Gp(t.get(["controlStyle",e]),r||{},new De(n[0],n[1],n[2],n[3]));return i&&a.setStyle(i),a}function JR(t,e,n,r,i,a){var s=e.get("color");if(i)i.setColor(s),n.add(i),a&&a.onUpdate(i);else{var o=t.get("symbol");i=rn(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),n.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=Me({rectHover:!0,z2:100},r,!0);var u=Bh(t.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var h=Nu(t.get("symbolOffset"),u);h&&(r.x=(r.x||0)+h[0],r.y=(r.y||0)+h[1]);var c=t.get("symbolRotate");return r.rotation=(c||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function KR(t,e,n,r,i,a){if(!t.dragging){var s=i.getModel("checkpointStyle"),o=r.dataToCoord(i.getData().get("value",n));if(a||!s.get("animation",!0))t.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function pPe(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,n,r){var i=n.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),n.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),ge({currentIndex:i.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,n){var r=n.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function vPe(t){var e=t&&t.timeline;ee(e)||(e=e?[e]:[]),M(e,function(n){n&&mPe(n)})}function mPe(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),QR(t),Hl(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});Hl(r,"position")||(r.position=t.controlPosition),r.position==="none"&&!Hl(r,"show")&&(r.show=!1,delete r.position),delete t.controlPosition}M(t.data||[],function(i){ye(i)&&!ee(i)&&(!Hl(i,"value")&&Hl(i,"name")&&(i.value=i.name),QR(i))})}function QR(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};M(r,function(s,o){!a[o]&&!Hl(i,o)&&(i[o]=s)}),n.label&&!Hl(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function Hl(t,e){return t.hasOwnProperty(e)}function gPe(t){t.registerComponentModel(G9),t.registerComponentView(cPe),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),pPe(t),t.registerPreprocessor(vPe)}function zE(t,e){if(!t)return!1;for(var n=ee(t)?t:[t],r=0;r<n.length;r++)if(n[r]&&n[r][e])return!0;return!1}function Nm(t){yu(t,"label",["show"])}var zm=Qe(),Ms=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._mergeOption(n,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(We.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},e.prototype.mergeOption=function(n,r){this._mergeOption(n,r,!1,!1)},e.prototype._mergeOption=function(n,r,i,a){var s=this.mainType;i||r.eachSeries(function(o){var l=o.get(this.mainType,!0),u=zm(o)[s];if(!l||!l.data){zm(o)[s]=null;return}u?u._mergeOption(l,r,!0):(a&&Nm(l),M(l.data,function(h){h instanceof Array?(Nm(h[0]),Nm(h[1])):Nm(h)}),u=this.createMarkerModelFromSeries(l,this,r),J(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),zm(o)[s]=u},this)},e.prototype.formatTooltip=function(n,r,i){var a=this.getData(),s=this.getRawValue(n),o=a.getName(n);return gn("section",{header:this.name,blocks:[gn("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(n){this._data=n},e.prototype.getDataParams=function(n,r){var i=Sx.prototype.getDataParams.call(this,n,r),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(n,r){return zm(n)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(qe);an(Ms,Sx.prototype);var yPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.createMarkerModelFromSeries=function(n,r,i){return new e(n,r,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Ms);function B1(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function xPe(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function Rm(t,e,n,r,i,a){var s=[],o=Fo(e,r),l=o?e.getCalculationInfo("stackResultDimension"):r,u=RE(e,l,t),h=e.indicesOfNearest(l,u)[0];s[i]=e.get(n,h),s[a]=e.get(l,h);var c=e.get(r,h),f=ma(e.get(r,h));return f=Math.min(f,20),f>=0&&(s[a]=+s[a].toFixed(f)),[s,c]}var Vw={min:Ee(Rm,"min"),max:Ee(Rm,"max"),average:Ee(Rm,"average"),median:Ee(Rm,"median")};function up(t,e){if(e){var n=t.getData(),r=t.coordinateSystem,i=r&&r.dimensions;if(!xPe(e)&&!ee(e.coord)&&ee(i)){var a=U9(e,n,r,t);if(e=xe(e),e.type&&Vw[e.type]&&a.baseAxis&&a.valueAxis){var s=ze(i,a.baseAxis.dim),o=ze(i,a.valueAxis.dim),l=Vw[e.type](n,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ee(i))e.coord=[];else for(var u=e.coord,h=0;h<2;h++)Vw[u[h]]&&(u[h]=RE(n,n.mapDimension(i[h]),u[h]));return e}}function U9(t,e,n,r){var i={};return t.valueIndex!=null||t.valueDim!=null?(i.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(APe(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function APe(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}function cp(t,e){return t&&t.containData&&e.coord&&!B1(e)?t.containData(e.coord):!0}function bPe(t,e,n){return t&&t.containZone&&e.coord&&n.coord&&!B1(e)&&!B1(n)?t.containZone(e.coord,n.coord):!0}function W9(t,e){return t?function(n,r,i,a){var s=a<2?n.coord&&n.coord[a]:n.value;return Io(s,e[a])}:function(n,r,i,a){return Io(n.value,e[a])}}function RE(t,e,n){if(n==="average"){var r=0,i=0;return t.each(e,function(a,s){isNaN(a)||(r+=a,i++)}),r/i}else return n==="median"?t.getMedian(e):t.getDataExtent(e)[n==="max"?1:0]}var Hw=Qe(),OE=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){this.markerGroupMap=pe()},e.prototype.render=function(n,r,i){var a=this,s=this.markerGroupMap;s.each(function(o){Hw(o).keep=!1}),r.eachSeries(function(o){var l=Ms.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,r,i)}),s.each(function(o){!Hw(o).keep&&a.group.remove(o.group)})},e.prototype.markKeep=function(n){Hw(n).keep=!0},e.prototype.toggleBlurSeries=function(n,r){var i=this;M(n,function(a){var s=Ms.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(r?D4(l):nI(l))})}})},e.type="marker",e}(Ot);function eO(t,e,n){var r=e.coordinateSystem;t.each(function(i){var a=t.getItemModel(i),s,o=se(a.get("x"),n.getWidth()),l=se(a.get("y"),n.getHeight());if(!isNaN(o)&&!isNaN(l))s=[o,l];else if(e.getMarkerPosition)s=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var u=t.get(r.dimensions[0],i),h=t.get(r.dimensions[1],i);s=r.dataToPoint([u,h])}isNaN(o)||(s[0]=o),isNaN(l)||(s[1]=l),t.setItemLayout(i,s)})}var wPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.updateTransform=function(n,r,i){r.eachSeries(function(a){var s=Ms.getMarkerModelFromSeries(a,"markPoint");s&&(eO(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(n,r,i,a){var s=n.coordinateSystem,o=n.id,l=n.getData(),u=this.markerGroupMap,h=u.get(o)||u.set(o,new Xp),c=SPe(s,n,r);r.setData(c),eO(r.getData(),n,a),c.each(function(f){var p=c.getItemModel(f),v=p.getShallow("symbol"),m=p.getShallow("symbolSize"),g=p.getShallow("symbolRotate"),y=p.getShallow("symbolOffset"),x=p.getShallow("symbolKeepAspect");if(me(v)||me(m)||me(g)||me(y)){var A=r.getRawValue(f),b=r.getDataParams(f);me(v)&&(v=v(A,b)),me(m)&&(m=m(A,b)),me(g)&&(g=g(A,b)),me(y)&&(y=y(A,b))}var S=p.getModel("itemStyle").getItemStyle(),w=Wp(l,"color");S.fill||(S.fill=w),c.setItemVisual(f,{symbol:v,symbolSize:m,symbolRotate:g,symbolOffset:y,symbolKeepAspect:x,style:S})}),h.updateData(c),this.group.add(h.group),c.eachItemGraphicEl(function(f){f.traverse(function(p){Se(p).dataModel=r})}),this.markKeep(h),h.group.silent=r.get("silent")||n.get("silent")},e.type="markPoint",e}(OE);function SPe(t,e,n){var r;t?r=te(t&&t.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return J(J({},l),{name:o,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Jn(r,n),a=te(n.get("data"),Ee(up,e));t&&(a=gt(a,Ee(cp,t)));var s=W9(!!t,r);return i.initData(a,null,s),i}function _Pe(t){t.registerComponentModel(yPe),t.registerComponentView(wPe),t.registerPreprocessor(function(e){zE(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var TPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.createMarkerModelFromSeries=function(n,r,i){return new e(n,r,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(Ms),Om=Qe(),CPe=function(t,e,n,r){var i=t.getData(),a;if(ee(r))a=r;else{var s=r.type;if(s==="min"||s==="max"||s==="average"||s==="median"||r.xAxis!=null||r.yAxis!=null){var o=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)o=e.getAxis(r.yAxis!=null?"y":"x"),l=bn(r.yAxis,r.xAxis);else{var u=U9(r,i,e,t);o=u.valueAxis;var h=RU(i,u.valueDataDim);l=RE(i,h,s)}var c=o.dim==="x"?0:1,f=1-c,p=xe(r),v={coord:[]};p.type=null,p.coord=[],p.coord[f]=-1/0,v.coord[f]=1/0;var m=n.get("precision");m>=0&&nt(l)&&(l=+l.toFixed(Math.min(m,20))),p.coord[c]=v.coord[c]=l,a=[p,v,{type:s,valueIndex:r.valueIndex,value:l}]}else a=[]}var g=[up(t,a[0]),up(t,a[1]),J({},a[2])];return g[2].type=g[2].type||null,Me(g[2],g[0]),Me(g[2],g[1]),g};function Qy(t){return!isNaN(t)&&!isFinite(t)}function tO(t,e,n,r){var i=1-t,a=r.dimensions[t];return Qy(e[i])&&Qy(n[i])&&e[t]===n[t]&&r.getAxis(a).containData(e[t])}function IPe(t,e){if(t.type==="cartesian2d"){var n=e[0].coord,r=e[1].coord;if(n&&r&&(tO(1,n,r,t)||tO(0,n,r,t)))return!0}return cp(t,e[0])&&cp(t,e[1])}function Gw(t,e,n,r,i){var a=r.coordinateSystem,s=t.getItemModel(e),o,l=se(s.get("x"),i.getWidth()),u=se(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var h=a.dimensions,c=t.get(h[0],e),f=t.get(h[1],e);o=a.dataToPoint([c,f])}if(Ru(a,"cartesian2d")){var p=a.getAxis("x"),v=a.getAxis("y"),h=a.dimensions;Qy(t.get(h[0],e))?o[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Qy(t.get(h[1],e))&&(o[1]=v.toGlobalCoord(v.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}t.setItemLayout(e,o)}var EPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.updateTransform=function(n,r,i){r.eachSeries(function(a){var s=Ms.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=Om(s).from,u=Om(s).to;l.each(function(h){Gw(l,h,!0,a,i),Gw(u,h,!1,a,i)}),o.each(function(h){o.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(n,r,i,a){var s=n.coordinateSystem,o=n.id,l=n.getData(),u=this.markerGroupMap,h=u.get(o)||u.set(o,new oE);this.group.add(h.group);var c=kPe(s,n,r),f=c.from,p=c.to,v=c.line;Om(r).from=f,Om(r).to=p,r.setData(v);var m=r.get("symbol"),g=r.get("symbolSize"),y=r.get("symbolRotate"),x=r.get("symbolOffset");ee(m)||(m=[m,m]),ee(g)||(g=[g,g]),ee(y)||(y=[y,y]),ee(x)||(x=[x,x]),c.from.each(function(b){A(f,b,!0),A(p,b,!1)}),v.each(function(b){var S=v.getItemModel(b).getModel("lineStyle").getLineStyle();v.setItemLayout(b,[f.getItemLayout(b),p.getItemLayout(b)]),S.stroke==null&&(S.stroke=f.getItemVisual(b,"style").fill),v.setItemVisual(b,{fromSymbolKeepAspect:f.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(b,"symbolOffset"),fromSymbolRotate:f.getItemVisual(b,"symbolRotate"),fromSymbolSize:f.getItemVisual(b,"symbolSize"),fromSymbol:f.getItemVisual(b,"symbol"),toSymbolKeepAspect:p.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(b,"symbolOffset"),toSymbolRotate:p.getItemVisual(b,"symbolRotate"),toSymbolSize:p.getItemVisual(b,"symbolSize"),toSymbol:p.getItemVisual(b,"symbol"),style:S})}),h.updateData(v),c.line.eachItemGraphicEl(function(b){Se(b).dataModel=r,b.traverse(function(S){Se(S).dataModel=r})});function A(b,S,w){var _=b.getItemModel(S);Gw(b,S,w,n,a);var T=_.getModel("itemStyle").getItemStyle();T.fill==null&&(T.fill=Wp(l,"color")),b.setItemVisual(S,{symbolKeepAspect:_.get("symbolKeepAspect"),symbolOffset:_e(_.get("symbolOffset",!0),x[w?0:1]),symbolRotate:_e(_.get("symbolRotate",!0),y[w?0:1]),symbolSize:_e(_.get("symbolSize"),g[w?0:1]),symbol:_e(_.get("symbol",!0),m[w?0:1]),style:T})}this.markKeep(h),h.group.silent=r.get("silent")||n.get("silent")},e.type="markLine",e}(OE);function kPe(t,e,n){var r;t?r=te(t&&t.dimensions,function(u){var h=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return J(J({},h),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Jn(r,n),a=new Jn(r,n),s=new Jn([],n),o=te(n.get("data"),Ee(CPe,e,t,n));t&&(o=gt(o,Ee(IPe,t)));var l=W9(!!t,r);return i.initData(te(o,function(u){return u[0]}),null,l),a.initData(te(o,function(u){return u[1]}),null,l),s.initData(te(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function PPe(t){t.registerComponentModel(TPe),t.registerComponentView(EPe),t.registerPreprocessor(function(e){zE(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var jPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.createMarkerModelFromSeries=function(n,r,i){return new e(n,r,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(Ms),Fm=Qe(),MPe=function(t,e,n,r){var i=r[0],a=r[1];if(!(!i||!a)){var s=up(t,i),o=up(t,a),l=s.coord,u=o.coord;l[0]=bn(l[0],-1/0),l[1]=bn(l[1],-1/0),u[0]=bn(u[0],1/0),u[1]=bn(u[1],1/0);var h=OC([{},s,o]);return h.coord=[s.coord,o.coord],h.x0=s.x,h.y0=s.y,h.x1=o.x,h.y1=o.y,h}};function e0(t){return!isNaN(t)&&!isFinite(t)}function nO(t,e,n,r){var i=1-t;return e0(e[i])&&e0(n[i])}function DPe(t,e){var n=e.coord[0],r=e.coord[1],i={coord:n,x:e.x0,y:e.y0},a={coord:r,x:e.x1,y:e.y1};return Ru(t,"cartesian2d")?n&&r&&(nO(1,n,r)||nO(0,n,r))?!0:bPe(t,i,a):cp(t,i)||cp(t,a)}function rO(t,e,n,r,i){var a=r.coordinateSystem,s=t.getItemModel(e),o,l=se(s.get(n[0]),i.getWidth()),u=se(s.get(n[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(r.getMarkerPosition){var h=t.getValues(["x0","y0"],e),c=t.getValues(["x1","y1"],e),f=a.clampData(h),p=a.clampData(c),v=[];n[0]==="x0"?v[0]=f[0]>p[0]?c[0]:h[0]:v[0]=f[0]>p[0]?h[0]:c[0],n[1]==="y0"?v[1]=f[1]>p[1]?c[1]:h[1]:v[1]=f[1]>p[1]?h[1]:c[1],o=r.getMarkerPosition(v,n,!0)}else{var m=t.get(n[0],e),g=t.get(n[1],e),y=[m,g];a.clampData&&a.clampData(y,y),o=a.dataToPoint(y,!0)}if(Ru(a,"cartesian2d")){var x=a.getAxis("x"),A=a.getAxis("y"),m=t.get(n[0],e),g=t.get(n[1],e);e0(m)?o[0]=x.toGlobalCoord(x.getExtent()[n[0]==="x0"?0:1]):e0(g)&&(o[1]=A.toGlobalCoord(A.getExtent()[n[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var iO=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],LPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.updateTransform=function(n,r,i){r.eachSeries(function(a){var s=Ms.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=te(iO,function(c){return rO(o,l,c,a,i)});o.setItemLayout(l,u);var h=o.getItemGraphicEl(l);h.setShape("points",u)})}},this)},e.prototype.renderSeries=function(n,r,i,a){var s=n.coordinateSystem,o=n.id,l=n.getData(),u=this.markerGroupMap,h=u.get(o)||u.set(o,{group:new Ae});this.group.add(h.group),this.markKeep(h);var c=NPe(s,n,r);r.setData(c),c.each(function(f){var p=te(iO,function(T){return rO(c,f,T,n,a)}),v=s.getAxis("x").scale,m=s.getAxis("y").scale,g=v.getExtent(),y=m.getExtent(),x=[v.parse(c.get("x0",f)),v.parse(c.get("x1",f))],A=[m.parse(c.get("y0",f)),m.parse(c.get("y1",f))];di(x),di(A);var b=!(g[0]>x[1]||g[1]<x[0]||y[0]>A[1]||y[1]<A[0]),S=!b;c.setItemLayout(f,{points:p,allClipped:S});var w=c.getItemModel(f).getModel("itemStyle").getItemStyle(),_=Wp(l,"color");w.fill||(w.fill=_,ue(w.fill)&&(w.fill=my(w.fill,.4))),w.stroke||(w.stroke=_),c.setItemVisual(f,"style",w)}),c.diff(Fm(h).data).add(function(f){var p=c.getItemLayout(f);if(!p.allClipped){var v=new rr({shape:{points:p.points}});c.setItemGraphicEl(f,v),h.group.add(v)}}).update(function(f,p){var v=Fm(h).data.getItemGraphicEl(p),m=c.getItemLayout(f);m.allClipped?v&&h.group.remove(v):(v?it(v,{shape:{points:m.points}},r,f):v=new rr({shape:{points:m.points}}),c.setItemGraphicEl(f,v),h.group.add(v))}).remove(function(f){var p=Fm(h).data.getItemGraphicEl(f);h.group.remove(p)}).execute(),c.eachItemGraphicEl(function(f,p){var v=c.getItemModel(p),m=c.getItemVisual(p,"style");f.useStyle(c.getItemVisual(p,"style")),Pn(f,mn(v),{labelFetcher:r,labelDataIndex:p,defaultText:c.getName(p)||"",inheritColor:ue(m.fill)?my(m.fill,1):"#000"}),kn(f,v),Wt(f,null,null,v.get(["emphasis","disabled"])),Se(f).dataModel=r}),Fm(h).data=c,h.group.silent=r.get("silent")||n.get("silent")},e.type="markArea",e}(OE);function NPe(t,e,n){var r,i,a=["x0","y0","x1","y1"];if(t){var s=te(t&&t.dimensions,function(u){var h=e.getData(),c=h.getDimensionInfo(h.mapDimension(u))||{};return J(J({},c),{name:u,ordinalMeta:null})});i=te(a,function(u,h){return{name:u,type:s[h%2].type}}),r=new Jn(i,n)}else i=[{name:"value",type:"float"}],r=new Jn(i,n);var o=te(n.get("data"),Ee(MPe,e,t,n));t&&(o=gt(o,Ee(DPe,t)));var l=t?function(u,h,c,f){var p=u.coord[Math.floor(f/2)][f%2];return Io(p,i[f])}:function(u,h,c,f){return Io(u.value,i[f])};return r.initData(o,null,l),r.hasItemOption=!0,r}function zPe(t){t.registerComponentModel(jPe),t.registerComponentView(LPe),t.registerPreprocessor(function(e){zE(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var RPe=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},V1=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},e.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),ee(r)&&M(r,function(a,s){ue(a)&&(a={type:a}),r[s]=Me(a,RPe(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var a=n[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(n[0].get("name"))}},e.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(l){var u=l.name;i.push(u);var h;if(l.legendVisualProvider){var c=l.legendVisualProvider,f=c.getAllNames();n.isSeriesFiltered(l)||(i=i.concat(f)),f.length?r=r.concat(f):h=!0}else h=!0;h&&qC(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,s=pe(),o=te(a,function(l){return(ue(l)||nt(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new dt(l,this,this.ecModel))},this);this._data=gt(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;M(a,function(s){r[s.get("name")]=!1})}r[n]=!0},e.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},e.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},e.prototype.allSelect=function(){var n=this._data,r=this.option.selected;M(n,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;M(n,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&ze(this._availableNames,n)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(qe),uc=Ee,H1=M,Bm=Ae,$9=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return e.prototype.init=function(){this.group.add(this._contentGroup=new Bm),this.group.add(this._selectorGroup=new Bm),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(n,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var s=n.get("align"),o=n.get("orient");(!s||s==="auto")&&(s=n.get("left")==="right"&&o==="vertical"?"right":"left");var l=n.get("selector",!0),u=n.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,n,r,i,l,o,u);var h=n.getBoxLayoutParams(),c={width:i.getWidth(),height:i.getHeight()},f=n.get("padding"),p=cn(h,c,f),v=this.layoutInner(n,s,p,a,l,u),m=cn(ge({width:v.width,height:v.height},h),c,f);this.group.x=m.x-v.x,this.group.y=m.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=L9(v,n))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(n,r,i,a,s,o,l){var u=this.getContentGroup(),h=pe(),c=r.get("selectedMode"),f=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),H1(r.getData(),function(p,v){var m=p.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var g=new Bm;g.newline=!0,u.add(g);return}var y=i.getSeriesByName(m)[0];if(!h.get(m))if(y){var x=y.getData(),A=x.getVisual("legendLineStyle")||{},b=x.getVisual("legendIcon"),S=x.getVisual("style"),w=this._createItem(y,m,v,p,r,n,A,S,b,c,a);w.on("click",uc(aO,m,null,a,f)).on("mouseover",uc(G1,y.name,null,a,f)).on("mouseout",uc(U1,y.name,null,a,f)),i.ssr&&w.eachChild(function(_){var T=Se(_);T.seriesIndex=y.seriesIndex,T.dataIndex=v,T.ssrType="legend"}),h.set(m,!0)}else i.eachRawSeries(function(_){if(!h.get(m)&&_.legendVisualProvider){var T=_.legendVisualProvider;if(!T.containName(m))return;var C=T.indexOfName(m),E=T.getItemVisual(C,"style"),k=T.getItemVisual(C,"legendIcon"),I=zr(E.fill);I&&I[3]===0&&(I[3]=.2,E=J(J({},E),{fill:ds(I,"rgba")}));var j=this._createItem(_,m,v,p,r,n,{},E,k,c,a);j.on("click",uc(aO,null,m,a,f)).on("mouseover",uc(G1,null,m,a,f)).on("mouseout",uc(U1,null,m,a,f)),i.ssr&&j.eachChild(function(P){var D=Se(P);D.seriesIndex=_.seriesIndex,D.dataIndex=v,D.ssrType="legend"}),h.set(m,!0)}},this)},this),s&&this._createSelector(s,r,a,o,l)},e.prototype._createSelector=function(n,r,i,a,s){var o=this.getSelectorGroup();H1(n,function(u){var h=u.type,c=new et({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect"})}});o.add(c);var f=r.getModel("selectorLabel"),p=r.getModel(["emphasis","selectorLabel"]);Pn(c,{normal:f,emphasis:p},{defaultText:u.title}),cu(c)})},e.prototype._createItem=function(n,r,i,a,s,o,l,u,h,c,f){var p=n.visualDrawType,v=s.get("itemWidth"),m=s.get("itemHeight"),g=s.isSelected(r),y=a.get("symbolRotate"),x=a.get("symbolKeepAspect"),A=a.get("icon");h=A||h||"roundRect";var b=OPe(h,a,l,u,p,g,f),S=new Bm,w=a.getModel("textStyle");if(me(n.getLegendIcon)&&(!A||A==="inherit"))S.add(n.getLegendIcon({itemWidth:v,itemHeight:m,icon:h,iconRotate:y,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:x}));else{var _=A==="inherit"&&n.getData().getVisual("symbol")?y==="inherit"?n.getData().getVisual("symbolRotate"):y:0;S.add(FPe({itemWidth:v,itemHeight:m,icon:h,iconRotate:_,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:x}))}var T=o==="left"?v+5:-5,C=o,E=s.get("formatter"),k=r;ue(E)&&E?k=E.replace("{name}",r??""):me(E)&&(k=E(r));var I=g?w.getTextColor():a.get("inactiveColor");S.add(new et({style:Et(w,{text:k,x:T,y:m/2,fill:I,align:C,verticalAlign:"middle"},{inheritColor:I})}));var j=new Ke({shape:S.getBoundingRect(),style:{fill:"transparent"}}),P=a.getModel("tooltip");return P.get("show")&&Mh({el:j,componentModel:s,itemName:r,itemTooltipOption:P.option}),S.add(j),S.eachChild(function(D){D.silent=!0}),j.silent=!c,this.getContentGroup().add(S),cu(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(n,r,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();fu(n.get("orient"),l,n.get("itemGap"),i.width,i.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),s){fu("horizontal",u,n.get("selectorItemGap",!0));var f=u.getBoundingRect(),p=[-f.x,-f.y],v=n.get("selectorButtonGap",!0),m=n.getOrient().index,g=m===0?"width":"height",y=m===0?"height":"width",x=m===0?"y":"x";o==="end"?p[m]+=h[g]+v:c[m]+=f[g]+v,p[1-m]+=h[y]/2-f[y]/2,u.x=p[0],u.y=p[1],l.x=c[0],l.y=c[1];var A={x:0,y:0};return A[g]=h[g]+v+f[g],A[y]=Math.max(h[y],f[y]),A[x]=Math.min(0,f[x]+p[1-m]),A}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Ot);function OPe(t,e,n,r,i,a,s){function o(g,y){g.lineWidth==="auto"&&(g.lineWidth=y.lineWidth>0?2:0),H1(g,function(x,A){g[A]==="inherit"&&(g[A]=y[A])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),h=t.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:lh(c,s),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:n).opacity),o(u,r);var f=e.getModel("lineStyle"),p=f.getLineStyle();if(o(p,n),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),p.stroke==="auto"&&(p.stroke=r.fill),!a){var v=e.get("inactiveBorderWidth"),m=u[h];u.lineWidth=v==="auto"?r.lineWidth>0&&m?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function FPe(t){var e=t.icon||"roundRect",n=rn(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function aO(t,e,n,r){U1(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:t??e}),G1(t,e,n,r)}function Y9(t){for(var e=t.getZr().storage.getDisplayList(),n,r=0,i=e.length;r<i&&!(n=e[r].states.emphasis);)r++;return n&&n.hoverLayer}function G1(t,e,n,r){Y9(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function U1(t,e,n,r){Y9(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}function BPe(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(n){for(var r=0;r<e.length;r++)if(!e[r].isSelected(n.name))return!1;return!0})}function Ef(t,e,n){var r={},i=t==="toggleSelected",a;return n.eachComponent("legend",function(s){i&&a!=null?s[a?"select":"unSelect"](e.name):t==="allSelect"||t==="inverseSelect"?s[t]():(s[t](e.name),a=s.isSelected(e.name));var o=s.getData();M(o,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var h=s.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&h:r[u]=h}})}),t==="allSelect"||t==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function VPe(t){t.registerAction("legendToggleSelect","legendselectchanged",Ee(Ef,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Ee(Ef,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Ee(Ef,"inverseSelect")),t.registerAction("legendSelect","legendselected",Ee(Ef,"select")),t.registerAction("legendUnSelect","legendunselected",Ee(Ef,"unSelect"))}function q9(t){t.registerComponentModel(V1),t.registerComponentView($9),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,BPe),t.registerSubTypeDefaulter("legend",function(){return"plain"}),VPe(t)}var HPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},e.prototype.init=function(n,r,i){var a=zh(n);t.prototype.init.call(this,n,r,i),sO(this,n,a)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),sO(this,this.option,n)},e.type="legend.scroll",e.defaultOption=Zo(V1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(V1);function sO(t,e,n){var r=t.getOrient(),i=[1,1];i[r.index]=0,Oo(e,n,{type:"box",ignoreSize:!!i})}var oO=Ae,Uw=["width","height"],Ww=["x","y"],GPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new oO),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new oO)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(n,r,i,a,s,o,l){var u=this;t.prototype.renderInner.call(this,n,r,i,a,s,o,l);var h=this._controllerGroup,c=r.get("pageIconSize",!0),f=ee(c)?c:[c,c];v("pagePrev",0);var p=r.getModel("pageTextStyle");h.add(new et({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(m,g){var y=m+"DataIndex",x=Gp(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:fe(u._pageGo,u,y,r,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});x.name=m,h.add(x)}},e.prototype.layoutInner=function(n,r,i,a,s,o){var l=this.getSelectorGroup(),u=n.getOrient().index,h=Uw[u],c=Ww[u],f=Uw[1-u],p=Ww[1-u];s&&fu("horizontal",l,n.get("selectorItemGap",!0));var v=n.get("selectorButtonGap",!0),m=l.getBoundingRect(),g=[-m.x,-m.y],y=xe(i);s&&(y[h]=i[h]-m[h]-v);var x=this._layoutContentAndController(n,a,y,u,h,f,p,c);if(s){if(o==="end")g[u]+=x[h]+v;else{var A=m[h]+v;g[u]-=A,x[c]-=A}x[h]+=m[h]+v,g[1-u]+=x[p]+x[f]/2-m[f]/2,x[f]=Math.max(x[f],m[f]),x[p]=Math.min(x[p],m[p]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return x},e.prototype._layoutContentAndController=function(n,r,i,a,s,o,l,u){var h=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;fu(n.get("orient"),h,n.get("itemGap"),a?i.width:null,a?null:i.height),fu("horizontal",f,n.get("pageButtonItemGap",!0));var p=h.getBoundingRect(),v=f.getBoundingRect(),m=this._showController=p[s]>i[s],g=[-p.x,-p.y];r||(g[a]=h[u]);var y=[0,0],x=[-v.x,-v.y],A=_e(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(m){var b=n.get("pageButtonPosition",!0);b==="end"?x[a]+=i[s]-v[s]:y[a]+=v[s]+A}x[1-a]+=p[o]/2-v[o]/2,h.setPosition(g),c.setPosition(y),f.setPosition(x);var S={x:0,y:0};if(S[s]=m?i[s]:p[s],S[o]=Math.max(p[o],v[o]),S[l]=Math.min(0,v[l]+x[1-a]),c.__rectSize=i[s],m){var w={x:0,y:0};w[s]=Math.max(i[s]-v[s]-A,0),w[o]=S[o],c.setClipPath(new Ke({shape:w})),c.__rectSize=w[s]}else f.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var _=this._getPageInfo(n);return _.pageIndex!=null&&it(h,{x:_.contentPosition[0],y:_.contentPosition[1]},m?n:null),this._updatePageInfoView(n,_),S},e.prototype._pageGo=function(n,r,i){var a=this._getPageInfo(r)[n];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;M(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",f=r[c]!=null,p=i.childOfName(h);p&&(p.setStyle("fill",f?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=n.get("pageFormatter"),o=r.pageIndex,l=o!=null?o+1:0,u=r.pageCount;a&&s&&a.setStyle("text",ue(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=n.getOrient().index,o=Uw[s],l=Ww[s],u=this._findTargetItemIndex(r),h=i.children(),c=h[u],f=h.length,p=f?1:0,v={contentPosition:[i.x,i.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return v;var m=b(c);v.contentPosition[s]=-m.s;for(var g=u+1,y=m,x=m,A=null;g<=f;++g)A=b(h[g]),(!A&&x.e>y.s+a||A&&!S(A,y.s))&&(x.i>y.i?y=x:y=A,y&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=y.i),++v.pageCount)),x=A;for(var g=u-1,y=m,x=m,A=null;g>=-1;--g)A=b(h[g]),(!A||!S(x,A.s))&&y.i<x.i&&(x=y,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=y.i),++v.pageCount,++v.pageIndex),y=A;return v;function b(w){if(w){var _=w.getBoundingRect(),T=_[l]+w[l];return{s:T,e:T+_[o],i:w.__legendDataIndex}}}function S(w,_){return w.e>=_&&w.s<=_+a}},e.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===n&&(r=o)}),r??a},e.type="legend.scroll",e}($9);function UPe(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function WPe(t){Fe(q9),t.registerComponentModel(HPe),t.registerComponentView(GPe),UPe(t)}function $Pe(t){Fe(q9),Fe(WPe)}var YPe=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.inside",e.defaultOption=Zo(lp.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(lp),FE=Qe();function qPe(t,e,n){FE(t).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)})}function XPe(t,e){for(var n=FE(t).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var a=r[i],s=n.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||X9(n,s))}}}function X9(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function ZPe(t,e){var n={model:e,containsPoint:Ee(KPe,e),dispatchAction:Ee(JPe,t),dataZoomInfoMap:null,controller:null},r=n.controller=new ev(t.getZr());return M(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var s=[];n.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,n.model.mainType,n.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&n.dispatchAction(s)})}),n}function JPe(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function KPe(t,e,n,r){return t.coordinateSystem.containPoint([n,r])}function QPe(t){var e,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;r[n+o]>r[n+e]&&(e=o),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function eje(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(e,n){var r=FE(n),i=r.coordSysRecordMap||(r.coordSysRecordMap=pe());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=j9(a);M(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,ZPe(n,o.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=pe());h.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){X9(i,a);return}var h=QPe(l);s.enable(h.controlType,h.opt),s.setPointerChecker(a.containsPoint),Fh(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var tje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return e.prototype.render=function(n,r,i){if(t.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),qPe(i,n,{pan:fe($w.pan,this),zoom:fe($w.zoom,this),scrollMove:fe($w.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){XPe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(PE),$w={zoom:function(t,e,n,r){var i=this.range,a=i.slice(),s=t.axisModels[0];if(s){var o=Yw[e](null,[r.originX,r.originY],s,n,t),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/r.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Fu(0,a,[0,100],0,h.minSpan,h.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:lO(function(t,e,n,r,i,a){var s=Yw[r]([a.oldX,a.oldY],[a.newX,a.newY],e,i,n);return s.signal*(t[1]-t[0])*s.pixel/s.pixelLength}),scrollMove:lO(function(t,e,n,r,i,a){var s=Yw[r]([0,0],[a.scrollDelta,a.scrollDelta],e,i,n);return s.signal*(t[1]-t[0])*a.scrollDelta})};function lO(t){return function(e,n,r,i){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=t(s,o,e,n,r,i);if(Fu(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var Yw={grid:function(t,e,n,r,i){var a=n.axis,s={},o=i.model.coordinateSystem.getRect();return t=t||[0,0],a.dim==="x"?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(t,e,n,r,i){var a=n.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return t=t?o.pointToCoord(t):[0,0],e=o.pointToCoord(e),n.mainType==="radiusAxis"?(s.pixel=e[0]-t[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(t,e,n,r,i){var a=n.axis,s=i.model.coordinateSystem.getRect(),o={};return t=t||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function Z9(t){jE(t),t.registerComponentModel(YPe),t.registerComponentView(tje),eje(t)}var nje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Zo(lp.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(lp),kf=Ke,uO=7,rje=1,qw=30,ije=7,Pf="horizontal",cO="vertical",aje=5,sje=["line","bar","candlestick","scatter"],oje={easing:"cubicOut",duration:100,delay:0},lje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return e.prototype.init=function(n,r){this.api=r,this._onBrush=fe(this._onBrush,this),this._onBrushEnd=fe(this._onBrushEnd,this)},e.prototype.render=function(n,r,i,a){if(t.prototype.render.apply(this,arguments),Fh(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Xd(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new Ae;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var n=this.dataZoomModel,r=this.api,i=n.get("brushSelect"),a=i?ije:0,s=this._findCoordRect(),o={width:r.getWidth(),height:r.getHeight()},l=this._orient===Pf?{right:o.width-s.x-s.width,top:o.height-qw-uO-a,width:s.width,height:qw}:{right:uO,top:s.y,width:qw,height:s.height},u=zh(n.option);M(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var h=cn(u,o);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===cO&&this._size.reverse()},e.prototype._positionGroup=function(){var n=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===Pf&&!s?{scaleY:l?1:-1,scaleX:1}:i===Pf&&s?{scaleY:l?1:-1,scaleX:-1}:i===cO&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=n.getBoundingRect([o]);n.x=r.x-u.x,n.y=r.y-u.y,n.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var n=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=n.get("brushSelect");i.add(new kf({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var s=new kf({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:fe(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},e.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var r=this._size,i=this._shadowSize||[],a=n.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():n.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var c=s.getDataExtent(l),f=(c[1]-c[0])*.3;c=[c[0]-f,c[1]+f];var p=[0,r[1]],v=[0,r[0]],m=[[r[0],0],[0,0]],g=[],y=v[1]/(s.count()-1),x=0,A=Math.round(s.count()/r[0]),b;s.each([l],function(C,E){if(A>0&&E%A){x+=y;return}var k=C==null||isNaN(C)||C==="",I=k?0:vt(C,c,p,!0);k&&!b&&E?(m.push([m[m.length-1][0],0]),g.push([g[g.length-1][0],0])):!k&&b&&(m.push([x,0]),g.push([x,0])),m.push([x,I]),g.push([x,I]),x+=y,b=k}),u=this._shadowPolygonPts=m,h=this._shadowPolylinePts=g}this._shadowData=s,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var S=this.dataZoomModel;function w(C){var E=S.getModel(C?"selectedDataBackground":"dataBackground"),k=new Ae,I=new rr({shape:{points:u},segmentIgnoreThreshold:1,style:E.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),j=new or({shape:{points:h},segmentIgnoreThreshold:1,style:E.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(I),k.add(j),k}for(var _=0;_<3;_++){var T=w(_===1);this._displayables.sliderGroup.add(T),this._displayables.dataShadowSegs.push(T)}},e.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,r=n.get("showDataShadow");if(r!==!1){var i,a=this.ecModel;return n.eachTargetAxis(function(s,o){var l=n.getAxisProxy(s,o).getTargetSeriesModels();M(l,function(u){if(!i&&!(r!==!0&&ze(sje,u.get("type"))<0)){var h=a.getComponent(bo(s),o).axis,c=uje(s),f,p=u.coordinateSystem;c!=null&&p.getOtherAxis&&(f=p.getOtherAxis(h).inverse),c=u.getData().mapDimension(c),i={thisAxis:h,series:u,thisDim:s,otherDim:c,otherAxisInverse:f}}},this)},this),i}},e.prototype._renderHandle=function(){var n=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),f=r.filler=new kf({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(f),s.add(new kf({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:rje,fill:"rgba(0,0,0,0)"}})),M([0,1],function(A){var b=l.get("handleIcon");!jy[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var S=rn(b,-1,0,2,2,null,!0);S.attr({cursor:hO(this._orient),draggable:!0,drift:fe(this._onDragMove,this,A),ondragend:fe(this._onDragEnd,this),onmouseover:fe(this._showDataInfo,this,!0),onmouseout:fe(this._showDataInfo,this,!1),z2:5});var w=S.getBoundingRect(),_=l.get("handleSize");this._handleHeight=se(_,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,S.setStyle(l.getModel("handleStyle").getItemStyle()),S.style.strokeNoScale=!0,S.rectHover=!0,S.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),cu(S);var T=l.get("handleColor");T!=null&&(S.style.fill=T),s.add(i[A]=S);var C=l.getModel("textStyle");n.add(a[A]=new et({silent:!0,invisible:!0,style:Et(C,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:C.getTextColor(),font:C.getFont()}),z2:10}))},this);var p=f;if(c){var v=se(l.get("moveHandleSize"),o[1]),m=r.moveHandle=new Ke({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:v}}),g=v*.8,y=r.moveHandleIcon=rn(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);y.silent=!0,y.y=o[1]+v/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var x=Math.min(o[1]/2,Math.max(v,10));p=r.moveZone=new Ke({invisible:!0,shape:{y:o[1]-x,height:v+x}}),p.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),s.add(m),s.add(y),s.add(p)}p.attr({draggable:!0,cursor:hO(this._orient),drift:fe(this._onDragMove,this,"all"),ondragstart:fe(this._showDataInfo,this,!0),ondragend:fe(this._onDragEnd,this),onmouseover:fe(this._showDataInfo,this,!0),onmouseout:fe(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[vt(n[0],[0,100],r,!0),vt(n[1],[0,100],r,!0)]},e.prototype._updateInterval=function(n,r){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Fu(r,a,s,i.get("zoomLock")?"all":n,o.minSpan!=null?vt(o.minSpan,l,s,!0):null,o.maxSpan!=null?vt(o.maxSpan,l,s,!0):null);var u=this._range,h=this._range=di([vt(a[0],s,l,!0),vt(a[1],s,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},e.prototype._updateView=function(n){var r=this._displayables,i=this._handleEnds,a=di(i.slice()),s=this._size;M([0,1],function(p){var v=r.handles[p],m=this._handleHeight;v.attr({scaleX:m/2,scaleY:m/2,x:i[p]+(p?-1:1),y:s[1]/2-m/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(o),r.moveZone.setShape(o),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=r.dataShadowSegs,u=[0,a[0],a[1],s[0]],h=0;h<l.length;h++){var c=l[h],f=c.getClipPath();f||(f=new Ke,c.setClipPath(f)),f.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:s[1]})}this._updateDataInfo(n)},e.prototype._updateDataInfo=function(n){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=n?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var f=di(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(v){var m=hu(i.handles[v].parent,this.group),g=dx(v===0?"right":"left",m),y=this._handleWidth/2+aje,x=Bi([f[v]+(v===0?-y:y),this._size[1]/2],m);a[v].setStyle({x:x[0],y:x[1],verticalAlign:s===Pf?"middle":g,align:s===Pf?g:"center",text:o[v]})}},e.prototype._formatLabel=function(n,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=r.getPixelPrecision());var o=n==null||isNaN(n)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(s,20));return me(a)?a(n,o):ue(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(n){n=this._dragging||n;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!n),i[1].attr("invisible",!n),r.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(n,r,i,a){this._dragging=!0,Ts(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Bi([r,i],s,!0),l=this._updateInterval(n,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(n){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(n){var r=n.offsetX,i=n.offsetY;this._brushStart=new je(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(n){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=di([vt(i.x,s,o,!0),vt(i.x+i.width,s,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(n){this._brushing&&(Ts(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},e.prototype._updateBrushRect=function(n,r){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new kf({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(n,r),h=l.transformCoordToLocal(o.x,o.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),s.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},e.prototype._dispatchZoomAction=function(n){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?oje:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var n,r=j9(this.dataZoomModel).infoList;if(!n&&r.length){var i=r[0].model.coordinateSystem;n=i.getRect&&i.getRect()}if(!n){var a=this.api.getWidth(),s=this.api.getHeight();n={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return n},e.type="dataZoom.slider",e}(PE);function uje(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function hO(t){return t==="vertical"?"ns-resize":"ew-resize"}function J9(t){t.registerComponentModel(nje),t.registerComponentView(lje),jE(t)}function cje(t){Fe(Z9),Fe(J9)}var K9={get:function(t,e,n){var r=xe((hje[t]||{})[e]);return n&&ee(r)?r[r.length-1]:r}},hje={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},fO=vn.mapVisual,fje=vn.eachVisual,dje=ee,dO=M,pje=di,vje=vt,t0=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.optionUpdated=function(n,r){var i=this.option;!r&&V9(i,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(n){var r=this.stateList;n=fe(n,this),this.controllerVisuals=O1(this.option.controller,r,n),this.targetVisuals=O1(this.option.target,r,n)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,r=[];return n==null||n==="all"?this.ecModel.eachSeries(function(i,a){r.push(a)}):r=bt(n),r},e.prototype.eachTargetSeries=function(n,r){M(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&n.call(r,a)},this)},e.prototype.isTargetSeries=function(n){var r=!1;return this.eachTargetSeries(function(i){i===n&&(r=!0)}),r},e.prototype.formatValueText=function(n,r,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],ee(n)&&(n=n.slice(),u=!0);var h=r?n:u?[c(n[0]),c(n[1])]:c(n);if(ue(l))return l.replace("{value}",u?h[0]:h).replace("{value2}",u?h[1]:h);if(me(l))return u?l(n[0],n[1]):l(n);if(u)return n[0]===o[0]?i[0]+" "+h[1]:n[1]===o[1]?i[1]+" "+h[0]:h[0]+" - "+h[1];return h;function c(f){return f===o[0]?"min":f===o[1]?"max":(+f).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var n=this.option,r=pje([n.min,n.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(n){var r=this.option.dimension;if(r!=null)return n.getDimensionIndex(r);for(var i=n.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=n.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var n=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),s=r.controller||(r.controller={});Me(a,i),Me(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),h.call(this,s);function l(c){dje(r.color)&&!c.inRange&&(c.inRange={color:r.color.slice().reverse()}),c.inRange=c.inRange||{color:n.get("gradientColor")}}function u(c,f,p){var v=c[f],m=c[p];v&&!m&&(m=c[p]={},dO(v,function(g,y){if(vn.isValidType(y)){var x=K9.get(y,"inactive",o);x!=null&&(m[y]=x,y==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function h(c){var f=(c.inRange||{}).symbol||(c.outOfRange||{}).symbol,p=(c.inRange||{}).symbolSize||(c.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),m=this.getItemSymbol(),g=m||"roundRect";dO(this.stateList,function(y){var x=this.itemSize,A=c[y];A||(A=c[y]={color:o?v:[v]}),A.symbol==null&&(A.symbol=f&&xe(f)||(o?g:[g])),A.symbolSize==null&&(A.symbolSize=p&&xe(p)||(o?x[0]:[x[0],x[0]])),A.symbol=fO(A.symbol,function(w){return w==="none"?g:w});var b=A.symbolSize;if(b!=null){var S=-1/0;fje(b,function(w){w>S&&(S=w)}),A.symbolSize=fO(b,function(w){return vje(w,[0,S],[0,x[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(n){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(n){return null},e.prototype.getVisualMeta=function(n){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(qe),pO=[20,140],mje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(n,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=pO[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=pO[1])},e.prototype._resetRange=function(){var n=this.getExtent(),r=this.option.range;!r||r.auto?(n.auto=1,this.option.range=n):ee(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],n[0]),r[1]=Math.min(r[1],n[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),M(this.stateList,function(n){var r=this.option.controller[n].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},e.prototype.getSelected=function(){var n=this.getExtent(),r=di((this.get("range")||[]).slice());return r[0]>n[1]&&(r[0]=n[1]),r[1]>n[1]&&(r[1]=n[1]),r[0]<n[0]&&(r[0]=n[0]),r[1]<n[0]&&(r[1]=n[0]),r},e.prototype.getValueState=function(n){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=n)&&(r[1]>=i[1]||n<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(n){var r=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){n[0]<=o&&o<=n[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},e.prototype.getVisualMeta=function(n){var r=vO(this,"outOfRange",this.getExtent()),i=vO(this,"inRange",this.option.range.slice()),a=[];function s(p,v){a.push({value:p,color:n(p,v)})}for(var o=0,l=0,u=i.length,h=r.length;l<h&&(!i.length||r[l]<=i[0]);l++)r[l]<i[o]&&s(r[l],"outOfRange");for(var c=1;o<u;o++,c=0)c&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var c=1;l<h;l++)(!i.length||i[i.length-1]<r[l])&&(c&&(a.length&&s(a[a.length-1].value,"outOfRange"),c=0),s(r[l],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Zo(t0.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(t0);function vO(t,e,n){if(n[0]===n[1])return n.slice();for(var r=200,i=(n[1]-n[0])/r,a=n[0],s=[],o=0;o<=r&&a<n[1];o++)s.push(a),a+=i;return s.push(n[1]),s}var Q9=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return e.prototype.init=function(n,r){this.ecModel=n,this.api=r},e.prototype.render=function(n,r,i,a){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,r,i,a)},e.prototype.renderBackground=function(n){var r=this.visualMapModel,i=Nh(r.get("padding")||0),a=n.getBoundingRect();n.add(new Ke({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(n,r,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(r==="color"){var l=s.get("contentColor");o.color=l}function u(p){return o[p]}function h(p,v){o[p]=v}var c=s.controllerVisuals[a||s.getValueState(n)],f=vn.prepareVisualTypes(c);return M(f,function(p){var v=c[p];i.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",v=c.__alphaForOpacity),vn.dependsOn(p,r)&&v&&v.applyVisual(n,u,h)}),o[r]},e.prototype.positionGroup=function(n){var r=this.visualMapModel,i=this.api;Ax(n,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(n,r,i,a){},e.type="visualMap",e}(Ot),mO=[["left","right","width"],["top","bottom","height"]];function e8(t,e,n){var r=t.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},s=r.orient==="horizontal"?1:0,o=mO[s],l=[0,null,10],u={},h=0;h<3;h++)u[mO[1-s][h]]=l[h],u[o[h]]=h===2?n[0]:r[o[h]];var c=[["x","width",3],["y","height",0]][s],f=cn(u,a,r.padding);return o[(f.margin[c[2]]||0)+f[c[0]]+f[c[1]]*.5<a[c[1]]*.5?0:1]}function Sg(t,e){return M(t||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var aa=vt,gje=M,gO=Math.min,Xw=Math.max,yje=12,xje=6,Aje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return e.prototype.init=function(n,r){t.prototype.init.call(this,n,r),this._hoverLinkFromSeriesMouseOver=fe(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=fe(this._hideIndicator,this)},e.prototype.doRender=function(n,r,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,r=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(r);var i=n.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(n,r,i){if(r){var a=r[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),c=this._applyTransform(i===0?"bottom":"top",u),f=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new et({style:Et(p,{x:h[0],y:h[1],verticalAlign:f==="horizontal"?"middle":c,align:f==="horizontal"?c:"center",text:a})}))}},e.prototype._renderBar=function(n){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,s=this._orient,o=this._useHandle,l=e8(r,this.api,a),u=i.mainGroup=this._createBarGroup(l),h=new Ae;u.add(h),h.add(i.outOfRange=yO()),h.add(i.inRange=yO(null,o?AO(this._orient):null,fe(this._dragHandle,this,"all",!1),fe(this._dragHandle,this,"all",!0))),h.setClipPath(new Ke({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var c=r.textStyleModel.getTextRect("å½"),f=Xw(c.width,c.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,a,f,s),this._createHandle(r,u,1,a,f,s)),this._createIndicator(r,u,a,f,s),n.add(u)},e.prototype._createHandle=function(n,r,i,a,s,o){var l=fe(this._dragHandle,this,i,!1),u=fe(this._dragHandle,this,i,!0),h=Hi(n.get("handleSize"),a[0]),c=rn(n.get("handleIcon"),-h/2,-h/2,h,h,null,!0),f=AO(this._orient);c.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){Ts(y.event)}}),c.x=a[0]/2,c.useStyle(n.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),ql(c,!0),r.add(c);var p=this.visualMapModel.textStyleModel,v=new et({cursor:f,draggable:!0,drift:l,onmousemove:function(y){Ts(y.event)},ondragend:u,style:Et(p,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var m=[h,0],g=this._shapes;g.handleThumbs[i]=c,g.handleLabelPoints[i]=m,g.handleLabels[i]=v},e.prototype._createIndicator=function(n,r,i,a,s){var o=Hi(n.get("indicatorSize"),i[0]),l=rn(n.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=n.getModel("indicatorStyle").getItemStyle();if(l instanceof Sn){var h=l.style;l.useStyle(J({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);r.add(l);var c=this.visualMapModel.textStyleModel,f=new et({silent:!0,invisible:!0,style:Et(c,{x:0,y:0,text:""})});this.group.add(f);var p=[(s==="horizontal"?a/2:xje)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=f,v.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(n,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(n,s[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():xO(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},e.prototype._resetInterval=function(){var n=this.visualMapModel,r=this._dataInterval=n.getSelected(),i=n.getExtent(),a=[0,n.itemSize[1]];this._handleEnds=[aa(r[0],i,a,!0),aa(r[1],i,a,!0)]},e.prototype._updateInterval=function(n,r){r=r||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];Fu(r,a,s,n,0);var o=i.getExtent();this._dataInterval=[aa(a[0],s,o,!0),aa(a[1],s,o,!0)]},e.prototype._updateView=function(n){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,s=[0,r.itemSize[1]],o=n?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(n,r,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(n,s),l=[this.getControllerVisual(n[0],"symbolSize",s),this.getControllerVisual(n[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new Vp(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(n,r){var i=100,a=[],s=(n[1]-n[0])/i;a.push({color:this.getControllerVisual(n[0],"color",r),offset:0});for(var o=1;o<i;o++){var l=n[0]+s*o;if(l>n[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:o/i})}return a.push({color:this.getControllerVisual(n[1],"color",r),offset:1}),a},e.prototype._createBarPoints=function(n,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-r[1],n[1]]]},e.prototype._createBarGroup=function(n){var r=this._orient,i=this.visualMapModel.get("inverse");return new Ae(r==="horizontal"&&!i?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},e.prototype._updateHandle=function(n,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent();gje([0,1],function(h){var c=s[h];c.setStyle("fill",r.handlesColor[h]),c.y=n[h];var f=aa(n[h],[0,l[1]],u,!0),p=this.getControllerVisual(f,"symbolSize");c.scaleX=c.scaleY=p/l[0],c.x=l[0]-p/2;var v=Bi(i.handleLabelPoints[h],hu(c,this.group));o[h].setStyle({x:v[0],y:v[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(n,r,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var f={convertOpacityToAlpha:!0},p=this.getControllerVisual(n,"color",f),v=this.getControllerVisual(n,"symbolSize"),m=aa(n,o,u,!0),g=l[0]-v/2,y={x:c.x,y:c.y};c.y=m,c.x=g;var x=Bi(h.indicatorLabelPoint,hu(c,this.group)),A=h.indicatorLabel;A.attr("invisible",!1);var b=this._applyTransform("left",h.mainGroup),S=this._orient,w=S==="horizontal";A.setStyle({text:(i||"")+s.formatValueText(r),verticalAlign:w?b:"middle",align:w?"center":b});var _={x:g,y:m,style:{fill:p}},T={style:{x:x[0],y:x[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};c.x=y.x,c.y=y.y,c.animateTo(_,C),A.animateTo(T,C)}else c.attr(_),A.attr(T);this._firstShowIndicator=!1;var E=this._shapes.handleLabels;if(E)for(var k=0;k<E.length;k++)this.api.enterBlur(E[k])}},e.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(r){if(n._hovering=!0,!n._dragging){var i=n.visualMapModel.itemSize,a=n._applyTransform([r.offsetX,r.offsetY],n._shapes.mainGroup,!0,!0);a[1]=gO(Xw(0,a[1]),i[1]),n._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(n,r){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();n=gO(Xw(s[0],n),s[1]);var l=bje(i,o,s),u=[n-l,n+l],h=aa(n,s,o,!0),c=[aa(u[0],s,o,!0),aa(u[1],s,o,!0)];u[0]<s[0]&&(c[0]=-1/0),u[1]>s[1]&&(c[1]=1/0),r&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h,"â ",l));var f=this._hoverLinkDataIndices,p=[];(r||xO(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(c));var v=_pe(f,p);this._dispatchHighDown("downplay",Sg(v[0],i)),this._dispatchHighDown("highlight",Sg(v[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(n){var r;if(Zl(n.target,function(l){var u=Se(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(r.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),r.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Sg(n,this.visualMapModel)),n.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(n,r,i,a){var s=hu(r,a?null:this.group);return ee(n)?Bi(n,s,i):dx(n,s,i)},e.prototype._dispatchHighDown=function(n,r){r&&r.length&&this.api.dispatchAction({type:n,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Q9);function yO(t,e,n,r){return new rr({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(i){Ts(i.event)},ondragend:r})}function bje(t,e,n){var r=yje/2,i=t.get("hoverLinkDataSize");return i&&(r=aa(i,e,n,!0)/2),r}function xO(t){var e=t.get("hoverLinkOnHandle");return!!(e??t.get("realtime"))}function AO(t){return t==="vertical"?"ns-resize":"ew-resize"}var wje={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Sje=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(n){n.setSelected(t.selected)})},_je=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(r){var i=t.pipelineContext;!r.isTargetSeries(t)||i&&i.large||n.push($ke(r.stateList,r.targetVisuals,fe(r.getValueState,r),r.getDataDimensionIndex(t.getData())))}),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(t)){var a=i.getVisualMeta(fe(Tje,null,t,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(n);s>=0&&(a.dimension=s,r.push(a))}}),t.getData().setVisual("visualMeta",r)}}];function Tje(t,e,n,r){for(var i=e.targetVisuals[r],a=vn.prepareVisualTypes(i),s={color:Wp(t.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],h=i[u==="opacity"?"__alphaForOpacity":u];h&&h.applyVisual(n,c,f)}return s.color;function c(p){return s[p]}function f(p,v){s[p]=v}}var bO=M;function Cje(t){var e=t&&t.visualMap;ee(e)||(e=e?[e]:[]),bO(e,function(n){if(n){cc(n,"splitList")&&!cc(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var r=n.pieces;r&&ee(r)&&bO(r,function(i){ye(i)&&(cc(i,"start")&&!cc(i,"min")&&(i.min=i.start),cc(i,"end")&&!cc(i,"max")&&(i.max=i.end))})}})}function cc(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var wO=!1;function t8(t){wO||(wO=!0,t.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),t.registerAction(wje,Sje),M(_je,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(Cje))}function n8(t){t.registerComponentModel(mje),t.registerComponentView(Aje),t8(t)}var Ije=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return e.prototype.optionUpdated=function(n,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Eje[this._mode].call(this,this._pieceList),this._resetSelected(n,r);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=xe(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=te(this._pieceList,function(l){return l=xe(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var n=this.option,r={},i=vn.listVisualTypes(),a=this.isCategory();M(n.pieces,function(o){M(i,function(l){o.hasOwnProperty(l)&&(r[l]=1)})}),M(r,function(o,l){var u=!1;M(this.stateList,function(h){u=u||s(n,h,l)||s(n.target,h,l)},this),!u&&M(this.stateList,function(h){(n[h]||(n[h]={}))[l]=K9.get(l,h==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(n,r){var i=this.option,a=this._pieceList,s=(r?i:n).selected||{};if(i.selected=s,M(a,function(l,u){var h=this.getSelectedMapKey(l);s.hasOwnProperty(h)||(s[h]=!0)},this),i.selectedMode==="single"){var o=!1;M(a,function(l,u){var h=this.getSelectedMapKey(l);s[h]&&(o?s[h]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(n){this.option.selected=xe(n)},e.prototype.getValueState=function(n){var r=vn.findPieceIndex(n,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(n){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var h=vn.findPieceIndex(l,i);h===n&&s.push(u)},this),r.push({seriesId:a.id,dataIndex:s})},this),r},e.prototype.getRepresentValue=function(n){var r;if(this.isCategory())r=n.value;else if(n.value!=null)r=n.value;else{var i=n.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(n){if(this.isCategory())return;var r=[],i=["",""],a=this;function s(h,c){var f=a.getRepresentValue({interval:h});c||(c=a.getValueState(f));var p=n(f,c);h[0]===-1/0?i[0]=p:h[1]===1/0?i[1]=p:r.push({value:h[0],color:p},{value:h[1],color:p})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return M(o,function(h){var c=h.interval;c&&(c[0]>u&&s([u,c[0]],"outOfRange"),s(c.slice()),u=c[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Zo(t0.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(t0),Eje={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,o=r[0];s<i;o+=a,s++){var l=s===i-1?r[1]:o+a;t.push({interval:[o,l],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),mD(t),M(t,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(t){var e=this.option;M(e.categories,function(n){t.push({text:this.formatValueText(n,!0),value:n})},this),SO(e,t)},pieces:function(t){var e=this.option;M(e.pieces,function(n,r){ye(n)||(n={value:n});var i={text:"",index:r};if(n.label!=null&&(i.text=n.label),n.hasOwnProperty("value")){var a=i.value=n.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var f=[["gte","gt","min"],["lte","lt","max"]][c],p=0;p<3&&s[c]==null;p++)s[c]=n[f[p]],o[c]=l[p],h[c]=p===2;s[c]==null&&(s[c]=u[c])}h[0]&&s[1]===1/0&&(o[0]=0),h[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=vn.retrieveVisuals(n),t.push(i)},this),SO(e,t),mD(t),M(t,function(n){var r=n.close,i=[["<","â¤"][r[1]],[">","â¥"][r[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,i)},this)}};function SO(t,e){var n=t.inverse;(t.orient==="vertical"?!n:n)&&e.reverse()}var kje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.doRender=function(){var n=this.group;n.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,s=a.getFont(),o=a.getTextColor(),l=this._getItemAlign(),u=r.itemSize,h=this._getViewData(),c=h.endsText,f=bn(r.get("showLabel",!0),!c);c&&this._renderEndsText(n,c[0],u,f,l),M(h.viewPieceList,function(p){var v=p.piece,m=new Ae;m.onclick=fe(this._onItemClick,this,v),this._enableHoverLink(m,p.indexInModelPieceList);var g=r.getRepresentValue(v);if(this._createItemSymbol(m,g,[0,0,u[0],u[1]]),f){var y=this.visualMapModel.getValueState(g);m.add(new et({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:s,fill:o,opacity:y==="outOfRange"?.5:1}}))}n.add(m)},this),c&&this._renderEndsText(n,c[1],u,f,l),fu(r.get("orient"),n,r.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},e.prototype._enableHoverLink=function(n,r){var i=this;n.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:Sg(o.findTargetDataIndices(r),o)})}},e.prototype._getItemAlign=function(){var n=this.visualMapModel,r=n.option;if(r.orient==="vertical")return e8(n,this.api,n.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(n,r,i,a,s){if(r){var o=new Ae,l=this.visualMapModel.textStyleModel;o.add(new et({style:Et(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:r})})),n.add(o)}},e.prototype._getViewData=function(){var n=this.visualMapModel,r=te(n.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=n.get("text"),a=n.get("orient"),s=n.get("inverse");return(a==="horizontal"?s:!s)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(n,r,i){n.add(rn(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(n){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var s=xe(i.selected),o=r.getSelectedMapKey(n);a==="single"||a===!0?(s[o]=!0,M(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e}(Q9);function r8(t){t.registerComponentModel(Ije),t.registerComponentView(kje),t8(t)}function Pje(t){Fe(n8),Fe(r8)}var jje={label:{enabled:!0},decal:{show:!1}},_O=Qe(),Mje={};function Dje(t,e){var n=t.getModel("aria");if(!n.get("enabled"))return;var r=xe(jje);Me(r.label,t.getLocaleModel().get("aria"),!1),Me(n.option,r,!1),i(),a();function i(){var u=n.getModel("decal"),h=u.get("show");if(h){var c=pe();t.eachSeries(function(f){if(!f.isColorBySeries()){var p=c.get(f.type);p||(p={},c.set(f.type,p)),_O(f).scope=p}}),t.eachRawSeries(function(f){if(t.isSeriesFiltered(f))return;if(me(f.enableAriaDecal)){f.enableAriaDecal();return}var p=f.getData();if(f.isColorBySeries()){var x=W_(f.ecModel,f.name,Mje,t.getSeriesCount()),A=p.getVisual("decal");p.setVisual("decal",b(A,x))}else{var v=f.getRawData(),m={},g=_O(f).scope;p.each(function(S){var w=p.getRawIndex(S);m[w]=S});var y=v.count();v.each(function(S){var w=m[S],_=v.getName(S)||S+"",T=W_(f.ecModel,_,g,y),C=p.getItemVisual(w,"decal");p.setItemVisual(w,"decal",b(C,T))})}function b(S,w){var _=S?J(J({},w),S):w;return _.dirty=!0,_}})}}function a(){var u=e.getZr().dom;if(u){var h=t.getLocaleModel().get("aria"),c=n.getModel("label");if(c.option=ge(c.option,h),!!c.get("enabled")){if(c.get("description")){u.setAttribute("aria-label",c.get("description"));return}var f=t.getSeriesCount(),p=c.get(["data","maxCount"])||10,v=c.get(["series","maxCount"])||10,m=Math.min(f,v),g;if(!(f<1)){var y=o();if(y){var x=c.get(["general","withTitle"]);g=s(x,{title:y})}else g=c.get(["general","withoutTitle"]);var A=[],b=f>1?c.get(["series","multiple","prefix"]):c.get(["series","single","prefix"]);g+=s(b,{seriesCount:f}),t.eachSeries(function(T,C){if(C<m){var E=void 0,k=T.get("name"),I=k?"withName":"withoutName";E=f>1?c.get(["series","multiple",I]):c.get(["series","single",I]),E=s(E,{seriesId:T.seriesIndex,seriesName:T.get("name"),seriesType:l(T.subType)});var j=T.getData();if(j.count()>p){var P=c.get(["data","partialData"]);E+=s(P,{displayCnt:p})}else E+=c.get(["data","allData"]);for(var D=c.get(["data","separator","middle"]),L=c.get(["data","separator","end"]),F=[],V=0;V<j.count();V++)if(V<p){var U=j.getName(V),z=j.getValues(V),H=c.get(["data",U?"withName":"withoutName"]);F.push(s(H,{name:U,value:z.join(D)}))}E+=F.join(D)+L,A.push(E)}});var S=c.getModel(["series","multiple","separator"]),w=S.get("middle"),_=S.get("end");g+=A.join(w)+_,u.setAttribute("aria-label",g)}}}}function s(u,h){if(!ue(u))return u;var c=u;return M(h,function(f,p){c=c.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),f)}),c}function o(){var u=t.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var h=t.getLocaleModel().get(["series","typeNames"]);return h[u]||h.chart}}function Lje(t){if(!(!t||!t.aria)){var e=t.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},M(["description","general","series","data"],function(n){e[n]!=null&&(e.label[n]=e[n])})}}function Nje(t){t.registerPreprocessor(Lje),t.registerVisual(t.PRIORITY.VISUAL.ARIA,Dje)}var TO={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},zje=function(){function t(e){var n=this._condVal=ue(e)?new RegExp(e):Ufe(e)?e:null;if(n==null){var r="";ut(r)}}return t.prototype.evaluate=function(e){var n=typeof e;return ue(n)?this._condVal.test(e):nt(n)?this._condVal.test(e+""):!1},t}(),Rje=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),Oje=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,n=0;n<e.length;n++)if(!e[n].evaluate())return!1;return!0},t}(),Fje=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,n=0;n<e.length;n++)if(e[n].evaluate())return!0;return!1},t}(),Bje=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),Vje=function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,n=this.getValue,r=n(this.valueGetterParam),i=e?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:r))return!1;return!0},t}();function BE(t,e){if(t===!0||t===!1){var n=new Rje;return n.value=t,n}var r="";return i8(t)||ut(r),t.and?CO("and",t,e):t.or?CO("or",t,e):t.not?Hje(t,e):Gje(t,e)}function CO(t,e,n){var r=e[t],i="";ee(r)||ut(i),r.length||ut(i);var a=t==="and"?new Oje:new Fje;return a.children=te(r,function(s){return BE(s,n)}),a.children.length||ut(i),a}function Hje(t,e){var n=t.not,r="";i8(n)||ut(r);var i=new Bje;return i.child=BE(n,e),i.child||ut(r),i}function Gje(t,e){for(var n="",r=e.prepareGetValue(t),i=[],a=Xe(t),s=t.parser,o=s?OG(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var h=de(TO,u)?TO[u]:u,c=t[u],f=o?o(c):c,p=jge(h,f)||h==="reg"&&new zje(f);p||ut(n),i.push(p)}}i.length||ut(n);var v=new Vje;return v.valueGetterParam=r,v.valueParser=o,v.getValue=e.getValue,v.subCondList=i,v}function i8(t){return ye(t)&&!On(t)}var Uje=function(){function t(e,n){this._cond=BE(e,n)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function Wje(t,e){return new Uje(t,e)}var $je={type:"echarts:filter",transform:function(t){for(var e=t.upstream,n,r=Wje(t.config,{valueGetterAttrMap:pe({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;de(o,"dimension")||ut(l);var h=e.getDimensionInfo(u);return h||ut(l),{dimIdx:h.index}},getValue:function(o){return e.retrieveValueFromItem(n,o.dimIdx)}}),i=[],a=0,s=e.count();a<s;a++)n=e.getRawDataItem(a),r.evaluate()&&i.push(n);return{data:i}}},Yje={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,r="",i=bt(n);i.length||ut(r);var a=[];M(i,function(h){var c=h.dimension,f=h.order,p=h.parser,v=h.incomparable;if(c==null&&ut(r),f!=="asc"&&f!=="desc"&&ut(r),v&&v!=="min"&&v!=="max"){var m="";ut(m)}if(f!=="asc"&&f!=="desc"){var g="";ut(g)}var y=e.getDimensionInfo(c);y||ut(r);var x=p?OG(p):null;p&&!x&&ut(r),a.push({dimIdx:y.index,parser:x,comparator:new BG(f,v)})});var s=e.sourceFormat;s!==Fn&&s!==Si&&ut(r);for(var o=[],l=0,u=e.count();l<u;l++)o.push(e.getRawDataItem(l));return o.sort(function(h,c){for(var f=0;f<a.length;f++){var p=a[f],v=e.retrieveValueFromItem(h,p.dimIdx),m=e.retrieveValueFromItem(c,p.dimIdx);p.parser&&(v=p.parser(v),m=p.parser(m));var g=p.comparator.evaluate(v,m);if(g!==0)return g}return 0}),{data:o}}};function qje(t){t.registerTransform($je),t.registerTransform(Yje)}var Xje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dataset",n}return e.prototype.init=function(n,r,i){t.prototype.init.call(this,n,r,i),this._sourceManager=new UG(this),E2(this)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),E2(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Ia},e}(qe),Zje=function(t){Y(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dataset",n}return e.type="dataset",e}(Ot);function Jje(t){t.registerComponentModel(Xje),t.registerComponentView(Zje)}var Qi=Ra.CMD;function jc(t,e){return Math.abs(t-e)<1e-5}function W1(t){var e=t.data,n=t.len(),r=[],i,a=0,s=0,o=0,l=0;function u(j,P){i&&i.length>2&&r.push(i),i=[j,P]}function h(j,P,D,L){jc(j,D)&&jc(P,L)||i.push(j,P,D,L,D,L)}function c(j,P,D,L,F,V){var U=Math.abs(P-j),z=Math.tan(U/4)*4/3,H=P<j?-1:1,G=Math.cos(j),N=Math.sin(j),W=Math.cos(P),q=Math.sin(P),$=G*F+D,Z=N*V+L,X=W*F+D,Q=q*V+L,re=F*z*H,K=V*z*H;i.push($-re*N,Z+K*G,X+re*q,Q-K*W,X,Q)}for(var f,p,v,m,g=0;g<n;){var y=e[g++],x=g===1;switch(x&&(a=e[g],s=e[g+1],o=a,l=s,(y===Qi.L||y===Qi.C||y===Qi.Q)&&(i=[o,l])),y){case Qi.M:a=o=e[g++],s=l=e[g++],u(o,l);break;case Qi.L:f=e[g++],p=e[g++],h(a,s,f,p),a=f,s=p;break;case Qi.C:i.push(e[g++],e[g++],e[g++],e[g++],a=e[g++],s=e[g++]);break;case Qi.Q:f=e[g++],p=e[g++],v=e[g++],m=e[g++],i.push(a+2/3*(f-a),s+2/3*(p-s),v+2/3*(f-v),m+2/3*(p-m),v,m),a=v,s=m;break;case Qi.A:var A=e[g++],b=e[g++],S=e[g++],w=e[g++],_=e[g++],T=e[g++]+_;g+=1;var C=!e[g++];f=Math.cos(_)*S+A,p=Math.sin(_)*w+b,x?(o=f,l=p,u(o,l)):h(a,s,f,p),a=Math.cos(T)*S+A,s=Math.sin(T)*w+b;for(var E=(C?-1:1)*Math.PI/2,k=_;C?k>T:k<T;k+=E){var I=C?Math.max(k+E,T):Math.min(k+E,T);c(k,I,A,b,S,w)}break;case Qi.R:o=a=e[g++],l=s=e[g++],f=o+e[g++],p=l+e[g++],u(f,l),h(f,l,f,p),h(f,p,o,p),h(o,p,o,l),h(o,l,f,l);break;case Qi.Z:i&&h(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&r.push(i),r}function $1(t,e,n,r,i,a,s,o,l,u){if(jc(t,n)&&jc(e,r)&&jc(i,s)&&jc(a,o)){l.push(s,o);return}var h=2/u,c=h*h,f=s-t,p=o-e,v=Math.sqrt(f*f+p*p);f/=v,p/=v;var m=n-t,g=r-e,y=i-s,x=a-o,A=m*m+g*g,b=y*y+x*x;if(A<c&&b<c){l.push(s,o);return}var S=f*m+p*g,w=-f*y-p*x,_=A-S*S,T=b-w*w;if(_<c&&S>=0&&T<c&&w>=0){l.push(s,o);return}var C=[],E=[];zo(t,n,i,s,.5,C),zo(e,r,a,o,.5,E),$1(C[0],E[0],C[1],E[1],C[2],E[2],C[3],E[3],l,u),$1(C[4],E[4],C[5],E[5],C[6],E[6],C[7],E[7],l,u)}function Kje(t,e){var n=W1(t),r=[];e=e||1;for(var i=0;i<n.length;i++){var a=n[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var h=a[u++],c=a[u++],f=a[u++],p=a[u++],v=a[u++],m=a[u++];$1(o,l,h,c,f,p,v,m,s,e),o=v,l=m}r.push(s)}return r}function a8(t,e,n){var r=t[e],i=t[1-e],a=Math.abs(r/i),s=Math.ceil(Math.sqrt(a*n)),o=Math.floor(n/s);o===0&&(o=1,s=n);for(var l=[],u=0;u<s;u++)l.push(o);var h=s*o,c=n-h;if(c>0)for(var u=0;u<c;u++)l[u%s]+=1;return l}function IO(t,e,n){for(var r=t.r0,i=t.r,a=t.startAngle,s=t.endAngle,o=Math.abs(s-a),l=o*i,u=i-r,h=l>Math.abs(u),c=a8([l,u],h?0:1,e),f=(h?o:u)/c.length,p=0;p<c.length;p++)for(var v=(h?u:o)/c[p],m=0;m<c[p];m++){var g={};h?(g.startAngle=a+f*p,g.endAngle=a+f*(p+1),g.r0=r+v*m,g.r=r+v*(m+1)):(g.startAngle=a+v*m,g.endAngle=a+v*(m+1),g.r0=r+f*p,g.r=r+f*(p+1)),g.clockwise=t.clockwise,g.cx=t.cx,g.cy=t.cy,n.push(g)}}function Qje(t,e,n){for(var r=t.width,i=t.height,a=r>i,s=a8([r,i],a?0:1,e),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",h=a?"y":"x",c=t[o]/s.length,f=0;f<s.length;f++)for(var p=t[l]/s[f],v=0;v<s[f];v++){var m={};m[u]=f*c,m[h]=v*p,m[o]=c,m[l]=p,m.x+=t.x,m.y+=t.y,n.push(m)}}function EO(t,e,n,r){return t*r-n*e}function eMe(t,e,n,r,i,a,s,o){var l=n-t,u=r-e,h=s-i,c=o-a,f=EO(h,c,l,u);if(Math.abs(f)<1e-6)return null;var p=t-i,v=e-a,m=EO(p,v,h,c)/f;return m<0||m>1?null:new je(m*l+t,m*u+e)}function tMe(t,e,n){var r=new je;je.sub(r,n,e),r.normalize();var i=new je;je.sub(i,t,e);var a=i.dot(r);return a}function hc(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function nMe(t,e,n){for(var r=t.length,i=[],a=0;a<r;a++){var s=t[a],o=t[(a+1)%r],l=eMe(s[0],s[1],o[0],o[1],e.x,e.y,n.x,n.y);l&&i.push({projPt:tMe(l,e,n),pt:l,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(g,y){return g.projPt-y.projPt});var u=i[0],h=i[i.length-1];if(h.idx<u.idx){var c=u;u=h,h=c}for(var f=[u.pt.x,u.pt.y],p=[h.pt.x,h.pt.y],v=[f],m=[p],a=u.idx+1;a<=h.idx;a++)hc(v,t[a].slice());hc(v,p),hc(v,f);for(var a=h.idx+1;a<=u.idx+r;a++)hc(m,t[a%r].slice());return hc(m,f),hc(m,p),[{points:v},{points:m}]}function kO(t){var e=t.points,n=[],r=[];ox(e,n,r);var i=new De(n[0],n[1],r[0]-n[0],r[1]-n[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new je,h=new je;return a>s?(u.x=h.x=o+a/2,u.y=l,h.y=l+s):(u.y=h.y=l+s/2,u.x=o,h.x=o+a),nMe(e,u,h)}function n0(t,e,n,r){if(n===1)r.push(e);else{var i=Math.floor(n/2),a=t(e);n0(t,a[0],i,r),n0(t,a[1],n-i,r)}return r}function rMe(t,e){for(var n=[],r=0;r<e;r++)n.push(iI(t));return n}function iMe(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function aMe(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}function sMe(t,e){var n=[],r=t.shape,i;switch(t.type){case"rect":Qje(r,e,n),i=Ke;break;case"sector":IO(r,e,n),i=nr;break;case"circle":IO({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,n),i=nr;break;default:var a=t.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=te(Kje(t.getUpdatedPathProxy(),s),function(y){return aMe(y)}),l=o.length;if(l===0)n0(kO,{points:o[0]},e,n);else if(l===e)for(var u=0;u<l;u++)n.push({points:o[u]});else{var h=0,c=te(o,function(y){var x=[],A=[];ox(y,x,A);var b=(A[1]-x[1])*(A[0]-x[0]);return h+=b,{poly:y,area:b}});c.sort(function(y,x){return x.area-y.area});for(var f=e,u=0;u<l;u++){var p=c[u];if(f<=0)break;var v=u===l-1?f:Math.ceil(p.area/h*e);v<0||(n0(kO,{points:p.poly},v,n),f-=v)}}i=rr;break}if(!i)return rMe(t,e);for(var m=[],u=0;u<n.length;u++){var g=new i;g.setShape(n[u]),iMe(t,g),m.push(g)}return m}function oMe(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var i=[],a=[],s=n<r?t:e,o=Math.min(n,r),l=Math.abs(r-n)/6,u=(o-2)/6,h=Math.ceil(l/u)+1,c=[s[0],s[1]],f=l,p=2;p<o;){var v=s[p-2],m=s[p-1],g=s[p++],y=s[p++],x=s[p++],A=s[p++],b=s[p++],S=s[p++];if(f<=0){c.push(g,y,x,A,b,S);continue}for(var w=Math.min(f,h-1)+1,_=1;_<=w;_++){var T=_/w;zo(v,g,x,b,T,i),zo(m,y,A,S,T,a),v=i[3],m=a[3],c.push(i[1],a[1],i[2],a[2],v,m),g=i[5],y=a[5],x=i[6],A=a[6]}f-=w-1}return s===t?[c,e]:[t,c]}function PO(t,e){for(var n=t.length,r=t[n-2],i=t[n-1],a=[],s=0;s<e.length;)a[s++]=r,a[s++]=i;return a}function lMe(t,e){for(var n,r,i,a=[],s=[],o=0;o<Math.max(t.length,e.length);o++){var l=t[o],u=e[o],h=void 0,c=void 0;l?u?(n=oMe(l,u),h=n[0],c=n[1],r=h,i=c):(c=PO(i||l,l),h=l):(h=PO(r||u,u),c=u),a.push(h),s.push(c)}return[a,s]}function jO(t){for(var e=0,n=0,r=0,i=t.length,a=0,s=i-2;a<i;s=a,a+=2){var o=t[s],l=t[s+1],u=t[a],h=t[a+1],c=o*h-u*l;e+=c,n+=(o+u)*c,r+=(l+h)*c}return e===0?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function uMe(t,e,n,r){for(var i=(t.length-2)/6,a=1/0,s=0,o=t.length,l=o-2,u=0;u<i;u++){for(var h=u*6,c=0,f=0;f<o;f+=2){var p=f===0?h:(h+f-2)%l+2,v=t[p]-n[0],m=t[p+1]-n[1],g=e[f]-r[0],y=e[f+1]-r[1],x=g-v,A=y-m;c+=x*x+A*A}c<a&&(a=c,s=u)}return s}function cMe(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function hMe(t,e,n,r){for(var i=[],a,s=0;s<t.length;s++){var o=t[s],l=e[s],u=jO(o),h=jO(l);a==null&&(a=u[2]<0!=h[2]<0);var c=[],f=[],p=0,v=1/0,m=[],g=o.length;a&&(o=cMe(o));for(var y=uMe(o,l,u,h)*6,x=g-2,A=0;A<x;A+=2){var b=(y+A)%x+2;c[A+2]=o[b]-u[0],c[A+3]=o[b+1]-u[1]}c[0]=o[y]-u[0],c[1]=o[y+1]-u[1];for(var S=r/n,w=-r/2;w<=r/2;w+=S){for(var _=Math.sin(w),T=Math.cos(w),C=0,A=0;A<o.length;A+=2){var E=c[A],k=c[A+1],I=l[A]-h[0],j=l[A+1]-h[1],P=I*T-j*_,D=I*_+j*T;m[A]=P,m[A+1]=D;var L=P-E,F=D-k;C+=L*L+F*F}if(C<v){v=C,p=w;for(var V=0;V<m.length;V++)f[V]=m[V]}}i.push({from:c,to:f,fromCp:u,toCp:h,rotation:-p})}return i}function r0(t){return t.__isCombineMorphing}var s8="__mOriginal_";function i0(t,e,n){var r=s8+e,i=t[r]||t[e];t[r]||(t[r]=t[e]);var a=n.replace,s=n.after,o=n.before;t[e]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function xd(t,e){var n=s8+e;t[n]&&(t[e]=t[n],t[n]=null)}function MO(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;){var a=r[i],s=r[i+1];r[i++]=e[0]*a+e[2]*s+e[4],r[i++]=e[1]*a+e[3]*s+e[5]}}function o8(t,e){var n=t.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=lMe(W1(n),W1(r)),a=i[0],s=i[1],o=t.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}o&&MO(a,o),l&&MO(s,l),i0(e,"updateTransform",{replace:u}),e.transform=null;var h=hMe(a,s,10,Math.PI),c=[];i0(e,"buildPath",{replace:function(f){for(var p=e.__morphT,v=1-p,m=[],g=0;g<h.length;g++){var y=h[g],x=y.from,A=y.to,b=y.rotation*p,S=y.fromCp,w=y.toCp,_=Math.sin(b),T=Math.cos(b);ag(m,S,w,p);for(var C=0;C<x.length;C+=2){var E=x[C],k=x[C+1],I=A[C],j=A[C+1],P=E*v+I*p,D=k*v+j*p;c[C]=P*T-D*_+m[0],c[C+1]=P*_+D*T+m[1]}var L=c[0],F=c[1];f.moveTo(L,F);for(var C=2;C<x.length;){var I=c[C++],j=c[C++],V=c[C++],U=c[C++],z=c[C++],H=c[C++];L===I&&F===j&&V===z&&U===H?f.lineTo(z,H):f.bezierCurveTo(I,j,V,U,z,H),L=z,F=H}}}})}function VE(t,e,n){if(!t||!e)return e;var r=n.done,i=n.during;o8(t,e),e.__morphT=0;function a(){xd(e,"buildPath"),xd(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},ge({during:function(s){e.dirtyShape(),i&&i(s)},done:function(){a(),r&&r()}},n)),e}function fMe(t,e,n,r,i,a){var s=16;t=i===n?0:Math.round(32767*(t-n)/(i-n)),e=a===r?0:Math.round(32767*(e-r)/(a-r));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var h=0,c=0;(t&u)>0&&(h=1),(e&u)>0&&(c=1),o+=u*u*(3*h^c),c===0&&(h===1&&(t=u-1-t,e=u-1-e),l=t,t=e,e=l)}return o}function a0(t){var e=1/0,n=1/0,r=-1/0,i=-1/0,a=te(t,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),h=l.x+l.width/2+(u?u[4]:0),c=l.y+l.height/2+(u?u[5]:0);return e=Math.min(h,e),n=Math.min(c,n),r=Math.max(h,r),i=Math.max(c,i),[h,c]}),s=te(a,function(o,l){return{cp:o,z:fMe(o[0],o[1],e,n,r,i),path:t[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function l8(t){return sMe(t.path,t.count)}function Y1(){return{fromIndividuals:[],toIndividuals:[],count:0}}function dMe(t,e,n){var r=[];function i(S){for(var w=0;w<S.length;w++){var _=S[w];r0(_)?i(_.childrenRef()):_ instanceof Ve&&r.push(_)}}i(t);var a=r.length;if(!a)return Y1();var s=n.dividePath||l8,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),Y1();r=a0(r),o=a0(o);for(var l=n.done,u=n.during,h=n.individualDelay,c=new os,f=0;f<a;f++){var p=r[f],v=o[f];v.parent=e,v.copyTransform(c),h||o8(p,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function m(S){for(var w=0;w<o.length;w++)o[w].addSelfToZr(S)}i0(e,"addSelfToZr",{after:function(S){m(S)}}),i0(e,"removeSelfFromZr",{after:function(S){for(var w=0;w<o.length;w++)o[w].removeSelfFromZr(S)}});function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,xd(e,"addSelfToZr"),xd(e,"removeSelfFromZr")}var y=o.length;if(h)for(var x=y,A=function(){x--,x===0&&(g(),l&&l())},f=0;f<y;f++){var b=h?ge({delay:(n.delay||0)+h(f,y,r[f],o[f]),done:A},n):n;VE(r[f],o[f],b)}else e.__morphT=0,e.animateTo({__morphT:1},ge({during:function(S){for(var w=0;w<y;w++){var _=o[w];_.__morphT=e.__morphT,_.dirtyShape()}u&&u(S)},done:function(){g();for(var S=0;S<t.length;S++)xd(t[S],"updateTransform");l&&l()}},n));return e.__zr&&m(e.__zr),{fromIndividuals:r,toIndividuals:o,count:y}}function pMe(t,e,n){var r=e.length,i=[],a=n.dividePath||l8;function s(p){for(var v=0;v<p.length;v++){var m=p[v];r0(m)?s(m.childrenRef()):m instanceof Ve&&i.push(m)}}if(r0(t)){s(t.childrenRef());var o=i.length;if(o<r)for(var l=0,u=o;u<r;u++)i.push(iI(i[l++%o]));i.length=r}else{i=a({path:t,count:r});for(var h=t.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(h);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),Y1()}i=a0(i),e=a0(e);for(var c=n.individualDelay,u=0;u<r;u++){var f=c?ge({delay:(n.delay||0)+c(u,r,i[u],e[u])},n):n;VE(i[u],e[u],f)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function DO(t){return ee(t[0])}function LO(t,e){for(var n=[],r=t.length,i=0;i<r;i++)n.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,s=void 0;for(s=0;s<a;s++)n[s%r].many.push(e[i][s])}for(var o=0,i=r-1;i>=0;i--)if(!n[i].many.length){var l=n[o].many;if(l.length<=1)if(o)o=0;else return n;var a=l.length,u=Math.ceil(a/2);n[i].many=l.slice(u,a),n[o].many=l.slice(0,u),o++}return n}var vMe={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var i=iI(t.path);i.setStyle("opacity",n),e.push(i)}return e},split:null};function Zw(t,e,n,r,i,a){if(!t.length||!e.length)return;var s=jh("update",r,i);if(!(s&&s.duration>0))return;var o=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,h;DO(t)&&(u=t,h=e),DO(e)&&(u=e,h=t);function c(y,x,A,b,S){var w=y.many,_=y.one;if(w.length===1&&!S){var T=x?w[0]:_,C=x?_:w[0];if(r0(T))c({many:[T],one:C},!0,A,b,!0);else{var E=o?ge({delay:o(A,b)},l):l;VE(T,C,E),a(T,C,T,C,E)}}else for(var k=ge({dividePath:vMe[n],individualDelay:o&&function(F,V,U,z){return o(F+A,b)}},l),I=x?dMe(w,_,k):pMe(_,w,k),j=I.fromIndividuals,P=I.toIndividuals,D=j.length,L=0;L<D;L++){var E=o?ge({delay:o(L,D)},l):l;a(j[L],P[L],x?w[L]:y.one,x?y.one:w[L],E)}}for(var f=u?u===t:t.length>e.length,p=u?LO(h,u):LO(f?e:t,[f?t:e]),v=0,m=0;m<p.length;m++)v+=p[m].many.length;for(var g=0,m=0;m<p.length;m++)c(p[m],f,g,v),g+=p[m].many.length}function Nl(t){if(!t)return[];if(ee(t)){for(var e=[],n=0;n<t.length;n++)e.push(Nl(t[n]));return e}var r=[];return t.traverse(function(i){i instanceof Ve&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var u8=1e4,mMe=0,NO=1,zO=2,gMe=Qe();function yMe(t,e){for(var n=t.dimensions,r=0;r<n.length;r++){var i=t.getDimensionInfo(n[r]);if(i&&i.otherDims[e]===0)return n[r]}}function xMe(t,e,n){var r=t.getDimensionInfo(n),i=r&&r.ordinalMeta;if(r){var a=t.get(r.name,e);return i&&i.categories[a]||a+""}}function RO(t,e,n,r){var i=r?"itemChildGroupId":"itemGroupId",a=yMe(t,i);if(a){var s=xMe(t,e,a);return s}var o=t.getRawDataItem(e),l=r?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!r)return n||t.getId(e)}function OO(t){var e=[];return M(t,function(n){var r=n.data,i=n.dataGroupId;if(!(r.count()>u8))for(var a=r.getIndices(),s=0;s<a.length;s++)e.push({data:r,groupId:RO(r,s,i,!1),childGroupId:RO(r,s,i,!0),divide:n.divide,dataIndex:s})}),e}function Jw(t,e,n){t.traverse(function(r){r instanceof Ve&&Nt(r,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})})}function Kw(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function fc(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function AMe(t,e,n){var r=jh("update",n,e);r&&t.traverse(function(i){if(i instanceof yi){var a=pme(i);a&&i.animateFrom({style:a},r)}})}function bMe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++){var i=t[r],a=e[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function c8(t,e,n){var r=OO(t),i=OO(e);function a(A,b,S,w,_){(S||A)&&b.animateFrom({style:S&&S!==A?J(J({},S.style),A.style):A.style},_)}var s=!1,o=mMe,l=pe(),u=pe();r.forEach(function(A){A.groupId&&l.set(A.groupId,!0),A.childGroupId&&u.set(A.childGroupId,!0)});for(var h=0;h<i.length;h++){var c=i[h].groupId;if(u.get(c)){o=NO;break}var f=i[h].childGroupId;if(f&&l.get(f)){o=zO;break}}function p(A,b){return function(S){var w=S.data,_=S.dataIndex;return b?w.getId(_):A?o===NO?S.childGroupId:S.groupId:o===zO?S.childGroupId:S.groupId}}var v=bMe(r,i),m={};if(!v)for(var h=0;h<i.length;h++){var g=i[h],y=g.data.getItemGraphicEl(g.dataIndex);y&&(m[y.id]=!0)}function x(A,b){var S=r[b],w=i[A],_=w.data.hostModel,T=S.data.getItemGraphicEl(S.dataIndex),C=w.data.getItemGraphicEl(w.dataIndex);if(T===C){C&&AMe(C,w.dataIndex,_);return}T&&m[T.id]||C&&(fc(C),T?(fc(T),Kw(T),s=!0,Zw(Nl(T),Nl(C),w.divide,_,A,a)):Jw(C,_,A))}new ks(r,i,p(!0,v),p(!1,v),null,"multiple").update(x).updateManyToOne(function(A,b){var S=i[A],w=S.data,_=w.hostModel,T=w.getItemGraphicEl(S.dataIndex),C=gt(te(b,function(E){return r[E].data.getItemGraphicEl(r[E].dataIndex)}),function(E){return E&&E!==T&&!m[E.id]});T&&(fc(T),C.length?(M(C,function(E){fc(E),Kw(E)}),s=!0,Zw(Nl(C),Nl(T),S.divide,_,A,a)):Jw(T,_,S.dataIndex))}).updateOneToMany(function(A,b){var S=r[b],w=S.data.getItemGraphicEl(S.dataIndex);if(!(w&&m[w.id])){var _=gt(te(A,function(C){return i[C].data.getItemGraphicEl(i[C].dataIndex)}),function(C){return C&&C!==w}),T=i[A[0]].data.hostModel;_.length&&(M(_,function(C){return fc(C)}),w?(fc(w),Kw(w),s=!0,Zw(Nl(w),Nl(_),S.divide,T,A[0],a)):M(_,function(C){return Jw(C,T,A[0])}))}}).updateManyToMany(function(A,b){new ks(b,A,function(S){return r[S].data.getId(r[S].dataIndex)},function(S){return i[S].data.getId(i[S].dataIndex)}).update(function(S,w){x(A[S],b[w])}).execute()}).execute(),s&&M(e,function(A){var b=A.data,S=b.hostModel,w=S&&n.getViewOfSeriesModel(S),_=jh("update",S,0);w&&S.isAnimationEnabled()&&_&&_.duration>0&&w.group.traverse(function(T){T instanceof Ve&&!T.animators.length&&T.animateFrom({style:{opacity:0}},_)})})}function FO(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function BO(t){return ee(t)?t.sort().join(","):t}function oo(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function wMe(t,e){var n=pe(),r=pe(),i=pe();return M(t.oldSeries,function(a,s){var o=t.oldDataGroupIds[s],l=t.oldData[s],u=FO(a),h=BO(u);r.set(h,{dataGroupId:o,data:l}),ee(u)&&M(u,function(c){i.set(c,{key:h,dataGroupId:o,data:l})})}),M(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=FO(a),u=BO(l),h=r.get(u);if(h)n.set(u,{oldSeries:[{dataGroupId:h.dataGroupId,divide:oo(h.data),data:h.data}],newSeries:[{dataGroupId:s,divide:oo(o),data:o}]});else if(ee(l)){var c=[];M(l,function(v){var m=r.get(v);m.data&&c.push({dataGroupId:m.dataGroupId,divide:oo(m.data),data:m.data})}),c.length&&n.set(u,{oldSeries:c,newSeries:[{dataGroupId:s,data:o,divide:oo(o)}]})}else{var f=i.get(l);if(f){var p=n.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:oo(f.data)}],newSeries:[]},n.set(f.key,p)),p.newSeries.push({dataGroupId:s,data:o,divide:oo(o)})}}}}),n}function VO(t,e){for(var n=0;n<t.length;n++){var r=e.seriesIndex!=null&&e.seriesIndex===t[n].seriesIndex||e.seriesId!=null&&e.seriesId===t[n].id;if(r)return n}}function SMe(t,e,n,r){var i=[],a=[];M(bt(t.from),function(s){var o=VO(e.oldSeries,s);o>=0&&i.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:oo(e.oldData[o]),groupIdDim:s.dimension})}),M(bt(t.to),function(s){var o=VO(n.updatedSeries,s);if(o>=0){var l=n.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:oo(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&c8(i,a,r)}function _Me(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,n,r){M(bt(r.seriesTransition),function(i){M(bt(i.to),function(a){for(var s=r.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][mg]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,n,r){var i=gMe(n);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)M(bt(a),function(p){SMe(p,i,r,n)});else{var s=wMe(i,r);M(s.keys(),function(p){var v=s.get(p);c8(v.oldSeries,v.newSeries,n)})}M(r.updatedSeries,function(p){p[mg]&&(p[mg]=!1)})}for(var o=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],h=i.oldData=[],c=0;c<o.length;c++){var f=o[c].getData();f.count()<u8&&(l.push(o[c]),u.push(o[c].get("dataGroupId")),h.push(f))}})}Fe([DAe]);Fe([EAe]);Fe([QAe,pbe,_be,rwe,pwe,eSe,ESe,h_e,D_e,F_e,q_e,H1e,dTe,_Te,BTe,UTe,eCe,oCe,yCe,_Ce,LCe,gIe]);Fe(zIe);Fe(uEe);Fe(l6);Fe(wEe);Fe(Y6);Fe(CEe);Fe(NEe);Fe(wke);Fe(Vke);Fe(nv);Fe(iPe);Fe(oPe);Fe(gPe);Fe(_Pe);Fe(PPe);Fe(zPe);Fe($Pe);Fe(cje);Fe(Z9);Fe(J9);Fe(Pje);Fe(n8);Fe(r8);Fe(Nje);Fe(qje);Fe(Jje);Fe(_Me);Fe(qxe);const TMe=Intl.NumberFormat("en-US").format;function CMe(){const t=R.useRef(null),e=R.useRef(!1);return R.useEffect(()=>{if(t.current===null)return;let n=!1;return(async()=>{if(e.current)return;const i=await(await fetch("/static/posthunt-state/biggraph.json")).json();n||(e.current=!0,IU(t.current).setOption({title:{left:"center",textStyle:{color:"white"},text:`Top ${i.length} Teams`},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,textStyle:{color:"white",overflow:"truncate",width:70},pageTextStyle:{color:"white"},data:i.map(a=>a.name)},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:20,top:35,fillerColor:"rgba(233, 236, 241, 0.4)"}],tooltip:{formatter:function(a){const s=a.seriesName,o=new Date(a.data[0]),l=a.data[1],u=a.data[2],h=document.createElement("div"),c=document.createElement("span");c.className="tooltip-colored-circle",c.style.backgroundColor=a.color,h.appendChild(c),h.appendChild(document.createTextNode(s));const f=document.createElement("div"),p=document.createElement("small");p.textContent="Solved: ",f.appendChild(p),f.appendChild(document.createTextNode(u));const v=document.createElement("strong");v.textContent=" â "+l,f.appendChild(v);const m=document.createElement("div");m.textContent=o.toLocaleString();const g=document.createElement("div");return g.appendChild(h),g.appendChild(f),g.appendChild(m),g.outerHTML}},series:i.map(a=>({...a,symbolSize:s=>s[3]?10:4}))}))})().catch(console.error),()=>{n=!0}},[]),d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:"Big Graph"})}),d.jsx("div",{ref:t,style:{minHeight:"400px",width:"600px",margin:"auto"}})]})}function IMe(){const t=R.useRef(null),e=R.useRef(!1);return R.useEffect(()=>{var a;const n=(a=t.current)==null?void 0:a.getContext("2d");if(!n||e.current)return;e.current=!0;const r=(s,o)=>{const l=document.createElement("canvas").getContext("2d"),u=l.createLinearGradient(0,0,100,0);return u.addColorStop(0,s),u.addColorStop(1,o),l.fillStyle=u,l.fillRect(0,0,100,1),h=>{const[c,f,p,v]=l.getImageData(100*h,0,1,1).data;return`rgb(${c} ${f} ${p} / ${100*v/255}%)`}};(async()=>{const s=await(await fetch("/static/posthunt-state/coords.json")).json();n.lineJoin="round",n.lineWidth=1,n.scale(10,10);const o=r("#f003","#f00"),l=Math.max(...Object.values(s).map(u=>Math.log(u)));for(const[u,h]of Object.entries(s)){const[c,f]=u.split(",").map(Number),p=Math.log(h)/l;n.strokeStyle=o(p),n.strokeRect(180+f,90-c,.1,.1)}})().catch(console.error)},[]),d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:"Visitor Map"})}),d.jsx("p",{children:"Itâs unclear how accurate this is, but weâd like to imagine that Galactic Puzzle Hunt is a popular worldwide phenomenon."}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Equirectangular-projection.jpg/1280px-Equirectangular-projection.jpg",style:{width:"100%",filter:"saturate(0.5)",opacity:.5}}),d.jsx("canvas",{ref:t,height:"1800",width:"3600",style:{position:"absolute",inset:0,width:"100%",height:"100%"}})]})]})}async function EMe(){return await(await fetch("/static/posthunt-state/gacha_stats.json")).json()}function Ks({stats:t,ascending:e=!1,max:n=5}){return d.jsx("ul",{children:Object.entries(t).sort((r,i)=>e?r[1]-i[1]:i[1]-r[1]).slice(0,n).map(([r,i])=>d.jsxs("li",{children:[d.jsxs("b",{children:[TMe(i),": "]}),d.jsx(ln,{teamId:r})]},r))})}function kMe({stats:t}){return d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:"Team Shoutouts"})}),d.jsxs("div",{children:[d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx(ln,{teamId:"654"})," for being at the top of the leaderboard early on in the hunt then submitting the final answer 25 seconds before the hunt ended"]}),d.jsxs("li",{children:[d.jsx(ln,{teamId:"160"})," for writing the custom puzzle with the most solves,"," ",d.jsx(tt,{puzName:"puz105_custom_160"})]}),d.jsxs("li",{children:[d.jsx(ln,{teamId:"394"})," for writing the custom puzzle with the highest solve / unlock rate,"," ",d.jsx(tt,{puzName:"puz105_custom_394"})]}),d.jsxs("li",{children:[d.jsx(ln,{teamId:"735"})," for writing the custom puzzle with the lowest solve / unlock rate,"," ",d.jsx(tt,{puzName:"puz105_custom_735"})]})]}),"Fewest canned hints opened, at time of finish:",d.jsx(Ks,{stats:t.teamToCans,ascending:!0}),"Fewest wishes used, at time of finish:",d.jsx(Ks,{stats:t.teamToWishes,ascending:!0}),"Most wishes used, at time of finish:",d.jsx(Ks,{stats:t.teamToWishes}),"Most dust collected, at hunt end:",d.jsx(Ks,{stats:t.teamToDust}),"Most gold collected, at hunt end:",d.jsx(Ks,{stats:t.teamToGold}),"Most collectibles, at hunt end:",d.jsx(Ks,{stats:t.teamToNumCollectibles}),"Most hope donated to ",d.jsx(tt,{puzName:"puz313"}),", at hunt end:",d.jsx(Ks,{stats:t.teamToHopeGiven}),"Most hope taken from ",d.jsx(tt,{puzName:"puz313"}),", at hunt end:",d.jsx(Ks,{stats:t.teamToHopeTaken})]})]})}function HO({stats:t,statKey:e}){const n=e==="fastBlood"?"Fastest Blood":"First Blood",r=xs(ne.TEAM_LIST,!0,{hasPosthunt:!0});return r!=null&&r.success?d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:n})}),d.jsx("p",{children:"These stats exclude teams from their own custom puzzles, but include cutscenes."}),d.jsx(qo,{records:Object.entries(t[e]),spec:{columns:[{label:"Team",sortFunc:(i,a)=>r.state[i[0]].displayName.localeCompare(r.state[a[0]].displayName)},{label:"Puzzles",sortFunc:(i,a)=>a[1].length-i[1].length}],renderRow:([i,a])=>d.jsxs("tr",{style:{wordBreak:"break-word"},children:[d.jsx("td",{children:d.jsx(ln,{teamId:i})}),d.jsxs("td",{children:[a.length,a.map(({puzName:s,millis:o,timestamp:l})=>d.jsxs("div",{className:"mini",children:[l?d.jsx(In,{timestamp:l}):d.jsx(p0,{diff:o})," ",d.jsx(tt,{puzName:s})]},s))]})]},i)}})]}):null}function Vm({freqs:t,binSize:e=1}){const n=R.useRef(null),r=R.useRef(!1);return R.useEffect(()=>{if(!n.current||r.current||!t)return;const i=Array.isArray(t)?t.reduce((o,l)=>{const u=Math.floor(l/e)*e;return o[u]=(o[u]??0)+1,o},{}):Object.entries(t).reduce((o,[l,u])=>{const h=Math.floor(Number(l)/e)*e;return o[h]=(o[h]??0)+u,o},{}),[a,s]=Object.entries(i).sort(([o],[l])=>Number(o)-Number(l)).reduce(([o,l],[u,h])=>(o.push(u),l.push(h),[o,l]),[[],[]]);r.current=!0,IU(n.current).setOption({xAxis:{type:"category",data:a},yAxis:{type:"value"},series:[{data:s,type:"bar"}],tooltip:{formatter:function(o){return`<div>${o.data}</div>`}}})}),d.jsx("div",{ref:n,style:{minHeight:"400px",width:"100%",margin:"auto"}})}function PMe({stats:t}){return d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:"Puzzle Histograms"})}),d.jsx("h3",{children:"Solves per team"}),d.jsx(Vm,{freqs:t.numSolves,binSize:10}),d.jsxs("h3",{children:["Scores for ",d.jsx(tt,{puzName:"puz144"})]}),d.jsx(Vm,{freqs:t.musicalIntuitionHist,binSize:.5}),d.jsxs("h3",{children:["Submissions for ",d.jsx(tt,{puzName:"puz136"})]}),d.jsx(Vm,{freqs:t.dontGoogleItHist.puz136,binSize:1}),d.jsxs("h3",{children:["Submissions for ",d.jsx(tt,{puzName:"puz177"})]}),d.jsx(Vm,{freqs:t.dontGoogleItHist.puz177,binSize:1})]})}const jMe=[["ANSWER",76,60],["FAIRPLAY",72,43],["INSANITY",54,32],["DOINGTHESAMETHINGOVERANDOVERANDEXPECTINGDIFFERENTRESULTS",55,32],["DOINGTHESAMETHINGOVERANDOVERAGAINANDEXPECTINGDIFFERENTRESULTS",48,22],["THEDEFINITIONOFINSANITY",48,18],["MADNESS",56,17],["SAMETHING",14,12]];function MMe(){return d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:"The Definition of Insanity"})}),d.jsxs("p",{children:["248 teams solved ",d.jsx(tt,{puzName:"puz260"})," with exactly 1 incorrect answer."]}),d.jsx("p",{children:"The top 8 answers, with the number of times they were submitted incorrectly and correctly:"}),d.jsx(qo,{records:jMe,spec:{columns:[{label:"Answer",sortFunc:(t,e)=>t[0].localeCompare(e[0]),width:"70%"},{label:"Incorrect",sortFunc:(t,e)=>e[1]-t[1]},{label:"Correct",sortFunc:(t,e)=>e[2]-t[2]}],renderRow:([t,e,n])=>d.jsxs("tr",{children:[d.jsx("td",{children:t}),d.jsx("td",{children:e}),d.jsx("td",{children:n})]},t)}})]})}function DMe(){return d.jsxs("details",{children:[d.jsx("summary",{children:d.jsx("h2",{children:"Team Choices"})}),d.jsx("p",{children:"In response to âeither way, youâll need to solve some sort of puzzle i thinkâ:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Oh, puzzles! Like a jigsaw, right? (20.6%)"}),d.jsx("li",{children:"Puzzles? About that... I was kinda hoping not to have to do those? Do you maybe have something else I could do, like maybe a card game? (26.9%)"}),d.jsx("li",{children:"PUZZLES!?!? YES!!!! (52.4%)"})]}),d.jsx("p",{children:"In response to âanyway, time to get solving. iâm not sure why any of this is happening but maybe weâll get a better idea after a bitâ"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Iâm excited for puzzles! (71.7%)"}),d.jsx("li",{children:"[Lie] Iâm excited for puzzles! (28.2%)"})]}),d.jsx("p",{children:"In response to âitâs so nice seeing the Celestials working together again. and the sky... itâs brightening up once more. i guess wishes do have power after all.â"}),d.jsxs("ul",{children:[d.jsx("li",{children:"They sure do! (31.0%)"}),d.jsx("li",{children:"âTwas more the power of friendship, Iâd say. (14.2%)"}),d.jsx("li",{children:"It was mostly luck, really. (4.1%)"}),d.jsx("li",{children:"Actually, it was spreadsheets. (50.7%)"})]}),d.jsx("p",{children:"49.1% chose to listen to Big Branchâs spiel about the Celestial matrix."}),d.jsx("p",{children:"67.8% chose to free Moonick."})]})}function LMe(){const[t,e]=R.useState(null),n=xs(ne.TEAM_LIST,!0,{hasPosthunt:!0}),r=lF();return R.useEffect(()=>{EMe().then(e).catch(console.error)},[]),d.jsxs(Th,{children:[d.jsx("h1",{children:"Appendix: More Statistics"}),t&&n&&r?d.jsxs(d.Fragment,{children:[d.jsx(CMe,{}),d.jsx(IMe,{}),d.jsx(kMe,{stats:t}),d.jsx(HO,{stats:t,statKey:"firstBlood"}),d.jsx(HO,{stats:t,statKey:"fastBlood"}),d.jsx(PMe,{stats:t}),d.jsx(MMe,{}),d.jsx(DMe,{})]}):d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx(Ut,{inline:!0}),"Loading data. This might take a while."]})]})}function NMe(){const[t,e]=R.useState(null),[n,r]=R.useState(!1),i=rfe(u=>u.addToUserLog),s=Tu(u=>u.getSockClient)(),o=pF("/"),l=Je(u=>u.setRedirectCommand);return R.useEffect(()=>{if(s===null)return;const u=s.onErrorEvent.addListener(f=>{i(`Received error "${f.errCode}".`)}),h=s.addAuthEffect(()=>{i("Connected to server.")}),c=s.serverConnections[y$.MAIN].afterDisconnectEvent.addListener(({numReconnections:f,reconnectDelayInSeconds:p})=>{f===0?i("Disconnected from server. Reconnecting..."):p<0?(e({errCode:dv.CONNECTION_ERROR}),i("Reconnection failed; giving up.")):i(`Failed to reconnect. Reconnecting in ${p} seconds...`)});return()=>{u(),h(),c()}},[s,i]),R.useEffect(()=>{if(s!==null)return s.addStuckEffect(u=>{e(u)})},[s,e]),R.useEffect(()=>{o&&l({path:"/camp",replace:!0})},[o,l]),d.jsxs(zMe,{children:[d.jsxs(Z0,{isOpen:!n&&t!==null,title:"Disconnected",className:"disconnected-modal",children:[d.jsx("div",{children:(()=>{if(t===null)return null;switch(t.errCode){case dv.CONNECTION_ERROR:case dv.AUTH_ERROR:return d.jsx(d.Fragment,{children:"Unable to connect to the server."});case dv.TEAM_TEMP_BLOCKED:return d.jsx(d.Fragment,{children:"The site is down for maintenance."});default:return d.jsx(d.Fragment,{children:"Sorry, something went wrong."})}})()}),d.jsx("div",{children:"You will not be able to receive notifications, submit answers, or load new content while disconnected. Please monitor your email for updates, and refresh the page at a later time to try reconnecting."}),d.jsx("div",{children:d.jsx("button",{onClick:()=>r(!0),children:"OK"})})]}),d.jsx(sF,{}),d.jsx(x$,{getKey:u=>u.pathname})]})}function zMe({children:t}){const e=Je(a=>a.setHasRouter),n=eT(),r=Ds(n);R.useEffect(()=>{e(!0)},[e]),GO();const{teamName:i}=gh();return R.useEffect(()=>{document.title=i?decodeURIComponent(i):r!==null?r:Bt.documentTitle},[i,r]),Ohe(),d.jsx(d.Fragment,{children:t})}const RMe=v$([{path:"/",element:d.jsx(NMe,{}),errorElement:d.jsx(A$,{}),children:[{element:d.jsx(Pce,{}),children:[{path:"camp",element:d.jsx(Ece,{})},{path:"lastpuzzle",element:d.jsx(Lce,{})},{path:"puzzles",loader:()=>(g$({lastSeenPuzSlug:null}),null),element:d.jsx(Dce,{})},{path:"puzzle/find_the_answer",element:d.jsx(TM,{puz212:!0})},{element:d.jsx(TM,{}),children:[{path:"puzzle/:slug",element:d.jsx(Ghe,{})},{path:"solution/:slug",element:d.jsx(TH,{})},{path:"hints/:slug",element:d.jsx(lhe,{})},{path:"stats/:slug",element:d.jsx(Whe,{})}]},{path:"errata",element:d.jsx(Zce,{})},{path:"unlock",element:d.jsx(Zhe,{})},{path:"teams",element:d.jsx(zce,{})},{path:"team/:teamName",element:d.jsx(Yce,{})},{path:"stats",element:d.jsx($he,{})}]},{path:"admin",element:d.jsx(ehe,{})},{path:"sock-admin",element:d.jsx(IM,{})},{path:"sock-admin/:teamId",element:d.jsx(IM,{})},{path:"admin-queue",element:d.jsx(phe,{})},{path:"admin-queue/task/:taskId",element:d.jsx(vhe,{})},{path:"admin-queue/task/:taskId/claim",element:d.jsx(mhe,{})},{path:"bigboard",element:d.jsx(Ehe,{})},{path:"health",element:d.jsx(Nhe,{})},{path:"sunrise",element:d.jsx(Qhe,{})},{path:"wrapup",element:d.jsx(xfe,{})},{path:"wrapup/edit",element:d.jsx(nfe,{})},{path:"wrapup/gacha",element:d.jsx(Afe,{})},{path:"wrapup/stats",element:d.jsx(LMe,{})},{path:"wrapup/submissions",element:d.jsx(bfe,{})},{path:"wrapup/ama",element:d.jsx(Cfe,{})},{path:"wrapup/fluidity",element:d.jsx(Ife,{})},{path:"cert/:teamId",element:d.jsx(ofe,{})}]}]);function VMe(){return R.useEffect(()=>(document.documentElement.classList.add("game-base"),()=>document.documentElement.classList.remove("game-base")),[]),d.jsx(m$,{router:RMe})}export{VMe as default};
//# sourceMappingURL=App-Cgh7I7Fo.js.map
